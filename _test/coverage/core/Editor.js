/* automatically generated by JSCoverage - do not edit */
try {
  if (typeof top === 'object' && top !== null && typeof top.opener === 'object' && top.opener !== null) {
    // this is a browser window that was opened from another window

    if (! top.opener._$jscoverage) {
      top.opener._$jscoverage = {};
    }
  }
}
catch (e) {}

try {
  if (typeof top === 'object' && top !== null) {
    // this is a browser window

    try {
      if (typeof top.opener === 'object' && top.opener !== null && top.opener._$jscoverage) {
        top._$jscoverage = top.opener._$jscoverage;
      }
    }
    catch (e) {}

    if (! top._$jscoverage) {
      top._$jscoverage = {};
    }
  }
}
catch (e) {}

try {
  if (typeof top === 'object' && top !== null && top._$jscoverage) {
    _$jscoverage = top._$jscoverage;
  }
}
catch (e) {}
if (typeof _$jscoverage !== 'object') {
  _$jscoverage = {};
}
if (! _$jscoverage['core/Editor.js']) {
  _$jscoverage['core/Editor.js'] = [];
  _$jscoverage['core/Editor.js'][8] = 0;
  _$jscoverage['core/Editor.js'][9] = 0;
  _$jscoverage['core/Editor.js'][18] = 0;
  _$jscoverage['core/Editor.js'][19] = 0;
  _$jscoverage['core/Editor.js'][20] = 0;
  _$jscoverage['core/Editor.js'][21] = 0;
  _$jscoverage['core/Editor.js'][22] = 0;
  _$jscoverage['core/Editor.js'][33] = 0;
  _$jscoverage['core/Editor.js'][34] = 0;
  _$jscoverage['core/Editor.js'][35] = 0;
  _$jscoverage['core/Editor.js'][36] = 0;
  _$jscoverage['core/Editor.js'][37] = 0;
  _$jscoverage['core/Editor.js'][38] = 0;
  _$jscoverage['core/Editor.js'][39] = 0;
  _$jscoverage['core/Editor.js'][40] = 0;
  _$jscoverage['core/Editor.js'][44] = 0;
  _$jscoverage['core/Editor.js'][47] = 0;
  _$jscoverage['core/Editor.js'][48] = 0;
  _$jscoverage['core/Editor.js'][54] = 0;
  _$jscoverage['core/Editor.js'][56] = 0;
  _$jscoverage['core/Editor.js'][72] = 0;
  _$jscoverage['core/Editor.js'][73] = 0;
  _$jscoverage['core/Editor.js'][74] = 0;
  _$jscoverage['core/Editor.js'][75] = 0;
  _$jscoverage['core/Editor.js'][76] = 0;
  _$jscoverage['core/Editor.js'][77] = 0;
  _$jscoverage['core/Editor.js'][78] = 0;
  _$jscoverage['core/Editor.js'][79] = 0;
  _$jscoverage['core/Editor.js'][80] = 0;
  _$jscoverage['core/Editor.js'][82] = 0;
  _$jscoverage['core/Editor.js'][111] = 0;
  _$jscoverage['core/Editor.js'][118] = 0;
  _$jscoverage['core/Editor.js'][119] = 0;
  _$jscoverage['core/Editor.js'][121] = 0;
  _$jscoverage['core/Editor.js'][123] = 0;
  _$jscoverage['core/Editor.js'][125] = 0;
  _$jscoverage['core/Editor.js'][127] = 0;
  _$jscoverage['core/Editor.js'][141] = 0;
  _$jscoverage['core/Editor.js'][142] = 0;
  _$jscoverage['core/Editor.js'][143] = 0;
  _$jscoverage['core/Editor.js'][152] = 0;
  _$jscoverage['core/Editor.js'][153] = 0;
  _$jscoverage['core/Editor.js'][154] = 0;
  _$jscoverage['core/Editor.js'][156] = 0;
  _$jscoverage['core/Editor.js'][158] = 0;
  _$jscoverage['core/Editor.js'][167] = 0;
  _$jscoverage['core/Editor.js'][168] = 0;
  _$jscoverage['core/Editor.js'][169] = 0;
  _$jscoverage['core/Editor.js'][170] = 0;
  _$jscoverage['core/Editor.js'][171] = 0;
  _$jscoverage['core/Editor.js'][172] = 0;
  _$jscoverage['core/Editor.js'][173] = 0;
  _$jscoverage['core/Editor.js'][175] = 0;
  _$jscoverage['core/Editor.js'][177] = 0;
  _$jscoverage['core/Editor.js'][178] = 0;
  _$jscoverage['core/Editor.js'][179] = 0;
  _$jscoverage['core/Editor.js'][180] = 0;
  _$jscoverage['core/Editor.js'][181] = 0;
  _$jscoverage['core/Editor.js'][182] = 0;
  _$jscoverage['core/Editor.js'][183] = 0;
  _$jscoverage['core/Editor.js'][185] = 0;
  _$jscoverage['core/Editor.js'][186] = 0;
  _$jscoverage['core/Editor.js'][187] = 0;
  _$jscoverage['core/Editor.js'][190] = 0;
  _$jscoverage['core/Editor.js'][200] = 0;
  _$jscoverage['core/Editor.js'][201] = 0;
  _$jscoverage['core/Editor.js'][202] = 0;
  _$jscoverage['core/Editor.js'][204] = 0;
  _$jscoverage['core/Editor.js'][205] = 0;
  _$jscoverage['core/Editor.js'][219] = 0;
  _$jscoverage['core/Editor.js'][220] = 0;
  _$jscoverage['core/Editor.js'][221] = 0;
  _$jscoverage['core/Editor.js'][230] = 0;
  _$jscoverage['core/Editor.js'][231] = 0;
  _$jscoverage['core/Editor.js'][233] = 0;
  _$jscoverage['core/Editor.js'][234] = 0;
  _$jscoverage['core/Editor.js'][235] = 0;
  _$jscoverage['core/Editor.js'][236] = 0;
  _$jscoverage['core/Editor.js'][238] = 0;
  _$jscoverage['core/Editor.js'][249] = 0;
  _$jscoverage['core/Editor.js'][251] = 0;
  _$jscoverage['core/Editor.js'][252] = 0;
  _$jscoverage['core/Editor.js'][253] = 0;
  _$jscoverage['core/Editor.js'][254] = 0;
  _$jscoverage['core/Editor.js'][256] = 0;
  _$jscoverage['core/Editor.js'][257] = 0;
  _$jscoverage['core/Editor.js'][259] = 0;
  _$jscoverage['core/Editor.js'][260] = 0;
  _$jscoverage['core/Editor.js'][261] = 0;
  _$jscoverage['core/Editor.js'][262] = 0;
  _$jscoverage['core/Editor.js'][264] = 0;
  _$jscoverage['core/Editor.js'][265] = 0;
  _$jscoverage['core/Editor.js'][267] = 0;
  _$jscoverage['core/Editor.js'][268] = 0;
  _$jscoverage['core/Editor.js'][269] = 0;
  _$jscoverage['core/Editor.js'][271] = 0;
  _$jscoverage['core/Editor.js'][272] = 0;
  _$jscoverage['core/Editor.js'][273] = 0;
  _$jscoverage['core/Editor.js'][274] = 0;
  _$jscoverage['core/Editor.js'][275] = 0;
  _$jscoverage['core/Editor.js'][276] = 0;
  _$jscoverage['core/Editor.js'][277] = 0;
  _$jscoverage['core/Editor.js'][279] = 0;
  _$jscoverage['core/Editor.js'][281] = 0;
  _$jscoverage['core/Editor.js'][284] = 0;
  _$jscoverage['core/Editor.js'][285] = 0;
  _$jscoverage['core/Editor.js'][286] = 0;
  _$jscoverage['core/Editor.js'][287] = 0;
  _$jscoverage['core/Editor.js'][289] = 0;
  _$jscoverage['core/Editor.js'][293] = 0;
  _$jscoverage['core/Editor.js'][294] = 0;
  _$jscoverage['core/Editor.js'][297] = 0;
  _$jscoverage['core/Editor.js'][298] = 0;
  _$jscoverage['core/Editor.js'][299] = 0;
  _$jscoverage['core/Editor.js'][301] = 0;
  _$jscoverage['core/Editor.js'][304] = 0;
  _$jscoverage['core/Editor.js'][305] = 0;
  _$jscoverage['core/Editor.js'][307] = 0;
  _$jscoverage['core/Editor.js'][308] = 0;
  _$jscoverage['core/Editor.js'][311] = 0;
  _$jscoverage['core/Editor.js'][312] = 0;
  _$jscoverage['core/Editor.js'][315] = 0;
  _$jscoverage['core/Editor.js'][316] = 0;
  _$jscoverage['core/Editor.js'][319] = 0;
  _$jscoverage['core/Editor.js'][320] = 0;
  _$jscoverage['core/Editor.js'][326] = 0;
  _$jscoverage['core/Editor.js'][327] = 0;
  _$jscoverage['core/Editor.js'][328] = 0;
  _$jscoverage['core/Editor.js'][329] = 0;
  _$jscoverage['core/Editor.js'][330] = 0;
  _$jscoverage['core/Editor.js'][331] = 0;
  _$jscoverage['core/Editor.js'][333] = 0;
  _$jscoverage['core/Editor.js'][334] = 0;
  _$jscoverage['core/Editor.js'][335] = 0;
  _$jscoverage['core/Editor.js'][336] = 0;
  _$jscoverage['core/Editor.js'][341] = 0;
  _$jscoverage['core/Editor.js'][342] = 0;
  _$jscoverage['core/Editor.js'][349] = 0;
  _$jscoverage['core/Editor.js'][351] = 0;
  _$jscoverage['core/Editor.js'][352] = 0;
  _$jscoverage['core/Editor.js'][353] = 0;
  _$jscoverage['core/Editor.js'][355] = 0;
  _$jscoverage['core/Editor.js'][356] = 0;
  _$jscoverage['core/Editor.js'][359] = 0;
  _$jscoverage['core/Editor.js'][360] = 0;
  _$jscoverage['core/Editor.js'][375] = 0;
  _$jscoverage['core/Editor.js'][378] = 0;
  _$jscoverage['core/Editor.js'][380] = 0;
  _$jscoverage['core/Editor.js'][388] = 0;
  _$jscoverage['core/Editor.js'][389] = 0;
  _$jscoverage['core/Editor.js'][391] = 0;
  _$jscoverage['core/Editor.js'][395] = 0;
  _$jscoverage['core/Editor.js'][396] = 0;
  _$jscoverage['core/Editor.js'][397] = 0;
  _$jscoverage['core/Editor.js'][399] = 0;
  _$jscoverage['core/Editor.js'][401] = 0;
  _$jscoverage['core/Editor.js'][404] = 0;
  _$jscoverage['core/Editor.js'][405] = 0;
  _$jscoverage['core/Editor.js'][406] = 0;
  _$jscoverage['core/Editor.js'][407] = 0;
  _$jscoverage['core/Editor.js'][408] = 0;
  _$jscoverage['core/Editor.js'][409] = 0;
  _$jscoverage['core/Editor.js'][410] = 0;
  _$jscoverage['core/Editor.js'][411] = 0;
  _$jscoverage['core/Editor.js'][412] = 0;
  _$jscoverage['core/Editor.js'][413] = 0;
  _$jscoverage['core/Editor.js'][419] = 0;
  _$jscoverage['core/Editor.js'][420] = 0;
  _$jscoverage['core/Editor.js'][441] = 0;
  _$jscoverage['core/Editor.js'][442] = 0;
  _$jscoverage['core/Editor.js'][443] = 0;
  _$jscoverage['core/Editor.js'][444] = 0;
  _$jscoverage['core/Editor.js'][446] = 0;
  _$jscoverage['core/Editor.js'][447] = 0;
  _$jscoverage['core/Editor.js'][449] = 0;
  _$jscoverage['core/Editor.js'][452] = 0;
  _$jscoverage['core/Editor.js'][453] = 0;
  _$jscoverage['core/Editor.js'][454] = 0;
  _$jscoverage['core/Editor.js'][455] = 0;
  _$jscoverage['core/Editor.js'][457] = 0;
  _$jscoverage['core/Editor.js'][458] = 0;
  _$jscoverage['core/Editor.js'][461] = 0;
  _$jscoverage['core/Editor.js'][469] = 0;
  _$jscoverage['core/Editor.js'][472] = 0;
  _$jscoverage['core/Editor.js'][473] = 0;
  _$jscoverage['core/Editor.js'][474] = 0;
  _$jscoverage['core/Editor.js'][475] = 0;
  _$jscoverage['core/Editor.js'][476] = 0;
  _$jscoverage['core/Editor.js'][478] = 0;
  _$jscoverage['core/Editor.js'][479] = 0;
  _$jscoverage['core/Editor.js'][483] = 0;
  _$jscoverage['core/Editor.js'][493] = 0;
  _$jscoverage['core/Editor.js'][495] = 0;
  _$jscoverage['core/Editor.js'][499] = 0;
  _$jscoverage['core/Editor.js'][502] = 0;
  _$jscoverage['core/Editor.js'][511] = 0;
  _$jscoverage['core/Editor.js'][513] = 0;
  _$jscoverage['core/Editor.js'][528] = 0;
  _$jscoverage['core/Editor.js'][530] = 0;
  _$jscoverage['core/Editor.js'][531] = 0;
  _$jscoverage['core/Editor.js'][532] = 0;
  _$jscoverage['core/Editor.js'][533] = 0;
  _$jscoverage['core/Editor.js'][536] = 0;
  _$jscoverage['core/Editor.js'][539] = 0;
  _$jscoverage['core/Editor.js'][540] = 0;
  _$jscoverage['core/Editor.js'][543] = 0;
  _$jscoverage['core/Editor.js'][545] = 0;
  _$jscoverage['core/Editor.js'][546] = 0;
  _$jscoverage['core/Editor.js'][551] = 0;
  _$jscoverage['core/Editor.js'][554] = 0;
  _$jscoverage['core/Editor.js'][555] = 0;
  _$jscoverage['core/Editor.js'][556] = 0;
  _$jscoverage['core/Editor.js'][557] = 0;
  _$jscoverage['core/Editor.js'][558] = 0;
  _$jscoverage['core/Editor.js'][559] = 0;
  _$jscoverage['core/Editor.js'][561] = 0;
  _$jscoverage['core/Editor.js'][562] = 0;
  _$jscoverage['core/Editor.js'][563] = 0;
  _$jscoverage['core/Editor.js'][564] = 0;
  _$jscoverage['core/Editor.js'][566] = 0;
  _$jscoverage['core/Editor.js'][567] = 0;
  _$jscoverage['core/Editor.js'][570] = 0;
  _$jscoverage['core/Editor.js'][574] = 0;
  _$jscoverage['core/Editor.js'][575] = 0;
  _$jscoverage['core/Editor.js'][577] = 0;
  _$jscoverage['core/Editor.js'][579] = 0;
  _$jscoverage['core/Editor.js'][581] = 0;
  _$jscoverage['core/Editor.js'][582] = 0;
  _$jscoverage['core/Editor.js'][583] = 0;
  _$jscoverage['core/Editor.js'][593] = 0;
  _$jscoverage['core/Editor.js'][594] = 0;
  _$jscoverage['core/Editor.js'][596] = 0;
  _$jscoverage['core/Editor.js'][597] = 0;
  _$jscoverage['core/Editor.js'][599] = 0;
  _$jscoverage['core/Editor.js'][611] = 0;
  _$jscoverage['core/Editor.js'][614] = 0;
  _$jscoverage['core/Editor.js'][615] = 0;
  _$jscoverage['core/Editor.js'][616] = 0;
  _$jscoverage['core/Editor.js'][617] = 0;
  _$jscoverage['core/Editor.js'][619] = 0;
  _$jscoverage['core/Editor.js'][620] = 0;
  _$jscoverage['core/Editor.js'][622] = 0;
  _$jscoverage['core/Editor.js'][623] = 0;
  _$jscoverage['core/Editor.js'][628] = 0;
  _$jscoverage['core/Editor.js'][629] = 0;
  _$jscoverage['core/Editor.js'][630] = 0;
  _$jscoverage['core/Editor.js'][632] = 0;
  _$jscoverage['core/Editor.js'][633] = 0;
  _$jscoverage['core/Editor.js'][635] = 0;
  _$jscoverage['core/Editor.js'][636] = 0;
  _$jscoverage['core/Editor.js'][637] = 0;
  _$jscoverage['core/Editor.js'][638] = 0;
  _$jscoverage['core/Editor.js'][640] = 0;
  _$jscoverage['core/Editor.js'][641] = 0;
  _$jscoverage['core/Editor.js'][642] = 0;
  _$jscoverage['core/Editor.js'][643] = 0;
  _$jscoverage['core/Editor.js'][652] = 0;
  _$jscoverage['core/Editor.js'][656] = 0;
  _$jscoverage['core/Editor.js'][660] = 0;
  _$jscoverage['core/Editor.js'][661] = 0;
  _$jscoverage['core/Editor.js'][663] = 0;
  _$jscoverage['core/Editor.js'][673] = 0;
  _$jscoverage['core/Editor.js'][681] = 0;
  _$jscoverage['core/Editor.js'][686] = 0;
  _$jscoverage['core/Editor.js'][687] = 0;
  _$jscoverage['core/Editor.js'][688] = 0;
  _$jscoverage['core/Editor.js'][689] = 0;
  _$jscoverage['core/Editor.js'][690] = 0;
  _$jscoverage['core/Editor.js'][691] = 0;
  _$jscoverage['core/Editor.js'][692] = 0;
  _$jscoverage['core/Editor.js'][693] = 0;
  _$jscoverage['core/Editor.js'][696] = 0;
  _$jscoverage['core/Editor.js'][697] = 0;
  _$jscoverage['core/Editor.js'][698] = 0;
  _$jscoverage['core/Editor.js'][699] = 0;
  _$jscoverage['core/Editor.js'][703] = 0;
  _$jscoverage['core/Editor.js'][704] = 0;
  _$jscoverage['core/Editor.js'][705] = 0;
  _$jscoverage['core/Editor.js'][706] = 0;
  _$jscoverage['core/Editor.js'][707] = 0;
  _$jscoverage['core/Editor.js'][709] = 0;
  _$jscoverage['core/Editor.js'][712] = 0;
  _$jscoverage['core/Editor.js'][713] = 0;
  _$jscoverage['core/Editor.js'][714] = 0;
  _$jscoverage['core/Editor.js'][715] = 0;
  _$jscoverage['core/Editor.js'][716] = 0;
  _$jscoverage['core/Editor.js'][719] = 0;
  _$jscoverage['core/Editor.js'][720] = 0;
  _$jscoverage['core/Editor.js'][721] = 0;
  _$jscoverage['core/Editor.js'][723] = 0;
  _$jscoverage['core/Editor.js'][724] = 0;
  _$jscoverage['core/Editor.js'][726] = 0;
  _$jscoverage['core/Editor.js'][727] = 0;
  _$jscoverage['core/Editor.js'][728] = 0;
  _$jscoverage['core/Editor.js'][733] = 0;
  _$jscoverage['core/Editor.js'][735] = 0;
  _$jscoverage['core/Editor.js'][736] = 0;
  _$jscoverage['core/Editor.js'][738] = 0;
  _$jscoverage['core/Editor.js'][739] = 0;
  _$jscoverage['core/Editor.js'][740] = 0;
  _$jscoverage['core/Editor.js'][741] = 0;
  _$jscoverage['core/Editor.js'][751] = 0;
  _$jscoverage['core/Editor.js'][752] = 0;
  _$jscoverage['core/Editor.js'][755] = 0;
  _$jscoverage['core/Editor.js'][756] = 0;
  _$jscoverage['core/Editor.js'][758] = 0;
  _$jscoverage['core/Editor.js'][759] = 0;
  _$jscoverage['core/Editor.js'][760] = 0;
  _$jscoverage['core/Editor.js'][761] = 0;
  _$jscoverage['core/Editor.js'][762] = 0;
  _$jscoverage['core/Editor.js'][763] = 0;
  _$jscoverage['core/Editor.js'][764] = 0;
  _$jscoverage['core/Editor.js'][766] = 0;
  _$jscoverage['core/Editor.js'][768] = 0;
  _$jscoverage['core/Editor.js'][769] = 0;
  _$jscoverage['core/Editor.js'][771] = 0;
  _$jscoverage['core/Editor.js'][772] = 0;
  _$jscoverage['core/Editor.js'][784] = 0;
  _$jscoverage['core/Editor.js'][793] = 0;
  _$jscoverage['core/Editor.js'][807] = 0;
  _$jscoverage['core/Editor.js'][808] = 0;
  _$jscoverage['core/Editor.js'][809] = 0;
  _$jscoverage['core/Editor.js'][810] = 0;
  _$jscoverage['core/Editor.js'][814] = 0;
  _$jscoverage['core/Editor.js'][815] = 0;
  _$jscoverage['core/Editor.js'][818] = 0;
  _$jscoverage['core/Editor.js'][819] = 0;
  _$jscoverage['core/Editor.js'][820] = 0;
  _$jscoverage['core/Editor.js'][821] = 0;
  _$jscoverage['core/Editor.js'][822] = 0;
  _$jscoverage['core/Editor.js'][823] = 0;
  _$jscoverage['core/Editor.js'][827] = 0;
  _$jscoverage['core/Editor.js'][838] = 0;
  _$jscoverage['core/Editor.js'][841] = 0;
  _$jscoverage['core/Editor.js'][842] = 0;
  _$jscoverage['core/Editor.js'][843] = 0;
  _$jscoverage['core/Editor.js'][844] = 0;
  _$jscoverage['core/Editor.js'][846] = 0;
  _$jscoverage['core/Editor.js'][847] = 0;
  _$jscoverage['core/Editor.js'][848] = 0;
  _$jscoverage['core/Editor.js'][850] = 0;
  _$jscoverage['core/Editor.js'][852] = 0;
  _$jscoverage['core/Editor.js'][853] = 0;
  _$jscoverage['core/Editor.js'][854] = 0;
  _$jscoverage['core/Editor.js'][855] = 0;
  _$jscoverage['core/Editor.js'][857] = 0;
  _$jscoverage['core/Editor.js'][866] = 0;
  _$jscoverage['core/Editor.js'][869] = 0;
  _$jscoverage['core/Editor.js'][870] = 0;
  _$jscoverage['core/Editor.js'][871] = 0;
  _$jscoverage['core/Editor.js'][872] = 0;
  _$jscoverage['core/Editor.js'][873] = 0;
  _$jscoverage['core/Editor.js'][875] = 0;
  _$jscoverage['core/Editor.js'][876] = 0;
  _$jscoverage['core/Editor.js'][877] = 0;
  _$jscoverage['core/Editor.js'][878] = 0;
  _$jscoverage['core/Editor.js'][879] = 0;
  _$jscoverage['core/Editor.js'][881] = 0;
  _$jscoverage['core/Editor.js'][883] = 0;
  _$jscoverage['core/Editor.js'][895] = 0;
  _$jscoverage['core/Editor.js'][904] = 0;
  _$jscoverage['core/Editor.js'][905] = 0;
  _$jscoverage['core/Editor.js'][906] = 0;
  _$jscoverage['core/Editor.js'][907] = 0;
  _$jscoverage['core/Editor.js'][908] = 0;
  _$jscoverage['core/Editor.js'][909] = 0;
  _$jscoverage['core/Editor.js'][910] = 0;
  _$jscoverage['core/Editor.js'][911] = 0;
  _$jscoverage['core/Editor.js'][916] = 0;
  _$jscoverage['core/Editor.js'][917] = 0;
  _$jscoverage['core/Editor.js'][918] = 0;
  _$jscoverage['core/Editor.js'][919] = 0;
  _$jscoverage['core/Editor.js'][920] = 0;
  _$jscoverage['core/Editor.js'][922] = 0;
  _$jscoverage['core/Editor.js'][931] = 0;
  _$jscoverage['core/Editor.js'][932] = 0;
  _$jscoverage['core/Editor.js'][934] = 0;
  _$jscoverage['core/Editor.js'][935] = 0;
  _$jscoverage['core/Editor.js'][936] = 0;
  _$jscoverage['core/Editor.js'][938] = 0;
  _$jscoverage['core/Editor.js'][941] = 0;
  _$jscoverage['core/Editor.js'][942] = 0;
  _$jscoverage['core/Editor.js'][944] = 0;
  _$jscoverage['core/Editor.js'][954] = 0;
  _$jscoverage['core/Editor.js'][962] = 0;
  _$jscoverage['core/Editor.js'][963] = 0;
  _$jscoverage['core/Editor.js'][964] = 0;
  _$jscoverage['core/Editor.js'][966] = 0;
  _$jscoverage['core/Editor.js'][974] = 0;
  _$jscoverage['core/Editor.js'][984] = 0;
  _$jscoverage['core/Editor.js'][985] = 0;
  _$jscoverage['core/Editor.js'][986] = 0;
  _$jscoverage['core/Editor.js'][988] = 0;
  _$jscoverage['core/Editor.js'][989] = 0;
  _$jscoverage['core/Editor.js'][990] = 0;
  _$jscoverage['core/Editor.js'][991] = 0;
  _$jscoverage['core/Editor.js'][993] = 0;
  _$jscoverage['core/Editor.js'][1003] = 0;
  _$jscoverage['core/Editor.js'][1004] = 0;
  _$jscoverage['core/Editor.js'][1005] = 0;
  _$jscoverage['core/Editor.js'][1006] = 0;
  _$jscoverage['core/Editor.js'][1007] = 0;
  _$jscoverage['core/Editor.js'][1008] = 0;
  _$jscoverage['core/Editor.js'][1011] = 0;
  _$jscoverage['core/Editor.js'][1014] = 0;
  _$jscoverage['core/Editor.js'][1017] = 0;
  _$jscoverage['core/Editor.js'][1018] = 0;
  _$jscoverage['core/Editor.js'][1022] = 0;
  _$jscoverage['core/Editor.js'][1025] = 0;
  _$jscoverage['core/Editor.js'][1026] = 0;
  _$jscoverage['core/Editor.js'][1039] = 0;
}
_$jscoverage['core/Editor.js'].source = ["<span class=\"c\">/**</span>","<span class=\"c\"> * @file</span>","<span class=\"c\"> * @name UE.Editor</span>","<span class=\"c\"> * @short Editor</span>","<span class=\"c\"> * @import editor.js,core/utils.js,core/EventBase.js,core/browser.js,core/dom/dtd.js,core/dom/domUtils.js,core/dom/Range.js,core/dom/Selection.js,plugins/serialize.js</span>","<span class=\"c\"> * @desc &#32534;&#36753;&#22120;&#20027;&#31867;&#65292;&#21253;&#21547;&#32534;&#36753;&#22120;&#25552;&#20379;&#30340;&#22823;&#37096;&#20998;&#20844;&#29992;&#25509;&#21475;</span>","<span class=\"c\"> */</span>","<span class=\"k\">(</span><span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","    <span class=\"k\">var</span> uid <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">,</span> _selectionChangeTimer<span class=\"k\">;</span>","","","    <span class=\"c\">/**</span>","<span class=\"c\">     * &#26367;&#25442;src&#21644;href</span>","<span class=\"c\">     * @private</span>","<span class=\"c\">     * @ignore</span>","<span class=\"c\">     * @param root</span>","<span class=\"c\">     */</span>","    <span class=\"k\">function</span> replaceSrc<span class=\"k\">(</span>root<span class=\"k\">)</span> <span class=\"k\">{</span>","        utils<span class=\"k\">.</span>each<span class=\"k\">(</span>domUtils<span class=\"k\">.</span>getElementsByTagName<span class=\"k\">(</span>root<span class=\"k\">,</span> <span class=\"s\">'a img'</span><span class=\"k\">),</span> <span class=\"k\">function</span> <span class=\"k\">(</span>node<span class=\"k\">)</span> <span class=\"k\">{</span>","            <span class=\"k\">var</span> val<span class=\"k\">,</span> attr <span class=\"k\">=</span> node<span class=\"k\">.</span>tagName <span class=\"k\">==</span> <span class=\"s\">'A'</span> <span class=\"k\">?</span> <span class=\"s\">'href'</span> <span class=\"k\">:</span> <span class=\"s\">'src'</span><span class=\"k\">;</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span>val <span class=\"k\">=</span> node<span class=\"k\">.</span>getAttribute<span class=\"k\">(</span><span class=\"s\">'_'</span> <span class=\"k\">+</span> attr<span class=\"k\">))</span> <span class=\"k\">{</span>","                node<span class=\"k\">.</span>setAttribute<span class=\"k\">(</span>attr<span class=\"k\">,</span> val<span class=\"k\">)</span>","            <span class=\"k\">}</span>","        <span class=\"k\">}</span><span class=\"k\">);</span>","    <span class=\"k\">}</span>","","    <span class=\"c\">/**</span>","<span class=\"c\">     * @private</span>","<span class=\"c\">     * @ignore</span>","<span class=\"c\">     * @param form  &#32534;&#36753;&#22120;&#25152;&#22312;&#30340;form&#20803;&#32032;</span>","<span class=\"c\">     * @param editor  &#32534;&#36753;&#22120;&#23454;&#20363;&#23545;&#35937;</span>","<span class=\"c\">     */</span>","    <span class=\"k\">function</span> setValue<span class=\"k\">(</span>form<span class=\"k\">,</span> editor<span class=\"k\">)</span> <span class=\"k\">{</span>","        <span class=\"k\">var</span> textarea<span class=\"k\">;</span>","        <span class=\"k\">if</span> <span class=\"k\">(</span>editor<span class=\"k\">.</span>textarea<span class=\"k\">)</span> <span class=\"k\">{</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span>utils<span class=\"k\">.</span>isString<span class=\"k\">(</span>editor<span class=\"k\">.</span>textarea<span class=\"k\">))</span> <span class=\"k\">{</span>","                <span class=\"k\">for</span> <span class=\"k\">(</span><span class=\"k\">var</span> i <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">,</span> ti<span class=\"k\">,</span> tis <span class=\"k\">=</span> domUtils<span class=\"k\">.</span>getElementsByTagName<span class=\"k\">(</span>form<span class=\"k\">,</span> <span class=\"s\">'textarea'</span><span class=\"k\">);</span> ti <span class=\"k\">=</span> tis<span class=\"k\">[</span>i<span class=\"k\">++];)</span> <span class=\"k\">{</span>","                    <span class=\"k\">if</span> <span class=\"k\">(</span>ti<span class=\"k\">.</span>id <span class=\"k\">==</span> <span class=\"s\">'ueditor_textarea_'</span> <span class=\"k\">+</span> editor<span class=\"k\">.</span>options<span class=\"k\">.</span>textarea<span class=\"k\">)</span> <span class=\"k\">{</span>","                        textarea <span class=\"k\">=</span> ti<span class=\"k\">;</span>","                        <span class=\"k\">break</span><span class=\"k\">;</span>","                    <span class=\"k\">}</span>","                <span class=\"k\">}</span>","            <span class=\"k\">}</span> <span class=\"k\">else</span> <span class=\"k\">{</span>","                textarea <span class=\"k\">=</span> editor<span class=\"k\">.</span>textarea<span class=\"k\">;</span>","            <span class=\"k\">}</span>","        <span class=\"k\">}</span>","        <span class=\"k\">if</span> <span class=\"k\">(!</span>textarea<span class=\"k\">)</span> <span class=\"k\">{</span>","            form<span class=\"k\">.</span>appendChild<span class=\"k\">(</span>textarea <span class=\"k\">=</span> domUtils<span class=\"k\">.</span>createElement<span class=\"k\">(</span>document<span class=\"k\">,</span> <span class=\"s\">'textarea'</span><span class=\"k\">,</span> <span class=\"k\">{</span>","                <span class=\"s\">'name'</span><span class=\"k\">:</span>editor<span class=\"k\">.</span>options<span class=\"k\">.</span>textarea<span class=\"k\">,</span>","                <span class=\"s\">'id'</span><span class=\"k\">:</span><span class=\"s\">'ueditor_textarea_'</span> <span class=\"k\">+</span> editor<span class=\"k\">.</span>options<span class=\"k\">.</span>textarea<span class=\"k\">,</span>","                <span class=\"s\">'style'</span><span class=\"k\">:</span><span class=\"s\">\"display:none\"</span>","            <span class=\"k\">}</span><span class=\"k\">));</span>","            <span class=\"c\">//&#19981;&#35201;&#20135;&#29983;&#22810;&#20010;textarea</span>","            editor<span class=\"k\">.</span>textarea <span class=\"k\">=</span> textarea<span class=\"k\">;</span>","        <span class=\"k\">}</span>","        textarea<span class=\"k\">.</span>value <span class=\"k\">=</span> editor<span class=\"k\">.</span>hasContents<span class=\"k\">()</span> <span class=\"k\">?</span>","            <span class=\"k\">(</span>editor<span class=\"k\">.</span>options<span class=\"k\">.</span>allHtmlEnabled <span class=\"k\">?</span> editor<span class=\"k\">.</span>getAllHtml<span class=\"k\">()</span> <span class=\"k\">:</span> editor<span class=\"k\">.</span>getContent<span class=\"k\">(</span><span class=\"k\">null</span><span class=\"k\">,</span> <span class=\"k\">null</span><span class=\"k\">,</span> <span class=\"k\">true</span><span class=\"k\">))</span> <span class=\"k\">:</span>","            <span class=\"s\">''</span>","    <span class=\"k\">}</span>","","    <span class=\"c\">/**</span>","<span class=\"c\">     * UEditor&#32534;&#36753;&#22120;&#31867;</span>","<span class=\"c\">     * @name Editor</span>","<span class=\"c\">     * @desc &#21019;&#24314;&#19968;&#20010;&#36319;&#32534;&#36753;&#22120;&#23454;&#20363;</span>","<span class=\"c\">     * - ***container*** &#32534;&#36753;&#22120;&#23481;&#22120;&#23545;&#35937;</span>","<span class=\"c\">     * - ***iframe*** &#32534;&#36753;&#21306;&#22495;&#25152;&#22312;&#30340;iframe&#23545;&#35937;</span>","<span class=\"c\">     * - ***window*** &#32534;&#36753;&#21306;&#22495;&#25152;&#22312;&#30340;window</span>","<span class=\"c\">     * - ***document*** &#32534;&#36753;&#21306;&#22495;&#25152;&#22312;&#30340;document&#23545;&#35937;</span>","<span class=\"c\">     * - ***body*** &#32534;&#36753;&#21306;&#22495;&#25152;&#22312;&#30340;body&#23545;&#35937;</span>","<span class=\"c\">     * - ***selection*** &#32534;&#36753;&#21306;&#22495;&#30340;&#36873;&#21306;&#23545;&#35937;</span>","<span class=\"c\">     */</span>","    <span class=\"k\">var</span> Editor <span class=\"k\">=</span> UE<span class=\"k\">.</span>Editor <span class=\"k\">=</span> <span class=\"k\">function</span> <span class=\"k\">(</span>options<span class=\"k\">)</span> <span class=\"k\">{</span>","        <span class=\"k\">var</span> me <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">;</span>","        me<span class=\"k\">.</span>uid <span class=\"k\">=</span> uid<span class=\"k\">++;</span>","        EventBase<span class=\"k\">.</span>call<span class=\"k\">(</span>me<span class=\"k\">);</span>","        me<span class=\"k\">.</span>commands <span class=\"k\">=</span> <span class=\"k\">{}</span><span class=\"k\">;</span>","        me<span class=\"k\">.</span>options <span class=\"k\">=</span> utils<span class=\"k\">.</span>extend<span class=\"k\">(</span>utils<span class=\"k\">.</span>clone<span class=\"k\">(</span>options <span class=\"k\">||</span> <span class=\"k\">{}</span><span class=\"k\">),</span> UEDITOR_CONFIG<span class=\"k\">,</span> <span class=\"k\">true</span><span class=\"k\">);</span>","        me<span class=\"k\">.</span>shortcutkeys <span class=\"k\">=</span> <span class=\"k\">{}</span><span class=\"k\">;</span>","        me<span class=\"k\">.</span>inputRules <span class=\"k\">=</span> <span class=\"k\">[];</span>","        me<span class=\"k\">.</span>outputRules <span class=\"k\">=</span> <span class=\"k\">[];</span>","        <span class=\"c\">//&#35774;&#32622;&#40664;&#35748;&#30340;&#24120;&#29992;&#23646;&#24615;</span>","        me<span class=\"k\">.</span>setOpt<span class=\"k\">(</span><span class=\"k\">{</span>","            isShow<span class=\"k\">:</span><span class=\"k\">true</span><span class=\"k\">,</span>","            initialContent<span class=\"k\">:</span><span class=\"s\">'&#27426;&#36814;&#20351;&#29992;ueditor!'</span><span class=\"k\">,</span>","            autoClearinitialContent<span class=\"k\">:</span><span class=\"k\">false</span><span class=\"k\">,</span>","            iframeCssUrl<span class=\"k\">:</span>me<span class=\"k\">.</span>options<span class=\"k\">.</span>UEDITOR_HOME_URL <span class=\"k\">+</span> <span class=\"s\">'themes/iframe.css'</span><span class=\"k\">,</span>","            textarea<span class=\"k\">:</span><span class=\"s\">'editorValue'</span><span class=\"k\">,</span>","            focus<span class=\"k\">:</span><span class=\"k\">false</span><span class=\"k\">,</span>","            focusInEnd<span class=\"k\">:</span><span class=\"k\">true</span><span class=\"k\">,</span>","            initialFrameWidth<span class=\"k\">:</span><span class=\"s\">1000</span><span class=\"k\">,</span>","            initialFrameHeight<span class=\"k\">:</span>me<span class=\"k\">.</span>options<span class=\"k\">.</span>minFrameHeight <span class=\"k\">||</span> <span class=\"s\">320</span><span class=\"k\">,</span> <span class=\"c\">//&#20860;&#23481;&#32769;&#29256;&#26412;&#37197;&#32622;&#39033;</span>","            minFrameWidth<span class=\"k\">:</span><span class=\"s\">800</span><span class=\"k\">,</span>","            minFrameHeight<span class=\"k\">:</span><span class=\"s\">220</span><span class=\"k\">,</span>","            autoClearEmptyNode<span class=\"k\">:</span><span class=\"k\">true</span><span class=\"k\">,</span>","            fullscreen<span class=\"k\">:</span><span class=\"k\">false</span><span class=\"k\">,</span>","            readonly<span class=\"k\">:</span><span class=\"k\">false</span><span class=\"k\">,</span>","            zIndex<span class=\"k\">:</span><span class=\"s\">999</span><span class=\"k\">,</span>","            imagePopup<span class=\"k\">:</span><span class=\"k\">true</span><span class=\"k\">,</span>","            enterTag<span class=\"k\">:</span><span class=\"s\">'p'</span><span class=\"k\">,</span>","            pageBreakTag<span class=\"k\">:</span><span class=\"s\">'_baidu_page_break_tag_'</span><span class=\"k\">,</span>","            customDomain<span class=\"k\">:</span><span class=\"k\">false</span><span class=\"k\">,</span>","            lang<span class=\"k\">:</span><span class=\"s\">'zh-cn'</span><span class=\"k\">,</span>","            langPath<span class=\"k\">:</span>me<span class=\"k\">.</span>options<span class=\"k\">.</span>UEDITOR_HOME_URL <span class=\"k\">+</span> <span class=\"s\">'lang/'</span><span class=\"k\">,</span>","            theme<span class=\"k\">:</span><span class=\"s\">'default'</span><span class=\"k\">,</span>","            themePath<span class=\"k\">:</span>me<span class=\"k\">.</span>options<span class=\"k\">.</span>UEDITOR_HOME_URL <span class=\"k\">+</span> <span class=\"s\">'themes/'</span><span class=\"k\">,</span>","            allHtmlEnabled<span class=\"k\">:</span><span class=\"k\">false</span><span class=\"k\">,</span>","            scaleEnabled<span class=\"k\">:</span><span class=\"k\">false</span><span class=\"k\">,</span>","            tableNativeEditInFF<span class=\"k\">:</span><span class=\"k\">false</span>","        <span class=\"k\">}</span><span class=\"k\">);</span>","","        utils<span class=\"k\">.</span>loadFile<span class=\"k\">(</span>document<span class=\"k\">,</span> <span class=\"k\">{</span>","            src<span class=\"k\">:</span>me<span class=\"k\">.</span>options<span class=\"k\">.</span>langPath <span class=\"k\">+</span> me<span class=\"k\">.</span>options<span class=\"k\">.</span>lang <span class=\"k\">+</span> <span class=\"s\">\"/\"</span> <span class=\"k\">+</span> me<span class=\"k\">.</span>options<span class=\"k\">.</span>lang <span class=\"k\">+</span> <span class=\"s\">\".js\"</span><span class=\"k\">,</span>","            tag<span class=\"k\">:</span><span class=\"s\">\"script\"</span><span class=\"k\">,</span>","            type<span class=\"k\">:</span><span class=\"s\">\"text/javascript\"</span><span class=\"k\">,</span>","            defer<span class=\"k\">:</span><span class=\"s\">\"defer\"</span>","        <span class=\"k\">}</span><span class=\"k\">,</span> <span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","            <span class=\"c\">//&#21021;&#22987;&#21270;&#25554;&#20214;</span>","            <span class=\"k\">for</span> <span class=\"k\">(</span><span class=\"k\">var</span> pi <span class=\"k\">in</span> UE<span class=\"k\">.</span>plugins<span class=\"k\">)</span> <span class=\"k\">{</span>","                UE<span class=\"k\">.</span>plugins<span class=\"k\">[</span>pi<span class=\"k\">].</span>call<span class=\"k\">(</span>me<span class=\"k\">);</span>","            <span class=\"k\">}</span>","            me<span class=\"k\">.</span>langIsReady <span class=\"k\">=</span> <span class=\"k\">true</span><span class=\"k\">;</span>","","            me<span class=\"k\">.</span>fireEvent<span class=\"k\">(</span><span class=\"s\">\"langReady\"</span><span class=\"k\">);</span>","        <span class=\"k\">}</span><span class=\"k\">);</span>","        UE<span class=\"k\">.</span>instants<span class=\"k\">[</span><span class=\"s\">'ueditorInstant'</span> <span class=\"k\">+</span> me<span class=\"k\">.</span>uid<span class=\"k\">]</span> <span class=\"k\">=</span> me<span class=\"k\">;</span>","    <span class=\"k\">}</span><span class=\"k\">;</span>","    Editor<span class=\"k\">.</span>prototype <span class=\"k\">=</span> <span class=\"k\">{</span>","        <span class=\"c\">/**</span>","<span class=\"c\">         * &#24403;&#32534;&#36753;&#22120;ready&#21518;&#25191;&#34892;&#20256;&#20837;&#30340;fn,&#22914;&#26524;&#32534;&#36753;&#22120;&#24050;&#32463;&#23436;&#25104;ready&#65292;&#23601;&#39532;&#19978;&#25191;&#34892;fn&#65292;fn&#30340;&#20013;&#30340;this&#26159;&#32534;&#36753;&#22120;&#23454;&#20363;&#12290;</span>","<span class=\"c\">         * &#22823;&#37096;&#20998;&#30340;&#23454;&#20363;&#25509;&#21475;&#37117;&#38656;&#35201;&#25918;&#22312;&#35813;&#26041;&#27861;&#20869;&#37096;&#25191;&#34892;&#65292;&#21542;&#21017;&#22312;IE&#19979;&#21487;&#33021;&#20250;&#25253;&#38169;&#12290;</span>","<span class=\"c\">         * @name ready</span>","<span class=\"c\">         * @grammar editor.ready(fn) fn&#26159;&#24403;&#32534;&#36753;&#22120;&#28210;&#26579;&#22909;&#21518;&#25191;&#34892;&#30340;function</span>","<span class=\"c\">         * @example</span>","<span class=\"c\">         * var editor = new UE.ui.Editor();</span>","<span class=\"c\">         * editor.render(\"myEditor\");</span>","<span class=\"c\">         * editor.ready(function(){</span>","<span class=\"c\">         *     editor.setContent(\"&#27426;&#36814;&#20351;&#29992;UEditor&#65281;\");</span>","<span class=\"c\">         * })</span>","<span class=\"c\">         */</span>","        ready<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">(</span>fn<span class=\"k\">)</span> <span class=\"k\">{</span>","            <span class=\"k\">var</span> me <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">;</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span>fn<span class=\"k\">)</span> <span class=\"k\">{</span>","                me<span class=\"k\">.</span>isReady <span class=\"k\">?</span> fn<span class=\"k\">.</span>apply<span class=\"k\">(</span>me<span class=\"k\">)</span> <span class=\"k\">:</span> me<span class=\"k\">.</span>addListener<span class=\"k\">(</span><span class=\"s\">'ready'</span><span class=\"k\">,</span> fn<span class=\"k\">);</span>","            <span class=\"k\">}</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        <span class=\"c\">/**</span>","<span class=\"c\">         * &#20026;&#32534;&#36753;&#22120;&#35774;&#32622;&#40664;&#35748;&#21442;&#25968;&#20540;&#12290;&#33509;&#29992;&#25143;&#37197;&#32622;&#20026;&#31354;&#65292;&#21017;&#20197;&#40664;&#35748;&#37197;&#32622;&#20026;&#20934;</span>","<span class=\"c\">         * @grammar editor.setOpt(key,value);      //&#20256;&#20837;&#19968;&#20010;&#38190;&#12289;&#20540;&#23545;</span>","<span class=\"c\">         * @grammar editor.setOpt({ key:value});   //&#20256;&#20837;&#19968;&#20010;json&#23545;&#35937;</span>","<span class=\"c\">         */</span>","        setOpt<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">(</span>key<span class=\"k\">,</span> val<span class=\"k\">)</span> <span class=\"k\">{</span>","            <span class=\"k\">var</span> obj <span class=\"k\">=</span> <span class=\"k\">{}</span><span class=\"k\">;</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span>utils<span class=\"k\">.</span>isString<span class=\"k\">(</span>key<span class=\"k\">))</span> <span class=\"k\">{</span>","                obj<span class=\"k\">[</span>key<span class=\"k\">]</span> <span class=\"k\">=</span> val","            <span class=\"k\">}</span> <span class=\"k\">else</span> <span class=\"k\">{</span>","                obj <span class=\"k\">=</span> key<span class=\"k\">;</span>","            <span class=\"k\">}</span>","            utils<span class=\"k\">.</span>extend<span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>options<span class=\"k\">,</span> obj<span class=\"k\">,</span> <span class=\"k\">true</span><span class=\"k\">);</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        <span class=\"c\">/**</span>","<span class=\"c\">         * &#38144;&#27585;&#32534;&#36753;&#22120;&#23454;&#20363;&#23545;&#35937;</span>","<span class=\"c\">         * @name destroy</span>","<span class=\"c\">         * @grammar editor.destroy();</span>","<span class=\"c\">         */</span>","        destroy<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","","            <span class=\"k\">var</span> me <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">;</span>","            me<span class=\"k\">.</span>fireEvent<span class=\"k\">(</span><span class=\"s\">'destroy'</span><span class=\"k\">);</span>","            <span class=\"k\">var</span> container <span class=\"k\">=</span> me<span class=\"k\">.</span>container<span class=\"k\">.</span>parentNode<span class=\"k\">;</span>","            <span class=\"k\">var</span> textarea <span class=\"k\">=</span> me<span class=\"k\">.</span>textarea<span class=\"k\">;</span>","            <span class=\"k\">if</span> <span class=\"k\">(!</span>textarea<span class=\"k\">)</span> <span class=\"k\">{</span>","                textarea <span class=\"k\">=</span> document<span class=\"k\">.</span>createElement<span class=\"k\">(</span><span class=\"s\">'textarea'</span><span class=\"k\">);</span>","                container<span class=\"k\">.</span>parentNode<span class=\"k\">.</span>insertBefore<span class=\"k\">(</span>textarea<span class=\"k\">,</span> container<span class=\"k\">);</span>","            <span class=\"k\">}</span> <span class=\"k\">else</span> <span class=\"k\">{</span>","                textarea<span class=\"k\">.</span>style<span class=\"k\">.</span>display <span class=\"k\">=</span> <span class=\"s\">''</span>","            <span class=\"k\">}</span>","            textarea<span class=\"k\">.</span>style<span class=\"k\">.</span>width <span class=\"k\">=</span> container<span class=\"k\">.</span>offsetWidth <span class=\"k\">+</span> <span class=\"s\">'px'</span><span class=\"k\">;</span>","            textarea<span class=\"k\">.</span>style<span class=\"k\">.</span>height <span class=\"k\">=</span> container<span class=\"k\">.</span>offsetHeight <span class=\"k\">+</span> <span class=\"s\">'px'</span><span class=\"k\">;</span>","            textarea<span class=\"k\">.</span>value <span class=\"k\">=</span> me<span class=\"k\">.</span>getContent<span class=\"k\">();</span>","            textarea<span class=\"k\">.</span>id <span class=\"k\">=</span> me<span class=\"k\">.</span>key<span class=\"k\">;</span>","            container<span class=\"k\">.</span>innerHTML <span class=\"k\">=</span> <span class=\"s\">''</span><span class=\"k\">;</span>","            domUtils<span class=\"k\">.</span>remove<span class=\"k\">(</span>container<span class=\"k\">);</span>","            <span class=\"k\">var</span> key <span class=\"k\">=</span> me<span class=\"k\">.</span>key<span class=\"k\">;</span>","            <span class=\"c\">//trace:2004</span>","            <span class=\"k\">for</span> <span class=\"k\">(</span><span class=\"k\">var</span> p <span class=\"k\">in</span> me<span class=\"k\">)</span> <span class=\"k\">{</span>","                <span class=\"k\">if</span> <span class=\"k\">(</span>me<span class=\"k\">.</span>hasOwnProperty<span class=\"k\">(</span>p<span class=\"k\">))</span> <span class=\"k\">{</span>","                    <span class=\"k\">delete</span> <span class=\"k\">this</span><span class=\"k\">[</span>p<span class=\"k\">];</span>","                <span class=\"k\">}</span>","            <span class=\"k\">}</span>","            UE<span class=\"k\">.</span>delEditor<span class=\"k\">(</span>key<span class=\"k\">);</span>","","        <span class=\"k\">}</span><span class=\"k\">,</span>","        <span class=\"c\">/**</span>","<span class=\"c\">         * &#28210;&#26579;&#32534;&#36753;&#22120;&#30340;DOM&#21040;&#25351;&#23450;&#23481;&#22120;&#65292;&#24517;&#39035;&#19988;&#21482;&#33021;&#35843;&#29992;&#19968;&#27425;</span>","<span class=\"c\">         * @name render</span>","<span class=\"c\">         * @grammar editor.render(containerId);    //&#21487;&#20197;&#25351;&#23450;&#19968;&#20010;&#23481;&#22120;ID</span>","<span class=\"c\">         * @grammar editor.render(containerDom);   //&#20063;&#21487;&#20197;&#30452;&#25509;&#25351;&#23450;&#23481;&#22120;&#23545;&#35937;</span>","<span class=\"c\">         */</span>","        render<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">(</span>container<span class=\"k\">)</span> <span class=\"k\">{</span>","            <span class=\"k\">var</span> me <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">,</span> options <span class=\"k\">=</span> me<span class=\"k\">.</span>options<span class=\"k\">;</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span>utils<span class=\"k\">.</span>isString<span class=\"k\">(</span>container<span class=\"k\">))</span> <span class=\"k\">{</span>","                container <span class=\"k\">=</span> document<span class=\"k\">.</span>getElementById<span class=\"k\">(</span>container<span class=\"k\">);</span>","            <span class=\"k\">}</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span>container<span class=\"k\">)</span> <span class=\"k\">{</span>","                <span class=\"k\">var</span> useBodyAsViewport <span class=\"k\">=</span> ie <span class=\"k\">&amp;&amp;</span> browser<span class=\"k\">.</span>version <span class=\"k\">&lt;</span> <span class=\"s\">9</span><span class=\"k\">,</span>","                    html <span class=\"k\">=</span> <span class=\"k\">(</span> ie <span class=\"k\">&amp;&amp;</span> browser<span class=\"k\">.</span>version <span class=\"k\">&lt;</span> <span class=\"s\">9</span> <span class=\"k\">?</span> <span class=\"s\">''</span> <span class=\"k\">:</span> <span class=\"s\">'&lt;!DOCTYPE html&gt;'</span><span class=\"k\">)</span> <span class=\"k\">+</span>","                        <span class=\"s\">'&lt;html xmlns=</span><span class=\"t\">\\'</span><span class=\"s\">http://www.w3.org/1999/xhtml</span><span class=\"t\">\\'</span><span class=\"s\">'</span> <span class=\"k\">+</span> <span class=\"k\">(!</span>useBodyAsViewport <span class=\"k\">?</span> <span class=\"s\">' class=</span><span class=\"t\">\\'</span><span class=\"s\">view</span><span class=\"t\">\\'</span><span class=\"s\">'</span> <span class=\"k\">:</span> <span class=\"s\">''</span><span class=\"k\">)</span> <span class=\"k\">+</span> <span class=\"s\">'&gt;&lt;head&gt;'</span> <span class=\"k\">+</span>","                        <span class=\"k\">(</span> options<span class=\"k\">.</span>iframeCssUrl <span class=\"k\">?</span> <span class=\"s\">'&lt;link rel=</span><span class=\"t\">\\'</span><span class=\"s\">stylesheet</span><span class=\"t\">\\'</span><span class=\"s\"> type=</span><span class=\"t\">\\'</span><span class=\"s\">text/css</span><span class=\"t\">\\'</span><span class=\"s\"> href=</span><span class=\"t\">\\'</span><span class=\"s\">'</span> <span class=\"k\">+</span> utils<span class=\"k\">.</span>unhtml<span class=\"k\">(</span>options<span class=\"k\">.</span>iframeCssUrl<span class=\"k\">)</span> <span class=\"k\">+</span> <span class=\"s\">'</span><span class=\"t\">\\'</span><span class=\"s\">/&gt;'</span> <span class=\"k\">:</span> <span class=\"s\">''</span> <span class=\"k\">)</span> <span class=\"k\">+</span>","                        <span class=\"s\">'&lt;style type=</span><span class=\"t\">\\'</span><span class=\"s\">text/css</span><span class=\"t\">\\'</span><span class=\"s\">&gt;'</span> <span class=\"k\">+</span>","                        <span class=\"c\">//&#35774;&#32622;&#22235;&#21608;&#30340;&#30041;&#36793;</span>","                        <span class=\"s\">'.view{padding:0;word-wrap:break-word;cursor:text;height:100%;}</span><span class=\"t\">\\n</span><span class=\"s\">'</span> <span class=\"k\">+</span>","                        <span class=\"c\">//&#35774;&#32622;&#40664;&#35748;&#23383;&#20307;&#21644;&#23383;&#21495;</span>","                        <span class=\"c\">//font-family&#19981;&#33021;&#21602;&#38543;&#20415;&#25913;&#65292;&#22312;safari&#19979;fillchar&#20250;&#26377;&#35299;&#26512;&#38382;&#39064;</span>","                        <span class=\"s\">'body{margin:8px;font-family:sans-serif;font-size:16px;}'</span> <span class=\"k\">+</span>","                        <span class=\"c\">//&#35774;&#32622;&#27573;&#33853;&#38388;&#36317;</span>","                        <span class=\"s\">'p{margin:5px 0;}'</span>","                        <span class=\"k\">+</span> <span class=\"k\">(</span> options<span class=\"k\">.</span>initialStyle <span class=\"k\">||</span> <span class=\"s\">''</span> <span class=\"k\">)</span> <span class=\"k\">+</span>","                        <span class=\"s\">'&lt;/style&gt;&lt;/head&gt;&lt;body'</span> <span class=\"k\">+</span> <span class=\"k\">(</span>useBodyAsViewport <span class=\"k\">?</span> <span class=\"s\">' class=</span><span class=\"t\">\\'</span><span class=\"s\">view</span><span class=\"t\">\\'</span><span class=\"s\">'</span> <span class=\"k\">:</span> <span class=\"s\">''</span><span class=\"k\">)</span> <span class=\"k\">+</span> <span class=\"s\">'&gt;&lt;/body&gt;'</span><span class=\"k\">;</span>","                <span class=\"k\">if</span> <span class=\"k\">(</span>options<span class=\"k\">.</span>customDomain <span class=\"k\">&amp;&amp;</span> document<span class=\"k\">.</span>domain <span class=\"k\">!=</span> location<span class=\"k\">.</span>hostname<span class=\"k\">)</span> <span class=\"k\">{</span>","                    html <span class=\"k\">+=</span> <span class=\"s\">'&lt;script&gt;window.parent.UE.instants[</span><span class=\"t\">\\'</span><span class=\"s\">ueditorInstant'</span> <span class=\"k\">+</span> me<span class=\"k\">.</span>uid <span class=\"k\">+</span> <span class=\"s\">'</span><span class=\"t\">\\'</span><span class=\"s\">]._setup(document);&lt;/script&gt;&lt;/html&gt;'</span><span class=\"k\">;</span>","                    container<span class=\"k\">.</span>appendChild<span class=\"k\">(</span>domUtils<span class=\"k\">.</span>createElement<span class=\"k\">(</span>document<span class=\"k\">,</span> <span class=\"s\">'iframe'</span><span class=\"k\">,</span> <span class=\"k\">{</span>","                        id<span class=\"k\">:</span><span class=\"s\">'baidu_editor_'</span> <span class=\"k\">+</span> me<span class=\"k\">.</span>uid<span class=\"k\">,</span>","                        width<span class=\"k\">:</span><span class=\"s\">\"100%\"</span><span class=\"k\">,</span>","                        height<span class=\"k\">:</span><span class=\"s\">\"100%\"</span><span class=\"k\">,</span>","                        frameborder<span class=\"k\">:</span><span class=\"s\">\"0\"</span><span class=\"k\">,</span>","                        src<span class=\"k\">:</span><span class=\"s\">'javascript:void(function(){document.open();document.domain=\"'</span> <span class=\"k\">+</span> document<span class=\"k\">.</span>domain <span class=\"k\">+</span> <span class=\"s\">'\";'</span> <span class=\"k\">+</span>","                            <span class=\"s\">'document.write(\"'</span> <span class=\"k\">+</span> html <span class=\"k\">+</span> <span class=\"s\">'\");document.close();}())'</span>","                    <span class=\"k\">}</span><span class=\"k\">));</span>","                <span class=\"k\">}</span> <span class=\"k\">else</span> <span class=\"k\">{</span>","                    container<span class=\"k\">.</span>innerHTML <span class=\"k\">=</span> <span class=\"s\">'&lt;iframe id=\"'</span> <span class=\"k\">+</span> <span class=\"s\">'baidu_editor_'</span> <span class=\"k\">+</span> <span class=\"k\">this</span><span class=\"k\">.</span>uid <span class=\"k\">+</span> <span class=\"s\">'\"'</span> <span class=\"k\">+</span> <span class=\"s\">'width=\"100%\" height=\"100%\" scroll=\"no\" frameborder=\"0\" &gt;&lt;/iframe&gt;'</span><span class=\"k\">;</span>","                    <span class=\"k\">var</span> doc <span class=\"k\">=</span> container<span class=\"k\">.</span>firstChild<span class=\"k\">.</span>contentWindow<span class=\"k\">.</span>document<span class=\"k\">;</span>","                    <span class=\"c\">//&#21435;&#25481;&#20102;&#21407;&#26469;&#30340;&#21028;&#26029;!browser.webkit&#65292;&#22240;&#20026;&#20250;&#23548;&#33268;onload&#27880;&#20876;&#30340;&#20107;&#20214;&#19981;&#35302;&#21457;</span>","                    doc<span class=\"k\">.</span>open<span class=\"k\">();</span>","                    doc<span class=\"k\">.</span>write<span class=\"k\">(</span>html <span class=\"k\">+</span> <span class=\"s\">'&lt;/html&gt;'</span><span class=\"k\">);</span>","                    doc<span class=\"k\">.</span>close<span class=\"k\">();</span>","                    me<span class=\"k\">.</span>_setup<span class=\"k\">(</span>doc<span class=\"k\">);</span>","                <span class=\"k\">}</span>","                container<span class=\"k\">.</span>style<span class=\"k\">.</span>overflow <span class=\"k\">=</span> <span class=\"s\">'hidden'</span><span class=\"k\">;</span>","            <span class=\"k\">}</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        <span class=\"c\">/**</span>","<span class=\"c\">         * &#32534;&#36753;&#22120;&#21021;&#22987;&#21270;</span>","<span class=\"c\">         * @private</span>","<span class=\"c\">         * @ignore</span>","<span class=\"c\">         * @param {Element} doc &#32534;&#36753;&#22120;Iframe&#20013;&#30340;&#25991;&#26723;&#23545;&#35937;</span>","<span class=\"c\">         */</span>","        _setup<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">(</span>doc<span class=\"k\">)</span> <span class=\"k\">{</span>","","            <span class=\"k\">var</span> me <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">,</span>","                options <span class=\"k\">=</span> me<span class=\"k\">.</span>options<span class=\"k\">;</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span>ie<span class=\"k\">)</span> <span class=\"k\">{</span>","                doc<span class=\"k\">.</span>body<span class=\"k\">.</span>disabled <span class=\"k\">=</span> <span class=\"k\">true</span><span class=\"k\">;</span>","                doc<span class=\"k\">.</span>body<span class=\"k\">.</span>contentEditable <span class=\"k\">=</span> <span class=\"k\">true</span><span class=\"k\">;</span>","                doc<span class=\"k\">.</span>body<span class=\"k\">.</span>disabled <span class=\"k\">=</span> <span class=\"k\">false</span><span class=\"k\">;</span>","            <span class=\"k\">}</span> <span class=\"k\">else</span> <span class=\"k\">{</span>","                doc<span class=\"k\">.</span>body<span class=\"k\">.</span>contentEditable <span class=\"k\">=</span> <span class=\"k\">true</span><span class=\"k\">;</span>","                doc<span class=\"k\">.</span>body<span class=\"k\">.</span>spellcheck <span class=\"k\">=</span> <span class=\"k\">false</span><span class=\"k\">;</span>","            <span class=\"k\">}</span>","            me<span class=\"k\">.</span>document <span class=\"k\">=</span> doc<span class=\"k\">;</span>","            me<span class=\"k\">.</span>window <span class=\"k\">=</span> doc<span class=\"k\">.</span>defaultView <span class=\"k\">||</span> doc<span class=\"k\">.</span>parentWindow<span class=\"k\">;</span>","            me<span class=\"k\">.</span>iframe <span class=\"k\">=</span> me<span class=\"k\">.</span>window<span class=\"k\">.</span>frameElement<span class=\"k\">;</span>","            me<span class=\"k\">.</span>body <span class=\"k\">=</span> doc<span class=\"k\">.</span>body<span class=\"k\">;</span>","            <span class=\"c\">//&#35774;&#32622;&#32534;&#36753;&#22120;&#26368;&#23567;&#39640;&#24230;</span>","            me<span class=\"k\">.</span>setHeight<span class=\"k\">(</span>Math<span class=\"k\">.</span>max<span class=\"k\">(</span>options<span class=\"k\">.</span>minFrameHeight<span class=\"k\">,</span> options<span class=\"k\">.</span>initialFrameHeight<span class=\"k\">));</span>","            me<span class=\"k\">.</span>selection <span class=\"k\">=</span> <span class=\"k\">new</span> dom<span class=\"k\">.</span>Selection<span class=\"k\">(</span>doc<span class=\"k\">);</span>","            <span class=\"c\">//gecko&#21021;&#22987;&#21270;&#23601;&#33021;&#24471;&#21040;range,&#26080;&#27861;&#21028;&#26029;isFocus&#20102;</span>","            <span class=\"k\">var</span> geckoSel<span class=\"k\">;</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span>browser<span class=\"k\">.</span>gecko <span class=\"k\">&amp;&amp;</span> <span class=\"k\">(</span>geckoSel <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>selection<span class=\"k\">.</span>getNative<span class=\"k\">()))</span> <span class=\"k\">{</span>","                geckoSel<span class=\"k\">.</span>removeAllRanges<span class=\"k\">();</span>","            <span class=\"k\">}</span>","            <span class=\"k\">this</span><span class=\"k\">.</span>_initEvents<span class=\"k\">();</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span>options<span class=\"k\">.</span>initialContent<span class=\"k\">)</span> <span class=\"k\">{</span>","                <span class=\"k\">if</span> <span class=\"k\">(</span>options<span class=\"k\">.</span>autoClearinitialContent<span class=\"k\">)</span> <span class=\"k\">{</span>","                    <span class=\"k\">var</span> oldExecCommand <span class=\"k\">=</span> me<span class=\"k\">.</span>execCommand<span class=\"k\">;</span>","                    me<span class=\"k\">.</span>execCommand <span class=\"k\">=</span> <span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","                        me<span class=\"k\">.</span>fireEvent<span class=\"k\">(</span><span class=\"s\">'firstBeforeExecCommand'</span><span class=\"k\">);</span>","                        <span class=\"k\">return</span> oldExecCommand<span class=\"k\">.</span>apply<span class=\"k\">(</span>me<span class=\"k\">,</span> arguments<span class=\"k\">);</span>","                    <span class=\"k\">}</span><span class=\"k\">;</span>","                    <span class=\"k\">this</span><span class=\"k\">.</span>_setDefaultContent<span class=\"k\">(</span>options<span class=\"k\">.</span>initialContent<span class=\"k\">);</span>","                <span class=\"k\">}</span> <span class=\"k\">else</span>","                    <span class=\"k\">this</span><span class=\"k\">.</span>setContent<span class=\"k\">(</span>options<span class=\"k\">.</span>initialContent<span class=\"k\">,</span> <span class=\"k\">false</span><span class=\"k\">,</span> <span class=\"k\">true</span><span class=\"k\">);</span>","            <span class=\"k\">}</span>","            <span class=\"c\">//&#20026;form&#25552;&#20132;&#25552;&#20379;&#19968;&#20010;&#38544;&#34255;&#30340;textarea</span>","            <span class=\"k\">for</span> <span class=\"k\">(</span><span class=\"k\">var</span> form <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>iframe<span class=\"k\">.</span>parentNode<span class=\"k\">;</span> <span class=\"k\">!</span>domUtils<span class=\"k\">.</span>isBody<span class=\"k\">(</span>form<span class=\"k\">);</span> form <span class=\"k\">=</span> form<span class=\"k\">.</span>parentNode<span class=\"k\">)</span> <span class=\"k\">{</span>","                <span class=\"k\">if</span> <span class=\"k\">(</span>form<span class=\"k\">.</span>tagName <span class=\"k\">==</span> <span class=\"s\">'FORM'</span><span class=\"k\">)</span> <span class=\"k\">{</span>","                    domUtils<span class=\"k\">.</span>on<span class=\"k\">(</span>form<span class=\"k\">,</span> <span class=\"s\">'submit'</span><span class=\"k\">,</span> <span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","                        setValue<span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">,</span> me<span class=\"k\">);</span>","                    <span class=\"k\">}</span><span class=\"k\">);</span>","                    <span class=\"k\">break</span><span class=\"k\">;</span>","                <span class=\"k\">}</span>","            <span class=\"k\">}</span>","            <span class=\"c\">//&#32534;&#36753;&#22120;&#19981;&#33021;&#20026;&#31354;&#20869;&#23481;</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span>domUtils<span class=\"k\">.</span>isEmptyNode<span class=\"k\">(</span>me<span class=\"k\">.</span>body<span class=\"k\">))</span> <span class=\"k\">{</span>","                me<span class=\"k\">.</span>body<span class=\"k\">.</span>innerHTML <span class=\"k\">=</span> <span class=\"s\">'&lt;p&gt;'</span> <span class=\"k\">+</span> <span class=\"k\">(</span>browser<span class=\"k\">.</span>ie <span class=\"k\">?</span> <span class=\"s\">''</span> <span class=\"k\">:</span> <span class=\"s\">'&lt;br/&gt;'</span><span class=\"k\">)</span> <span class=\"k\">+</span> <span class=\"s\">'&lt;/p&gt;'</span><span class=\"k\">;</span>","            <span class=\"k\">}</span>","            <span class=\"c\">//&#22914;&#26524;&#35201;&#27714;focus, &#23601;&#25226;&#20809;&#26631;&#23450;&#20301;&#21040;&#20869;&#23481;&#24320;&#22987;</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span>options<span class=\"k\">.</span>focus<span class=\"k\">)</span> <span class=\"k\">{</span>","                setTimeout<span class=\"k\">(</span><span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","                    me<span class=\"k\">.</span>focus<span class=\"k\">(</span>me<span class=\"k\">.</span>options<span class=\"k\">.</span>focusInEnd<span class=\"k\">);</span>","                    <span class=\"c\">//&#22914;&#26524;&#33258;&#21160;&#28165;&#38500;&#24320;&#30528;&#65292;&#23601;&#19981;&#38656;&#35201;&#20570;selectionchange;</span>","                    <span class=\"k\">!</span>me<span class=\"k\">.</span>options<span class=\"k\">.</span>autoClearinitialContent <span class=\"k\">&amp;&amp;</span> me<span class=\"k\">.</span>_selectionChange<span class=\"k\">();</span>","                <span class=\"k\">}</span><span class=\"k\">,</span> <span class=\"s\">0</span><span class=\"k\">);</span>","            <span class=\"k\">}</span>","            <span class=\"k\">if</span> <span class=\"k\">(!</span>me<span class=\"k\">.</span>container<span class=\"k\">)</span> <span class=\"k\">{</span>","                me<span class=\"k\">.</span>container <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>iframe<span class=\"k\">.</span>parentNode<span class=\"k\">;</span>","            <span class=\"k\">}</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span>options<span class=\"k\">.</span>fullscreen <span class=\"k\">&amp;&amp;</span> me<span class=\"k\">.</span>ui<span class=\"k\">)</span> <span class=\"k\">{</span>","                me<span class=\"k\">.</span>ui<span class=\"k\">.</span>setFullScreen<span class=\"k\">(</span><span class=\"k\">true</span><span class=\"k\">);</span>","            <span class=\"k\">}</span>","","            <span class=\"k\">try</span> <span class=\"k\">{</span>","                me<span class=\"k\">.</span>document<span class=\"k\">.</span>execCommand<span class=\"k\">(</span><span class=\"s\">'2D-position'</span><span class=\"k\">,</span> <span class=\"k\">false</span><span class=\"k\">,</span> <span class=\"k\">false</span><span class=\"k\">);</span>","            <span class=\"k\">}</span> <span class=\"k\">catch</span> <span class=\"k\">(</span>e<span class=\"k\">)</span> <span class=\"k\">{</span>","            <span class=\"k\">}</span>","            <span class=\"k\">try</span> <span class=\"k\">{</span>","                me<span class=\"k\">.</span>document<span class=\"k\">.</span>execCommand<span class=\"k\">(</span><span class=\"s\">'enableInlineTableEditing'</span><span class=\"k\">,</span> <span class=\"k\">false</span><span class=\"k\">,</span> <span class=\"k\">false</span><span class=\"k\">);</span>","            <span class=\"k\">}</span> <span class=\"k\">catch</span> <span class=\"k\">(</span>e<span class=\"k\">)</span> <span class=\"k\">{</span>","            <span class=\"k\">}</span>","            <span class=\"k\">try</span> <span class=\"k\">{</span>","                me<span class=\"k\">.</span>document<span class=\"k\">.</span>execCommand<span class=\"k\">(</span><span class=\"s\">'enableObjectResizing'</span><span class=\"k\">,</span> <span class=\"k\">false</span><span class=\"k\">,</span> <span class=\"k\">false</span><span class=\"k\">);</span>","            <span class=\"k\">}</span> <span class=\"k\">catch</span> <span class=\"k\">(</span>e<span class=\"k\">)</span> <span class=\"k\">{</span>","<span class=\"c\">//                domUtils.on(me.body,browser.ie ? 'resizestart' : 'resize', function( evt ) {</span>","<span class=\"c\">//                    domUtils.preventDefault(evt)</span>","<span class=\"c\">//                });</span>","            <span class=\"k\">}</span>","            me<span class=\"k\">.</span>_bindshortcutKeys<span class=\"k\">();</span>","            me<span class=\"k\">.</span>isReady <span class=\"k\">=</span> <span class=\"s\">1</span><span class=\"k\">;</span>","            me<span class=\"k\">.</span>fireEvent<span class=\"k\">(</span><span class=\"s\">'ready'</span><span class=\"k\">);</span>","            options<span class=\"k\">.</span>onready <span class=\"k\">&amp;&amp;</span> options<span class=\"k\">.</span>onready<span class=\"k\">.</span>call<span class=\"k\">(</span>me<span class=\"k\">);</span>","            <span class=\"k\">if</span> <span class=\"k\">(!</span>browser<span class=\"k\">.</span>ie<span class=\"k\">)</span> <span class=\"k\">{</span>","                domUtils<span class=\"k\">.</span>on<span class=\"k\">(</span>me<span class=\"k\">.</span>window<span class=\"k\">,</span> <span class=\"k\">[</span><span class=\"s\">'blur'</span><span class=\"k\">,</span> <span class=\"s\">'focus'</span><span class=\"k\">],</span> <span class=\"k\">function</span> <span class=\"k\">(</span>e<span class=\"k\">)</span> <span class=\"k\">{</span>","                    <span class=\"c\">//chrome&#19979;&#20250;&#20986;&#29616;alt+tab&#20999;&#25442;&#26102;&#65292;&#23548;&#33268;&#36873;&#21306;&#20301;&#32622;&#19981;&#23545;</span>","                    <span class=\"k\">if</span> <span class=\"k\">(</span>e<span class=\"k\">.</span>type <span class=\"k\">==</span> <span class=\"s\">'blur'</span><span class=\"k\">)</span> <span class=\"k\">{</span>","                        me<span class=\"k\">.</span>_bakRange <span class=\"k\">=</span> me<span class=\"k\">.</span>selection<span class=\"k\">.</span>getRange<span class=\"k\">();</span>","                        <span class=\"k\">try</span> <span class=\"k\">{</span>","                            me<span class=\"k\">.</span>selection<span class=\"k\">.</span>getNative<span class=\"k\">().</span>removeAllRanges<span class=\"k\">();</span>","                        <span class=\"k\">}</span> <span class=\"k\">catch</span> <span class=\"k\">(</span>e<span class=\"k\">)</span> <span class=\"k\">{</span>","                        <span class=\"k\">}</span>","","                    <span class=\"k\">}</span> <span class=\"k\">else</span> <span class=\"k\">{</span>","                        <span class=\"k\">try</span> <span class=\"k\">{</span>","                            me<span class=\"k\">.</span>_bakRange <span class=\"k\">&amp;&amp;</span> me<span class=\"k\">.</span>_bakRange<span class=\"k\">.</span>select<span class=\"k\">();</span>","                        <span class=\"k\">}</span> <span class=\"k\">catch</span> <span class=\"k\">(</span>e<span class=\"k\">)</span> <span class=\"k\">{</span>","                        <span class=\"k\">}</span>","                    <span class=\"k\">}</span>","                <span class=\"k\">}</span><span class=\"k\">);</span>","            <span class=\"k\">}</span>","            <span class=\"c\">//trace:1518 ff3.6body&#19981;&#22815;&#23515;&#65292;&#20250;&#23548;&#33268;&#28857;&#20987;&#31354;&#30333;&#22788;&#26080;&#27861;&#33719;&#24471;&#28966;&#28857;</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span>browser<span class=\"k\">.</span>gecko <span class=\"k\">&amp;&amp;</span> browser<span class=\"k\">.</span>version <span class=\"k\">&lt;=</span> <span class=\"s\">10902</span><span class=\"k\">)</span> <span class=\"k\">{</span>","                <span class=\"c\">//&#20462;&#22797;ff3.6&#21021;&#22987;&#21270;&#36827;&#26469;&#65292;&#19981;&#33021;&#28857;&#20987;&#33719;&#24471;&#28966;&#28857;</span>","                me<span class=\"k\">.</span>body<span class=\"k\">.</span>contentEditable <span class=\"k\">=</span> <span class=\"k\">false</span><span class=\"k\">;</span>","                setTimeout<span class=\"k\">(</span><span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","                    me<span class=\"k\">.</span>body<span class=\"k\">.</span>contentEditable <span class=\"k\">=</span> <span class=\"k\">true</span><span class=\"k\">;</span>","                <span class=\"k\">}</span><span class=\"k\">,</span> <span class=\"s\">100</span><span class=\"k\">);</span>","                setInterval<span class=\"k\">(</span><span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","                    me<span class=\"k\">.</span>body<span class=\"k\">.</span>style<span class=\"k\">.</span>height <span class=\"k\">=</span> me<span class=\"k\">.</span>iframe<span class=\"k\">.</span>offsetHeight <span class=\"k\">-</span> <span class=\"s\">20</span> <span class=\"k\">+</span> <span class=\"s\">'px'</span>","                <span class=\"k\">}</span><span class=\"k\">,</span> <span class=\"s\">100</span><span class=\"k\">)</span>","            <span class=\"k\">}</span>","            <span class=\"k\">!</span>options<span class=\"k\">.</span>isShow <span class=\"k\">&amp;&amp;</span> me<span class=\"k\">.</span>setHide<span class=\"k\">();</span>","            options<span class=\"k\">.</span>readonly <span class=\"k\">&amp;&amp;</span> me<span class=\"k\">.</span>setDisabled<span class=\"k\">();</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        <span class=\"c\">/**</span>","<span class=\"c\">         * &#21516;&#27493;&#32534;&#36753;&#22120;&#30340;&#25968;&#25454;&#65292;&#20026;&#25552;&#20132;&#25968;&#25454;&#20570;&#20934;&#22791;&#65292;&#20027;&#35201;&#29992;&#20110;&#20320;&#26159;&#25163;&#21160;&#25552;&#20132;&#30340;&#24773;&#20917;</span>","<span class=\"c\">         * @name sync</span>","<span class=\"c\">         * @grammar editor.sync(); //&#20174;&#32534;&#36753;&#22120;&#30340;&#23481;&#22120;&#21521;&#19978;&#26597;&#25214;&#65292;&#22914;&#26524;&#25214;&#21040;&#23601;&#21516;&#27493;&#25968;&#25454;</span>","<span class=\"c\">         * @grammar editor.sync(formID); //formID&#21046;&#23450;&#19968;&#20010;&#35201;&#21516;&#27493;&#25968;&#25454;&#30340;form&#30340;id,&#32534;&#36753;&#22120;&#30340;&#25968;&#25454;&#20250;&#21516;&#27493;&#21040;&#20320;&#25351;&#23450;form&#19979;</span>","<span class=\"c\">         * @desc</span>","<span class=\"c\">         * &#21518;&#21488;&#21462;&#24471;&#25968;&#25454;&#24471;&#38190;&#20540;&#20351;&#29992;&#20320;&#23481;&#22120;&#19978;&#24471;''name''&#23646;&#24615;&#65292;&#22914;&#26524;&#27809;&#26377;&#23601;&#20351;&#29992;&#21442;&#25968;&#20256;&#20837;&#30340;''textarea''</span>","<span class=\"c\">         * @example</span>","<span class=\"c\">         * editor.sync();</span>","<span class=\"c\">         * form.sumbit(); //form&#21464;&#37327;&#24050;&#32463;&#25351;&#21521;&#20102;form&#20803;&#32032;</span>","<span class=\"c\">         *</span>","<span class=\"c\">         */</span>","        sync<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">(</span>formId<span class=\"k\">)</span> <span class=\"k\">{</span>","            <span class=\"k\">var</span> me <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">,</span>","                form <span class=\"k\">=</span> formId <span class=\"k\">?</span> document<span class=\"k\">.</span>getElementById<span class=\"k\">(</span>formId<span class=\"k\">)</span> <span class=\"k\">:</span>","                    domUtils<span class=\"k\">.</span>findParent<span class=\"k\">(</span>me<span class=\"k\">.</span>iframe<span class=\"k\">.</span>parentNode<span class=\"k\">,</span> <span class=\"k\">function</span> <span class=\"k\">(</span>node<span class=\"k\">)</span> <span class=\"k\">{</span>","                        <span class=\"k\">return</span> node<span class=\"k\">.</span>tagName <span class=\"k\">==</span> <span class=\"s\">'FORM'</span>","                    <span class=\"k\">}</span><span class=\"k\">,</span> <span class=\"k\">true</span><span class=\"k\">);</span>","            form <span class=\"k\">&amp;&amp;</span> setValue<span class=\"k\">(</span>form<span class=\"k\">,</span> me<span class=\"k\">);</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        <span class=\"c\">/**</span>","<span class=\"c\">         * &#35774;&#32622;&#32534;&#36753;&#22120;&#39640;&#24230;</span>","<span class=\"c\">         * @name setHeight</span>","<span class=\"c\">         * @grammar editor.setHeight(number);  //&#32431;&#25968;&#20540;&#65292;&#19981;&#24102;&#21333;&#20301;</span>","<span class=\"c\">         */</span>","        setHeight<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">(</span>height<span class=\"k\">)</span> <span class=\"k\">{</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span>height <span class=\"k\">!==</span> parseInt<span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>iframe<span class=\"k\">.</span>parentNode<span class=\"k\">.</span>style<span class=\"k\">.</span>height<span class=\"k\">))</span> <span class=\"k\">{</span>","                <span class=\"k\">this</span><span class=\"k\">.</span>iframe<span class=\"k\">.</span>parentNode<span class=\"k\">.</span>style<span class=\"k\">.</span>height <span class=\"k\">=</span> height <span class=\"k\">+</span> <span class=\"s\">'px'</span><span class=\"k\">;</span>","            <span class=\"k\">}</span>","            <span class=\"k\">this</span><span class=\"k\">.</span>document<span class=\"k\">.</span>body<span class=\"k\">.</span>style<span class=\"k\">.</span>height <span class=\"k\">=</span> height <span class=\"k\">-</span> <span class=\"s\">20</span> <span class=\"k\">+</span> <span class=\"s\">'px'</span><span class=\"k\">;</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","","        addshortcutkey<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">(</span>cmd<span class=\"k\">,</span> keys<span class=\"k\">)</span> <span class=\"k\">{</span>","            <span class=\"k\">var</span> obj <span class=\"k\">=</span> <span class=\"k\">{}</span><span class=\"k\">;</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span>keys<span class=\"k\">)</span> <span class=\"k\">{</span>","                obj<span class=\"k\">[</span>cmd<span class=\"k\">]</span> <span class=\"k\">=</span> keys","            <span class=\"k\">}</span> <span class=\"k\">else</span> <span class=\"k\">{</span>","                obj <span class=\"k\">=</span> cmd<span class=\"k\">;</span>","            <span class=\"k\">}</span>","            utils<span class=\"k\">.</span>extend<span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>shortcutkeys<span class=\"k\">,</span> obj<span class=\"k\">)</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        _bindshortcutKeys<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","            <span class=\"k\">var</span> me <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">,</span> shortcutkeys <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>shortcutkeys<span class=\"k\">;</span>","            me<span class=\"k\">.</span>addListener<span class=\"k\">(</span><span class=\"s\">'keydown'</span><span class=\"k\">,</span> <span class=\"k\">function</span> <span class=\"k\">(</span>type<span class=\"k\">,</span> e<span class=\"k\">)</span> <span class=\"k\">{</span>","                <span class=\"k\">var</span> keyCode <span class=\"k\">=</span> e<span class=\"k\">.</span>keyCode <span class=\"k\">||</span> e<span class=\"k\">.</span>which<span class=\"k\">;</span>","                <span class=\"k\">for</span> <span class=\"k\">(</span><span class=\"k\">var</span> i <span class=\"k\">in</span> shortcutkeys<span class=\"k\">)</span> <span class=\"k\">{</span>","                    <span class=\"k\">var</span> tmp <span class=\"k\">=</span> shortcutkeys<span class=\"k\">[</span>i<span class=\"k\">].</span>split<span class=\"k\">(</span><span class=\"s\">','</span><span class=\"k\">);</span>","                    <span class=\"k\">for</span> <span class=\"k\">(</span><span class=\"k\">var</span> t <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">,</span> ti<span class=\"k\">;</span> ti <span class=\"k\">=</span> tmp<span class=\"k\">[</span>t<span class=\"k\">++];)</span> <span class=\"k\">{</span>","                        ti <span class=\"k\">=</span> ti<span class=\"k\">.</span>split<span class=\"k\">(</span><span class=\"s\">':'</span><span class=\"k\">);</span>","                        <span class=\"k\">var</span> key <span class=\"k\">=</span> ti<span class=\"k\">[</span><span class=\"s\">0</span><span class=\"k\">],</span> param <span class=\"k\">=</span> ti<span class=\"k\">[</span><span class=\"s\">1</span><span class=\"k\">];</span>","                        <span class=\"k\">if</span> <span class=\"k\">(</span><span class=\"s\">/^(ctrl)(\\+shift)?\\+(\\d+)$/</span><span class=\"k\">.</span>test<span class=\"k\">(</span>key<span class=\"k\">.</span>toLowerCase<span class=\"k\">())</span> <span class=\"k\">||</span> <span class=\"s\">/^(\\d+)$/</span><span class=\"k\">.</span>test<span class=\"k\">(</span>key<span class=\"k\">))</span> <span class=\"k\">{</span>","                            <span class=\"k\">if</span> <span class=\"k\">((</span> <span class=\"k\">(</span>RegExp<span class=\"k\">.</span>$1 <span class=\"k\">==</span> <span class=\"s\">'ctrl'</span> <span class=\"k\">?</span> <span class=\"k\">(</span>e<span class=\"k\">.</span>ctrlKey <span class=\"k\">||</span> e<span class=\"k\">.</span>metaKey<span class=\"k\">)</span> <span class=\"k\">:</span> <span class=\"s\">0</span><span class=\"k\">)</span>","                                <span class=\"k\">&amp;&amp;</span> <span class=\"k\">(</span>RegExp<span class=\"k\">.</span>$2 <span class=\"k\">!=</span> <span class=\"s\">\"\"</span> <span class=\"k\">?</span> e<span class=\"k\">[</span>RegExp<span class=\"k\">.</span>$2<span class=\"k\">.</span>slice<span class=\"k\">(</span><span class=\"s\">1</span><span class=\"k\">)</span> <span class=\"k\">+</span> <span class=\"s\">\"Key\"</span><span class=\"k\">]</span> <span class=\"k\">:</span> <span class=\"s\">1</span><span class=\"k\">)</span>","                                <span class=\"k\">&amp;&amp;</span> keyCode <span class=\"k\">==</span> RegExp<span class=\"k\">.</span>$3","                                <span class=\"k\">)</span> <span class=\"k\">||</span>","                                keyCode <span class=\"k\">==</span> RegExp<span class=\"k\">.</span>$1","                                <span class=\"k\">)</span> <span class=\"k\">{</span>","                                me<span class=\"k\">.</span>execCommand<span class=\"k\">(</span>i<span class=\"k\">,</span> param<span class=\"k\">);</span>","                                domUtils<span class=\"k\">.</span>preventDefault<span class=\"k\">(</span>e<span class=\"k\">);</span>","                            <span class=\"k\">}</span>","                        <span class=\"k\">}</span>","                    <span class=\"k\">}</span>","","                <span class=\"k\">}</span>","            <span class=\"k\">}</span><span class=\"k\">);</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        <span class=\"c\">/**</span>","<span class=\"c\">         * &#33719;&#21462;&#32534;&#36753;&#22120;&#20869;&#23481;</span>","<span class=\"c\">         * @name getContent</span>","<span class=\"c\">         * @grammar editor.getContent()  =&gt; String //&#33509;&#32534;&#36753;&#22120;&#20013;&#21482;&#21253;&#21547;&#23383;&#31526;\"&amp;lt;p&amp;gt;&amp;lt;br /&amp;gt;&amp;lt;/p/&amp;gt;\"&#20250;&#36820;&#22238;&#31354;&#12290;</span>","<span class=\"c\">         * @grammar editor.getContent(fn)  =&gt; String</span>","<span class=\"c\">         * @example</span>","<span class=\"c\">         * getContent&#40664;&#35748;&#26159;&#20250;&#29616;&#35843;&#29992;hasContents&#26469;&#21028;&#26029;&#32534;&#36753;&#22120;&#26159;&#21542;&#20026;&#31354;&#65292;&#22914;&#26524;&#26159;&#65292;&#23601;&#30452;&#25509;&#36820;&#22238;&#31354;&#23383;&#31526;&#20018;</span>","<span class=\"c\">         * &#20320;&#20063;&#21487;&#20197;&#20256;&#20837;&#19968;&#20010;fn&#26469;&#25509;&#26367;hasContents&#30340;&#24037;&#20316;&#65292;&#23450;&#21046;&#21028;&#26029;&#30340;&#35268;&#21017;</span>","<span class=\"c\">         * editor.getContent(function(){</span>","<span class=\"c\">         *     return false //&#32534;&#36753;&#22120;&#27809;&#26377;&#20869;&#23481; &#65292;getContent&#30452;&#25509;&#36820;&#22238;&#31354;</span>","<span class=\"c\">         * })</span>","<span class=\"c\">         */</span>","        getContent<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">(</span>cmd<span class=\"k\">,</span>fn<span class=\"k\">)</span> <span class=\"k\">{</span>","            <span class=\"k\">var</span> me <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">;</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span>cmd <span class=\"k\">&amp;&amp;</span> utils<span class=\"k\">.</span>isFunction<span class=\"k\">(</span>cmd<span class=\"k\">))</span> <span class=\"k\">{</span>","                fn <span class=\"k\">=</span> cmd<span class=\"k\">;</span>","                cmd <span class=\"k\">=</span> <span class=\"s\">''</span><span class=\"k\">;</span>","            <span class=\"k\">}</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span>fn <span class=\"k\">?</span> <span class=\"k\">!</span>fn<span class=\"k\">()</span> <span class=\"k\">:</span> <span class=\"k\">!</span><span class=\"k\">this</span><span class=\"k\">.</span>hasContents<span class=\"k\">())</span> <span class=\"k\">{</span>","                <span class=\"k\">return</span> <span class=\"s\">''</span><span class=\"k\">;</span>","            <span class=\"k\">}</span>","            <span class=\"k\">var</span> range <span class=\"k\">=</span> me<span class=\"k\">.</span>selection<span class=\"k\">.</span>getRange<span class=\"k\">(),</span>","                address <span class=\"k\">=</span> range<span class=\"k\">.</span>createAddress<span class=\"k\">();</span>","","            me<span class=\"k\">.</span>fireEvent<span class=\"k\">(</span> <span class=\"s\">'beforegetcontent'</span><span class=\"k\">);</span>","            <span class=\"k\">var</span> root <span class=\"k\">=</span> UE<span class=\"k\">.</span>htmlparser<span class=\"k\">(</span>me<span class=\"k\">.</span>body<span class=\"k\">.</span>innerHTML<span class=\"k\">);</span>","            me<span class=\"k\">.</span>filterOutputRule<span class=\"k\">(</span>root<span class=\"k\">);</span>","            me<span class=\"k\">.</span>fireEvent<span class=\"k\">(</span> <span class=\"s\">'aftergetcontent'</span><span class=\"k\">,</span> cmd <span class=\"k\">);</span>","","            <span class=\"k\">try</span><span class=\"k\">{</span>","                range<span class=\"k\">.</span>moveToAddress<span class=\"k\">(</span>address<span class=\"k\">).</span>select<span class=\"k\">(</span><span class=\"k\">true</span><span class=\"k\">);</span>","            <span class=\"k\">}</span><span class=\"k\">catch</span><span class=\"k\">(</span>e<span class=\"k\">)</span><span class=\"k\">{}</span>","","            <span class=\"k\">return</span>  root<span class=\"k\">.</span>toHtml<span class=\"k\">();</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        <span class=\"c\">/**</span>","<span class=\"c\">         * &#21462;&#24471;&#23436;&#25972;&#30340;html&#20195;&#30721;&#65292;&#21487;&#20197;&#30452;&#25509;&#26174;&#31034;&#25104;&#23436;&#25972;&#30340;html&#25991;&#26723;</span>","<span class=\"c\">         * @name getAllHtml</span>","<span class=\"c\">         * @grammar editor.getAllHtml()  =&gt; String</span>","<span class=\"c\">         */</span>","        getAllHtml<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","            <span class=\"k\">var</span> me <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">,</span>","                headHtml <span class=\"k\">=</span> <span class=\"k\">[],</span>","                html <span class=\"k\">=</span> <span class=\"s\">''</span><span class=\"k\">;</span>","            me<span class=\"k\">.</span>fireEvent<span class=\"k\">(</span><span class=\"s\">'getAllHtml'</span><span class=\"k\">,</span> headHtml<span class=\"k\">);</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span>browser<span class=\"k\">.</span>ie <span class=\"k\">&amp;&amp;</span> browser<span class=\"k\">.</span>version <span class=\"k\">&gt;</span> <span class=\"s\">8</span><span class=\"k\">)</span> <span class=\"k\">{</span>","                <span class=\"k\">var</span> headHtmlForIE9 <span class=\"k\">=</span> <span class=\"s\">''</span><span class=\"k\">;</span>","                utils<span class=\"k\">.</span>each<span class=\"k\">(</span>me<span class=\"k\">.</span>document<span class=\"k\">.</span>styleSheets<span class=\"k\">,</span> <span class=\"k\">function</span> <span class=\"k\">(</span>si<span class=\"k\">)</span> <span class=\"k\">{</span>","                    headHtmlForIE9 <span class=\"k\">+=</span> <span class=\"k\">(</span> si<span class=\"k\">.</span>href <span class=\"k\">?</span> <span class=\"s\">'&lt;link rel=\"stylesheet\" type=\"text/css\" href=\"'</span> <span class=\"k\">+</span> si<span class=\"k\">.</span>href <span class=\"k\">+</span> <span class=\"s\">'\" /&gt;'</span> <span class=\"k\">:</span> <span class=\"s\">'&lt;style&gt;'</span> <span class=\"k\">+</span> si<span class=\"k\">.</span>cssText <span class=\"k\">+</span> <span class=\"s\">'&lt;/style&gt;'</span><span class=\"k\">);</span>","                <span class=\"k\">}</span><span class=\"k\">);</span>","                utils<span class=\"k\">.</span>each<span class=\"k\">(</span>me<span class=\"k\">.</span>document<span class=\"k\">.</span>getElementsByTagName<span class=\"k\">(</span><span class=\"s\">'script'</span><span class=\"k\">),</span> <span class=\"k\">function</span> <span class=\"k\">(</span>si<span class=\"k\">)</span> <span class=\"k\">{</span>","                    headHtmlForIE9 <span class=\"k\">+=</span> si<span class=\"k\">.</span>outerHTML<span class=\"k\">;</span>","                <span class=\"k\">}</span><span class=\"k\">);</span>","","            <span class=\"k\">}</span>","            <span class=\"k\">return</span> <span class=\"s\">'&lt;html&gt;&lt;head&gt;'</span> <span class=\"k\">+</span> <span class=\"k\">(</span>me<span class=\"k\">.</span>options<span class=\"k\">.</span>charset <span class=\"k\">?</span> <span class=\"s\">'&lt;meta http-equiv=\"Content-Type\" content=\"text/html; charset='</span> <span class=\"k\">+</span> me<span class=\"k\">.</span>options<span class=\"k\">.</span>charset <span class=\"k\">+</span> <span class=\"s\">'\"/&gt;'</span> <span class=\"k\">:</span> <span class=\"s\">''</span><span class=\"k\">)</span>","                <span class=\"k\">+</span> <span class=\"k\">(</span>headHtmlForIE9 <span class=\"k\">||</span> me<span class=\"k\">.</span>document<span class=\"k\">.</span>getElementsByTagName<span class=\"k\">(</span><span class=\"s\">'head'</span><span class=\"k\">)[</span><span class=\"s\">0</span><span class=\"k\">].</span>innerHTML<span class=\"k\">)</span> <span class=\"k\">+</span> headHtml<span class=\"k\">.</span>join<span class=\"k\">(</span><span class=\"s\">'</span><span class=\"t\">\\n</span><span class=\"s\">'</span><span class=\"k\">)</span> <span class=\"k\">+</span> <span class=\"s\">'&lt;/head&gt;'</span>","                <span class=\"k\">+</span> <span class=\"s\">'&lt;body '</span> <span class=\"k\">+</span> <span class=\"k\">(</span>ie <span class=\"k\">&amp;&amp;</span> browser<span class=\"k\">.</span>version <span class=\"k\">&lt;</span> <span class=\"s\">9</span> <span class=\"k\">?</span> <span class=\"s\">'class=\"view\"'</span> <span class=\"k\">:</span> <span class=\"s\">''</span><span class=\"k\">)</span> <span class=\"k\">+</span> <span class=\"s\">'&gt;'</span> <span class=\"k\">+</span> me<span class=\"k\">.</span>getContent<span class=\"k\">(</span><span class=\"k\">null</span><span class=\"k\">,</span> <span class=\"k\">null</span><span class=\"k\">,</span> <span class=\"k\">true</span><span class=\"k\">)</span> <span class=\"k\">+</span> <span class=\"s\">'&lt;/body&gt;&lt;/html&gt;'</span><span class=\"k\">;</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        <span class=\"c\">/**</span>","<span class=\"c\">         * &#24471;&#21040;&#32534;&#36753;&#22120;&#30340;&#32431;&#25991;&#26412;&#20869;&#23481;&#65292;&#20294;&#20250;&#20445;&#30041;&#27573;&#33853;&#26684;&#24335;</span>","<span class=\"c\">         * @name getPlainTxt</span>","<span class=\"c\">         * @grammar editor.getPlainTxt()  =&gt; String</span>","<span class=\"c\">         */</span>","        getPlainTxt<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","            <span class=\"k\">var</span> reg <span class=\"k\">=</span> <span class=\"k\">new</span> RegExp<span class=\"k\">(</span>domUtils<span class=\"k\">.</span>fillChar<span class=\"k\">,</span> <span class=\"s\">'g'</span><span class=\"k\">),</span>","                html <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>body<span class=\"k\">.</span>innerHTML<span class=\"k\">.</span>replace<span class=\"k\">(</span><span class=\"s\">/[\\n\\r]/g</span><span class=\"k\">,</span> <span class=\"s\">''</span><span class=\"k\">);</span><span class=\"c\">//ie&#35201;&#20808;&#21435;&#20102;\\n&#22312;&#22788;&#29702;</span>","            html <span class=\"k\">=</span> html<span class=\"k\">.</span>replace<span class=\"k\">(</span><span class=\"s\">/&lt;(p|div)[^&gt;]*&gt;(&lt;br\\/?&gt;|&amp;nbsp;)&lt;\\/\\1&gt;/gi</span><span class=\"k\">,</span> <span class=\"s\">'</span><span class=\"t\">\\n</span><span class=\"s\">'</span><span class=\"k\">)</span>","                <span class=\"k\">.</span>replace<span class=\"k\">(</span><span class=\"s\">/&lt;br\\/?&gt;/gi</span><span class=\"k\">,</span> <span class=\"s\">'</span><span class=\"t\">\\n</span><span class=\"s\">'</span><span class=\"k\">)</span>","                <span class=\"k\">.</span>replace<span class=\"k\">(</span><span class=\"s\">/&lt;[^&gt;/]+&gt;/g</span><span class=\"k\">,</span> <span class=\"s\">''</span><span class=\"k\">)</span>","                <span class=\"k\">.</span>replace<span class=\"k\">(</span><span class=\"s\">/(\\n)?&lt;\\/([^&gt;]+)&gt;/g</span><span class=\"k\">,</span> <span class=\"k\">function</span> <span class=\"k\">(</span>a<span class=\"k\">,</span> b<span class=\"k\">,</span> c<span class=\"k\">)</span> <span class=\"k\">{</span>","                    <span class=\"k\">return</span> dtd<span class=\"k\">.</span>$block<span class=\"k\">[</span>c<span class=\"k\">]</span> <span class=\"k\">?</span> <span class=\"s\">'</span><span class=\"t\">\\n</span><span class=\"s\">'</span> <span class=\"k\">:</span> b <span class=\"k\">?</span> b <span class=\"k\">:</span> <span class=\"s\">''</span><span class=\"k\">;</span>","                <span class=\"k\">}</span><span class=\"k\">);</span>","            <span class=\"c\">//&#21462;&#20986;&#26469;&#30340;&#31354;&#26684;&#20250;&#26377;c2a0&#20250;&#21464;&#25104;&#20081;&#30721;&#65292;&#22788;&#29702;&#36825;&#31181;&#24773;&#20917;\\u00a0</span>","            <span class=\"k\">return</span> html<span class=\"k\">.</span>replace<span class=\"k\">(</span>reg<span class=\"k\">,</span> <span class=\"s\">''</span><span class=\"k\">).</span>replace<span class=\"k\">(</span><span class=\"s\">/\\u00a0/g</span><span class=\"k\">,</span> <span class=\"s\">' '</span><span class=\"k\">).</span>replace<span class=\"k\">(</span><span class=\"s\">/&amp;nbsp;/g</span><span class=\"k\">,</span> <span class=\"s\">' '</span><span class=\"k\">);</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","","        <span class=\"c\">/**</span>","<span class=\"c\">         * &#33719;&#21462;&#32534;&#36753;&#22120;&#20013;&#30340;&#32431;&#25991;&#26412;&#20869;&#23481;,&#27809;&#26377;&#27573;&#33853;&#26684;&#24335;</span>","<span class=\"c\">         * @name getContentTxt</span>","<span class=\"c\">         * @grammar editor.getContentTxt()  =&gt; String</span>","<span class=\"c\">         */</span>","        getContentTxt<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","            <span class=\"k\">var</span> reg <span class=\"k\">=</span> <span class=\"k\">new</span> RegExp<span class=\"k\">(</span>domUtils<span class=\"k\">.</span>fillChar<span class=\"k\">,</span> <span class=\"s\">'g'</span><span class=\"k\">);</span>","            <span class=\"c\">//&#21462;&#20986;&#26469;&#30340;&#31354;&#26684;&#20250;&#26377;c2a0&#20250;&#21464;&#25104;&#20081;&#30721;&#65292;&#22788;&#29702;&#36825;&#31181;&#24773;&#20917;\\u00a0</span>","            <span class=\"k\">return</span> <span class=\"k\">this</span><span class=\"k\">.</span>body<span class=\"k\">[</span>browser<span class=\"k\">.</span>ie <span class=\"k\">?</span> <span class=\"s\">'innerText'</span> <span class=\"k\">:</span> <span class=\"s\">'textContent'</span><span class=\"k\">].</span>replace<span class=\"k\">(</span>reg<span class=\"k\">,</span> <span class=\"s\">''</span><span class=\"k\">).</span>replace<span class=\"k\">(</span><span class=\"s\">/\\u00a0/g</span><span class=\"k\">,</span> <span class=\"s\">' '</span><span class=\"k\">);</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","","        <span class=\"c\">/**</span>","<span class=\"c\">         * &#23558;html&#35774;&#32622;&#21040;&#32534;&#36753;&#22120;&#20013;, &#22914;&#26524;&#26159;&#29992;&#20110;&#21021;&#22987;&#21270;&#26102;&#32473;&#32534;&#36753;&#22120;&#36171;&#21021;&#20540;&#65292;&#21017;&#24517;&#39035;&#25918;&#22312;ready&#26041;&#27861;&#20869;&#37096;&#25191;&#34892;</span>","<span class=\"c\">         * @name setContent</span>","<span class=\"c\">         * @grammar editor.setContent(html)</span>","<span class=\"c\">         * @example</span>","<span class=\"c\">         * var editor = new UE.ui.Editor()</span>","<span class=\"c\">         * editor.ready(function(){</span>","<span class=\"c\">         *     //&#38656;&#35201;ready&#21518;&#25191;&#34892;&#65292;&#21542;&#21017;&#21487;&#33021;&#25253;&#38169;</span>","<span class=\"c\">         *     editor.setContent(\"&#27426;&#36814;&#20351;&#29992;UEditor&#65281;\");</span>","<span class=\"c\">         * })</span>","<span class=\"c\">         */</span>","        setContent<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">(</span>html<span class=\"k\">,</span> isAppendTo<span class=\"k\">,</span> notFireSelectionchange<span class=\"k\">)</span> <span class=\"k\">{</span>","            <span class=\"k\">var</span> me <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">;</span>","","            me<span class=\"k\">.</span>fireEvent<span class=\"k\">(</span> <span class=\"s\">'beforesetcontent'</span><span class=\"k\">,</span>html<span class=\"k\">);</span>","            <span class=\"k\">var</span> root <span class=\"k\">=</span> UE<span class=\"k\">.</span>htmlparser<span class=\"k\">(</span>html<span class=\"k\">);</span>","            me<span class=\"k\">.</span>filterInputRule<span class=\"k\">(</span>root<span class=\"k\">);</span>","            html <span class=\"k\">=</span> root<span class=\"k\">.</span>toHtml<span class=\"k\">();</span>","","","            me<span class=\"k\">.</span>body<span class=\"k\">.</span>innerHTML <span class=\"k\">=</span> <span class=\"k\">(</span>isAppendTo <span class=\"k\">?</span> <span class=\"k\">this</span><span class=\"k\">.</span>getContent<span class=\"k\">()</span> <span class=\"k\">:</span> <span class=\"s\">''</span><span class=\"k\">)</span> <span class=\"k\">+</span> html<span class=\"k\">;</span>","","            <span class=\"c\">//&#22788;&#29702;ie6&#19979;innerHTML&#33258;&#21160;&#23558;&#30456;&#23545;&#36335;&#24452;&#36716;&#21270;&#25104;&#32477;&#23545;&#36335;&#24452;&#30340;&#38382;&#39064;</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span>browser<span class=\"k\">.</span>ie <span class=\"k\">&amp;&amp;</span> browser<span class=\"k\">.</span>version <span class=\"k\">&lt;</span> <span class=\"s\">7</span><span class=\"k\">)</span> <span class=\"k\">{</span>","                replaceSrc<span class=\"k\">(</span>me<span class=\"k\">.</span>body<span class=\"k\">);</span>","            <span class=\"k\">}</span>","            <span class=\"c\">//&#32473;&#25991;&#26412;&#25110;&#32773;inline&#33410;&#28857;&#22871;p&#26631;&#31614;</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span>me<span class=\"k\">.</span>options<span class=\"k\">.</span>enterTag <span class=\"k\">==</span> <span class=\"s\">'p'</span><span class=\"k\">)</span> <span class=\"k\">{</span>","","                <span class=\"k\">var</span> child <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>body<span class=\"k\">.</span>firstChild<span class=\"k\">,</span> tmpNode<span class=\"k\">;</span>","                <span class=\"k\">if</span> <span class=\"k\">(!</span>child <span class=\"k\">||</span> child<span class=\"k\">.</span>nodeType <span class=\"k\">==</span> <span class=\"s\">1</span> <span class=\"k\">&amp;&amp;</span>","                    <span class=\"k\">(</span>dtd<span class=\"k\">.</span>$cdata<span class=\"k\">[</span>child<span class=\"k\">.</span>tagName<span class=\"k\">]</span> <span class=\"k\">||</span>","                        domUtils<span class=\"k\">.</span>isCustomeNode<span class=\"k\">(</span>child<span class=\"k\">)</span>","                        <span class=\"k\">)</span>","                    <span class=\"k\">&amp;&amp;</span> child <span class=\"k\">===</span> <span class=\"k\">this</span><span class=\"k\">.</span>body<span class=\"k\">.</span>lastChild<span class=\"k\">)</span> <span class=\"k\">{</span>","                    <span class=\"k\">this</span><span class=\"k\">.</span>body<span class=\"k\">.</span>innerHTML <span class=\"k\">=</span> <span class=\"s\">'&lt;p&gt;'</span> <span class=\"k\">+</span> <span class=\"k\">(</span>browser<span class=\"k\">.</span>ie <span class=\"k\">?</span> <span class=\"s\">'&amp;nbsp;'</span> <span class=\"k\">:</span> <span class=\"s\">'&lt;br/&gt;'</span><span class=\"k\">)</span> <span class=\"k\">+</span> <span class=\"s\">'&lt;/p&gt;'</span> <span class=\"k\">+</span> <span class=\"k\">this</span><span class=\"k\">.</span>body<span class=\"k\">.</span>innerHTML<span class=\"k\">;</span>","","                <span class=\"k\">}</span> <span class=\"k\">else</span> <span class=\"k\">{</span>","                    <span class=\"k\">var</span> p <span class=\"k\">=</span> me<span class=\"k\">.</span>document<span class=\"k\">.</span>createElement<span class=\"k\">(</span><span class=\"s\">'p'</span><span class=\"k\">);</span>","                    <span class=\"k\">while</span> <span class=\"k\">(</span>child<span class=\"k\">)</span> <span class=\"k\">{</span>","                        <span class=\"k\">while</span> <span class=\"k\">(</span>child <span class=\"k\">&amp;&amp;</span> <span class=\"k\">(</span>child<span class=\"k\">.</span>nodeType <span class=\"k\">==</span> <span class=\"s\">3</span> <span class=\"k\">||</span> child<span class=\"k\">.</span>nodeType <span class=\"k\">==</span> <span class=\"s\">1</span> <span class=\"k\">&amp;&amp;</span> dtd<span class=\"k\">.</span>p<span class=\"k\">[</span>child<span class=\"k\">.</span>tagName<span class=\"k\">]</span> <span class=\"k\">&amp;&amp;</span> <span class=\"k\">!</span>dtd<span class=\"k\">.</span>$cdata<span class=\"k\">[</span>child<span class=\"k\">.</span>tagName<span class=\"k\">]))</span> <span class=\"k\">{</span>","                            tmpNode <span class=\"k\">=</span> child<span class=\"k\">.</span>nextSibling<span class=\"k\">;</span>","                            p<span class=\"k\">.</span>appendChild<span class=\"k\">(</span>child<span class=\"k\">);</span>","                            child <span class=\"k\">=</span> tmpNode<span class=\"k\">;</span>","                        <span class=\"k\">}</span>","                        <span class=\"k\">if</span> <span class=\"k\">(</span>p<span class=\"k\">.</span>firstChild<span class=\"k\">)</span> <span class=\"k\">{</span>","                            <span class=\"k\">if</span> <span class=\"k\">(!</span>child<span class=\"k\">)</span> <span class=\"k\">{</span>","                                me<span class=\"k\">.</span>body<span class=\"k\">.</span>appendChild<span class=\"k\">(</span>p<span class=\"k\">);</span>","                                <span class=\"k\">break</span><span class=\"k\">;</span>","                            <span class=\"k\">}</span> <span class=\"k\">else</span> <span class=\"k\">{</span>","                                child<span class=\"k\">.</span>parentNode<span class=\"k\">.</span>insertBefore<span class=\"k\">(</span>p<span class=\"k\">,</span> child<span class=\"k\">);</span>","                                p <span class=\"k\">=</span> me<span class=\"k\">.</span>document<span class=\"k\">.</span>createElement<span class=\"k\">(</span><span class=\"s\">'p'</span><span class=\"k\">);</span>","                            <span class=\"k\">}</span>","                        <span class=\"k\">}</span>","                        child <span class=\"k\">=</span> child<span class=\"k\">.</span>nextSibling<span class=\"k\">;</span>","                    <span class=\"k\">}</span>","                <span class=\"k\">}</span>","            <span class=\"k\">}</span>","            me<span class=\"k\">.</span>fireEvent<span class=\"k\">(</span> <span class=\"s\">'aftersetcontent'</span> <span class=\"k\">);</span>","            me<span class=\"k\">.</span>fireEvent<span class=\"k\">(</span><span class=\"s\">'contentchange'</span><span class=\"k\">);</span>","","            <span class=\"k\">!</span>notFireSelectionchange <span class=\"k\">&amp;&amp;</span> me<span class=\"k\">.</span>_selectionChange<span class=\"k\">();</span>","            <span class=\"c\">//&#28165;&#38500;&#20445;&#23384;&#30340;&#36873;&#21306;</span>","            me<span class=\"k\">.</span>_bakRange <span class=\"k\">=</span> me<span class=\"k\">.</span>_bakIERange <span class=\"k\">=</span> <span class=\"k\">null</span><span class=\"k\">;</span>","            <span class=\"c\">//trace:1742 setContent&#21518;gecko&#33021;&#24471;&#21040;&#28966;&#28857;&#38382;&#39064;</span>","            <span class=\"k\">var</span> geckoSel<span class=\"k\">;</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span>browser<span class=\"k\">.</span>gecko <span class=\"k\">&amp;&amp;</span> <span class=\"k\">(</span>geckoSel <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>selection<span class=\"k\">.</span>getNative<span class=\"k\">()))</span> <span class=\"k\">{</span>","                geckoSel<span class=\"k\">.</span>removeAllRanges<span class=\"k\">();</span>","            <span class=\"k\">}</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","","        <span class=\"c\">/**</span>","<span class=\"c\">         * &#35753;&#32534;&#36753;&#22120;&#33719;&#24471;&#28966;&#28857;&#65292;toEnd&#30830;&#23450;focus&#20301;&#32622;</span>","<span class=\"c\">         * @name focus</span>","<span class=\"c\">         * @grammar editor.focus([toEnd])   //&#40664;&#35748;focus&#21040;&#32534;&#36753;&#22120;&#22836;&#37096;&#65292;toEnd&#20026;true&#26102;focus&#21040;&#20869;&#23481;&#23614;&#37096;</span>","<span class=\"c\">         */</span>","        focus<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">(</span>toEnd<span class=\"k\">)</span> <span class=\"k\">{</span>","            <span class=\"k\">try</span> <span class=\"k\">{</span>","                <span class=\"k\">var</span> me <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">,</span>","                    rng <span class=\"k\">=</span> me<span class=\"k\">.</span>selection<span class=\"k\">.</span>getRange<span class=\"k\">();</span>","                <span class=\"k\">if</span> <span class=\"k\">(</span>toEnd<span class=\"k\">)</span> <span class=\"k\">{</span>","                    rng<span class=\"k\">.</span>setStartAtLast<span class=\"k\">(</span>me<span class=\"k\">.</span>body<span class=\"k\">.</span>lastChild<span class=\"k\">).</span>setCursor<span class=\"k\">(</span><span class=\"k\">false</span><span class=\"k\">,</span> <span class=\"k\">true</span><span class=\"k\">);</span>","                <span class=\"k\">}</span> <span class=\"k\">else</span> <span class=\"k\">{</span>","                    rng<span class=\"k\">.</span>select<span class=\"k\">(</span><span class=\"k\">true</span><span class=\"k\">);</span>","                <span class=\"k\">}</span>","            <span class=\"k\">}</span> <span class=\"k\">catch</span> <span class=\"k\">(</span>e<span class=\"k\">)</span> <span class=\"k\">{</span>","            <span class=\"k\">}</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","","        <span class=\"c\">/**</span>","<span class=\"c\">         * &#21021;&#22987;&#21270;UE&#20107;&#20214;&#21450;&#37096;&#20998;&#20107;&#20214;&#20195;&#29702;</span>","<span class=\"c\">         * @private</span>","<span class=\"c\">         * @ignore</span>","<span class=\"c\">         */</span>","        _initEvents<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","            <span class=\"k\">var</span> me <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">,</span>","                doc <span class=\"k\">=</span> me<span class=\"k\">.</span>document<span class=\"k\">,</span>","                win <span class=\"k\">=</span> me<span class=\"k\">.</span>window<span class=\"k\">;</span>","            me<span class=\"k\">.</span>_proxyDomEvent <span class=\"k\">=</span> utils<span class=\"k\">.</span>bind<span class=\"k\">(</span>me<span class=\"k\">.</span>_proxyDomEvent<span class=\"k\">,</span> me<span class=\"k\">);</span>","            domUtils<span class=\"k\">.</span>on<span class=\"k\">(</span>doc<span class=\"k\">,</span> <span class=\"k\">[</span><span class=\"s\">'click'</span><span class=\"k\">,</span> <span class=\"s\">'contextmenu'</span><span class=\"k\">,</span> <span class=\"s\">'mousedown'</span><span class=\"k\">,</span> <span class=\"s\">'keydown'</span><span class=\"k\">,</span> <span class=\"s\">'keyup'</span><span class=\"k\">,</span> <span class=\"s\">'keypress'</span><span class=\"k\">,</span> <span class=\"s\">'mouseup'</span><span class=\"k\">,</span> <span class=\"s\">'mouseover'</span><span class=\"k\">,</span> <span class=\"s\">'mouseout'</span><span class=\"k\">,</span> <span class=\"s\">'selectstart'</span><span class=\"k\">],</span> me<span class=\"k\">.</span>_proxyDomEvent<span class=\"k\">);</span>","            domUtils<span class=\"k\">.</span>on<span class=\"k\">(</span>win<span class=\"k\">,</span> <span class=\"k\">[</span><span class=\"s\">'focus'</span><span class=\"k\">,</span> <span class=\"s\">'blur'</span><span class=\"k\">],</span> me<span class=\"k\">.</span>_proxyDomEvent<span class=\"k\">);</span>","            domUtils<span class=\"k\">.</span>on<span class=\"k\">(</span>doc<span class=\"k\">,</span> <span class=\"k\">[</span><span class=\"s\">'mouseup'</span><span class=\"k\">,</span> <span class=\"s\">'keydown'</span><span class=\"k\">],</span> <span class=\"k\">function</span> <span class=\"k\">(</span>evt<span class=\"k\">)</span> <span class=\"k\">{</span>","                <span class=\"c\">//&#29305;&#27530;&#38190;&#19981;&#35302;&#21457;selectionchange</span>","                <span class=\"k\">if</span> <span class=\"k\">(</span>evt<span class=\"k\">.</span>type <span class=\"k\">==</span> <span class=\"s\">'keydown'</span> <span class=\"k\">&amp;&amp;</span> <span class=\"k\">(</span>evt<span class=\"k\">.</span>ctrlKey <span class=\"k\">||</span> evt<span class=\"k\">.</span>metaKey <span class=\"k\">||</span> evt<span class=\"k\">.</span>shiftKey <span class=\"k\">||</span> evt<span class=\"k\">.</span>altKey<span class=\"k\">))</span> <span class=\"k\">{</span>","                    <span class=\"k\">return</span><span class=\"k\">;</span>","                <span class=\"k\">}</span>","                <span class=\"k\">if</span> <span class=\"k\">(</span>evt<span class=\"k\">.</span>button <span class=\"k\">==</span> <span class=\"s\">2</span><span class=\"k\">)</span><span class=\"k\">return</span><span class=\"k\">;</span>","                me<span class=\"k\">.</span>_selectionChange<span class=\"k\">(</span><span class=\"s\">250</span><span class=\"k\">,</span> evt<span class=\"k\">);</span>","            <span class=\"k\">}</span><span class=\"k\">);</span>","            <span class=\"c\">//&#22788;&#29702;&#25302;&#25341;</span>","            <span class=\"c\">//ie ff&#19981;&#33021;&#20174;&#22806;&#36793;&#25302;&#20837;</span>","            <span class=\"c\">//chrome&#21482;&#38024;&#23545;&#20174;&#22806;&#36793;&#25302;&#20837;&#30340;&#20869;&#23481;&#36807;&#28388;</span>","            <span class=\"k\">var</span> innerDrag <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">,</span> source <span class=\"k\">=</span> browser<span class=\"k\">.</span>ie <span class=\"k\">?</span> me<span class=\"k\">.</span>body <span class=\"k\">:</span> me<span class=\"k\">.</span>document<span class=\"k\">,</span> dragoverHandler<span class=\"k\">;</span>","            domUtils<span class=\"k\">.</span>on<span class=\"k\">(</span>source<span class=\"k\">,</span> <span class=\"s\">'dragstart'</span><span class=\"k\">,</span> <span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","                innerDrag <span class=\"k\">=</span> <span class=\"s\">1</span><span class=\"k\">;</span>","            <span class=\"k\">}</span><span class=\"k\">);</span>","            domUtils<span class=\"k\">.</span>on<span class=\"k\">(</span>source<span class=\"k\">,</span> browser<span class=\"k\">.</span>webkit <span class=\"k\">?</span> <span class=\"s\">'dragover'</span> <span class=\"k\">:</span> <span class=\"s\">'drop'</span><span class=\"k\">,</span> <span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","                <span class=\"k\">return</span> browser<span class=\"k\">.</span>webkit <span class=\"k\">?</span>","                    <span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","                        clearTimeout<span class=\"k\">(</span>dragoverHandler<span class=\"k\">);</span>","                        dragoverHandler <span class=\"k\">=</span> setTimeout<span class=\"k\">(</span><span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","                            <span class=\"k\">if</span> <span class=\"k\">(!</span>innerDrag<span class=\"k\">)</span> <span class=\"k\">{</span>","                                <span class=\"k\">var</span> sel <span class=\"k\">=</span> me<span class=\"k\">.</span>selection<span class=\"k\">,</span>","                                    range <span class=\"k\">=</span> sel<span class=\"k\">.</span>getRange<span class=\"k\">();</span>","                                <span class=\"k\">if</span> <span class=\"k\">(</span>range<span class=\"k\">)</span> <span class=\"k\">{</span>","                                    <span class=\"k\">var</span> common <span class=\"k\">=</span> range<span class=\"k\">.</span>getCommonAncestor<span class=\"k\">();</span>","                                    <span class=\"k\">if</span> <span class=\"k\">(</span>common <span class=\"k\">&amp;&amp;</span> me<span class=\"k\">.</span>serialize<span class=\"k\">)</span> <span class=\"k\">{</span>","                                        <span class=\"k\">var</span> f <span class=\"k\">=</span> me<span class=\"k\">.</span>serialize<span class=\"k\">,</span>","                                            node <span class=\"k\">=</span>","                                                f<span class=\"k\">.</span>filter<span class=\"k\">(</span>","                                                    f<span class=\"k\">.</span>transformInput<span class=\"k\">(</span>","                                                        f<span class=\"k\">.</span>parseHTML<span class=\"k\">(</span>","                                                            f<span class=\"k\">.</span>word<span class=\"k\">(</span>common<span class=\"k\">.</span>innerHTML<span class=\"k\">)</span>","                                                        <span class=\"k\">)</span>","                                                    <span class=\"k\">)</span>","                                                <span class=\"k\">);</span>","                                        common<span class=\"k\">.</span>innerHTML <span class=\"k\">=</span> f<span class=\"k\">.</span>toHTML<span class=\"k\">(</span>node<span class=\"k\">);</span>","                                    <span class=\"k\">}</span>","                                <span class=\"k\">}</span>","                            <span class=\"k\">}</span>","                            innerDrag <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">;</span>","                        <span class=\"k\">}</span><span class=\"k\">,</span> <span class=\"s\">200</span><span class=\"k\">);</span>","                    <span class=\"k\">}</span> <span class=\"k\">:</span>","                    <span class=\"k\">function</span> <span class=\"k\">(</span>e<span class=\"k\">)</span> <span class=\"k\">{</span>","                        <span class=\"k\">if</span> <span class=\"k\">(!</span>innerDrag<span class=\"k\">)</span> <span class=\"k\">{</span>","                            e<span class=\"k\">.</span>preventDefault <span class=\"k\">?</span> e<span class=\"k\">.</span>preventDefault<span class=\"k\">()</span> <span class=\"k\">:</span> <span class=\"k\">(</span>e<span class=\"k\">.</span>returnValue <span class=\"k\">=</span> <span class=\"k\">false</span><span class=\"k\">);</span>","                        <span class=\"k\">}</span>","                        innerDrag <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">;</span>","                    <span class=\"k\">}</span>","            <span class=\"k\">}</span><span class=\"k\">());</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        <span class=\"c\">/**</span>","<span class=\"c\">         * &#35302;&#21457;&#20107;&#20214;&#20195;&#29702;</span>","<span class=\"c\">         * @private</span>","<span class=\"c\">         * @ignore</span>","<span class=\"c\">         */</span>","        _proxyDomEvent<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">(</span>evt<span class=\"k\">)</span> <span class=\"k\">{</span>","            <span class=\"k\">return</span> <span class=\"k\">this</span><span class=\"k\">.</span>fireEvent<span class=\"k\">(</span>evt<span class=\"k\">.</span>type<span class=\"k\">.</span>replace<span class=\"k\">(</span><span class=\"s\">/^on/</span><span class=\"k\">,</span> <span class=\"s\">''</span><span class=\"k\">),</span> evt<span class=\"k\">);</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        <span class=\"c\">/**</span>","<span class=\"c\">         * &#21464;&#21270;&#36873;&#21306;</span>","<span class=\"c\">         * @private</span>","<span class=\"c\">         * @ignore</span>","<span class=\"c\">         */</span>","        _selectionChange<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">(</span>delay<span class=\"k\">,</span> evt<span class=\"k\">)</span> <span class=\"k\">{</span>","            <span class=\"k\">var</span> me <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">;</span>","            <span class=\"c\">//&#26377;&#20809;&#26631;&#25165;&#20570;selectionchange &#20026;&#20102;&#35299;&#20915;&#26410;focus&#26102;&#28857;&#20987;source&#19981;&#33021;&#35302;&#21457;&#26356;&#25913;&#24037;&#20855;&#26639;&#29366;&#24577;&#30340;&#38382;&#39064;&#65288;source&#21629;&#20196;notNeedUndo=1&#65289;</span>","<span class=\"c\">//            if ( !me.selection.isFocus() ){</span>","<span class=\"c\">//                return;</span>","<span class=\"c\">//            }</span>","            <span class=\"k\">var</span> hackForMouseUp <span class=\"k\">=</span> <span class=\"k\">false</span><span class=\"k\">;</span>","            <span class=\"k\">var</span> mouseX<span class=\"k\">,</span> mouseY<span class=\"k\">;</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span>browser<span class=\"k\">.</span>ie <span class=\"k\">&amp;&amp;</span> browser<span class=\"k\">.</span>version <span class=\"k\">&lt;</span> <span class=\"s\">9</span> <span class=\"k\">&amp;&amp;</span> evt <span class=\"k\">&amp;&amp;</span> evt<span class=\"k\">.</span>type <span class=\"k\">==</span> <span class=\"s\">'mouseup'</span><span class=\"k\">)</span> <span class=\"k\">{</span>","                <span class=\"k\">var</span> range <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>selection<span class=\"k\">.</span>getRange<span class=\"k\">();</span>","                <span class=\"k\">if</span> <span class=\"k\">(!</span>range<span class=\"k\">.</span>collapsed<span class=\"k\">)</span> <span class=\"k\">{</span>","                    hackForMouseUp <span class=\"k\">=</span> <span class=\"k\">true</span><span class=\"k\">;</span>","                    mouseX <span class=\"k\">=</span> evt<span class=\"k\">.</span>clientX<span class=\"k\">;</span>","                    mouseY <span class=\"k\">=</span> evt<span class=\"k\">.</span>clientY<span class=\"k\">;</span>","                <span class=\"k\">}</span>","            <span class=\"k\">}</span>","            clearTimeout<span class=\"k\">(</span>_selectionChangeTimer<span class=\"k\">);</span>","            _selectionChangeTimer <span class=\"k\">=</span> setTimeout<span class=\"k\">(</span><span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","                <span class=\"k\">if</span> <span class=\"k\">(!</span>me<span class=\"k\">.</span>selection<span class=\"k\">.</span>getNative<span class=\"k\">())</span> <span class=\"k\">{</span>","                    <span class=\"k\">return</span><span class=\"k\">;</span>","                <span class=\"k\">}</span>","                <span class=\"c\">//&#20462;&#22797;&#19968;&#20010;IE&#19979;&#30340;bug: &#40736;&#26631;&#28857;&#20987;&#19968;&#27573;&#24050;&#36873;&#25321;&#30340;&#25991;&#26412;&#20013;&#38388;&#26102;&#65292;&#21487;&#33021;&#22312;mouseup&#21518;&#30340;&#19968;&#27573;&#26102;&#38388;&#20869;&#21462;&#21040;&#30340;range&#26159;&#22312;selection&#30340;type&#20026;None&#19979;&#30340;&#38169;&#35823;&#20540;.</span>","                <span class=\"c\">//IE&#19979;&#22914;&#26524;&#29992;&#25143;&#26159;&#25302;&#25341;&#19968;&#27573;&#24050;&#36873;&#25321;&#25991;&#26412;&#65292;&#21017;&#19981;&#20250;&#35302;&#21457;mouseup&#20107;&#20214;&#65292;&#25152;&#20197;&#36825;&#37324;&#30340;&#29305;&#27530;&#22788;&#29702;&#19981;&#20250;&#23545;&#20854;&#26377;&#24433;&#21709;</span>","                <span class=\"k\">var</span> ieRange<span class=\"k\">;</span>","                <span class=\"k\">if</span> <span class=\"k\">(</span>hackForMouseUp <span class=\"k\">&amp;&amp;</span> me<span class=\"k\">.</span>selection<span class=\"k\">.</span>getNative<span class=\"k\">().</span>type <span class=\"k\">==</span> <span class=\"s\">'None'</span><span class=\"k\">)</span> <span class=\"k\">{</span>","                    ieRange <span class=\"k\">=</span> me<span class=\"k\">.</span>document<span class=\"k\">.</span>body<span class=\"k\">.</span>createTextRange<span class=\"k\">();</span>","                    <span class=\"k\">try</span> <span class=\"k\">{</span>","                        ieRange<span class=\"k\">.</span>moveToPoint<span class=\"k\">(</span>mouseX<span class=\"k\">,</span> mouseY<span class=\"k\">);</span>","                    <span class=\"k\">}</span> <span class=\"k\">catch</span> <span class=\"k\">(</span>ex<span class=\"k\">)</span> <span class=\"k\">{</span>","                        ieRange <span class=\"k\">=</span> <span class=\"k\">null</span><span class=\"k\">;</span>","                    <span class=\"k\">}</span>","                <span class=\"k\">}</span>","                <span class=\"k\">var</span> bakGetIERange<span class=\"k\">;</span>","                <span class=\"k\">if</span> <span class=\"k\">(</span>ieRange<span class=\"k\">)</span> <span class=\"k\">{</span>","                    bakGetIERange <span class=\"k\">=</span> me<span class=\"k\">.</span>selection<span class=\"k\">.</span>getIERange<span class=\"k\">;</span>","                    me<span class=\"k\">.</span>selection<span class=\"k\">.</span>getIERange <span class=\"k\">=</span> <span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","                        <span class=\"k\">return</span> ieRange<span class=\"k\">;</span>","                    <span class=\"k\">}</span><span class=\"k\">;</span>","                <span class=\"k\">}</span>","                me<span class=\"k\">.</span>selection<span class=\"k\">.</span>cache<span class=\"k\">();</span>","                <span class=\"k\">if</span> <span class=\"k\">(</span>bakGetIERange<span class=\"k\">)</span> <span class=\"k\">{</span>","                    me<span class=\"k\">.</span>selection<span class=\"k\">.</span>getIERange <span class=\"k\">=</span> bakGetIERange<span class=\"k\">;</span>","                <span class=\"k\">}</span>","                <span class=\"k\">if</span> <span class=\"k\">(</span>me<span class=\"k\">.</span>selection<span class=\"k\">.</span>_cachedRange <span class=\"k\">&amp;&amp;</span> me<span class=\"k\">.</span>selection<span class=\"k\">.</span>_cachedStartElement<span class=\"k\">)</span> <span class=\"k\">{</span>","                    me<span class=\"k\">.</span>fireEvent<span class=\"k\">(</span><span class=\"s\">'beforeselectionchange'</span><span class=\"k\">);</span>","                    <span class=\"c\">// &#31532;&#20108;&#20010;&#21442;&#25968;causeByUi&#20026;true&#20195;&#34920;&#30001;&#29992;&#25143;&#20132;&#20114;&#36896;&#25104;&#30340;selectionchange.</span>","                    me<span class=\"k\">.</span>fireEvent<span class=\"k\">(</span><span class=\"s\">'selectionchange'</span><span class=\"k\">,</span> <span class=\"k\">!!</span>evt<span class=\"k\">);</span>","                    me<span class=\"k\">.</span>fireEvent<span class=\"k\">(</span><span class=\"s\">'afterselectionchange'</span><span class=\"k\">);</span>","                    me<span class=\"k\">.</span>selection<span class=\"k\">.</span>clear<span class=\"k\">();</span>","                <span class=\"k\">}</span>","            <span class=\"k\">}</span><span class=\"k\">,</span> delay <span class=\"k\">||</span> <span class=\"s\">50</span><span class=\"k\">);</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        _callCmdFn<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">(</span>fnName<span class=\"k\">,</span> args<span class=\"k\">)</span> <span class=\"k\">{</span>","            <span class=\"k\">var</span> cmdName <span class=\"k\">=</span> args<span class=\"k\">[</span><span class=\"s\">0</span><span class=\"k\">].</span>toLowerCase<span class=\"k\">(),</span>","                cmd<span class=\"k\">,</span> cmdFn<span class=\"k\">;</span>","            cmd <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>commands<span class=\"k\">[</span>cmdName<span class=\"k\">]</span> <span class=\"k\">||</span> UE<span class=\"k\">.</span>commands<span class=\"k\">[</span>cmdName<span class=\"k\">];</span>","            cmdFn <span class=\"k\">=</span> cmd <span class=\"k\">&amp;&amp;</span> cmd<span class=\"k\">[</span>fnName<span class=\"k\">];</span>","            <span class=\"c\">//&#27809;&#26377;querycommandstate&#25110;&#32773;&#27809;&#26377;command&#30340;&#37117;&#40664;&#35748;&#36820;&#22238;0</span>","            <span class=\"k\">if</span> <span class=\"k\">((!</span>cmd <span class=\"k\">||</span> <span class=\"k\">!</span>cmdFn<span class=\"k\">)</span> <span class=\"k\">&amp;&amp;</span> fnName <span class=\"k\">==</span> <span class=\"s\">'queryCommandState'</span><span class=\"k\">)</span> <span class=\"k\">{</span>","                <span class=\"k\">return</span> <span class=\"s\">0</span><span class=\"k\">;</span>","            <span class=\"k\">}</span> <span class=\"k\">else</span> <span class=\"k\">if</span> <span class=\"k\">(</span>cmdFn<span class=\"k\">)</span> <span class=\"k\">{</span>","                <span class=\"k\">return</span> cmdFn<span class=\"k\">.</span>apply<span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">,</span> args<span class=\"k\">);</span>","            <span class=\"k\">}</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","","        <span class=\"c\">/**</span>","<span class=\"c\">         * &#25191;&#34892;&#32534;&#36753;&#21629;&#20196;cmdName&#65292;&#23436;&#25104;&#23500;&#25991;&#26412;&#32534;&#36753;&#25928;&#26524;</span>","<span class=\"c\">         * @name execCommand</span>","<span class=\"c\">         * @grammar editor.execCommand(cmdName)   =&gt; {*}</span>","<span class=\"c\">         */</span>","        execCommand<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">(</span>cmdName<span class=\"k\">)</span> <span class=\"k\">{</span>","            cmdName <span class=\"k\">=</span> cmdName<span class=\"k\">.</span>toLowerCase<span class=\"k\">();</span>","            <span class=\"k\">var</span> me <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">,</span>","                result<span class=\"k\">,</span>","                cmd <span class=\"k\">=</span> me<span class=\"k\">.</span>commands<span class=\"k\">[</span>cmdName<span class=\"k\">]</span> <span class=\"k\">||</span> UE<span class=\"k\">.</span>commands<span class=\"k\">[</span>cmdName<span class=\"k\">];</span>","            <span class=\"k\">if</span> <span class=\"k\">(!</span>cmd <span class=\"k\">||</span> <span class=\"k\">!</span>cmd<span class=\"k\">.</span>execCommand<span class=\"k\">)</span> <span class=\"k\">{</span>","                <span class=\"k\">return</span> <span class=\"k\">null</span><span class=\"k\">;</span>","            <span class=\"k\">}</span>","            <span class=\"k\">if</span> <span class=\"k\">(!</span>cmd<span class=\"k\">.</span>notNeedUndo <span class=\"k\">&amp;&amp;</span> <span class=\"k\">!</span>me<span class=\"k\">.</span>__hasEnterExecCommand<span class=\"k\">)</span> <span class=\"k\">{</span>","                me<span class=\"k\">.</span>__hasEnterExecCommand <span class=\"k\">=</span> <span class=\"k\">true</span><span class=\"k\">;</span>","                <span class=\"k\">if</span> <span class=\"k\">(</span>me<span class=\"k\">.</span>queryCommandState<span class=\"k\">(</span>cmdName<span class=\"k\">)</span> <span class=\"k\">!=</span> <span class=\"k\">-</span><span class=\"s\">1</span><span class=\"k\">)</span> <span class=\"k\">{</span>","                    me<span class=\"k\">.</span>fireEvent<span class=\"k\">(</span><span class=\"s\">'beforeexeccommand'</span><span class=\"k\">,</span> cmdName<span class=\"k\">);</span>","                    result <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>_callCmdFn<span class=\"k\">(</span><span class=\"s\">'execCommand'</span><span class=\"k\">,</span> arguments<span class=\"k\">);</span>","                    <span class=\"k\">!</span>me<span class=\"k\">.</span>_ignoreContentChange <span class=\"k\">&amp;&amp;</span> me<span class=\"k\">.</span>fireEvent<span class=\"k\">(</span><span class=\"s\">'contentchange'</span><span class=\"k\">);</span>","                    me<span class=\"k\">.</span>fireEvent<span class=\"k\">(</span><span class=\"s\">'afterexeccommand'</span><span class=\"k\">,</span> cmdName<span class=\"k\">);</span>","                <span class=\"k\">}</span>","                me<span class=\"k\">.</span>__hasEnterExecCommand <span class=\"k\">=</span> <span class=\"k\">false</span><span class=\"k\">;</span>","            <span class=\"k\">}</span> <span class=\"k\">else</span> <span class=\"k\">{</span>","                result <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>_callCmdFn<span class=\"k\">(</span><span class=\"s\">'execCommand'</span><span class=\"k\">,</span> arguments<span class=\"k\">);</span>","                <span class=\"k\">!</span>me<span class=\"k\">.</span>_ignoreContentChange <span class=\"k\">&amp;&amp;</span> me<span class=\"k\">.</span>fireEvent<span class=\"k\">(</span><span class=\"s\">'contentchange'</span><span class=\"k\">)</span>","            <span class=\"k\">}</span>","            <span class=\"k\">!</span>me<span class=\"k\">.</span>_ignoreContentChange <span class=\"k\">&amp;&amp;</span> me<span class=\"k\">.</span>_selectionChange<span class=\"k\">();</span>","            <span class=\"k\">return</span> result<span class=\"k\">;</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        <span class=\"c\">/**</span>","<span class=\"c\">         * &#26681;&#25454;&#20256;&#20837;&#30340;command&#21629;&#20196;&#65292;&#26597;&#36873;&#32534;&#36753;&#22120;&#24403;&#21069;&#30340;&#36873;&#21306;&#65292;&#36820;&#22238;&#21629;&#20196;&#30340;&#29366;&#24577;</span>","<span class=\"c\">         * @name  queryCommandState</span>","<span class=\"c\">         * @grammar editor.queryCommandState(cmdName)  =&gt; (-1|0|1)</span>","<span class=\"c\">         * @desc</span>","<span class=\"c\">         * * ''-1'' &#24403;&#21069;&#21629;&#20196;&#19981;&#21487;&#29992;</span>","<span class=\"c\">         * * ''0'' &#24403;&#21069;&#21629;&#20196;&#21487;&#29992;</span>","<span class=\"c\">         * * ''1'' &#24403;&#21069;&#21629;&#20196;&#24050;&#32463;&#25191;&#34892;&#36807;&#20102;</span>","<span class=\"c\">         */</span>","        queryCommandState<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">(</span>cmdName<span class=\"k\">)</span> <span class=\"k\">{</span>","            <span class=\"k\">return</span> <span class=\"k\">this</span><span class=\"k\">.</span>_callCmdFn<span class=\"k\">(</span><span class=\"s\">'queryCommandState'</span><span class=\"k\">,</span> arguments<span class=\"k\">);</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","","        <span class=\"c\">/**</span>","<span class=\"c\">         * &#26681;&#25454;&#20256;&#20837;&#30340;command&#21629;&#20196;&#65292;&#26597;&#36873;&#32534;&#36753;&#22120;&#24403;&#21069;&#30340;&#36873;&#21306;&#65292;&#26681;&#25454;&#21629;&#20196;&#36820;&#22238;&#30456;&#20851;&#30340;&#20540;</span>","<span class=\"c\">         * @name  queryCommandValue</span>","<span class=\"c\">         * @grammar editor.queryCommandValue(cmdName)  =&gt;  {*}</span>","<span class=\"c\">         */</span>","        queryCommandValue<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">(</span>cmdName<span class=\"k\">)</span> <span class=\"k\">{</span>","            <span class=\"k\">return</span> <span class=\"k\">this</span><span class=\"k\">.</span>_callCmdFn<span class=\"k\">(</span><span class=\"s\">'queryCommandValue'</span><span class=\"k\">,</span> arguments<span class=\"k\">);</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        <span class=\"c\">/**</span>","<span class=\"c\">         * &#26816;&#26597;&#32534;&#36753;&#21306;&#22495;&#20013;&#26159;&#21542;&#26377;&#20869;&#23481;&#65292;&#33509;&#21253;&#21547;tags&#20013;&#30340;&#33410;&#28857;&#31867;&#22411;&#65292;&#30452;&#25509;&#36820;&#22238;true</span>","<span class=\"c\">         * @name  hasContents</span>","<span class=\"c\">         * @desc</span>","<span class=\"c\">         * &#40664;&#35748;&#26377;&#25991;&#26412;&#20869;&#23481;&#65292;&#25110;&#32773;&#26377;&#20197;&#19979;&#33410;&#28857;&#37117;&#19981;&#35748;&#20026;&#26159;&#31354;</span>","<span class=\"c\">         * &lt;code&gt;{table:1,ul:1,ol:1,dl:1,iframe:1,area:1,base:1,col:1,hr:1,img:1,embed:1,input:1,link:1,meta:1,param:1}&lt;/code&gt;</span>","<span class=\"c\">         * @grammar editor.hasContents()  =&gt; (true|false)</span>","<span class=\"c\">         * @grammar editor.hasContents(tags)  =&gt;  (true|false)  //&#33509;&#25991;&#26723;&#20013;&#21253;&#21547;tags&#25968;&#32452;&#37324;&#23545;&#24212;&#30340;tag&#65292;&#30452;&#25509;&#36820;&#22238;true</span>","<span class=\"c\">         * @example</span>","<span class=\"c\">         * editor.hasContents(['span']) //&#22914;&#26524;&#32534;&#36753;&#22120;&#37324;&#26377;&#36825;&#20123;&#65292;&#19981;&#35748;&#20026;&#26159;&#31354;</span>","<span class=\"c\">         */</span>","        hasContents<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">(</span>tags<span class=\"k\">)</span> <span class=\"k\">{</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span>tags<span class=\"k\">)</span> <span class=\"k\">{</span>","                <span class=\"k\">for</span> <span class=\"k\">(</span><span class=\"k\">var</span> i <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">,</span> ci<span class=\"k\">;</span> ci <span class=\"k\">=</span> tags<span class=\"k\">[</span>i<span class=\"k\">++];)</span> <span class=\"k\">{</span>","                    <span class=\"k\">if</span> <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>document<span class=\"k\">.</span>getElementsByTagName<span class=\"k\">(</span>ci<span class=\"k\">).</span>length <span class=\"k\">&gt;</span> <span class=\"s\">0</span><span class=\"k\">)</span> <span class=\"k\">{</span>","                        <span class=\"k\">return</span> <span class=\"k\">true</span><span class=\"k\">;</span>","                    <span class=\"k\">}</span>","                <span class=\"k\">}</span>","            <span class=\"k\">}</span>","            <span class=\"k\">if</span> <span class=\"k\">(!</span>domUtils<span class=\"k\">.</span>isEmptyBlock<span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>body<span class=\"k\">))</span> <span class=\"k\">{</span>","                <span class=\"k\">return</span> <span class=\"k\">true</span>","            <span class=\"k\">}</span>","            <span class=\"c\">//&#38543;&#26102;&#28155;&#21152;,&#23450;&#20041;&#30340;&#29305;&#27530;&#26631;&#31614;&#22914;&#26524;&#23384;&#22312;&#65292;&#19981;&#33021;&#35748;&#20026;&#26159;&#31354;</span>","            tags <span class=\"k\">=</span> <span class=\"k\">[</span><span class=\"s\">'div'</span><span class=\"k\">];</span>","            <span class=\"k\">for</span> <span class=\"k\">(</span>i <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">;</span> ci <span class=\"k\">=</span> tags<span class=\"k\">[</span>i<span class=\"k\">++];)</span> <span class=\"k\">{</span>","                <span class=\"k\">var</span> nodes <span class=\"k\">=</span> domUtils<span class=\"k\">.</span>getElementsByTagName<span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>document<span class=\"k\">,</span> ci<span class=\"k\">);</span>","                <span class=\"k\">for</span> <span class=\"k\">(</span><span class=\"k\">var</span> n <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">,</span> cn<span class=\"k\">;</span> cn <span class=\"k\">=</span> nodes<span class=\"k\">[</span>n<span class=\"k\">++];)</span> <span class=\"k\">{</span>","                    <span class=\"k\">if</span> <span class=\"k\">(</span>domUtils<span class=\"k\">.</span>isCustomeNode<span class=\"k\">(</span>cn<span class=\"k\">))</span> <span class=\"k\">{</span>","                        <span class=\"k\">return</span> <span class=\"k\">true</span><span class=\"k\">;</span>","                    <span class=\"k\">}</span>","                <span class=\"k\">}</span>","            <span class=\"k\">}</span>","            <span class=\"k\">return</span> <span class=\"k\">false</span><span class=\"k\">;</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        <span class=\"c\">/**</span>","<span class=\"c\">         * &#37325;&#32622;&#32534;&#36753;&#22120;&#65292;&#21487;&#29992;&#26469;&#20570;&#22810;&#20010;tab&#20351;&#29992;&#21516;&#19968;&#20010;&#32534;&#36753;&#22120;&#23454;&#20363;</span>","<span class=\"c\">         * @name  reset</span>","<span class=\"c\">         * @desc</span>","<span class=\"c\">         * * &#28165;&#31354;&#32534;&#36753;&#22120;&#20869;&#23481;</span>","<span class=\"c\">         * * &#28165;&#31354;&#22238;&#36864;&#21015;&#34920;</span>","<span class=\"c\">         * @grammar editor.reset()</span>","<span class=\"c\">         */</span>","        reset<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","            <span class=\"k\">this</span><span class=\"k\">.</span>fireEvent<span class=\"k\">(</span><span class=\"s\">'reset'</span><span class=\"k\">);</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        setEnabled<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","            <span class=\"k\">var</span> me <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">,</span> range<span class=\"k\">;</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span>me<span class=\"k\">.</span>body<span class=\"k\">.</span>contentEditable <span class=\"k\">==</span> <span class=\"s\">'false'</span><span class=\"k\">)</span> <span class=\"k\">{</span>","                me<span class=\"k\">.</span>body<span class=\"k\">.</span>contentEditable <span class=\"k\">=</span> <span class=\"k\">true</span><span class=\"k\">;</span>","                range <span class=\"k\">=</span> me<span class=\"k\">.</span>selection<span class=\"k\">.</span>getRange<span class=\"k\">();</span>","                <span class=\"c\">//&#26377;&#21487;&#33021;&#20869;&#23481;&#20002;&#22833;&#20102;</span>","                <span class=\"k\">try</span> <span class=\"k\">{</span>","                    range<span class=\"k\">.</span>moveToBookmark<span class=\"k\">(</span>me<span class=\"k\">.</span>lastBk<span class=\"k\">);</span>","                    <span class=\"k\">delete</span> me<span class=\"k\">.</span>lastBk","                <span class=\"k\">}</span> <span class=\"k\">catch</span> <span class=\"k\">(</span>e<span class=\"k\">)</span> <span class=\"k\">{</span>","                    range<span class=\"k\">.</span>setStartAtFirst<span class=\"k\">(</span>me<span class=\"k\">.</span>body<span class=\"k\">).</span>collapse<span class=\"k\">(</span><span class=\"k\">true</span><span class=\"k\">)</span>","                <span class=\"k\">}</span>","                range<span class=\"k\">.</span>select<span class=\"k\">(</span><span class=\"k\">true</span><span class=\"k\">);</span>","                <span class=\"k\">if</span> <span class=\"k\">(</span>me<span class=\"k\">.</span>bkqueryCommandState<span class=\"k\">)</span> <span class=\"k\">{</span>","                    me<span class=\"k\">.</span>queryCommandState <span class=\"k\">=</span> me<span class=\"k\">.</span>bkqueryCommandState<span class=\"k\">;</span>","                    <span class=\"k\">delete</span> me<span class=\"k\">.</span>bkqueryCommandState<span class=\"k\">;</span>","                <span class=\"k\">}</span>","                me<span class=\"k\">.</span>fireEvent<span class=\"k\">(</span><span class=\"s\">'selectionchange'</span><span class=\"k\">);</span>","            <span class=\"k\">}</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        <span class=\"c\">/**</span>","<span class=\"c\">         * &#35774;&#32622;&#24403;&#21069;&#32534;&#36753;&#21306;&#22495;&#21487;&#20197;&#32534;&#36753;</span>","<span class=\"c\">         * @name enable</span>","<span class=\"c\">         * @grammar editor.enable()</span>","<span class=\"c\">         */</span>","        enable<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","            <span class=\"k\">return</span> <span class=\"k\">this</span><span class=\"k\">.</span>setEnabled<span class=\"k\">();</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        setDisabled<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">(</span>except<span class=\"k\">)</span> <span class=\"k\">{</span>","            <span class=\"k\">var</span> me <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">;</span>","            except <span class=\"k\">=</span> except <span class=\"k\">?</span> utils<span class=\"k\">.</span>isArray<span class=\"k\">(</span>except<span class=\"k\">)</span> <span class=\"k\">?</span> except <span class=\"k\">:</span> <span class=\"k\">[</span>except<span class=\"k\">]</span> <span class=\"k\">:</span> <span class=\"k\">[];</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span>me<span class=\"k\">.</span>body<span class=\"k\">.</span>contentEditable <span class=\"k\">==</span> <span class=\"s\">'true'</span><span class=\"k\">)</span> <span class=\"k\">{</span>","                <span class=\"k\">if</span> <span class=\"k\">(!</span>me<span class=\"k\">.</span>lastBk<span class=\"k\">)</span> <span class=\"k\">{</span>","                    me<span class=\"k\">.</span>lastBk <span class=\"k\">=</span> me<span class=\"k\">.</span>selection<span class=\"k\">.</span>getRange<span class=\"k\">().</span>createBookmark<span class=\"k\">(</span><span class=\"k\">true</span><span class=\"k\">);</span>","                <span class=\"k\">}</span>","                me<span class=\"k\">.</span>body<span class=\"k\">.</span>contentEditable <span class=\"k\">=</span> <span class=\"k\">false</span><span class=\"k\">;</span>","                me<span class=\"k\">.</span>bkqueryCommandState <span class=\"k\">=</span> me<span class=\"k\">.</span>queryCommandState<span class=\"k\">;</span>","                me<span class=\"k\">.</span>queryCommandState <span class=\"k\">=</span> <span class=\"k\">function</span> <span class=\"k\">(</span>type<span class=\"k\">)</span> <span class=\"k\">{</span>","                    <span class=\"k\">if</span> <span class=\"k\">(</span>utils<span class=\"k\">.</span>indexOf<span class=\"k\">(</span>except<span class=\"k\">,</span> type<span class=\"k\">)</span> <span class=\"k\">!=</span> <span class=\"k\">-</span><span class=\"s\">1</span><span class=\"k\">)</span> <span class=\"k\">{</span>","                        <span class=\"k\">return</span> me<span class=\"k\">.</span>bkqueryCommandState<span class=\"k\">.</span>apply<span class=\"k\">(</span>me<span class=\"k\">,</span> arguments<span class=\"k\">);</span>","                    <span class=\"k\">}</span>","                    <span class=\"k\">return</span> <span class=\"k\">-</span><span class=\"s\">1</span><span class=\"k\">;</span>","                <span class=\"k\">}</span><span class=\"k\">;</span>","                me<span class=\"k\">.</span>fireEvent<span class=\"k\">(</span><span class=\"s\">'selectionchange'</span><span class=\"k\">);</span>","            <span class=\"k\">}</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        <span class=\"c\">/** &#35774;&#32622;&#24403;&#21069;&#32534;&#36753;&#21306;&#22495;&#19981;&#21487;&#32534;&#36753;,except&#20013;&#30340;&#21629;&#20196;&#38500;&#22806;</span>","<span class=\"c\">         * @name disable</span>","<span class=\"c\">         * @grammar editor.disable()</span>","<span class=\"c\">         * @grammar editor.disable(except)  //&#20363;&#22806;&#30340;&#21629;&#20196;&#65292;&#20063;&#21363;&#21363;&#20351;&#35774;&#32622;&#20102;disable&#65292;&#27492;&#22788;&#37197;&#32622;&#30340;&#21629;&#20196;&#20173;&#28982;&#21487;&#20197;&#25191;&#34892;</span>","<span class=\"c\">         * @example</span>","<span class=\"c\">         * //&#31105;&#29992;&#24037;&#20855;&#26639;&#20013;&#38500;&#21152;&#31895;&#21644;&#25554;&#20837;&#22270;&#29255;&#20043;&#22806;&#30340;&#25152;&#26377;&#21151;&#33021;</span>","<span class=\"c\">         * editor.disable(['bold','insertimage']);//&#21487;&#20197;&#26159;&#21333;&#19968;&#30340;String,&#20063;&#21487;&#20197;&#26159;Array</span>","<span class=\"c\">         */</span>","        disable<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">(</span>except<span class=\"k\">)</span> <span class=\"k\">{</span>","            <span class=\"k\">return</span> <span class=\"k\">this</span><span class=\"k\">.</span>setDisabled<span class=\"k\">(</span>except<span class=\"k\">);</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        <span class=\"c\">/**</span>","<span class=\"c\">         * &#35774;&#32622;&#40664;&#35748;&#20869;&#23481;</span>","<span class=\"c\">         * @ignore</span>","<span class=\"c\">         * @private</span>","<span class=\"c\">         * @param  {String} cont &#35201;&#23384;&#20837;&#30340;&#20869;&#23481;</span>","<span class=\"c\">         */</span>","        _setDefaultContent<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","            <span class=\"k\">function</span> clear<span class=\"k\">()</span> <span class=\"k\">{</span>","                <span class=\"k\">var</span> me <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">;</span>","                <span class=\"k\">if</span> <span class=\"k\">(</span>me<span class=\"k\">.</span>document<span class=\"k\">.</span>getElementById<span class=\"k\">(</span><span class=\"s\">'initContent'</span><span class=\"k\">))</span> <span class=\"k\">{</span>","                    me<span class=\"k\">.</span>body<span class=\"k\">.</span>innerHTML <span class=\"k\">=</span> <span class=\"s\">'&lt;p&gt;'</span> <span class=\"k\">+</span> <span class=\"k\">(</span>ie <span class=\"k\">?</span> <span class=\"s\">''</span> <span class=\"k\">:</span> <span class=\"s\">'&lt;br/&gt;'</span><span class=\"k\">)</span> <span class=\"k\">+</span> <span class=\"s\">'&lt;/p&gt;'</span><span class=\"k\">;</span>","                    me<span class=\"k\">.</span>removeListener<span class=\"k\">(</span><span class=\"s\">'firstBeforeExecCommand focus'</span><span class=\"k\">,</span> clear<span class=\"k\">);</span>","                    setTimeout<span class=\"k\">(</span><span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","                        me<span class=\"k\">.</span>focus<span class=\"k\">();</span>","                        me<span class=\"k\">.</span>_selectionChange<span class=\"k\">();</span>","                    <span class=\"k\">}</span><span class=\"k\">,</span> <span class=\"s\">0</span><span class=\"k\">)</span>","                <span class=\"k\">}</span>","            <span class=\"k\">}</span>","","            <span class=\"k\">return</span> <span class=\"k\">function</span> <span class=\"k\">(</span>cont<span class=\"k\">)</span> <span class=\"k\">{</span>","                <span class=\"k\">var</span> me <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">;</span>","                me<span class=\"k\">.</span>body<span class=\"k\">.</span>innerHTML <span class=\"k\">=</span> <span class=\"s\">'&lt;p id=\"initContent\"&gt;'</span> <span class=\"k\">+</span> cont <span class=\"k\">+</span> <span class=\"s\">'&lt;/p&gt;'</span><span class=\"k\">;</span>","                <span class=\"k\">if</span> <span class=\"k\">(</span>browser<span class=\"k\">.</span>ie <span class=\"k\">&amp;&amp;</span> browser<span class=\"k\">.</span>version <span class=\"k\">&lt;</span> <span class=\"s\">7</span><span class=\"k\">)</span> <span class=\"k\">{</span>","                    replaceSrc<span class=\"k\">(</span>me<span class=\"k\">.</span>body<span class=\"k\">);</span>","                <span class=\"k\">}</span>","                me<span class=\"k\">.</span>addListener<span class=\"k\">(</span><span class=\"s\">'firstBeforeExecCommand focus'</span><span class=\"k\">,</span> clear<span class=\"k\">);</span>","            <span class=\"k\">}</span>","        <span class=\"k\">}</span><span class=\"k\">(),</span>","        <span class=\"c\">/**</span>","<span class=\"c\">         * show&#26041;&#27861;&#30340;&#20860;&#23481;&#29256;&#26412;</span>","<span class=\"c\">         * @private</span>","<span class=\"c\">         * @ignore</span>","<span class=\"c\">         */</span>","        setShow<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","            <span class=\"k\">var</span> me <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">,</span> range <span class=\"k\">=</span> me<span class=\"k\">.</span>selection<span class=\"k\">.</span>getRange<span class=\"k\">();</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span>me<span class=\"k\">.</span>container<span class=\"k\">.</span>style<span class=\"k\">.</span>display <span class=\"k\">==</span> <span class=\"s\">'none'</span><span class=\"k\">)</span> <span class=\"k\">{</span>","                <span class=\"c\">//&#26377;&#21487;&#33021;&#20869;&#23481;&#20002;&#22833;&#20102;</span>","                <span class=\"k\">try</span> <span class=\"k\">{</span>","                    range<span class=\"k\">.</span>moveToBookmark<span class=\"k\">(</span>me<span class=\"k\">.</span>lastBk<span class=\"k\">);</span>","                    <span class=\"k\">delete</span> me<span class=\"k\">.</span>lastBk","                <span class=\"k\">}</span> <span class=\"k\">catch</span> <span class=\"k\">(</span>e<span class=\"k\">)</span> <span class=\"k\">{</span>","                    range<span class=\"k\">.</span>setStartAtFirst<span class=\"k\">(</span>me<span class=\"k\">.</span>body<span class=\"k\">).</span>collapse<span class=\"k\">(</span><span class=\"k\">true</span><span class=\"k\">)</span>","                <span class=\"k\">}</span>","                <span class=\"c\">//ie&#19979;focus&#23454;&#25928;&#65292;&#25152;&#20197;&#20570;&#20102;&#20010;&#24310;&#36831;</span>","                setTimeout<span class=\"k\">(</span><span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","                    range<span class=\"k\">.</span>select<span class=\"k\">(</span><span class=\"k\">true</span><span class=\"k\">);</span>","                <span class=\"k\">}</span><span class=\"k\">,</span> <span class=\"s\">100</span><span class=\"k\">);</span>","                me<span class=\"k\">.</span>container<span class=\"k\">.</span>style<span class=\"k\">.</span>display <span class=\"k\">=</span> <span class=\"s\">''</span><span class=\"k\">;</span>","            <span class=\"k\">}</span>","","        <span class=\"k\">}</span><span class=\"k\">,</span>","        <span class=\"c\">/**</span>","<span class=\"c\">         * &#26174;&#31034;&#32534;&#36753;&#22120;</span>","<span class=\"c\">         * @name show</span>","<span class=\"c\">         * @grammar editor.show()</span>","<span class=\"c\">         */</span>","        show<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","            <span class=\"k\">return</span> <span class=\"k\">this</span><span class=\"k\">.</span>setShow<span class=\"k\">();</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        <span class=\"c\">/**</span>","<span class=\"c\">         * hide&#26041;&#27861;&#30340;&#20860;&#23481;&#29256;&#26412;</span>","<span class=\"c\">         * @private</span>","<span class=\"c\">         * @ignore</span>","<span class=\"c\">         */</span>","        setHide<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","            <span class=\"k\">var</span> me <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">;</span>","            <span class=\"k\">if</span> <span class=\"k\">(!</span>me<span class=\"k\">.</span>lastBk<span class=\"k\">)</span> <span class=\"k\">{</span>","                me<span class=\"k\">.</span>lastBk <span class=\"k\">=</span> me<span class=\"k\">.</span>selection<span class=\"k\">.</span>getRange<span class=\"k\">().</span>createBookmark<span class=\"k\">(</span><span class=\"k\">true</span><span class=\"k\">);</span>","            <span class=\"k\">}</span>","            me<span class=\"k\">.</span>container<span class=\"k\">.</span>style<span class=\"k\">.</span>display <span class=\"k\">=</span> <span class=\"s\">'none'</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        <span class=\"c\">/**</span>","<span class=\"c\">         * &#38544;&#34255;&#32534;&#36753;&#22120;</span>","<span class=\"c\">         * @name hide</span>","<span class=\"c\">         * @grammar editor.hide()</span>","<span class=\"c\">         */</span>","        hide<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","            <span class=\"k\">return</span> <span class=\"k\">this</span><span class=\"k\">.</span>setHide<span class=\"k\">();</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        <span class=\"c\">/**</span>","<span class=\"c\">         * &#26681;&#25454;&#21046;&#23450;&#30340;&#36335;&#24452;&#65292;&#33719;&#21462;&#23545;&#24212;&#30340;&#35821;&#35328;&#36164;&#28304;</span>","<span class=\"c\">         * @name  getLang</span>","<span class=\"c\">         * @grammar editor.getLang(path)  =&gt;  &#65288;JSON|String) &#36335;&#24452;&#26681;&#25454;&#30340;&#26159;lang&#30446;&#24405;&#19979;&#30340;&#35821;&#35328;&#25991;&#20214;&#30340;&#36335;&#24452;&#32467;&#26500;</span>","<span class=\"c\">         * @example</span>","<span class=\"c\">         * editor.getLang('contextMenu.delete') //&#22914;&#26524;&#24403;&#21069;&#26159;&#20013;&#25991;&#65292;&#37027;&#36820;&#22238;&#26159;&#30340;&#26159;&#21024;&#38500;</span>","<span class=\"c\">         */</span>","        getLang<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">(</span>path<span class=\"k\">)</span> <span class=\"k\">{</span>","            <span class=\"k\">var</span> lang <span class=\"k\">=</span> UE<span class=\"k\">.</span>I18N<span class=\"k\">[</span><span class=\"k\">this</span><span class=\"k\">.</span>options<span class=\"k\">.</span>lang<span class=\"k\">];</span>","            <span class=\"k\">if</span> <span class=\"k\">(!</span>lang<span class=\"k\">)</span> <span class=\"k\">{</span>","                <span class=\"k\">throw</span> Error<span class=\"k\">(</span><span class=\"s\">\"not import language file\"</span><span class=\"k\">);</span>","            <span class=\"k\">}</span>","            path <span class=\"k\">=</span> <span class=\"k\">(</span>path <span class=\"k\">||</span> <span class=\"s\">\"\"</span><span class=\"k\">).</span>split<span class=\"k\">(</span><span class=\"s\">\".\"</span><span class=\"k\">);</span>","            <span class=\"k\">for</span> <span class=\"k\">(</span><span class=\"k\">var</span> i <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">,</span> ci<span class=\"k\">;</span> ci <span class=\"k\">=</span> path<span class=\"k\">[</span>i<span class=\"k\">++];)</span> <span class=\"k\">{</span>","                lang <span class=\"k\">=</span> lang<span class=\"k\">[</span>ci<span class=\"k\">];</span>","                <span class=\"k\">if</span> <span class=\"k\">(!</span>lang<span class=\"k\">)</span><span class=\"k\">break</span><span class=\"k\">;</span>","            <span class=\"k\">}</span>","            <span class=\"k\">return</span> lang<span class=\"k\">;</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        <span class=\"c\">/**</span>","<span class=\"c\">         * &#35745;&#31639;&#32534;&#36753;&#22120;&#24403;&#21069;&#20869;&#23481;&#30340;&#38271;&#24230;</span>","<span class=\"c\">         * @name  getContentLength</span>","<span class=\"c\">         * @grammar editor.getContentLength(ingoneHtml,tagNames)  =&gt;</span>","<span class=\"c\">         * @example</span>","<span class=\"c\">         * editor.getLang(true)</span>","<span class=\"c\">         */</span>","        getContentLength<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">(</span>ingoneHtml<span class=\"k\">,</span> tagNames<span class=\"k\">)</span> <span class=\"k\">{</span>","            <span class=\"k\">var</span> count <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>getContent<span class=\"k\">().</span>length<span class=\"k\">;</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span>ingoneHtml<span class=\"k\">)</span> <span class=\"k\">{</span>","                tagNames <span class=\"k\">=</span> <span class=\"k\">(</span>tagNames <span class=\"k\">||</span> <span class=\"k\">[]).</span>concat<span class=\"k\">([</span> <span class=\"s\">'hr'</span><span class=\"k\">,</span> <span class=\"s\">'img'</span><span class=\"k\">,</span> <span class=\"s\">'iframe'</span><span class=\"k\">]);</span>","                count <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>getContentTxt<span class=\"k\">().</span>replace<span class=\"k\">(</span><span class=\"s\">/[\\t\\r\\n]+/g</span><span class=\"k\">,</span> <span class=\"s\">''</span><span class=\"k\">).</span>length<span class=\"k\">;</span>","                <span class=\"k\">for</span> <span class=\"k\">(</span><span class=\"k\">var</span> i <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">,</span> ci<span class=\"k\">;</span> ci <span class=\"k\">=</span> tagNames<span class=\"k\">[</span>i<span class=\"k\">++];)</span> <span class=\"k\">{</span>","                    count <span class=\"k\">+=</span> <span class=\"k\">this</span><span class=\"k\">.</span>document<span class=\"k\">.</span>getElementsByTagName<span class=\"k\">(</span>ci<span class=\"k\">).</span>length<span class=\"k\">;</span>","                <span class=\"k\">}</span>","            <span class=\"k\">}</span>","            <span class=\"k\">return</span> count<span class=\"k\">;</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        addInputRule<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">(</span>rule<span class=\"k\">)</span> <span class=\"k\">{</span>","            <span class=\"k\">this</span><span class=\"k\">.</span>inputRules<span class=\"k\">.</span>push<span class=\"k\">(</span>rule<span class=\"k\">);</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        filterInputRule<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">(</span>root<span class=\"k\">)</span> <span class=\"k\">{</span>","            <span class=\"k\">for</span> <span class=\"k\">(</span><span class=\"k\">var</span> i <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">,</span> ci<span class=\"k\">;</span> ci <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>inputRules<span class=\"k\">[</span>i<span class=\"k\">++];)</span> <span class=\"k\">{</span>","                ci<span class=\"k\">.</span>call<span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">,</span> root<span class=\"k\">)</span>","            <span class=\"k\">}</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        addOutputRule<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">(</span>rule<span class=\"k\">)</span> <span class=\"k\">{</span>","            <span class=\"k\">this</span><span class=\"k\">.</span>outputRules<span class=\"k\">.</span>push<span class=\"k\">(</span>rule<span class=\"k\">)</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        filterOutputRule<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">(</span>root<span class=\"k\">)</span> <span class=\"k\">{</span>","            <span class=\"k\">for</span> <span class=\"k\">(</span><span class=\"k\">var</span> i <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">,</span> ci<span class=\"k\">;</span> ci <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>outputRules<span class=\"k\">[</span>i<span class=\"k\">++];)</span> <span class=\"k\">{</span>","                ci<span class=\"k\">.</span>call<span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">,</span> root<span class=\"k\">)</span>","            <span class=\"k\">}</span>","        <span class=\"k\">}</span>","        <span class=\"c\">/**</span>","<span class=\"c\">         * &#24471;&#21040;dialog&#23454;&#20363;&#23545;&#35937;</span>","<span class=\"c\">         * @name getDialog</span>","<span class=\"c\">         * @grammar editor.getDialog(dialogName) =&gt; Object</span>","<span class=\"c\">         * @example</span>","<span class=\"c\">         * var dialog = editor.getDialog(\"insertimage\");</span>","<span class=\"c\">         * dialog.open();   //&#25171;&#24320;dialog</span>","<span class=\"c\">         * dialog.close();  //&#20851;&#38381;dialog</span>","<span class=\"c\">         */</span>","    <span class=\"k\">}</span><span class=\"k\">;</span>","    utils<span class=\"k\">.</span>inherits<span class=\"k\">(</span>Editor<span class=\"k\">,</span> EventBase<span class=\"k\">);</span>","<span class=\"k\">}</span><span class=\"k\">)();</span>"];
_$jscoverage['core/Editor.js'][8]++;
(function () {
  _$jscoverage['core/Editor.js'][9]++;
  var uid = 0, _selectionChangeTimer;
  _$jscoverage['core/Editor.js'][18]++;
  function replaceSrc(root) {
    _$jscoverage['core/Editor.js'][19]++;
    utils.each(domUtils.getElementsByTagName(root, "a img"), (function (node) {
  _$jscoverage['core/Editor.js'][20]++;
  var val, attr = ((node.tagName == "A")? "href": "src");
  _$jscoverage['core/Editor.js'][21]++;
  if ((val = node.getAttribute(("_" + attr)))) {
    _$jscoverage['core/Editor.js'][22]++;
    node.setAttribute(attr, val);
  }
}));
}
  _$jscoverage['core/Editor.js'][33]++;
  function setValue(form, editor) {
    _$jscoverage['core/Editor.js'][34]++;
    var textarea;
    _$jscoverage['core/Editor.js'][35]++;
    if (editor.textarea) {
      _$jscoverage['core/Editor.js'][36]++;
      if (utils.isString(editor.textarea)) {
        _$jscoverage['core/Editor.js'][37]++;
        for (var i = 0, ti, tis = domUtils.getElementsByTagName(form, "textarea"); (ti = tis[(i++)]);) {
          _$jscoverage['core/Editor.js'][38]++;
          if ((ti.id == ("ueditor_textarea_" + editor.options.textarea))) {
            _$jscoverage['core/Editor.js'][39]++;
            textarea = ti;
            _$jscoverage['core/Editor.js'][40]++;
            break;
          }
}
      }
      else {
        _$jscoverage['core/Editor.js'][44]++;
        textarea = editor.textarea;
      }
    }
    _$jscoverage['core/Editor.js'][47]++;
    if ((! textarea)) {
      _$jscoverage['core/Editor.js'][48]++;
      form.appendChild((textarea = domUtils.createElement(document, "textarea", {"name": editor.options.textarea, "id": ("ueditor_textarea_" + editor.options.textarea), "style": "display:none"})));
      _$jscoverage['core/Editor.js'][54]++;
      editor.textarea = textarea;
    }
    _$jscoverage['core/Editor.js'][56]++;
    textarea.value = (editor.hasContents()? (editor.options.allHtmlEnabled? editor.getAllHtml(): editor.getContent(null, null, true)): "");
}
  _$jscoverage['core/Editor.js'][72]++;
  var Editor = (UE.Editor = (function (options) {
  _$jscoverage['core/Editor.js'][73]++;
  var me = this;
  _$jscoverage['core/Editor.js'][74]++;
  me.uid = (uid++);
  _$jscoverage['core/Editor.js'][75]++;
  EventBase.call(me);
  _$jscoverage['core/Editor.js'][76]++;
  me.commands = {};
  _$jscoverage['core/Editor.js'][77]++;
  me.options = utils.extend(utils.clone((options || {})), UEDITOR_CONFIG, true);
  _$jscoverage['core/Editor.js'][78]++;
  me.shortcutkeys = {};
  _$jscoverage['core/Editor.js'][79]++;
  me.inputRules = [];
  _$jscoverage['core/Editor.js'][80]++;
  me.outputRules = [];
  _$jscoverage['core/Editor.js'][82]++;
  me.setOpt({isShow: true, initialContent: "\u6b22\u8fce\u4f7f\u7528ueditor!", autoClearinitialContent: false, iframeCssUrl: (me.options.UEDITOR_HOME_URL + "themes/iframe.css"), textarea: "editorValue", focus: false, focusInEnd: true, initialFrameWidth: 1000, initialFrameHeight: (me.options.minFrameHeight || 320), minFrameWidth: 800, minFrameHeight: 220, autoClearEmptyNode: true, fullscreen: false, readonly: false, zIndex: 999, imagePopup: true, enterTag: "p", pageBreakTag: "_baidu_page_break_tag_", customDomain: false, lang: "zh-cn", langPath: (me.options.UEDITOR_HOME_URL + "lang/"), theme: "default", themePath: (me.options.UEDITOR_HOME_URL + "themes/"), allHtmlEnabled: false, scaleEnabled: false, tableNativeEditInFF: false});
  _$jscoverage['core/Editor.js'][111]++;
  utils.loadFile(document, {src: (me.options.langPath + me.options.lang + "/" + me.options.lang + ".js"), tag: "script", type: "text/javascript", defer: "defer"}, (function () {
  _$jscoverage['core/Editor.js'][118]++;
  for (var pi in UE.plugins) {
    _$jscoverage['core/Editor.js'][119]++;
    UE.plugins[pi].call(me);
}
  _$jscoverage['core/Editor.js'][121]++;
  me.langIsReady = true;
  _$jscoverage['core/Editor.js'][123]++;
  me.fireEvent("langReady");
}));
  _$jscoverage['core/Editor.js'][125]++;
  UE.instants[("ueditorInstant" + me.uid)] = me;
}));
  _$jscoverage['core/Editor.js'][127]++;
  Editor.prototype = {ready: (function (fn) {
  _$jscoverage['core/Editor.js'][141]++;
  var me = this;
  _$jscoverage['core/Editor.js'][142]++;
  if (fn) {
    _$jscoverage['core/Editor.js'][143]++;
    (me.isReady? fn.apply(me): me.addListener("ready", fn));
  }
}), setOpt: (function (key, val) {
  _$jscoverage['core/Editor.js'][152]++;
  var obj = {};
  _$jscoverage['core/Editor.js'][153]++;
  if (utils.isString(key)) {
    _$jscoverage['core/Editor.js'][154]++;
    obj[key] = val;
  }
  else {
    _$jscoverage['core/Editor.js'][156]++;
    obj = key;
  }
  _$jscoverage['core/Editor.js'][158]++;
  utils.extend(this.options, obj, true);
}), destroy: (function () {
  _$jscoverage['core/Editor.js'][167]++;
  var me = this;
  _$jscoverage['core/Editor.js'][168]++;
  me.fireEvent("destroy");
  _$jscoverage['core/Editor.js'][169]++;
  var container = me.container.parentNode;
  _$jscoverage['core/Editor.js'][170]++;
  var textarea = me.textarea;
  _$jscoverage['core/Editor.js'][171]++;
  if ((! textarea)) {
    _$jscoverage['core/Editor.js'][172]++;
    textarea = document.createElement("textarea");
    _$jscoverage['core/Editor.js'][173]++;
    container.parentNode.insertBefore(textarea, container);
  }
  else {
    _$jscoverage['core/Editor.js'][175]++;
    textarea.style.display = "";
  }
  _$jscoverage['core/Editor.js'][177]++;
  textarea.style.width = (container.offsetWidth + "px");
  _$jscoverage['core/Editor.js'][178]++;
  textarea.style.height = (container.offsetHeight + "px");
  _$jscoverage['core/Editor.js'][179]++;
  textarea.value = me.getContent();
  _$jscoverage['core/Editor.js'][180]++;
  textarea.id = me.key;
  _$jscoverage['core/Editor.js'][181]++;
  container.innerHTML = "";
  _$jscoverage['core/Editor.js'][182]++;
  domUtils.remove(container);
  _$jscoverage['core/Editor.js'][183]++;
  var key = me.key;
  _$jscoverage['core/Editor.js'][185]++;
  for (var p in me) {
    _$jscoverage['core/Editor.js'][186]++;
    if (me.hasOwnProperty(p)) {
      _$jscoverage['core/Editor.js'][187]++;
      (delete this[p]);
    }
}
  _$jscoverage['core/Editor.js'][190]++;
  UE.delEditor(key);
}), render: (function (container) {
  _$jscoverage['core/Editor.js'][200]++;
  var me = this, options = me.options;
  _$jscoverage['core/Editor.js'][201]++;
  if (utils.isString(container)) {
    _$jscoverage['core/Editor.js'][202]++;
    container = document.getElementById(container);
  }
  _$jscoverage['core/Editor.js'][204]++;
  if (container) {
    _$jscoverage['core/Editor.js'][205]++;
    var useBodyAsViewport = (ie && (browser.version < 9)), html = (((ie && (browser.version < 9))? "": "<!DOCTYPE html>") + "<html xmlns='http://www.w3.org/1999/xhtml'" + ((! useBodyAsViewport)? " class='view'": "") + "><head>" + (options.iframeCssUrl? ("<link rel='stylesheet' type='text/css' href='" + utils.unhtml(options.iframeCssUrl) + "'/>"): "") + "<style type='text/css'>" + ".view{padding:0;word-wrap:break-word;cursor:text;height:100%;}\n" + "body{margin:8px;font-family:sans-serif;font-size:16px;}" + "p{margin:5px 0;}" + (options.initialStyle || "") + "</style></head><body" + (useBodyAsViewport? " class='view'": "") + "></body>");
    _$jscoverage['core/Editor.js'][219]++;
    if ((options.customDomain && (document.domain != location.hostname))) {
      _$jscoverage['core/Editor.js'][220]++;
      html += ("<script>window.parent.UE.instants['ueditorInstant" + me.uid + "']._setup(document);</script></html>");
      _$jscoverage['core/Editor.js'][221]++;
      container.appendChild(domUtils.createElement(document, "iframe", {id: ("baidu_editor_" + me.uid), width: "100%", height: "100%", frameborder: "0", src: ("javascript:void(function(){document.open();document.domain=\"" + document.domain + "\";" + "document.write(\"" + html + "\");document.close();}())")}));
    }
    else {
      _$jscoverage['core/Editor.js'][230]++;
      container.innerHTML = ("<iframe id=\"" + "baidu_editor_" + this.uid + "\"" + "width=\"100%\" height=\"100%\" scroll=\"no\" frameborder=\"0\" ></iframe>");
      _$jscoverage['core/Editor.js'][231]++;
      var doc = container.firstChild.contentWindow.document;
      _$jscoverage['core/Editor.js'][233]++;
      doc.open();
      _$jscoverage['core/Editor.js'][234]++;
      doc.write((html + "</html>"));
      _$jscoverage['core/Editor.js'][235]++;
      doc.close();
      _$jscoverage['core/Editor.js'][236]++;
      me._setup(doc);
    }
    _$jscoverage['core/Editor.js'][238]++;
    container.style.overflow = "hidden";
  }
}), _setup: (function (doc) {
  _$jscoverage['core/Editor.js'][249]++;
  var me = this, options = me.options;
  _$jscoverage['core/Editor.js'][251]++;
  if (ie) {
    _$jscoverage['core/Editor.js'][252]++;
    doc.body.disabled = true;
    _$jscoverage['core/Editor.js'][253]++;
    doc.body.contentEditable = true;
    _$jscoverage['core/Editor.js'][254]++;
    doc.body.disabled = false;
  }
  else {
    _$jscoverage['core/Editor.js'][256]++;
    doc.body.contentEditable = true;
    _$jscoverage['core/Editor.js'][257]++;
    doc.body.spellcheck = false;
  }
  _$jscoverage['core/Editor.js'][259]++;
  me.document = doc;
  _$jscoverage['core/Editor.js'][260]++;
  me.window = (doc.defaultView || doc.parentWindow);
  _$jscoverage['core/Editor.js'][261]++;
  me.iframe = me.window.frameElement;
  _$jscoverage['core/Editor.js'][262]++;
  me.body = doc.body;
  _$jscoverage['core/Editor.js'][264]++;
  me.setHeight(Math.max(options.minFrameHeight, options.initialFrameHeight));
  _$jscoverage['core/Editor.js'][265]++;
  me.selection = new (dom.Selection)(doc);
  _$jscoverage['core/Editor.js'][267]++;
  var geckoSel;
  _$jscoverage['core/Editor.js'][268]++;
  if ((browser.gecko && (geckoSel = this.selection.getNative()))) {
    _$jscoverage['core/Editor.js'][269]++;
    geckoSel.removeAllRanges();
  }
  _$jscoverage['core/Editor.js'][271]++;
  this._initEvents();
  _$jscoverage['core/Editor.js'][272]++;
  if (options.initialContent) {
    _$jscoverage['core/Editor.js'][273]++;
    if (options.autoClearinitialContent) {
      _$jscoverage['core/Editor.js'][274]++;
      var oldExecCommand = me.execCommand;
      _$jscoverage['core/Editor.js'][275]++;
      me.execCommand = (function () {
  _$jscoverage['core/Editor.js'][276]++;
  me.fireEvent("firstBeforeExecCommand");
  _$jscoverage['core/Editor.js'][277]++;
  return oldExecCommand.apply(me, arguments);
});
      _$jscoverage['core/Editor.js'][279]++;
      this._setDefaultContent(options.initialContent);
    }
    else {
      _$jscoverage['core/Editor.js'][281]++;
      this.setContent(options.initialContent, false, true);
    }
  }
  _$jscoverage['core/Editor.js'][284]++;
  for (var form = this.iframe.parentNode; (! domUtils.isBody(form)); (form = form.parentNode)) {
    _$jscoverage['core/Editor.js'][285]++;
    if ((form.tagName == "FORM")) {
      _$jscoverage['core/Editor.js'][286]++;
      domUtils.on(form, "submit", (function () {
  _$jscoverage['core/Editor.js'][287]++;
  setValue(this, me);
}));
      _$jscoverage['core/Editor.js'][289]++;
      break;
    }
}
  _$jscoverage['core/Editor.js'][293]++;
  if (domUtils.isEmptyNode(me.body)) {
    _$jscoverage['core/Editor.js'][294]++;
    me.body.innerHTML = ("<p>" + (browser.ie? "": "<br/>") + "</p>");
  }
  _$jscoverage['core/Editor.js'][297]++;
  if (options.focus) {
    _$jscoverage['core/Editor.js'][298]++;
    setTimeout((function () {
  _$jscoverage['core/Editor.js'][299]++;
  me.focus(me.options.focusInEnd);
  _$jscoverage['core/Editor.js'][301]++;
  ((! me.options.autoClearinitialContent) && me._selectionChange());
}), 0);
  }
  _$jscoverage['core/Editor.js'][304]++;
  if ((! me.container)) {
    _$jscoverage['core/Editor.js'][305]++;
    me.container = this.iframe.parentNode;
  }
  _$jscoverage['core/Editor.js'][307]++;
  if ((options.fullscreen && me.ui)) {
    _$jscoverage['core/Editor.js'][308]++;
    me.ui.setFullScreen(true);
  }
  _$jscoverage['core/Editor.js'][311]++;
  try {
    _$jscoverage['core/Editor.js'][312]++;
    me.document.execCommand("2D-position", false, false);
  }
  catch (e) {
  }
  _$jscoverage['core/Editor.js'][315]++;
  try {
    _$jscoverage['core/Editor.js'][316]++;
    me.document.execCommand("enableInlineTableEditing", false, false);
  }
  catch (e) {
  }
  _$jscoverage['core/Editor.js'][319]++;
  try {
    _$jscoverage['core/Editor.js'][320]++;
    me.document.execCommand("enableObjectResizing", false, false);
  }
  catch (e) {
  }
  _$jscoverage['core/Editor.js'][326]++;
  me._bindshortcutKeys();
  _$jscoverage['core/Editor.js'][327]++;
  me.isReady = 1;
  _$jscoverage['core/Editor.js'][328]++;
  me.fireEvent("ready");
  _$jscoverage['core/Editor.js'][329]++;
  (options.onready && options.onready.call(me));
  _$jscoverage['core/Editor.js'][330]++;
  if ((! browser.ie)) {
    _$jscoverage['core/Editor.js'][331]++;
    domUtils.on(me.window, ["blur", "focus"], (function (e) {
  _$jscoverage['core/Editor.js'][333]++;
  if ((e.type == "blur")) {
    _$jscoverage['core/Editor.js'][334]++;
    me._bakRange = me.selection.getRange();
    _$jscoverage['core/Editor.js'][335]++;
    try {
      _$jscoverage['core/Editor.js'][336]++;
      me.selection.getNative().removeAllRanges();
    }
    catch (e) {
    }
  }
  else {
    _$jscoverage['core/Editor.js'][341]++;
    try {
      _$jscoverage['core/Editor.js'][342]++;
      (me._bakRange && me._bakRange.select());
    }
    catch (e) {
    }
  }
}));
  }
  _$jscoverage['core/Editor.js'][349]++;
  if ((browser.gecko && (browser.version <= 10902))) {
    _$jscoverage['core/Editor.js'][351]++;
    me.body.contentEditable = false;
    _$jscoverage['core/Editor.js'][352]++;
    setTimeout((function () {
  _$jscoverage['core/Editor.js'][353]++;
  me.body.contentEditable = true;
}), 100);
    _$jscoverage['core/Editor.js'][355]++;
    setInterval((function () {
  _$jscoverage['core/Editor.js'][356]++;
  me.body.style.height = ((me.iframe.offsetHeight - 20) + "px");
}), 100);
  }
  _$jscoverage['core/Editor.js'][359]++;
  ((! options.isShow) && me.setHide());
  _$jscoverage['core/Editor.js'][360]++;
  (options.readonly && me.setDisabled());
}), sync: (function (formId) {
  _$jscoverage['core/Editor.js'][375]++;
  var me = this, form = (formId? document.getElementById(formId): domUtils.findParent(me.iframe.parentNode, (function (node) {
  _$jscoverage['core/Editor.js'][378]++;
  return (node.tagName == "FORM");
}), true));
  _$jscoverage['core/Editor.js'][380]++;
  (form && setValue(form, me));
}), setHeight: (function (height) {
  _$jscoverage['core/Editor.js'][388]++;
  if ((height !== parseInt(this.iframe.parentNode.style.height))) {
    _$jscoverage['core/Editor.js'][389]++;
    this.iframe.parentNode.style.height = (height + "px");
  }
  _$jscoverage['core/Editor.js'][391]++;
  this.document.body.style.height = ((height - 20) + "px");
}), addshortcutkey: (function (cmd, keys) {
  _$jscoverage['core/Editor.js'][395]++;
  var obj = {};
  _$jscoverage['core/Editor.js'][396]++;
  if (keys) {
    _$jscoverage['core/Editor.js'][397]++;
    obj[cmd] = keys;
  }
  else {
    _$jscoverage['core/Editor.js'][399]++;
    obj = cmd;
  }
  _$jscoverage['core/Editor.js'][401]++;
  utils.extend(this.shortcutkeys, obj);
}), _bindshortcutKeys: (function () {
  _$jscoverage['core/Editor.js'][404]++;
  var me = this, shortcutkeys = this.shortcutkeys;
  _$jscoverage['core/Editor.js'][405]++;
  me.addListener("keydown", (function (type, e) {
  _$jscoverage['core/Editor.js'][406]++;
  var keyCode = (e.keyCode || e.which);
  _$jscoverage['core/Editor.js'][407]++;
  for (var i in shortcutkeys) {
    _$jscoverage['core/Editor.js'][408]++;
    var tmp = shortcutkeys[i].split(",");
    _$jscoverage['core/Editor.js'][409]++;
    for (var t = 0, ti; (ti = tmp[(t++)]);) {
      _$jscoverage['core/Editor.js'][410]++;
      ti = ti.split(":");
      _$jscoverage['core/Editor.js'][411]++;
      var key = ti[0], param = ti[1];
      _$jscoverage['core/Editor.js'][412]++;
      if ((/^(ctrl)(\+shift)?\+(\d+)$/.test(key.toLowerCase()) || /^(\d+)$/.test(key))) {
        _$jscoverage['core/Editor.js'][413]++;
        if (((((RegExp.$1 == "ctrl")? (e.ctrlKey || e.metaKey): 0) && ((RegExp.$2 != "")? e[(RegExp.$2.slice(1) + "Key")]: 1) && (keyCode == RegExp.$3)) || (keyCode == RegExp.$1))) {
          _$jscoverage['core/Editor.js'][419]++;
          me.execCommand(i, param);
          _$jscoverage['core/Editor.js'][420]++;
          domUtils.preventDefault(e);
        }
      }
}
}
}));
}), getContent: (function (cmd, fn) {
  _$jscoverage['core/Editor.js'][441]++;
  var me = this;
  _$jscoverage['core/Editor.js'][442]++;
  if ((cmd && utils.isFunction(cmd))) {
    _$jscoverage['core/Editor.js'][443]++;
    fn = cmd;
    _$jscoverage['core/Editor.js'][444]++;
    cmd = "";
  }
  _$jscoverage['core/Editor.js'][446]++;
  if ((fn? (! fn()): (! this.hasContents()))) {
    _$jscoverage['core/Editor.js'][447]++;
    return "";
  }
  _$jscoverage['core/Editor.js'][449]++;
  var range = me.selection.getRange(), address = range.createAddress();
  _$jscoverage['core/Editor.js'][452]++;
  me.fireEvent("beforegetcontent");
  _$jscoverage['core/Editor.js'][453]++;
  var root = UE.htmlparser(me.body.innerHTML);
  _$jscoverage['core/Editor.js'][454]++;
  me.filterOutputRule(root);
  _$jscoverage['core/Editor.js'][455]++;
  me.fireEvent("aftergetcontent", cmd);
  _$jscoverage['core/Editor.js'][457]++;
  try {
    _$jscoverage['core/Editor.js'][458]++;
    range.moveToAddress(address).select(true);
  }
  catch (e) {
  }
  _$jscoverage['core/Editor.js'][461]++;
  return root.toHtml();
}), getAllHtml: (function () {
  _$jscoverage['core/Editor.js'][469]++;
  var me = this, headHtml = [], html = "";
  _$jscoverage['core/Editor.js'][472]++;
  me.fireEvent("getAllHtml", headHtml);
  _$jscoverage['core/Editor.js'][473]++;
  if ((browser.ie && (browser.version > 8))) {
    _$jscoverage['core/Editor.js'][474]++;
    var headHtmlForIE9 = "";
    _$jscoverage['core/Editor.js'][475]++;
    utils.each(me.document.styleSheets, (function (si) {
  _$jscoverage['core/Editor.js'][476]++;
  headHtmlForIE9 += (si.href? ("<link rel=\"stylesheet\" type=\"text/css\" href=\"" + si.href + "\" />"): ("<style>" + si.cssText + "</style>"));
}));
    _$jscoverage['core/Editor.js'][478]++;
    utils.each(me.document.getElementsByTagName("script"), (function (si) {
  _$jscoverage['core/Editor.js'][479]++;
  headHtmlForIE9 += si.outerHTML;
}));
  }
  _$jscoverage['core/Editor.js'][483]++;
  return ("<html><head>" + (me.options.charset? ("<meta http-equiv=\"Content-Type\" content=\"text/html; charset=" + me.options.charset + "\"/>"): "") + (headHtmlForIE9 || me.document.getElementsByTagName("head")[0].innerHTML) + headHtml.join("\n") + "</head>" + "<body " + ((ie && (browser.version < 9))? "class=\"view\"": "") + ">" + me.getContent(null, null, true) + "</body></html>");
}), getPlainTxt: (function () {
  _$jscoverage['core/Editor.js'][493]++;
  var reg = new RegExp(domUtils.fillChar, "g"), html = this.body.innerHTML.replace(/[\n\r]/g, "");
  _$jscoverage['core/Editor.js'][495]++;
  html = html.replace(/<(p|div)[^>]*>(<br\/?>|&nbsp;)<\/\1>/gi, "\n").replace(/<br\/?>/gi, "\n").replace(/<[^>/]+>/g, "").replace(/(\n)?<\/([^>]+)>/g, (function (a, b, c) {
  _$jscoverage['core/Editor.js'][499]++;
  return (dtd.$block[c]? "\n": (b? b: ""));
}));
  _$jscoverage['core/Editor.js'][502]++;
  return html.replace(reg, "").replace(/\u00a0/g, " ").replace(/&nbsp;/g, " ");
}), getContentTxt: (function () {
  _$jscoverage['core/Editor.js'][511]++;
  var reg = new RegExp(domUtils.fillChar, "g");
  _$jscoverage['core/Editor.js'][513]++;
  return this.body[(browser.ie? "innerText": "textContent")].replace(reg, "").replace(/\u00a0/g, " ");
}), setContent: (function (html, isAppendTo, notFireSelectionchange) {
  _$jscoverage['core/Editor.js'][528]++;
  var me = this;
  _$jscoverage['core/Editor.js'][530]++;
  me.fireEvent("beforesetcontent", html);
  _$jscoverage['core/Editor.js'][531]++;
  var root = UE.htmlparser(html);
  _$jscoverage['core/Editor.js'][532]++;
  me.filterInputRule(root);
  _$jscoverage['core/Editor.js'][533]++;
  html = root.toHtml();
  _$jscoverage['core/Editor.js'][536]++;
  me.body.innerHTML = ((isAppendTo? this.getContent(): "") + html);
  _$jscoverage['core/Editor.js'][539]++;
  if ((browser.ie && (browser.version < 7))) {
    _$jscoverage['core/Editor.js'][540]++;
    replaceSrc(me.body);
  }
  _$jscoverage['core/Editor.js'][543]++;
  if ((me.options.enterTag == "p")) {
    _$jscoverage['core/Editor.js'][545]++;
    var child = this.body.firstChild, tmpNode;
    _$jscoverage['core/Editor.js'][546]++;
    if (((! child) || ((child.nodeType == 1) && (dtd.$cdata[child.tagName] || domUtils.isCustomeNode(child)) && (child === this.body.lastChild)))) {
      _$jscoverage['core/Editor.js'][551]++;
      this.body.innerHTML = ("<p>" + (browser.ie? "&nbsp;": "<br/>") + "</p>" + this.body.innerHTML);
    }
    else {
      _$jscoverage['core/Editor.js'][554]++;
      var p = me.document.createElement("p");
      _$jscoverage['core/Editor.js'][555]++;
      while (child) {
        _$jscoverage['core/Editor.js'][556]++;
        while ((child && ((child.nodeType == 3) || ((child.nodeType == 1) && dtd.p[child.tagName] && (! dtd.$cdata[child.tagName]))))) {
          _$jscoverage['core/Editor.js'][557]++;
          tmpNode = child.nextSibling;
          _$jscoverage['core/Editor.js'][558]++;
          p.appendChild(child);
          _$jscoverage['core/Editor.js'][559]++;
          child = tmpNode;
}
        _$jscoverage['core/Editor.js'][561]++;
        if (p.firstChild) {
          _$jscoverage['core/Editor.js'][562]++;
          if ((! child)) {
            _$jscoverage['core/Editor.js'][563]++;
            me.body.appendChild(p);
            _$jscoverage['core/Editor.js'][564]++;
            break;
          }
          else {
            _$jscoverage['core/Editor.js'][566]++;
            child.parentNode.insertBefore(p, child);
            _$jscoverage['core/Editor.js'][567]++;
            p = me.document.createElement("p");
          }
        }
        _$jscoverage['core/Editor.js'][570]++;
        child = child.nextSibling;
}
    }
  }
  _$jscoverage['core/Editor.js'][574]++;
  me.fireEvent("aftersetcontent");
  _$jscoverage['core/Editor.js'][575]++;
  me.fireEvent("contentchange");
  _$jscoverage['core/Editor.js'][577]++;
  ((! notFireSelectionchange) && me._selectionChange());
  _$jscoverage['core/Editor.js'][579]++;
  me._bakRange = (me._bakIERange = null);
  _$jscoverage['core/Editor.js'][581]++;
  var geckoSel;
  _$jscoverage['core/Editor.js'][582]++;
  if ((browser.gecko && (geckoSel = this.selection.getNative()))) {
    _$jscoverage['core/Editor.js'][583]++;
    geckoSel.removeAllRanges();
  }
}), focus: (function (toEnd) {
  _$jscoverage['core/Editor.js'][593]++;
  try {
    _$jscoverage['core/Editor.js'][594]++;
    var me = this, rng = me.selection.getRange();
    _$jscoverage['core/Editor.js'][596]++;
    if (toEnd) {
      _$jscoverage['core/Editor.js'][597]++;
      rng.setStartAtLast(me.body.lastChild).setCursor(false, true);
    }
    else {
      _$jscoverage['core/Editor.js'][599]++;
      rng.select(true);
    }
  }
  catch (e) {
  }
}), _initEvents: (function () {
  _$jscoverage['core/Editor.js'][611]++;
  var me = this, doc = me.document, win = me.window;
  _$jscoverage['core/Editor.js'][614]++;
  me._proxyDomEvent = utils.bind(me._proxyDomEvent, me);
  _$jscoverage['core/Editor.js'][615]++;
  domUtils.on(doc, ["click", "contextmenu", "mousedown", "keydown", "keyup", "keypress", "mouseup", "mouseover", "mouseout", "selectstart"], me._proxyDomEvent);
  _$jscoverage['core/Editor.js'][616]++;
  domUtils.on(win, ["focus", "blur"], me._proxyDomEvent);
  _$jscoverage['core/Editor.js'][617]++;
  domUtils.on(doc, ["mouseup", "keydown"], (function (evt) {
  _$jscoverage['core/Editor.js'][619]++;
  if (((evt.type == "keydown") && (evt.ctrlKey || evt.metaKey || evt.shiftKey || evt.altKey))) {
    _$jscoverage['core/Editor.js'][620]++;
    return;
  }
  _$jscoverage['core/Editor.js'][622]++;
  if ((evt.button == 2)) {
    _$jscoverage['core/Editor.js'][622]++;
    return;
  }
  _$jscoverage['core/Editor.js'][623]++;
  me._selectionChange(250, evt);
}));
  _$jscoverage['core/Editor.js'][628]++;
  var innerDrag = 0, source = (browser.ie? me.body: me.document), dragoverHandler;
  _$jscoverage['core/Editor.js'][629]++;
  domUtils.on(source, "dragstart", (function () {
  _$jscoverage['core/Editor.js'][630]++;
  innerDrag = 1;
}));
  _$jscoverage['core/Editor.js'][632]++;
  domUtils.on(source, (browser.webkit? "dragover": "drop"), (function () {
  _$jscoverage['core/Editor.js'][633]++;
  return (browser.webkit? (function () {
  _$jscoverage['core/Editor.js'][635]++;
  clearTimeout(dragoverHandler);
  _$jscoverage['core/Editor.js'][636]++;
  dragoverHandler = setTimeout((function () {
  _$jscoverage['core/Editor.js'][637]++;
  if ((! innerDrag)) {
    _$jscoverage['core/Editor.js'][638]++;
    var sel = me.selection, range = sel.getRange();
    _$jscoverage['core/Editor.js'][640]++;
    if (range) {
      _$jscoverage['core/Editor.js'][641]++;
      var common = range.getCommonAncestor();
      _$jscoverage['core/Editor.js'][642]++;
      if ((common && me.serialize)) {
        _$jscoverage['core/Editor.js'][643]++;
        var f = me.serialize, node = f.filter(f.transformInput(f.parseHTML(f.word(common.innerHTML))));
        _$jscoverage['core/Editor.js'][652]++;
        common.innerHTML = f.toHTML(node);
      }
    }
  }
  _$jscoverage['core/Editor.js'][656]++;
  innerDrag = 0;
}), 200);
}): (function (e) {
  _$jscoverage['core/Editor.js'][660]++;
  if ((! innerDrag)) {
    _$jscoverage['core/Editor.js'][661]++;
    (e.preventDefault? e.preventDefault(): (e.returnValue = false));
  }
  _$jscoverage['core/Editor.js'][663]++;
  innerDrag = 0;
}));
})());
}), _proxyDomEvent: (function (evt) {
  _$jscoverage['core/Editor.js'][673]++;
  return this.fireEvent(evt.type.replace(/^on/, ""), evt);
}), _selectionChange: (function (delay, evt) {
  _$jscoverage['core/Editor.js'][681]++;
  var me = this;
  _$jscoverage['core/Editor.js'][686]++;
  var hackForMouseUp = false;
  _$jscoverage['core/Editor.js'][687]++;
  var mouseX, mouseY;
  _$jscoverage['core/Editor.js'][688]++;
  if ((browser.ie && (browser.version < 9) && evt && (evt.type == "mouseup"))) {
    _$jscoverage['core/Editor.js'][689]++;
    var range = this.selection.getRange();
    _$jscoverage['core/Editor.js'][690]++;
    if ((! range.collapsed)) {
      _$jscoverage['core/Editor.js'][691]++;
      hackForMouseUp = true;
      _$jscoverage['core/Editor.js'][692]++;
      mouseX = evt.clientX;
      _$jscoverage['core/Editor.js'][693]++;
      mouseY = evt.clientY;
    }
  }
  _$jscoverage['core/Editor.js'][696]++;
  clearTimeout(_selectionChangeTimer);
  _$jscoverage['core/Editor.js'][697]++;
  _selectionChangeTimer = setTimeout((function () {
  _$jscoverage['core/Editor.js'][698]++;
  if ((! me.selection.getNative())) {
    _$jscoverage['core/Editor.js'][699]++;
    return;
  }
  _$jscoverage['core/Editor.js'][703]++;
  var ieRange;
  _$jscoverage['core/Editor.js'][704]++;
  if ((hackForMouseUp && (me.selection.getNative().type == "None"))) {
    _$jscoverage['core/Editor.js'][705]++;
    ieRange = me.document.body.createTextRange();
    _$jscoverage['core/Editor.js'][706]++;
    try {
      _$jscoverage['core/Editor.js'][707]++;
      ieRange.moveToPoint(mouseX, mouseY);
    }
    catch (ex) {
      _$jscoverage['core/Editor.js'][709]++;
      ieRange = null;
    }
  }
  _$jscoverage['core/Editor.js'][712]++;
  var bakGetIERange;
  _$jscoverage['core/Editor.js'][713]++;
  if (ieRange) {
    _$jscoverage['core/Editor.js'][714]++;
    bakGetIERange = me.selection.getIERange;
    _$jscoverage['core/Editor.js'][715]++;
    me.selection.getIERange = (function () {
  _$jscoverage['core/Editor.js'][716]++;
  return ieRange;
});
  }
  _$jscoverage['core/Editor.js'][719]++;
  me.selection.cache();
  _$jscoverage['core/Editor.js'][720]++;
  if (bakGetIERange) {
    _$jscoverage['core/Editor.js'][721]++;
    me.selection.getIERange = bakGetIERange;
  }
  _$jscoverage['core/Editor.js'][723]++;
  if ((me.selection._cachedRange && me.selection._cachedStartElement)) {
    _$jscoverage['core/Editor.js'][724]++;
    me.fireEvent("beforeselectionchange");
    _$jscoverage['core/Editor.js'][726]++;
    me.fireEvent("selectionchange", (! (! evt)));
    _$jscoverage['core/Editor.js'][727]++;
    me.fireEvent("afterselectionchange");
    _$jscoverage['core/Editor.js'][728]++;
    me.selection.clear();
  }
}), (delay || 50));
}), _callCmdFn: (function (fnName, args) {
  _$jscoverage['core/Editor.js'][733]++;
  var cmdName = args[0].toLowerCase(), cmd, cmdFn;
  _$jscoverage['core/Editor.js'][735]++;
  cmd = (this.commands[cmdName] || UE.commands[cmdName]);
  _$jscoverage['core/Editor.js'][736]++;
  cmdFn = (cmd && cmd[fnName]);
  _$jscoverage['core/Editor.js'][738]++;
  if ((((! cmd) || (! cmdFn)) && (fnName == "queryCommandState"))) {
    _$jscoverage['core/Editor.js'][739]++;
    return 0;
  }
  else {
    _$jscoverage['core/Editor.js'][740]++;
    if (cmdFn) {
      _$jscoverage['core/Editor.js'][741]++;
      return cmdFn.apply(this, args);
    }
  }
}), execCommand: (function (cmdName) {
  _$jscoverage['core/Editor.js'][751]++;
  cmdName = cmdName.toLowerCase();
  _$jscoverage['core/Editor.js'][752]++;
  var me = this, result, cmd = (me.commands[cmdName] || UE.commands[cmdName]);
  _$jscoverage['core/Editor.js'][755]++;
  if (((! cmd) || (! cmd.execCommand))) {
    _$jscoverage['core/Editor.js'][756]++;
    return null;
  }
  _$jscoverage['core/Editor.js'][758]++;
  if (((! cmd.notNeedUndo) && (! me.__hasEnterExecCommand))) {
    _$jscoverage['core/Editor.js'][759]++;
    me.__hasEnterExecCommand = true;
    _$jscoverage['core/Editor.js'][760]++;
    if ((me.queryCommandState(cmdName) != -1)) {
      _$jscoverage['core/Editor.js'][761]++;
      me.fireEvent("beforeexeccommand", cmdName);
      _$jscoverage['core/Editor.js'][762]++;
      result = this._callCmdFn("execCommand", arguments);
      _$jscoverage['core/Editor.js'][763]++;
      ((! me._ignoreContentChange) && me.fireEvent("contentchange"));
      _$jscoverage['core/Editor.js'][764]++;
      me.fireEvent("afterexeccommand", cmdName);
    }
    _$jscoverage['core/Editor.js'][766]++;
    me.__hasEnterExecCommand = false;
  }
  else {
    _$jscoverage['core/Editor.js'][768]++;
    result = this._callCmdFn("execCommand", arguments);
    _$jscoverage['core/Editor.js'][769]++;
    ((! me._ignoreContentChange) && me.fireEvent("contentchange"));
  }
  _$jscoverage['core/Editor.js'][771]++;
  ((! me._ignoreContentChange) && me._selectionChange());
  _$jscoverage['core/Editor.js'][772]++;
  return result;
}), queryCommandState: (function (cmdName) {
  _$jscoverage['core/Editor.js'][784]++;
  return this._callCmdFn("queryCommandState", arguments);
}), queryCommandValue: (function (cmdName) {
  _$jscoverage['core/Editor.js'][793]++;
  return this._callCmdFn("queryCommandValue", arguments);
}), hasContents: (function (tags) {
  _$jscoverage['core/Editor.js'][807]++;
  if (tags) {
    _$jscoverage['core/Editor.js'][808]++;
    for (var i = 0, ci; (ci = tags[(i++)]);) {
      _$jscoverage['core/Editor.js'][809]++;
      if ((this.document.getElementsByTagName(ci).length > 0)) {
        _$jscoverage['core/Editor.js'][810]++;
        return true;
      }
}
  }
  _$jscoverage['core/Editor.js'][814]++;
  if ((! domUtils.isEmptyBlock(this.body))) {
    _$jscoverage['core/Editor.js'][815]++;
    return true;
  }
  _$jscoverage['core/Editor.js'][818]++;
  tags = ["div"];
  _$jscoverage['core/Editor.js'][819]++;
  for (i = 0; (ci = tags[(i++)]);) {
    _$jscoverage['core/Editor.js'][820]++;
    var nodes = domUtils.getElementsByTagName(this.document, ci);
    _$jscoverage['core/Editor.js'][821]++;
    for (var n = 0, cn; (cn = nodes[(n++)]);) {
      _$jscoverage['core/Editor.js'][822]++;
      if (domUtils.isCustomeNode(cn)) {
        _$jscoverage['core/Editor.js'][823]++;
        return true;
      }
}
}
  _$jscoverage['core/Editor.js'][827]++;
  return false;
}), reset: (function () {
  _$jscoverage['core/Editor.js'][838]++;
  this.fireEvent("reset");
}), setEnabled: (function () {
  _$jscoverage['core/Editor.js'][841]++;
  var me = this, range;
  _$jscoverage['core/Editor.js'][842]++;
  if ((me.body.contentEditable == "false")) {
    _$jscoverage['core/Editor.js'][843]++;
    me.body.contentEditable = true;
    _$jscoverage['core/Editor.js'][844]++;
    range = me.selection.getRange();
    _$jscoverage['core/Editor.js'][846]++;
    try {
      _$jscoverage['core/Editor.js'][847]++;
      range.moveToBookmark(me.lastBk);
      _$jscoverage['core/Editor.js'][848]++;
      (delete me.lastBk);
    }
    catch (e) {
      _$jscoverage['core/Editor.js'][850]++;
      range.setStartAtFirst(me.body).collapse(true);
    }
    _$jscoverage['core/Editor.js'][852]++;
    range.select(true);
    _$jscoverage['core/Editor.js'][853]++;
    if (me.bkqueryCommandState) {
      _$jscoverage['core/Editor.js'][854]++;
      me.queryCommandState = me.bkqueryCommandState;
      _$jscoverage['core/Editor.js'][855]++;
      (delete me.bkqueryCommandState);
    }
    _$jscoverage['core/Editor.js'][857]++;
    me.fireEvent("selectionchange");
  }
}), enable: (function () {
  _$jscoverage['core/Editor.js'][866]++;
  return this.setEnabled();
}), setDisabled: (function (except) {
  _$jscoverage['core/Editor.js'][869]++;
  var me = this;
  _$jscoverage['core/Editor.js'][870]++;
  except = (except? (utils.isArray(except)? except: [except]): []);
  _$jscoverage['core/Editor.js'][871]++;
  if ((me.body.contentEditable == "true")) {
    _$jscoverage['core/Editor.js'][872]++;
    if ((! me.lastBk)) {
      _$jscoverage['core/Editor.js'][873]++;
      me.lastBk = me.selection.getRange().createBookmark(true);
    }
    _$jscoverage['core/Editor.js'][875]++;
    me.body.contentEditable = false;
    _$jscoverage['core/Editor.js'][876]++;
    me.bkqueryCommandState = me.queryCommandState;
    _$jscoverage['core/Editor.js'][877]++;
    me.queryCommandState = (function (type) {
  _$jscoverage['core/Editor.js'][878]++;
  if ((utils.indexOf(except, type) != -1)) {
    _$jscoverage['core/Editor.js'][879]++;
    return me.bkqueryCommandState.apply(me, arguments);
  }
  _$jscoverage['core/Editor.js'][881]++;
  return -1;
});
    _$jscoverage['core/Editor.js'][883]++;
    me.fireEvent("selectionchange");
  }
}), disable: (function (except) {
  _$jscoverage['core/Editor.js'][895]++;
  return this.setDisabled(except);
}), _setDefaultContent: (function () {
  _$jscoverage['core/Editor.js'][904]++;
  function clear() {
    _$jscoverage['core/Editor.js'][905]++;
    var me = this;
    _$jscoverage['core/Editor.js'][906]++;
    if (me.document.getElementById("initContent")) {
      _$jscoverage['core/Editor.js'][907]++;
      me.body.innerHTML = ("<p>" + (ie? "": "<br/>") + "</p>");
      _$jscoverage['core/Editor.js'][908]++;
      me.removeListener("firstBeforeExecCommand focus", clear);
      _$jscoverage['core/Editor.js'][909]++;
      setTimeout((function () {
  _$jscoverage['core/Editor.js'][910]++;
  me.focus();
  _$jscoverage['core/Editor.js'][911]++;
  me._selectionChange();
}), 0);
    }
}
  _$jscoverage['core/Editor.js'][916]++;
  return (function (cont) {
  _$jscoverage['core/Editor.js'][917]++;
  var me = this;
  _$jscoverage['core/Editor.js'][918]++;
  me.body.innerHTML = ("<p id=\"initContent\">" + cont + "</p>");
  _$jscoverage['core/Editor.js'][919]++;
  if ((browser.ie && (browser.version < 7))) {
    _$jscoverage['core/Editor.js'][920]++;
    replaceSrc(me.body);
  }
  _$jscoverage['core/Editor.js'][922]++;
  me.addListener("firstBeforeExecCommand focus", clear);
});
})(), setShow: (function () {
  _$jscoverage['core/Editor.js'][931]++;
  var me = this, range = me.selection.getRange();
  _$jscoverage['core/Editor.js'][932]++;
  if ((me.container.style.display == "none")) {
    _$jscoverage['core/Editor.js'][934]++;
    try {
      _$jscoverage['core/Editor.js'][935]++;
      range.moveToBookmark(me.lastBk);
      _$jscoverage['core/Editor.js'][936]++;
      (delete me.lastBk);
    }
    catch (e) {
      _$jscoverage['core/Editor.js'][938]++;
      range.setStartAtFirst(me.body).collapse(true);
    }
    _$jscoverage['core/Editor.js'][941]++;
    setTimeout((function () {
  _$jscoverage['core/Editor.js'][942]++;
  range.select(true);
}), 100);
    _$jscoverage['core/Editor.js'][944]++;
    me.container.style.display = "";
  }
}), show: (function () {
  _$jscoverage['core/Editor.js'][954]++;
  return this.setShow();
}), setHide: (function () {
  _$jscoverage['core/Editor.js'][962]++;
  var me = this;
  _$jscoverage['core/Editor.js'][963]++;
  if ((! me.lastBk)) {
    _$jscoverage['core/Editor.js'][964]++;
    me.lastBk = me.selection.getRange().createBookmark(true);
  }
  _$jscoverage['core/Editor.js'][966]++;
  me.container.style.display = "none";
}), hide: (function () {
  _$jscoverage['core/Editor.js'][974]++;
  return this.setHide();
}), getLang: (function (path) {
  _$jscoverage['core/Editor.js'][984]++;
  var lang = UE.I18N[this.options.lang];
  _$jscoverage['core/Editor.js'][985]++;
  if ((! lang)) {
    _$jscoverage['core/Editor.js'][986]++;
    throw Error("not import language file");
  }
  _$jscoverage['core/Editor.js'][988]++;
  path = (path || "").split(".");
  _$jscoverage['core/Editor.js'][989]++;
  for (var i = 0, ci; (ci = path[(i++)]);) {
    _$jscoverage['core/Editor.js'][990]++;
    lang = lang[ci];
    _$jscoverage['core/Editor.js'][991]++;
    if ((! lang)) {
      _$jscoverage['core/Editor.js'][991]++;
      break;
    }
}
  _$jscoverage['core/Editor.js'][993]++;
  return lang;
}), getContentLength: (function (ingoneHtml, tagNames) {
  _$jscoverage['core/Editor.js'][1003]++;
  var count = this.getContent().length;
  _$jscoverage['core/Editor.js'][1004]++;
  if (ingoneHtml) {
    _$jscoverage['core/Editor.js'][1005]++;
    tagNames = (tagNames || []).concat(["hr", "img", "iframe"]);
    _$jscoverage['core/Editor.js'][1006]++;
    count = this.getContentTxt().replace(/[\t\r\n]+/g, "").length;
    _$jscoverage['core/Editor.js'][1007]++;
    for (var i = 0, ci; (ci = tagNames[(i++)]);) {
      _$jscoverage['core/Editor.js'][1008]++;
      count += this.document.getElementsByTagName(ci).length;
}
  }
  _$jscoverage['core/Editor.js'][1011]++;
  return count;
}), addInputRule: (function (rule) {
  _$jscoverage['core/Editor.js'][1014]++;
  this.inputRules.push(rule);
}), filterInputRule: (function (root) {
  _$jscoverage['core/Editor.js'][1017]++;
  for (var i = 0, ci; (ci = this.inputRules[(i++)]);) {
    _$jscoverage['core/Editor.js'][1018]++;
    ci.call(this, root);
}
}), addOutputRule: (function (rule) {
  _$jscoverage['core/Editor.js'][1022]++;
  this.outputRules.push(rule);
}), filterOutputRule: (function (root) {
  _$jscoverage['core/Editor.js'][1025]++;
  for (var i = 0, ci; (ci = this.outputRules[(i++)]);) {
    _$jscoverage['core/Editor.js'][1026]++;
    ci.call(this, root);
}
})};
  _$jscoverage['core/Editor.js'][1039]++;
  utils.inherits(Editor, EventBase);
})();
