function loadSource(){
_$jscoverage['commands.js'] && (_$jscoverage['commands.js'].source = ["<span class=\"c\">/**</span>","<span class=\"c\"> * @file</span>","<span class=\"c\"> * @name &#32534;&#36753;&#22120;&#21629;&#20196;&#25509;&#21475;</span>","<span class=\"c\"> * @short Commands</span>","<span class=\"c\"> * @desc &#26412;&#25991;&#20214;&#38750;&#32534;&#36753;&#22120;&#26680;&#24515;&#25991;&#20214;&#65292;&#20165;&#36866;&#29992;&#20110;&#29983;&#25104;&#23545;&#24212;&#30340;&#21629;&#20196;&#25509;&#21475;&#25991;&#26723;</span>","","<span class=\"c\"> * UEditor&#20013;&#25191;&#34892;&#21629;&#20196;&#30340;&#32479;&#19968;&#35843;&#29992;&#26684;&#24335;&#20026;</span>","<span class=\"c\"> * editor.execCommand(\"cmdName\"[,opt]);</span>","","<span class=\"c\"> * &#26816;&#27979;&#24403;&#21069;&#21629;&#20196;&#26159;&#21542;&#21487;&#29992;&#30340;&#26041;&#27861;&#26159;</span>","<span class=\"c\"> * editor.queryCommandState(\"cmdName\");</span>","","<span class=\"c\"> * &#37096;&#20998;&#21629;&#20196;&#21487;&#20197;&#36820;&#22238;&#21629;&#20196;&#20540;&#65292;&#20854;&#26684;&#24335;&#20026;</span>","<span class=\"c\"> * editor.queryCommandValue(\"cmdName\");</span>","<span class=\"c\"> */</span>","<span class=\"c\">/**</span>","<span class=\"c\"> * &#20026;&#24403;&#21069;&#36873;&#20013;&#25991;&#23383;&#28155;&#21152;&#31895;&#20307;&#25928;&#26524;</span>","<span class=\"c\"> * @name bold</span>","<span class=\"c\"> * @grammar editor.execCommand(\"bold\");</span>","<span class=\"c\"> */</span>","<span class=\"c\">/**</span>","<span class=\"c\"> * &#20026;&#24403;&#21069;&#36873;&#20013;&#25991;&#23383;&#28155;&#21152;&#26012;&#20307;&#25928;&#26524;</span>","<span class=\"c\"> * @name italic</span>","<span class=\"c\"> * @grammar editor.execCommand(\"italic\");</span>","<span class=\"c\"> */</span>","<span class=\"c\">/**</span>","<span class=\"c\"> * &#20026;&#24403;&#21069;&#36873;&#20013;&#25991;&#23383;&#28155;&#21152;&#19979;&#21010;&#32447;&#25928;&#26524;</span>","<span class=\"c\"> * @name underline</span>","<span class=\"c\"> * @grammar editor.execCommand(\"underline\");</span>","<span class=\"c\"> */</span>","<span class=\"c\">/**</span>","<span class=\"c\"> * &#20026;&#24403;&#21069;&#36873;&#20013;&#25991;&#23383;&#28155;&#21152;&#21024;&#38500;&#32447;&#25928;&#26524;</span>","<span class=\"c\"> * @name strikethrough</span>","<span class=\"c\"> * @grammar editor.execCommand(\"strikethrough\");</span>","<span class=\"c\"> */</span>","<span class=\"c\">/**</span>","<span class=\"c\"> * &#23558;&#24403;&#21069;&#36873;&#20013;&#25991;&#23383;&#36716;&#25442;&#25104;&#19978;&#26631;</span>","<span class=\"c\"> * @name superscript</span>","<span class=\"c\"> * @grammar editor.execCommand(\"superscript\");</span>","<span class=\"c\"> */</span>","<span class=\"c\">/**</span>","<span class=\"c\"> * &#23558;&#24403;&#21069;&#36873;&#20013;&#25991;&#23383;&#36716;&#25442;&#25104;&#19979;&#26631;</span>","<span class=\"c\"> * @name subscript</span>","<span class=\"c\"> * @grammar editor.execCommand(\"subscript\");</span>","<span class=\"c\"> */</span>","<span class=\"c\">/**</span>","<span class=\"c\"> * &#20026;&#24403;&#21069;&#36873;&#20013;&#25991;&#23383;&#28155;&#21152;&#39068;&#33394;</span>","<span class=\"c\"> * @name foreColor</span>","<span class=\"c\"> * @grammar editor.execCommand(\"foreColor\",\"#ffffff\");</span>","<span class=\"c\"> */</span>","<span class=\"c\">/**</span>","<span class=\"c\"> * &#20026;&#24403;&#21069;&#36873;&#20013;&#25991;&#23383;&#28155;&#21152;&#32972;&#26223;&#39068;&#33394;</span>","<span class=\"c\"> * @name backColor</span>","<span class=\"c\"> * @grammar editor.execCommand(\"backColor\",\"#dddddd\");</span>","<span class=\"c\"> */</span>","<span class=\"c\">/**</span>","<span class=\"c\"> * &#35774;&#32622;&#24403;&#21069;&#36873;&#20013;&#25991;&#23383;&#30340;&#23383;&#20307;</span>","<span class=\"c\"> * @name fontFamily</span>","<span class=\"c\"> * @grammar editor.execCommand(\"fontFamily\",\"&#24494;&#36719;&#38597;&#40657;,Microsoft YaHei\");</span>","<span class=\"c\"> */</span>","<span class=\"c\">/**</span>","<span class=\"c\"> * &#35774;&#32622;&#24403;&#21069;&#36873;&#20013;&#25991;&#23383;&#30340;&#23383;&#21495;</span>","<span class=\"c\"> * @name fontSize</span>","<span class=\"c\"> * @grammar editor.execCommand(\"fontSize\",\"32px\");</span>","<span class=\"c\"> */</span>","<span class=\"c\">/**</span>","<span class=\"c\"> * &#35774;&#32622;&#24403;&#21069;&#36873;&#21306;&#30340;&#27573;&#33853;&#26684;&#24335;,&#22914;p,h1,h2,h3,...</span>","<span class=\"c\"> * @name paragraph</span>","<span class=\"c\"> * @grammar editor.execCommand(\"paragraph\",\"h1\");</span>","<span class=\"c\"> */</span>","<span class=\"c\">/**</span>","<span class=\"c\"> * &#23558;&#24403;&#21069;&#36873;&#21306;&#21464;&#25442;&#25104;&#26377;&#24207;&#25110;&#32773;&#26080;&#24207;&#21015;&#34920;</span>","<span class=\"c\"> * @name insert(Un)OrderedList</span>","<span class=\"c\"> * @grammar editor.execCommand(\"insertOrderedList\");</span>","<span class=\"c\"> */</span>","<span class=\"c\">/**</span>","<span class=\"c\"> * &#35774;&#32622;&#24403;&#21069;&#36873;&#21306;&#30340;&#34892;&#38388;&#36317;</span>","<span class=\"c\"> * @name lineHeight</span>","<span class=\"c\"> * @grammar editor.execCommand(\"lineHeight\");</span>","<span class=\"c\"> */</span>","<span class=\"c\">/**</span>","<span class=\"c\"> * &#35774;&#32622;&#24403;&#21069;&#36873;&#21306;&#20013;&#30340;&#23383;&#20307;&#23545;&#40784;&#26041;&#24335;</span>","<span class=\"c\"> * @name justify</span>","<span class=\"c\"> * @grammar editor.execCommand(\"justify\",align);  //align&#21487;&#20026;Left&#65292;Right&#65292;Center&#65292;Justify</span>","<span class=\"c\"> */</span>","<span class=\"c\">/**</span>","<span class=\"c\"> * &#23558;&#24403;&#21069;&#36873;&#20013;&#25991;&#23383;&#20013;&#30340;&#23383;&#27597;&#36716;&#25442;&#25104;&#22823;&#20889;</span>","<span class=\"c\"> * @name toUppercase</span>","<span class=\"c\"> * @grammar editor.execCommand(\"toUppercase\");</span>","<span class=\"c\"> */</span>","<span class=\"c\">/**</span>","<span class=\"c\"> * &#23558;&#24403;&#21069;&#36873;&#20013;&#25991;&#23383;&#20013;&#30340;&#23383;&#27597;&#36716;&#25442;&#25104;&#23567;&#20889;</span>","<span class=\"c\"> * @name toLowercase</span>","<span class=\"c\"> * @grammar editor.execCommand(\"toLowercase\");</span>","<span class=\"c\"> */</span>","<span class=\"c\">/**</span>","<span class=\"c\"> * &#20026;&#24403;&#21069;&#36873;&#21306;&#25152;&#22312;&#30340;&#22359;&#32423;&#20803;&#32032;&#28155;&#21152;&#24341;&#29992;&#26631;&#35760;</span>","<span class=\"c\"> * @name blockquote</span>","<span class=\"c\"> * @grammar editor.execCommand(\"blockquote\");</span>","<span class=\"c\"> */</span>","<span class=\"c\">/**</span>","<span class=\"c\"> * &#35774;&#32622;&#24403;&#21069;&#36873;&#21306;&#25152;&#22312;&#22359;&#32423;&#20803;&#32032;&#30340;&#25991;&#23383;&#36755;&#20837;&#26041;&#21521;</span>","<span class=\"c\"> * @name directionality</span>","<span class=\"c\"> * @grammar editor.execCommand(\"directionality\",dir);  //dir&#21487;&#20026;LTR,RTL</span>","<span class=\"c\"> */</span>","<span class=\"c\">/**</span>","<span class=\"c\"> * &#28165;&#38500;&#24403;&#21069;&#36873;&#20013;&#25991;&#23383;&#19978;&#30340;&#25152;&#26377;&#26679;&#24335;&#25110;&#32773;&#25351;&#23450;&#26679;&#24335;</span>","<span class=\"c\"> * @name removeFormat</span>","<span class=\"c\"> * @grammar editor.execCommand(\"removeFormat\")   //&#28165;&#38500;&#25152;&#26377;&#26679;&#24335;</span>","<span class=\"c\"> * @grammar editor.execCommand(\"removeFormat\",tags,style);   //&#28165;&#38500;&#25351;&#23450;tags&#19978;&#30340;&#25351;&#23450;style</span>","<span class=\"c\"> * @example</span>","<span class=\"c\"> * editor.execCommand(\"removeFormat\",'span,a','color,background-color')</span>","<span class=\"c\"> */</span>","<span class=\"c\">/**</span>","<span class=\"c\"> * &#20999;&#25442;&#32431;&#25991;&#26412;&#31896;&#36148;&#27169;&#24335;</span>","<span class=\"c\"> * @name pastePlain</span>","<span class=\"c\"> * @grammar ue.execCommand(\"pastePlain\");</span>","<span class=\"c\"> */</span>","<span class=\"c\">/**</span>","<span class=\"c\"> * &#24320;&#21551;&#26684;&#24335;&#21047;&#21151;&#33021;</span>","<span class=\"c\"> * @name formatMatch</span>","<span class=\"c\"> * @grammar editor.execCommand(\"formatMatch\");</span>","<span class=\"c\"> */</span>","<span class=\"c\">/**</span>","<span class=\"c\"> * &#28165;&#31354;&#25991;&#26723;</span>","<span class=\"c\"> * @name clearDoc</span>","<span class=\"c\"> * @grammar editor.execCommand(\"clearDoc\");</span>","<span class=\"c\"> */</span>","<span class=\"c\">/**</span>","<span class=\"c\"> * &#21024;&#38500;&#24403;&#21069;&#36873;&#20013;&#25991;&#26412;</span>","<span class=\"c\"> * @name delete</span>","<span class=\"c\"> * @grammar editor.execCommand(\"delete\");</span>","<span class=\"c\"> */</span>","<span class=\"c\">/**</span>","<span class=\"c\"> * &#20840;&#37096;&#36873;&#25321;</span>","<span class=\"c\"> * @name selectAll</span>","<span class=\"c\"> * @grammar editor.execCommand(\"selectAll\");</span>","<span class=\"c\"> */</span>","<span class=\"c\">/**</span>","<span class=\"c\"> * &#25764;&#38144;&#25805;&#20316;</span>","<span class=\"c\"> * @name undo</span>","<span class=\"c\"> * @grammar editor.execCommand(\"undo\");</span>","<span class=\"c\"> */</span>","<span class=\"c\">/**</span>","<span class=\"c\"> * &#24674;&#22797;&#25805;&#20316;</span>","<span class=\"c\"> * @name redo</span>","<span class=\"c\"> * @grammar editor.execCommand(\"redo\");</span>","<span class=\"c\"> */</span>","<span class=\"c\">/**</span>","<span class=\"c\"> * &#23545;&#25972;&#20010;&#32534;&#36753;&#25991;&#26723;&#36827;&#34892;&#33258;&#21160;&#25490;&#29256;</span>","<span class=\"c\"> * @name autoTypeset</span>","<span class=\"c\"> * @grammar editor.execCommand(\"autoTypeset\");</span>","<span class=\"c\"> */</span>","<span class=\"c\">/**</span>","<span class=\"c\"> * &#22312;&#24403;&#21069;&#36873;&#21306;&#20301;&#32622;&#25554;&#20837;&#19968;&#27573;html&#20195;&#30721;&#65292;&#26368;&#22522;&#26412;&#21151;&#33021;&#12290;&#22823;&#37096;&#20998;&#20854;&#20182;&#25554;&#20837;&#21629;&#20196;&#37117;&#20250;&#35843;&#29992;&#27492;&#21629;&#20196;&#23436;&#25104;&#26368;&#21518;&#30340;&#25554;&#20837;</span>","<span class=\"c\"> * @name insertHtml</span>","<span class=\"c\"> * @grammar editor.execCommand(\"insertHtml\",\"&#27426;&#36814;&#20351;&#29992;UEditor&#65281;\")</span>","<span class=\"c\"> */</span>","<span class=\"c\">/**</span>","<span class=\"c\"> * &#22312;&#24403;&#21069;&#36873;&#21306;&#20301;&#32622;&#25554;&#20837;&#19968;&#20010;&#36229;&#38142;&#25509;</span>","<span class=\"c\"> * @name link</span>","<span class=\"c\"> * @grammar editor.execCommand(\"link\",linkObj);</span>","<span class=\"c\"> * @example</span>","<span class=\"c\"> * editor.execCommand(\"link\",{</span>","<span class=\"c\"> *     href: \"http://ueditor.baidu.com\",         //&#36229;&#38142;&#22320;&#22336;&#65292;&#24517;&#36873;</span>","<span class=\"c\"> *     data_ue_src: \"http://ueditor.baidu.com\",  //UE&#20869;&#37096;&#20351;&#29992;&#21442;&#25968;&#65292;&#19982;href&#20445;&#25345;&#19968;&#33268;&#21363;&#21487;&#65292;&#21487;&#36873;</span>","<span class=\"c\"> *     target: \"_self\",                          //&#30446;&#26631;&#31383;&#21475;&#65292;&#21487;&#36873;</span>","<span class=\"c\"> *     textValue: \"UEditor\",                     //&#38142;&#25509;&#26174;&#31034;&#25991;&#26412;&#65292;&#21487;&#36873;</span>","<span class=\"c\"> *     title: \"&#30334;&#24230;&#24320;&#28304;&#23500;&#25991;&#26412;&#32534;&#36753;&#22120;UEditor&#23448;&#32593;\"     //&#26631;&#39064;&#65292;&#21487;&#36873;</span>","<span class=\"c\"> * })</span>","<span class=\"c\"> */</span>","<span class=\"c\">/**</span>","<span class=\"c\"> * &#22312;&#24403;&#21069;&#36873;&#21306;&#20301;&#32622;&#25554;&#20837;&#19968;&#20010;&#22270;&#29255;</span>","<span class=\"c\"> * @name insertImage</span>","<span class=\"c\"> * @grammar editor.execCommand(\"insertImage\",imageObj);</span>","<span class=\"c\"> * @example</span>","<span class=\"c\"> * editor.execCommand(\"insertImage\",{</span>","<span class=\"c\"> *     src: \"http://ueditor.baidu.com/logo.jpg\",          //&#22270;&#29255;&#38142;&#25509;&#22320;&#22336;,&#24517;&#36873;</span>","<span class=\"c\"> *     data_ue_src: \"http://ueditor.baidu.com/logo.jpg\",  //UE&#20869;&#37096;&#20351;&#29992;&#21442;&#25968;&#65292;&#19982;src&#20445;&#25345;&#19968;&#33268;&#21363;&#21487;&#65292;&#21487;&#36873;</span>","<span class=\"c\"> *     width: 300,                                        //&#22270;&#29255;&#26174;&#31034;&#23485;&#24230;&#65292;&#21487;&#36873;</span>","<span class=\"c\"> *     height: 400,                                       //&#22270;&#29255;&#26174;&#31034;&#39640;&#24230;&#65292;&#21487;&#36873;</span>","<span class=\"c\"> *     border: 2,                                         //&#22270;&#29255;&#36793;&#26694;&#65292;&#21487;&#36873;</span>","<span class=\"c\"> *     hspace: 5,                                         //&#22270;&#29255;&#24038;&#21491;&#36793;&#36317;&#65292;&#21487;&#36873;</span>","<span class=\"c\"> *     vspace: 2,                                         //&#22270;&#29255;&#19978;&#19979;&#36793;&#36317;&#65292;&#21487;&#36873;</span>","<span class=\"c\"> *     alt: 'UEditor-logo',                               //&#22270;&#29255;&#26367;&#25442;&#25991;&#23383;&#65292;&#21487;&#36873;</span>","<span class=\"c\"> *     title: \"&#30334;&#24230;&#24320;&#28304;&#23500;&#25991;&#26412;&#32534;&#36753;&#22120;UEditor&#23448;&#32593;\"             //&#22270;&#29255;&#26631;&#39064;&#65292;&#21487;&#36873;</span>","<span class=\"c\"> * })</span>","<span class=\"c\"> */</span>","<span class=\"c\">/**</span>","<span class=\"c\"> * &#22312;&#24403;&#21069;&#36873;&#21306;&#20301;&#32622;&#25554;&#20837;&#19968;&#20010;&#35270;&#39057;</span>","<span class=\"c\"> * @name insertVideo</span>","<span class=\"c\"> * @grammar editor.execCommand(\"insertVideo\",videoObj);</span>","<span class=\"c\"> * @example</span>","<span class=\"c\"> * editor.execCommand(\"insertVideo\",{</span>","<span class=\"c\"> *     url: \"http://youku.com/id?id=1233122\",   //&#35270;&#39057;&#22320;&#22336;&#65292;&#24517;&#36873;</span>","<span class=\"c\"> *     width: 420,                              //&#35270;&#39057;&#23485;&#24230;&#65292;&#21487;&#36873;</span>","<span class=\"c\"> *     height: 280,                             //&#35270;&#39057;&#39640;&#24230;&#65292;&#21487;&#36873;</span>","<span class=\"c\"> *     align: \"none\"                            //&#23545;&#40784;&#26041;&#24335;&#65292;&#25903;&#25345;right&#65292;left&#65292;center&#65292;none &#65292;&#21487;&#36873;</span>","<span class=\"c\"> * })</span>","<span class=\"c\"> */</span>","<span class=\"c\">/**</span>","<span class=\"c\"> * &#22312;&#24403;&#21069;&#36873;&#21306;&#20301;&#32622;&#25554;&#20837;&#19968;&#20010;&#26085;&#26399;&#25110;&#32773;&#26102;&#38388;</span>","<span class=\"c\"> * @name date|time</span>","<span class=\"c\"> * @grammar editor.execCommand(\"date\");</span>","<span class=\"c\"> */</span>","<span class=\"c\">/**</span>","<span class=\"c\"> * &#22312;&#24403;&#21069;&#36873;&#21306;&#20301;&#32622;&#25554;&#20837;&#19968;&#20010;&#20998;&#39029;&#31526;&#26631;&#35760;</span>","<span class=\"c\"> * @name pageBreak</span>","<span class=\"c\"> * @grammar editor.execCommand(\"pageBreak\");</span>","<span class=\"c\"> */</span>","<span class=\"c\">/**</span>","<span class=\"c\"> * &#20999;&#25442;&#28304;&#30721;&#32534;&#36753;&#27169;&#24335;&#21644;&#23500;&#25991;&#26412;&#32534;&#36753;&#27169;&#24335;</span>","<span class=\"c\"> * @name source</span>","<span class=\"c\"> * @grammar editor.execCommand(\"source\");</span>","<span class=\"c\"> */</span>","<span class=\"c\">/**</span>","<span class=\"c\"> * IE&#19979;&#36827;&#20837;&#25130;&#23631;&#27169;&#24335;</span>","<span class=\"c\"> * @name snapScreen</span>","<span class=\"c\"> * @grammar editor.execCommand(\"snapScreen\");</span>","<span class=\"c\"> */</span>","<span class=\"c\">/**</span>","<span class=\"c\"> * &#25554;&#20837;&#34920;&#26684;</span>","<span class=\"c\"> * @name insertTable</span>","<span class=\"c\"> * @grammar editor.execCommand(\"insertTable\",rows,cols);</span>","<span class=\"c\"> */</span>","","","","","","","",""]);
_$jscoverage['core/Editor.js'] && (_$jscoverage['core/Editor.js'].source = ["<span class=\"c\">/**</span>","<span class=\"c\"> * @file</span>","<span class=\"c\"> * @name UE.Editor</span>","<span class=\"c\"> * @short Editor</span>","<span class=\"c\"> * @import editor.js,core/utils.js,core/EventBase.js,core/browser.js,core/dom/dtd.js,core/dom/domUtils.js,core/dom/Range.js,core/dom/Selection.js,plugins/serialize.js</span>","<span class=\"c\"> * @desc &#32534;&#36753;&#22120;&#20027;&#31867;&#65292;&#21253;&#21547;&#32534;&#36753;&#22120;&#25552;&#20379;&#30340;&#22823;&#37096;&#20998;&#20844;&#29992;&#25509;&#21475;</span>","<span class=\"c\"> */</span>","<span class=\"k\">(</span><span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","    <span class=\"k\">var</span> uid <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">,</span>","            _selectionChangeTimer<span class=\"k\">;</span>","","    <span class=\"c\">/**</span>","<span class=\"c\">     * &#26367;&#25442;src&#21644;href</span>","<span class=\"c\">     * @private</span>","<span class=\"c\">     * @ignore</span>","<span class=\"c\">     * @param div</span>","<span class=\"c\">     */</span>","    <span class=\"k\">function</span> replaceSrc<span class=\"k\">(</span> div <span class=\"k\">)</span> <span class=\"k\">{</span>","        <span class=\"k\">var</span> imgs <span class=\"k\">=</span> div<span class=\"k\">.</span>getElementsByTagName<span class=\"k\">(</span> <span class=\"s\">\"img\"</span> <span class=\"k\">),</span>","                orgSrc<span class=\"k\">;</span>","        <span class=\"k\">for</span> <span class=\"k\">(</span> <span class=\"k\">var</span> i <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">,</span> img<span class=\"k\">;</span> img <span class=\"k\">=</span> imgs<span class=\"k\">[</span>i<span class=\"k\">++];</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span> orgSrc <span class=\"k\">=</span> img<span class=\"k\">.</span>getAttribute<span class=\"k\">(</span> <span class=\"s\">\"orgSrc\"</span> <span class=\"k\">)</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                img<span class=\"k\">.</span>src <span class=\"k\">=</span> orgSrc<span class=\"k\">;</span>","                img<span class=\"k\">.</span>removeAttribute<span class=\"k\">(</span> <span class=\"s\">\"orgSrc\"</span> <span class=\"k\">);</span>","            <span class=\"k\">}</span>","        <span class=\"k\">}</span>","        <span class=\"k\">var</span> as <span class=\"k\">=</span> div<span class=\"k\">.</span>getElementsByTagName<span class=\"k\">(</span> <span class=\"s\">\"a\"</span> <span class=\"k\">);</span>","        <span class=\"k\">for</span> <span class=\"k\">(</span> <span class=\"k\">var</span> i <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">,</span> ai<span class=\"k\">;</span> ai <span class=\"k\">=</span> as<span class=\"k\">[</span>i<span class=\"k\">++];</span> i<span class=\"k\">++</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span> ai<span class=\"k\">.</span>getAttribute<span class=\"k\">(</span> <span class=\"s\">'data_ue_src'</span> <span class=\"k\">)</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                ai<span class=\"k\">.</span>setAttribute<span class=\"k\">(</span> <span class=\"s\">'href'</span><span class=\"k\">,</span> ai<span class=\"k\">.</span>getAttribute<span class=\"k\">(</span> <span class=\"s\">'data_ue_src'</span> <span class=\"k\">)</span> <span class=\"k\">)</span>","            <span class=\"k\">}</span>","        <span class=\"k\">}</span>","    <span class=\"k\">}</span>","","    <span class=\"c\">/**</span>","<span class=\"c\">     * @private</span>","<span class=\"c\">     * @ignore</span>","<span class=\"c\">     * @param form  &#32534;&#36753;&#22120;&#25152;&#22312;&#30340;form&#20803;&#32032;</span>","<span class=\"c\">     * @param editor  &#32534;&#36753;&#22120;&#23454;&#20363;&#23545;&#35937;</span>","<span class=\"c\">     */</span>","    <span class=\"k\">function</span> setValue<span class=\"k\">(</span> form<span class=\"k\">,</span> editor <span class=\"k\">)</span> <span class=\"k\">{</span>","        <span class=\"k\">var</span> textarea<span class=\"k\">;</span>","        <span class=\"k\">if</span> <span class=\"k\">(</span> editor<span class=\"k\">.</span>textarea <span class=\"k\">)</span> <span class=\"k\">{</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span> utils<span class=\"k\">.</span>isString<span class=\"k\">(</span> editor<span class=\"k\">.</span>textarea <span class=\"k\">)</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                <span class=\"k\">for</span> <span class=\"k\">(</span> <span class=\"k\">var</span> i <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">,</span> ti<span class=\"k\">,</span> tis <span class=\"k\">=</span> domUtils<span class=\"k\">.</span>getElementsByTagName<span class=\"k\">(</span> form<span class=\"k\">,</span> <span class=\"s\">'textarea'</span> <span class=\"k\">);</span> ti <span class=\"k\">=</span> tis<span class=\"k\">[</span>i<span class=\"k\">++];</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                    <span class=\"k\">if</span> <span class=\"k\">(</span> ti<span class=\"k\">.</span>id <span class=\"k\">==</span> <span class=\"s\">'ueditor_textarea_'</span> <span class=\"k\">+</span> editor<span class=\"k\">.</span>options<span class=\"k\">.</span>textarea <span class=\"k\">)</span> <span class=\"k\">{</span>","                        textarea <span class=\"k\">=</span> ti<span class=\"k\">;</span>","                        <span class=\"k\">break</span><span class=\"k\">;</span>","                    <span class=\"k\">}</span>","                <span class=\"k\">}</span>","            <span class=\"k\">}</span> <span class=\"k\">else</span> <span class=\"k\">{</span>","                textarea <span class=\"k\">=</span> editor<span class=\"k\">.</span>textarea<span class=\"k\">;</span>","            <span class=\"k\">}</span>","        <span class=\"k\">}</span>","        <span class=\"k\">if</span> <span class=\"k\">(</span> <span class=\"k\">!</span>textarea <span class=\"k\">)</span> <span class=\"k\">{</span>","            form<span class=\"k\">.</span>appendChild<span class=\"k\">(</span> textarea <span class=\"k\">=</span> domUtils<span class=\"k\">.</span>createElement<span class=\"k\">(</span> document<span class=\"k\">,</span> <span class=\"s\">'textarea'</span><span class=\"k\">,</span> <span class=\"k\">{</span>","                <span class=\"s\">'name'</span><span class=\"k\">:</span>editor<span class=\"k\">.</span>options<span class=\"k\">.</span>textarea<span class=\"k\">,</span>","                <span class=\"s\">'id'</span><span class=\"k\">:</span><span class=\"s\">'ueditor_textarea_'</span> <span class=\"k\">+</span> editor<span class=\"k\">.</span>options<span class=\"k\">.</span>textarea<span class=\"k\">,</span>","                <span class=\"s\">'style'</span><span class=\"k\">:</span><span class=\"s\">\"display:none\"</span>","            <span class=\"k\">}</span> <span class=\"k\">)</span> <span class=\"k\">);</span>","            <span class=\"c\">//&#19981;&#35201;&#20135;&#29983;&#22810;&#20010;textarea</span>","            editor<span class=\"k\">.</span>textarea <span class=\"k\">=</span> textarea<span class=\"k\">;</span>","        <span class=\"k\">}</span>","        textarea<span class=\"k\">.</span>value <span class=\"k\">=</span> editor<span class=\"k\">.</span>options<span class=\"k\">.</span>allHtmlEnabled <span class=\"k\">?</span> editor<span class=\"k\">.</span>getAllHtml<span class=\"k\">()</span> <span class=\"k\">:</span> editor<span class=\"k\">.</span>getContent<span class=\"k\">(</span><span class=\"k\">null</span><span class=\"k\">,</span><span class=\"k\">null</span><span class=\"k\">,</span><span class=\"k\">true</span><span class=\"k\">)</span>","    <span class=\"k\">}</span>","","    <span class=\"c\">/**</span>","<span class=\"c\">     * UEditor&#32534;&#36753;&#22120;&#31867;</span>","<span class=\"c\">     * @name Editor</span>","<span class=\"c\">     * @grammar new UE.Editor(opt)  =&gt; Editor &#23454;&#20363;</span>","<span class=\"c\">     * @desc &#21019;&#24314;&#19968;&#20010;&#36319;&#32534;&#36753;&#22120;&#23454;&#20363;</span>","<span class=\"c\">     * - ***container*** &#32534;&#36753;&#22120;&#23481;&#22120;&#23545;&#35937;</span>","<span class=\"c\">     * - ***iframe*** &#32534;&#36753;&#21306;&#22495;&#25152;&#22312;&#30340;iframe&#23545;&#35937;</span>","<span class=\"c\">     * - ***window*** &#32534;&#36753;&#21306;&#22495;&#25152;&#22312;&#30340;window</span>","<span class=\"c\">     * - ***document*** &#32534;&#36753;&#21306;&#22495;&#25152;&#22312;&#30340;document&#23545;&#35937;</span>","<span class=\"c\">     * - ***body*** &#32534;&#36753;&#21306;&#22495;&#25152;&#22312;&#30340;body&#23545;&#35937;</span>","<span class=\"c\">     * - ***selection*** &#32534;&#36753;&#21306;&#22495;&#30340;&#36873;&#21306;&#23545;&#35937;</span>","<span class=\"c\">     */</span>","    <span class=\"k\">var</span> Editor <span class=\"k\">=</span> UE<span class=\"k\">.</span>Editor <span class=\"k\">=</span> <span class=\"k\">function</span> <span class=\"k\">(</span> options <span class=\"k\">)</span> <span class=\"k\">{</span>","        <span class=\"k\">var</span> me <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">;</span>","        me<span class=\"k\">.</span>uid <span class=\"k\">=</span> uid<span class=\"k\">++;</span>","        EventBase<span class=\"k\">.</span>call<span class=\"k\">(</span> me <span class=\"k\">);</span>","        me<span class=\"k\">.</span>commands <span class=\"k\">=</span> <span class=\"k\">{}</span><span class=\"k\">;</span>","        me<span class=\"k\">.</span>options <span class=\"k\">=</span> utils<span class=\"k\">.</span>extend<span class=\"k\">(</span> utils<span class=\"k\">.</span>clone<span class=\"k\">(</span>options <span class=\"k\">||</span> <span class=\"k\">{}</span><span class=\"k\">),</span>UEDITOR_CONFIG<span class=\"k\">,</span> <span class=\"k\">true</span> <span class=\"k\">);</span>","        <span class=\"c\">//&#35774;&#32622;&#40664;&#35748;&#30340;&#24120;&#29992;&#23646;&#24615;</span>","        me<span class=\"k\">.</span>setOpt<span class=\"k\">(</span> <span class=\"k\">{</span>","            isShow<span class=\"k\">:</span><span class=\"k\">true</span><span class=\"k\">,</span>","            initialContent<span class=\"k\">:</span><span class=\"s\">'&#27426;&#36814;&#20351;&#29992;ueditor!'</span><span class=\"k\">,</span>","            autoClearinitialContent<span class=\"k\">:</span><span class=\"k\">false</span><span class=\"k\">,</span>","            iframeCssUrl<span class=\"k\">:</span>me<span class=\"k\">.</span>options<span class=\"k\">.</span>UEDITOR_HOME_URL <span class=\"k\">+</span> <span class=\"s\">'/themes/iframe.css'</span><span class=\"k\">,</span>","            textarea<span class=\"k\">:</span><span class=\"s\">'editorValue'</span><span class=\"k\">,</span>","            focus<span class=\"k\">:</span><span class=\"k\">false</span><span class=\"k\">,</span>","            initialFrameWidth<span class=\"k\">:</span><span class=\"s\">1000</span><span class=\"k\">,</span>","            initialFrameHeight<span class=\"k\">:</span><span class=\"s\">320</span><span class=\"k\">,</span>","            minFrameWidth<span class=\"k\">:</span><span class=\"s\">800</span><span class=\"k\">,</span>","            minFrameHeight<span class=\"k\">:</span><span class=\"s\">220</span><span class=\"k\">,</span>","            autoClearEmptyNode<span class=\"k\">:</span><span class=\"k\">true</span><span class=\"k\">,</span>","            fullscreen<span class=\"k\">:</span><span class=\"k\">false</span><span class=\"k\">,</span>","            readonly<span class=\"k\">:</span><span class=\"k\">false</span><span class=\"k\">,</span>","            zIndex<span class=\"k\">:</span><span class=\"s\">999</span><span class=\"k\">,</span>","            imagePopup<span class=\"k\">:</span><span class=\"k\">true</span><span class=\"k\">,</span>","            enterTag<span class=\"k\">:</span><span class=\"s\">'p'</span><span class=\"k\">,</span>","            pageBreakTag<span class=\"k\">:</span><span class=\"s\">'_baidu_page_break_tag_'</span><span class=\"k\">,</span>","            customDomain<span class=\"k\">:</span><span class=\"k\">false</span><span class=\"k\">,</span>","            lang<span class=\"k\">:</span><span class=\"s\">'zh-cn'</span><span class=\"k\">,</span>","            langPath<span class=\"k\">:</span>me<span class=\"k\">.</span>options<span class=\"k\">.</span>UEDITOR_HOME_URL <span class=\"k\">+</span> <span class=\"s\">'lang/'</span><span class=\"k\">,</span>","            theme<span class=\"k\">:</span><span class=\"s\">'default'</span><span class=\"k\">,</span>","            themePath<span class=\"k\">:</span>me<span class=\"k\">.</span>options<span class=\"k\">.</span>UEDITOR_HOME_URL <span class=\"k\">+</span> <span class=\"s\">'themes/'</span><span class=\"k\">,</span>","            allHtmlEnabled<span class=\"k\">:</span><span class=\"k\">false</span><span class=\"k\">,</span>","            scaleEnabled<span class=\"k\">:</span><span class=\"k\">true</span>","        <span class=\"k\">}</span> <span class=\"k\">);</span>","","        utils<span class=\"k\">.</span>loadFile<span class=\"k\">(</span> document<span class=\"k\">,</span> <span class=\"k\">{</span>","            src<span class=\"k\">:</span>me<span class=\"k\">.</span>options<span class=\"k\">.</span>langPath <span class=\"k\">+</span> me<span class=\"k\">.</span>options<span class=\"k\">.</span>lang <span class=\"k\">+</span> <span class=\"s\">\"/\"</span> <span class=\"k\">+</span> me<span class=\"k\">.</span>options<span class=\"k\">.</span>lang <span class=\"k\">+</span> <span class=\"s\">\".js\"</span><span class=\"k\">,</span>","            tag<span class=\"k\">:</span><span class=\"s\">\"script\"</span><span class=\"k\">,</span>","            type<span class=\"k\">:</span><span class=\"s\">\"text/javascript\"</span><span class=\"k\">,</span>","            defer<span class=\"k\">:</span><span class=\"s\">\"defer\"</span>","        <span class=\"k\">}</span><span class=\"k\">,</span> <span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","            <span class=\"c\">//&#21021;&#22987;&#21270;&#25554;&#20214;</span>","            <span class=\"k\">for</span> <span class=\"k\">(</span> <span class=\"k\">var</span> pi <span class=\"k\">in</span> UE<span class=\"k\">.</span>plugins <span class=\"k\">)</span> <span class=\"k\">{</span>","                UE<span class=\"k\">.</span>plugins<span class=\"k\">[</span>pi<span class=\"k\">].</span>call<span class=\"k\">(</span> me <span class=\"k\">);</span>","            <span class=\"k\">}</span>","            me<span class=\"k\">.</span>langIsReady <span class=\"k\">=</span> <span class=\"k\">true</span><span class=\"k\">;</span>","","            me<span class=\"k\">.</span>fireEvent<span class=\"k\">(</span> <span class=\"s\">\"langReady\"</span> <span class=\"k\">);</span>","        <span class=\"k\">}</span> <span class=\"k\">);</span>","        UE<span class=\"k\">.</span>instants<span class=\"k\">[</span><span class=\"s\">'ueditorInstant'</span> <span class=\"k\">+</span> me<span class=\"k\">.</span>uid<span class=\"k\">]</span> <span class=\"k\">=</span> me<span class=\"k\">;</span>","    <span class=\"k\">}</span><span class=\"k\">;</span>","    Editor<span class=\"k\">.</span>prototype <span class=\"k\">=</span> <span class=\"k\">{</span>","        <span class=\"c\">/**</span>","<span class=\"c\">         * &#24403;&#32534;&#36753;&#22120;ready&#21518;&#25191;&#34892;&#20256;&#20837;&#30340;fn,&#22914;&#26524;&#32534;&#36753;&#22120;&#24050;&#32463;&#23436;&#25104;ready&#65292;&#23601;&#39532;&#19978;&#25191;&#34892;fn&#65292;fn&#30340;&#20013;&#30340;this&#26159;&#32534;&#36753;&#22120;&#23454;&#20363;&#12290;</span>","<span class=\"c\">         * &#22823;&#37096;&#20998;&#30340;&#23454;&#20363;&#25509;&#21475;&#37117;&#38656;&#35201;&#25918;&#22312;&#35813;&#26041;&#27861;&#20869;&#37096;&#25191;&#34892;&#65292;&#21542;&#21017;&#22312;IE&#19979;&#21487;&#33021;&#20250;&#25253;&#38169;&#12290;</span>","<span class=\"c\">         * @name ready</span>","<span class=\"c\">         * @grammar editor.ready(fn) fn&#26159;&#24403;&#32534;&#36753;&#22120;&#28210;&#26579;&#22909;&#21518;&#25191;&#34892;&#30340;function</span>","<span class=\"c\">         * @example</span>","<span class=\"c\">         * var editor = new UE.ui.Editor();</span>","<span class=\"c\">         * editor.render(\"myEditor\");</span>","<span class=\"c\">         * editor.ready(function(){</span>","<span class=\"c\">         *     editor.setContent(\"&#27426;&#36814;&#20351;&#29992;UEditor&#65281;\");</span>","<span class=\"c\">         * })</span>","<span class=\"c\">         */</span>","        ready<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">(</span> fn <span class=\"k\">)</span> <span class=\"k\">{</span>","            <span class=\"k\">var</span> me <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">;</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span> fn <span class=\"k\">)</span><span class=\"k\">{</span>","                me<span class=\"k\">.</span>isReady <span class=\"k\">?</span> fn<span class=\"k\">.</span>apply<span class=\"k\">(</span> me <span class=\"k\">)</span> <span class=\"k\">:</span> me<span class=\"k\">.</span>addListener<span class=\"k\">(</span> <span class=\"s\">'ready'</span><span class=\"k\">,</span> fn <span class=\"k\">);</span>","            <span class=\"k\">}</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        <span class=\"c\">/**</span>","<span class=\"c\">         * &#20026;&#32534;&#36753;&#22120;&#35774;&#32622;&#40664;&#35748;&#21442;&#25968;&#20540;&#12290;&#33509;&#29992;&#25143;&#37197;&#32622;&#20026;&#31354;&#65292;&#21017;&#20197;&#40664;&#35748;&#37197;&#32622;&#20026;&#20934;</span>","<span class=\"c\">         * @name setOpt</span>","<span class=\"c\">         * @grammar editor.setOpt(key,value);      //&#20256;&#20837;&#19968;&#20010;&#38190;&#12289;&#20540;&#23545;</span>","<span class=\"c\">         * @grammar editor.setOpt({ key:value});   //&#20256;&#20837;&#19968;&#20010;json&#23545;&#35937;</span>","<span class=\"c\">         */</span>","        setOpt<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">(</span> key<span class=\"k\">,</span> val <span class=\"k\">)</span> <span class=\"k\">{</span>","            <span class=\"k\">var</span> obj <span class=\"k\">=</span> <span class=\"k\">{}</span><span class=\"k\">;</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span> utils<span class=\"k\">.</span>isString<span class=\"k\">(</span> key <span class=\"k\">)</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                obj<span class=\"k\">[</span>key<span class=\"k\">]</span> <span class=\"k\">=</span> val","            <span class=\"k\">}</span> <span class=\"k\">else</span> <span class=\"k\">{</span>","                obj <span class=\"k\">=</span> key<span class=\"k\">;</span>","            <span class=\"k\">}</span>","            utils<span class=\"k\">.</span>extend<span class=\"k\">(</span> <span class=\"k\">this</span><span class=\"k\">.</span>options<span class=\"k\">,</span> obj<span class=\"k\">,</span> <span class=\"k\">true</span> <span class=\"k\">);</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        <span class=\"c\">/**</span>","<span class=\"c\">         * &#38144;&#27585;&#32534;&#36753;&#22120;&#23454;&#20363;&#23545;&#35937;</span>","<span class=\"c\">         * @name destroy</span>","<span class=\"c\">         * @grammar editor.destroy();</span>","<span class=\"c\">         */</span>","        destroy<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","            <span class=\"k\">var</span> me <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">;</span>","            me<span class=\"k\">.</span>fireEvent<span class=\"k\">(</span> <span class=\"s\">'destroy'</span> <span class=\"k\">);</span>","            me<span class=\"k\">.</span>container<span class=\"k\">.</span>innerHTML <span class=\"k\">=</span> <span class=\"s\">''</span><span class=\"k\">;</span>","            domUtils<span class=\"k\">.</span>remove<span class=\"k\">(</span> me<span class=\"k\">.</span>container <span class=\"k\">);</span>","            <span class=\"c\">//trace:2004</span>","            <span class=\"k\">for</span> <span class=\"k\">(</span> <span class=\"k\">var</span> p <span class=\"k\">in</span> me <span class=\"k\">)</span> <span class=\"k\">{</span>","                <span class=\"k\">if</span> <span class=\"k\">(</span> me<span class=\"k\">.</span>hasOwnProperty<span class=\"k\">(</span> p <span class=\"k\">)</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                    <span class=\"k\">delete</span> <span class=\"k\">this</span><span class=\"k\">[</span>p<span class=\"k\">];</span>","                <span class=\"k\">}</span>","            <span class=\"k\">}</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        <span class=\"c\">/**</span>","<span class=\"c\">         * &#28210;&#26579;&#32534;&#36753;&#22120;&#30340;DOM&#21040;&#25351;&#23450;&#23481;&#22120;&#65292;&#24517;&#39035;&#19988;&#21482;&#33021;&#35843;&#29992;&#19968;&#27425;</span>","<span class=\"c\">         * @name render</span>","<span class=\"c\">         * @grammar editor.render(containerId);    //&#21487;&#20197;&#25351;&#23450;&#19968;&#20010;&#23481;&#22120;ID</span>","<span class=\"c\">         * @grammar editor.render(containerDom);   //&#20063;&#21487;&#20197;&#30452;&#25509;&#25351;&#23450;&#23481;&#22120;&#23545;&#35937;</span>","<span class=\"c\">         */</span>","        render<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">(</span> container <span class=\"k\">)</span> <span class=\"k\">{</span>","            <span class=\"k\">var</span> me <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">,</span> options <span class=\"k\">=</span> me<span class=\"k\">.</span>options<span class=\"k\">;</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span> container<span class=\"k\">.</span>constructor <span class=\"k\">===</span> String <span class=\"k\">)</span> <span class=\"k\">{</span>","                container <span class=\"k\">=</span> document<span class=\"k\">.</span>getElementById<span class=\"k\">(</span> container <span class=\"k\">);</span>","            <span class=\"k\">}</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span> container <span class=\"k\">)</span> <span class=\"k\">{</span>","                <span class=\"k\">var</span> useBodyAsViewport <span class=\"k\">=</span> ie <span class=\"k\">&amp;&amp;</span> browser<span class=\"k\">.</span>version <span class=\"k\">&lt;</span> <span class=\"s\">9</span><span class=\"k\">,</span>","                        html <span class=\"k\">=</span> <span class=\"k\">(</span> ie <span class=\"k\">&amp;&amp;</span> browser<span class=\"k\">.</span>version <span class=\"k\">&lt;</span> <span class=\"s\">9</span> <span class=\"k\">?</span> <span class=\"s\">''</span> <span class=\"k\">:</span> <span class=\"s\">'&lt;!DOCTYPE html&gt;'</span><span class=\"k\">)</span> <span class=\"k\">+</span>","                                <span class=\"s\">'&lt;html xmlns=</span><span class=\"t\">\\'</span><span class=\"s\">http://www.w3.org/1999/xhtml</span><span class=\"t\">\\'</span><span class=\"s\">'</span> <span class=\"k\">+</span> <span class=\"k\">(!</span>useBodyAsViewport <span class=\"k\">?</span> <span class=\"s\">' class=</span><span class=\"t\">\\'</span><span class=\"s\">view</span><span class=\"t\">\\'</span><span class=\"s\">'</span> <span class=\"k\">:</span> <span class=\"s\">''</span><span class=\"k\">)</span> <span class=\"k\">+</span> <span class=\"s\">'&gt;&lt;head&gt;'</span> <span class=\"k\">+</span>","                                <span class=\"k\">(</span> options<span class=\"k\">.</span>iframeCssUrl <span class=\"k\">?</span> <span class=\"s\">'&lt;link rel=</span><span class=\"t\">\\'</span><span class=\"s\">stylesheet</span><span class=\"t\">\\'</span><span class=\"s\"> type=</span><span class=\"t\">\\'</span><span class=\"s\">text/css</span><span class=\"t\">\\'</span><span class=\"s\"> href=</span><span class=\"t\">\\'</span><span class=\"s\">'</span> <span class=\"k\">+</span> utils<span class=\"k\">.</span>unhtml<span class=\"k\">(</span> options<span class=\"k\">.</span>iframeCssUrl <span class=\"k\">)</span> <span class=\"k\">+</span> <span class=\"s\">'</span><span class=\"t\">\\'</span><span class=\"s\">/&gt;'</span> <span class=\"k\">:</span> <span class=\"s\">''</span> <span class=\"k\">)</span> <span class=\"k\">+</span>","                                <span class=\"s\">'&lt;style type=</span><span class=\"t\">\\'</span><span class=\"s\">text/css</span><span class=\"t\">\\'</span><span class=\"s\">&gt;'</span> <span class=\"k\">+</span>","                            <span class=\"c\">//&#35774;&#32622;&#22235;&#21608;&#30340;&#30041;&#36793;</span>","                                <span class=\"s\">'.view{padding:0;word-wrap:break-word;cursor:text;height:100%;}</span><span class=\"t\">\\n</span><span class=\"s\">'</span> <span class=\"k\">+</span>","                            <span class=\"c\">//&#35774;&#32622;&#40664;&#35748;&#23383;&#20307;&#21644;&#23383;&#21495;</span>","                                <span class=\"s\">'body{margin:8px;font-family:</span><span class=\"t\">\\'</span><span class=\"s\">&#23435;&#20307;</span><span class=\"t\">\\'</span><span class=\"s\">;font-size:16px;}'</span> <span class=\"k\">+</span>","                            <span class=\"c\">//&#35774;&#32622;&#27573;&#33853;&#38388;&#36317;</span>","                                <span class=\"s\">'p{margin:5px 0;}'</span>","                                <span class=\"k\">+</span> <span class=\"k\">(</span> options<span class=\"k\">.</span>initialStyle <span class=\"k\">||</span> <span class=\"s\">''</span> <span class=\"k\">)</span> <span class=\"k\">+</span>","                                <span class=\"s\">'&lt;/style&gt;&lt;/head&gt;&lt;body'</span> <span class=\"k\">+</span> <span class=\"k\">(</span>useBodyAsViewport <span class=\"k\">?</span> <span class=\"s\">' class=</span><span class=\"t\">\\'</span><span class=\"s\">view</span><span class=\"t\">\\'</span><span class=\"s\">'</span> <span class=\"k\">:</span> <span class=\"s\">''</span><span class=\"k\">)</span> <span class=\"k\">+</span> <span class=\"s\">'&gt;&lt;/body&gt;'</span><span class=\"k\">;</span>","                <span class=\"k\">if</span> <span class=\"k\">(</span> options<span class=\"k\">.</span>customDomain <span class=\"k\">&amp;&amp;</span> document<span class=\"k\">.</span>domain <span class=\"k\">!=</span> location<span class=\"k\">.</span>hostname <span class=\"k\">)</span> <span class=\"k\">{</span>","                    html <span class=\"k\">+=</span> <span class=\"s\">'&lt;script&gt;window.parent.UE.instants[</span><span class=\"t\">\\'</span><span class=\"s\">ueditorInstant'</span> <span class=\"k\">+</span> me<span class=\"k\">.</span>uid <span class=\"k\">+</span> <span class=\"s\">'</span><span class=\"t\">\\'</span><span class=\"s\">]._setup(document);&lt;/script&gt;&lt;/html&gt;'</span><span class=\"k\">;</span>","                    container<span class=\"k\">.</span>appendChild<span class=\"k\">(</span> domUtils<span class=\"k\">.</span>createElement<span class=\"k\">(</span> document<span class=\"k\">,</span> <span class=\"s\">'iframe'</span><span class=\"k\">,</span> <span class=\"k\">{</span>","                        id<span class=\"k\">:</span><span class=\"s\">'baidu_editor_'</span> <span class=\"k\">+</span> me<span class=\"k\">.</span>uid<span class=\"k\">,</span>","                        width<span class=\"k\">:</span><span class=\"s\">\"100%\"</span><span class=\"k\">,</span>","                        height<span class=\"k\">:</span><span class=\"s\">\"100%\"</span><span class=\"k\">,</span>","                        frameborder<span class=\"k\">:</span><span class=\"s\">\"0\"</span><span class=\"k\">,</span>","                        src<span class=\"k\">:</span><span class=\"s\">'javascript:void(function(){document.open();document.domain=\"'</span> <span class=\"k\">+</span> document<span class=\"k\">.</span>domain <span class=\"k\">+</span> <span class=\"s\">'\";'</span> <span class=\"k\">+</span>","                                <span class=\"s\">'document.write(\"'</span> <span class=\"k\">+</span> html <span class=\"k\">+</span> <span class=\"s\">'\");document.close();}())'</span>","                    <span class=\"k\">}</span> <span class=\"k\">)</span> <span class=\"k\">);</span>","                <span class=\"k\">}</span> <span class=\"k\">else</span> <span class=\"k\">{</span>","                    container<span class=\"k\">.</span>innerHTML <span class=\"k\">=</span> <span class=\"s\">'&lt;iframe id=\"'</span> <span class=\"k\">+</span> <span class=\"s\">'baidu_editor_'</span> <span class=\"k\">+</span> <span class=\"k\">this</span><span class=\"k\">.</span>uid <span class=\"k\">+</span> <span class=\"s\">'\"'</span> <span class=\"k\">+</span> <span class=\"s\">'width=\"100%\" height=\"100%\" scroll=\"no\" frameborder=\"0\" &gt;&lt;/iframe&gt;'</span><span class=\"k\">;</span>","                    <span class=\"k\">var</span> doc <span class=\"k\">=</span> container<span class=\"k\">.</span>firstChild<span class=\"k\">.</span>contentWindow<span class=\"k\">.</span>document<span class=\"k\">;</span>","                    <span class=\"c\">//&#21435;&#25481;&#20102;&#21407;&#26469;&#30340;&#21028;&#26029;!browser.webkit&#65292;&#22240;&#20026;&#20250;&#23548;&#33268;onload&#27880;&#20876;&#30340;&#20107;&#20214;&#19981;&#35302;&#21457;</span>","                    doc<span class=\"k\">.</span>open<span class=\"k\">();</span>","                    doc<span class=\"k\">.</span>write<span class=\"k\">(</span> html <span class=\"k\">+</span> <span class=\"s\">'&lt;/html&gt;'</span> <span class=\"k\">);</span>","                    doc<span class=\"k\">.</span>close<span class=\"k\">();</span>","                    me<span class=\"k\">.</span>_setup<span class=\"k\">(</span> doc <span class=\"k\">);</span>","                <span class=\"k\">}</span>","                container<span class=\"k\">.</span>style<span class=\"k\">.</span>overflow <span class=\"k\">=</span> <span class=\"s\">'hidden'</span><span class=\"k\">;</span>","            <span class=\"k\">}</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        <span class=\"c\">/**</span>","<span class=\"c\">         * &#32534;&#36753;&#22120;&#21021;&#22987;&#21270;</span>","<span class=\"c\">         * @private</span>","<span class=\"c\">         * @ignore</span>","<span class=\"c\">         * @param {Element} doc &#32534;&#36753;&#22120;Iframe&#20013;&#30340;&#25991;&#26723;&#23545;&#35937;</span>","<span class=\"c\">         */</span>","        _setup<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">(</span> doc <span class=\"k\">)</span> <span class=\"k\">{</span>","            <span class=\"k\">var</span> me <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">,</span>","                    options <span class=\"k\">=</span> me<span class=\"k\">.</span>options<span class=\"k\">;</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span> ie <span class=\"k\">)</span> <span class=\"k\">{</span>","                doc<span class=\"k\">.</span>body<span class=\"k\">.</span>disabled <span class=\"k\">=</span> <span class=\"k\">true</span><span class=\"k\">;</span>","                doc<span class=\"k\">.</span>body<span class=\"k\">.</span>contentEditable <span class=\"k\">=</span> <span class=\"k\">true</span><span class=\"k\">;</span>","                doc<span class=\"k\">.</span>body<span class=\"k\">.</span>disabled <span class=\"k\">=</span> <span class=\"k\">false</span><span class=\"k\">;</span>","            <span class=\"k\">}</span> <span class=\"k\">else</span> <span class=\"k\">{</span>","                doc<span class=\"k\">.</span>body<span class=\"k\">.</span>contentEditable <span class=\"k\">=</span> <span class=\"k\">true</span><span class=\"k\">;</span>","                doc<span class=\"k\">.</span>body<span class=\"k\">.</span>spellcheck <span class=\"k\">=</span> <span class=\"k\">false</span><span class=\"k\">;</span>","            <span class=\"k\">}</span>","            me<span class=\"k\">.</span>document <span class=\"k\">=</span> doc<span class=\"k\">;</span>","            me<span class=\"k\">.</span>window <span class=\"k\">=</span> doc<span class=\"k\">.</span>defaultView <span class=\"k\">||</span> doc<span class=\"k\">.</span>parentWindow<span class=\"k\">;</span>","            me<span class=\"k\">.</span>iframe <span class=\"k\">=</span> me<span class=\"k\">.</span>window<span class=\"k\">.</span>frameElement<span class=\"k\">;</span>","            me<span class=\"k\">.</span>body <span class=\"k\">=</span> doc<span class=\"k\">.</span>body<span class=\"k\">;</span>","            <span class=\"c\">//&#35774;&#32622;&#32534;&#36753;&#22120;&#26368;&#23567;&#39640;&#24230;</span>","            me<span class=\"k\">.</span>setHeight<span class=\"k\">(</span> options<span class=\"k\">.</span>initialFrameHeight <span class=\"k\">);</span>","            me<span class=\"k\">.</span>selection <span class=\"k\">=</span> <span class=\"k\">new</span> dom<span class=\"k\">.</span>Selection<span class=\"k\">(</span> doc <span class=\"k\">);</span>","            <span class=\"c\">//gecko&#21021;&#22987;&#21270;&#23601;&#33021;&#24471;&#21040;range,&#26080;&#27861;&#21028;&#26029;isFocus&#20102;</span>","            <span class=\"k\">var</span> geckoSel<span class=\"k\">;</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span> browser<span class=\"k\">.</span>gecko <span class=\"k\">&amp;&amp;</span> <span class=\"k\">(</span>geckoSel <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>selection<span class=\"k\">.</span>getNative<span class=\"k\">())</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                geckoSel<span class=\"k\">.</span>removeAllRanges<span class=\"k\">();</span>","            <span class=\"k\">}</span>","            <span class=\"k\">this</span><span class=\"k\">.</span>_initEvents<span class=\"k\">();</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span> options<span class=\"k\">.</span>initialContent <span class=\"k\">)</span> <span class=\"k\">{</span>","                <span class=\"k\">if</span> <span class=\"k\">(</span> options<span class=\"k\">.</span>autoClearinitialContent <span class=\"k\">)</span> <span class=\"k\">{</span>","                    <span class=\"k\">var</span> oldExecCommand <span class=\"k\">=</span> me<span class=\"k\">.</span>execCommand<span class=\"k\">;</span>","                    me<span class=\"k\">.</span>execCommand <span class=\"k\">=</span> <span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","                        me<span class=\"k\">.</span>fireEvent<span class=\"k\">(</span> <span class=\"s\">'firstBeforeExecCommand'</span> <span class=\"k\">);</span>","                        oldExecCommand<span class=\"k\">.</span>apply<span class=\"k\">(</span> me<span class=\"k\">,</span> arguments <span class=\"k\">);</span>","                    <span class=\"k\">}</span><span class=\"k\">;</span>","                    <span class=\"k\">this</span><span class=\"k\">.</span>_setDefaultContent<span class=\"k\">(</span> options<span class=\"k\">.</span>initialContent <span class=\"k\">);</span>","                <span class=\"k\">}</span> <span class=\"k\">else</span>","                    <span class=\"k\">this</span><span class=\"k\">.</span>setContent<span class=\"k\">(</span> options<span class=\"k\">.</span>initialContent<span class=\"k\">,</span> <span class=\"k\">true</span> <span class=\"k\">);</span>","            <span class=\"k\">}</span>","            <span class=\"c\">//&#20026;form&#25552;&#20132;&#25552;&#20379;&#19968;&#20010;&#38544;&#34255;&#30340;textarea</span>","            <span class=\"k\">for</span> <span class=\"k\">(</span> <span class=\"k\">var</span> form <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>iframe<span class=\"k\">.</span>parentNode<span class=\"k\">;</span> <span class=\"k\">!</span>domUtils<span class=\"k\">.</span>isBody<span class=\"k\">(</span> form <span class=\"k\">);</span> form <span class=\"k\">=</span> form<span class=\"k\">.</span>parentNode <span class=\"k\">)</span> <span class=\"k\">{</span>","                <span class=\"k\">if</span> <span class=\"k\">(</span> form<span class=\"k\">.</span>tagName <span class=\"k\">==</span> <span class=\"s\">'FORM'</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                    domUtils<span class=\"k\">.</span>on<span class=\"k\">(</span> form<span class=\"k\">,</span> <span class=\"s\">'submit'</span><span class=\"k\">,</span> <span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","                        setValue<span class=\"k\">(</span> <span class=\"k\">this</span><span class=\"k\">,</span> me <span class=\"k\">);</span>","                    <span class=\"k\">}</span> <span class=\"k\">);</span>","                    <span class=\"k\">break</span><span class=\"k\">;</span>","                <span class=\"k\">}</span>","            <span class=\"k\">}</span>","            <span class=\"c\">//&#32534;&#36753;&#22120;&#19981;&#33021;&#20026;&#31354;&#20869;&#23481;</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span> domUtils<span class=\"k\">.</span>isEmptyNode<span class=\"k\">(</span> me<span class=\"k\">.</span>body <span class=\"k\">)</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                me<span class=\"k\">.</span>body<span class=\"k\">.</span>innerHTML <span class=\"k\">=</span> <span class=\"s\">'&lt;p&gt;'</span> <span class=\"k\">+</span> <span class=\"k\">(</span>browser<span class=\"k\">.</span>ie <span class=\"k\">?</span> <span class=\"s\">''</span> <span class=\"k\">:</span> <span class=\"s\">'&lt;br/&gt;'</span><span class=\"k\">)</span> <span class=\"k\">+</span> <span class=\"s\">'&lt;/p&gt;'</span><span class=\"k\">;</span>","            <span class=\"k\">}</span>","            <span class=\"c\">//&#22914;&#26524;&#35201;&#27714;focus, &#23601;&#25226;&#20809;&#26631;&#23450;&#20301;&#21040;&#20869;&#23481;&#24320;&#22987;</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span> options<span class=\"k\">.</span>focus <span class=\"k\">)</span> <span class=\"k\">{</span>","                setTimeout<span class=\"k\">(</span> <span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","                    me<span class=\"k\">.</span>focus<span class=\"k\">();</span>","                    <span class=\"c\">//&#22914;&#26524;&#33258;&#21160;&#28165;&#38500;&#24320;&#30528;&#65292;&#23601;&#19981;&#38656;&#35201;&#20570;selectionchange;</span>","                    <span class=\"k\">!</span>me<span class=\"k\">.</span>options<span class=\"k\">.</span>autoClearinitialContent <span class=\"k\">&amp;&amp;</span> me<span class=\"k\">.</span>_selectionChange<span class=\"k\">();</span>","                <span class=\"k\">}</span><span class=\"k\">,</span><span class=\"s\">0</span><span class=\"k\">);</span>","            <span class=\"k\">}</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span> <span class=\"k\">!</span>me<span class=\"k\">.</span>container <span class=\"k\">)</span> <span class=\"k\">{</span>","                me<span class=\"k\">.</span>container <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>iframe<span class=\"k\">.</span>parentNode<span class=\"k\">;</span>","            <span class=\"k\">}</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span> options<span class=\"k\">.</span>fullscreen <span class=\"k\">&amp;&amp;</span> me<span class=\"k\">.</span>ui <span class=\"k\">)</span> <span class=\"k\">{</span>","                me<span class=\"k\">.</span>ui<span class=\"k\">.</span>setFullScreen<span class=\"k\">(</span> <span class=\"k\">true</span> <span class=\"k\">);</span>","            <span class=\"k\">}</span>","            me<span class=\"k\">.</span>isReady <span class=\"k\">=</span> <span class=\"s\">1</span><span class=\"k\">;</span>","            me<span class=\"k\">.</span>fireEvent<span class=\"k\">(</span> <span class=\"s\">'ready'</span> <span class=\"k\">);</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span> <span class=\"k\">!</span>browser<span class=\"k\">.</span>ie <span class=\"k\">)</span> <span class=\"k\">{</span>","                domUtils<span class=\"k\">.</span>on<span class=\"k\">(</span> me<span class=\"k\">.</span>window<span class=\"k\">,</span> <span class=\"k\">[</span><span class=\"s\">'blur'</span><span class=\"k\">,</span> <span class=\"s\">'focus'</span><span class=\"k\">],</span> <span class=\"k\">function</span> <span class=\"k\">(</span> e <span class=\"k\">)</span> <span class=\"k\">{</span>","                    <span class=\"c\">//chrome&#19979;&#20250;&#20986;&#29616;alt+tab&#20999;&#25442;&#26102;&#65292;&#23548;&#33268;&#36873;&#21306;&#20301;&#32622;&#19981;&#23545;</span>","                    <span class=\"k\">if</span> <span class=\"k\">(</span> e<span class=\"k\">.</span>type <span class=\"k\">==</span> <span class=\"s\">'blur'</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                        me<span class=\"k\">.</span>_bakRange <span class=\"k\">=</span> me<span class=\"k\">.</span>selection<span class=\"k\">.</span>getRange<span class=\"k\">();</span>","                        <span class=\"k\">try</span><span class=\"k\">{</span>","                            me<span class=\"k\">.</span>selection<span class=\"k\">.</span>getNative<span class=\"k\">().</span>removeAllRanges<span class=\"k\">();</span>","                        <span class=\"k\">}</span><span class=\"k\">catch</span><span class=\"k\">(</span>e<span class=\"k\">)</span><span class=\"k\">{}</span>","","                    <span class=\"k\">}</span> <span class=\"k\">else</span> <span class=\"k\">{</span>","                        <span class=\"k\">try</span> <span class=\"k\">{</span>","                            me<span class=\"k\">.</span>_bakRange <span class=\"k\">&amp;&amp;</span> me<span class=\"k\">.</span>_bakRange<span class=\"k\">.</span>select<span class=\"k\">();</span>","                        <span class=\"k\">}</span> <span class=\"k\">catch</span> <span class=\"k\">(</span> e <span class=\"k\">)</span> <span class=\"k\">{</span>","                        <span class=\"k\">}</span>","                    <span class=\"k\">}</span>","                <span class=\"k\">}</span> <span class=\"k\">);</span>","            <span class=\"k\">}</span>","            <span class=\"c\">//trace:1518 ff3.6body&#19981;&#22815;&#23515;&#65292;&#20250;&#23548;&#33268;&#28857;&#20987;&#31354;&#30333;&#22788;&#26080;&#27861;&#33719;&#24471;&#28966;&#28857;</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span> browser<span class=\"k\">.</span>gecko <span class=\"k\">&amp;&amp;</span> browser<span class=\"k\">.</span>version <span class=\"k\">&lt;=</span> <span class=\"s\">10902</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                <span class=\"c\">//&#20462;&#22797;ff3.6&#21021;&#22987;&#21270;&#36827;&#26469;&#65292;&#19981;&#33021;&#28857;&#20987;&#33719;&#24471;&#28966;&#28857;</span>","                me<span class=\"k\">.</span>body<span class=\"k\">.</span>contentEditable <span class=\"k\">=</span> <span class=\"k\">false</span><span class=\"k\">;</span>","                setTimeout<span class=\"k\">(</span> <span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","                    me<span class=\"k\">.</span>body<span class=\"k\">.</span>contentEditable <span class=\"k\">=</span> <span class=\"k\">true</span><span class=\"k\">;</span>","                <span class=\"k\">}</span><span class=\"k\">,</span> <span class=\"s\">100</span> <span class=\"k\">);</span>","                setInterval<span class=\"k\">(</span> <span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","                    me<span class=\"k\">.</span>body<span class=\"k\">.</span>style<span class=\"k\">.</span>height <span class=\"k\">=</span> me<span class=\"k\">.</span>iframe<span class=\"k\">.</span>offsetHeight <span class=\"k\">-</span> <span class=\"s\">20</span> <span class=\"k\">+</span> <span class=\"s\">'px'</span>","                <span class=\"k\">}</span><span class=\"k\">,</span> <span class=\"s\">100</span> <span class=\"k\">)</span>","            <span class=\"k\">}</span>","            <span class=\"k\">!</span>options<span class=\"k\">.</span>isShow <span class=\"k\">&amp;&amp;</span> me<span class=\"k\">.</span>setHide<span class=\"k\">();</span>","            options<span class=\"k\">.</span>readonly <span class=\"k\">&amp;&amp;</span> me<span class=\"k\">.</span>setDisabled<span class=\"k\">();</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        <span class=\"c\">/**</span>","<span class=\"c\">         * &#21019;&#24314;&#19968;&#20010;textarea,&#24182;&#21516;&#27493;&#32534;&#36753;&#22120;&#20013;&#30340;&#20869;&#23481;&#21040;&#27492;textarea,&#20026;&#21518;&#21488;&#33719;&#21462;&#20869;&#23481;&#20570;&#20934;&#22791;</span>","<span class=\"c\">         * @name sync</span>","<span class=\"c\">         * @grammar editor.sync(); //&#23558;form&#21516;&#27493;&#21040;&#32534;&#36753;&#22120;&#23481;&#22120;&#25152;&#22312;&#30340;textarea</span>","<span class=\"c\">         * @grammar editor.sync(formID); //&#23558;&#20869;&#23481;&#21516;&#27493;&#21040;&#25351;&#23450;form&#19979;&#30340;textarea</span>","<span class=\"c\">         * @public</span>","<span class=\"c\">         * @return null</span>","<span class=\"c\">         */</span>","        sync<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">(</span> formId <span class=\"k\">)</span> <span class=\"k\">{</span>","            <span class=\"k\">var</span> me <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">,</span>","                    form <span class=\"k\">=</span> formId <span class=\"k\">?</span> document<span class=\"k\">.</span>getElementById<span class=\"k\">(</span> formId <span class=\"k\">)</span> <span class=\"k\">:</span>","                            domUtils<span class=\"k\">.</span>findParent<span class=\"k\">(</span> me<span class=\"k\">.</span>iframe<span class=\"k\">.</span>parentNode<span class=\"k\">,</span> <span class=\"k\">function</span> <span class=\"k\">(</span> node <span class=\"k\">)</span> <span class=\"k\">{</span>","                                <span class=\"k\">return</span> node<span class=\"k\">.</span>tagName <span class=\"k\">==</span> <span class=\"s\">'FORM'</span>","                            <span class=\"k\">}</span><span class=\"k\">,</span> <span class=\"k\">true</span> <span class=\"k\">);</span>","            form <span class=\"k\">&amp;&amp;</span> setValue<span class=\"k\">(</span> form<span class=\"k\">,</span> me <span class=\"k\">);</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        <span class=\"c\">/**</span>","<span class=\"c\">         * &#35774;&#32622;&#32534;&#36753;&#22120;&#39640;&#24230;</span>","<span class=\"c\">         * @name setHeight</span>","<span class=\"c\">         * @grammar editor.setHeight(number);  //&#32431;&#25968;&#20540;&#65292;&#19981;&#24102;&#21333;&#20301;</span>","<span class=\"c\">         */</span>","        setHeight<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">(</span> height <span class=\"k\">)</span> <span class=\"k\">{</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span> height <span class=\"k\">!==</span> parseInt<span class=\"k\">(</span> <span class=\"k\">this</span><span class=\"k\">.</span>iframe<span class=\"k\">.</span>parentNode<span class=\"k\">.</span>style<span class=\"k\">.</span>height <span class=\"k\">)</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                <span class=\"k\">this</span><span class=\"k\">.</span>iframe<span class=\"k\">.</span>parentNode<span class=\"k\">.</span>style<span class=\"k\">.</span>height <span class=\"k\">=</span> height <span class=\"k\">+</span> <span class=\"s\">'px'</span><span class=\"k\">;</span>","            <span class=\"k\">}</span>","            <span class=\"k\">this</span><span class=\"k\">.</span>document<span class=\"k\">.</span>body<span class=\"k\">.</span>style<span class=\"k\">.</span>height <span class=\"k\">=</span> height <span class=\"k\">-</span> <span class=\"s\">20</span> <span class=\"k\">+</span> <span class=\"s\">'px'</span><span class=\"k\">;</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","","        <span class=\"c\">/**</span>","<span class=\"c\">         * &#33719;&#21462;&#32534;&#36753;&#22120;&#20869;&#23481;</span>","<span class=\"c\">         * @name getContent</span>","<span class=\"c\">         * @grammar editor.getContent()  =&gt; String //&#33509;&#32534;&#36753;&#22120;&#20013;&#21482;&#21253;&#21547;&#23383;&#31526;\"&amp;lt;p&amp;gt;&amp;lt;br /&amp;gt;&amp;lt;/p/&amp;gt;\"&#20250;&#36820;&#22238;&#31354;&#12290;</span>","<span class=\"c\">         * @grammar editor.getContent(cmd,fn)  =&gt; String  //&#21487;&#20197;&#33258;&#24049;&#23450;&#20041;&#32534;&#36753;&#22120;&#20013;&#20869;&#23481;&#20026;&#31354;&#30340;&#22330;&#26223;</span>","<span class=\"c\">         * @example</span>","<span class=\"c\">         * //checkContent&#20165;&#20165;&#26159;&#19968;&#20010;&#21629;&#21517;&#65292;&#20027;&#35201;&#29992;&#20110;&#26631;&#35760;&#65292;&#20197;&#20415;&#22312;beforegetcontent&#21644;aftergetcontent&#20107;&#20214;&#20013;&#33719;&#21462;&#23545;&#24212;&#30340;&#26041;&#27861;&#31867;&#22411;&#65292;&#21487;&#20197;&#30465;&#30053;</span>","<span class=\"c\">         * var content = editor.getContent(\"checkContent\",function(){</span>","<span class=\"c\">         *     //&#22914;&#26524;&#36755;&#20837;&#23383;&#31526;&#25968;&#23567;&#20110;10&#20010;&#65292;&#21487;&#20197;&#35748;&#20026;&#19981;&#31526;&#21512;&#25552;&#20132;&#35201;&#27714;&#65292;&#30452;&#25509;&#36820;&#22238;&#31354;</span>","<span class=\"c\">         *     return this.getContentTxt().length&gt;10;</span>","<span class=\"c\">         * });</span>","<span class=\"c\">         */</span>","        getContent<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">(</span> cmd<span class=\"k\">,</span> fn<span class=\"k\">,</span> isPreview <span class=\"k\">)</span> <span class=\"k\">{</span>","            <span class=\"k\">var</span> me <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">;</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span> cmd <span class=\"k\">&amp;&amp;</span> utils<span class=\"k\">.</span>isFunction<span class=\"k\">(</span> cmd <span class=\"k\">)</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                fn <span class=\"k\">=</span> cmd<span class=\"k\">;</span>","                cmd <span class=\"k\">=</span> <span class=\"s\">''</span><span class=\"k\">;</span>","            <span class=\"k\">}</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span> fn <span class=\"k\">?</span> <span class=\"k\">!</span>fn<span class=\"k\">()</span> <span class=\"k\">:</span> <span class=\"k\">!</span><span class=\"k\">this</span><span class=\"k\">.</span>hasContents<span class=\"k\">()</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                <span class=\"k\">return</span> <span class=\"s\">''</span><span class=\"k\">;</span>","            <span class=\"k\">}</span>","            me<span class=\"k\">.</span>fireEvent<span class=\"k\">(</span> <span class=\"s\">'beforegetcontent'</span><span class=\"k\">,</span> cmd <span class=\"k\">);</span>","            <span class=\"k\">var</span> reg <span class=\"k\">=</span> <span class=\"k\">new</span> RegExp<span class=\"k\">(</span> domUtils<span class=\"k\">.</span>fillChar<span class=\"k\">,</span> <span class=\"s\">'g'</span> <span class=\"k\">),</span>","            <span class=\"c\">//ie&#19979;&#21462;&#24471;&#30340;html&#21487;&#33021;&#20250;&#26377;\\n&#23384;&#22312;&#65292;&#35201;&#21435;&#25481;&#65292;&#22312;&#22788;&#29702;replace(/[\\t\\r\\n]*/g,'');&#20195;&#30721;&#39640;&#37327;&#30340;\\n&#19981;&#33021;&#21435;&#38500;</span>","                    html <span class=\"k\">=</span> me<span class=\"k\">.</span>body<span class=\"k\">.</span>innerHTML<span class=\"k\">.</span>replace<span class=\"k\">(</span> reg<span class=\"k\">,</span> <span class=\"s\">''</span> <span class=\"k\">).</span>replace<span class=\"k\">(</span> <span class=\"s\">/&gt;[\\t\\r\\n]*?&lt;/g</span><span class=\"k\">,</span> <span class=\"s\">'&gt;&lt;'</span> <span class=\"k\">);</span>","            me<span class=\"k\">.</span>fireEvent<span class=\"k\">(</span> <span class=\"s\">'aftergetcontent'</span><span class=\"k\">,</span> cmd <span class=\"k\">);</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span> me<span class=\"k\">.</span>serialize <span class=\"k\">)</span> <span class=\"k\">{</span>","                <span class=\"k\">var</span> node <span class=\"k\">=</span> me<span class=\"k\">.</span>serialize<span class=\"k\">.</span>parseHTML<span class=\"k\">(</span> html <span class=\"k\">);</span>","                node <span class=\"k\">=</span> me<span class=\"k\">.</span>serialize<span class=\"k\">.</span>transformOutput<span class=\"k\">(</span> node <span class=\"k\">);</span>","                html <span class=\"k\">=</span> me<span class=\"k\">.</span>serialize<span class=\"k\">.</span>toHTML<span class=\"k\">(</span> node <span class=\"k\">);</span>","            <span class=\"k\">}</span>","","            <span class=\"k\">if</span> <span class=\"k\">(</span> ie <span class=\"k\">&amp;&amp;</span> isPreview <span class=\"k\">)</span> <span class=\"k\">{</span>","                <span class=\"c\">//trace:2471</span>","                <span class=\"c\">//&#20004;&#20010;br&#20250;&#23548;&#33268;&#31354;&#34892;&#65292;&#25152;&#20197;&#36825;&#37324;&#20808;&#27880;&#35270;&#25481;</span>","                html <span class=\"k\">=</span> html<span class=\"c\">//.replace(/&lt;\\s*br\\s*\\/?\\s*&gt;/gi,'&lt;br/&gt;&lt;br/&gt;')</span>","                        <span class=\"k\">.</span>replace<span class=\"k\">(</span> <span class=\"s\">/&lt;p&gt;\\s*?&lt;\\/p&gt;/g</span><span class=\"k\">,</span> <span class=\"s\">'&lt;p&gt;&amp;nbsp;&lt;/p&gt;'</span> <span class=\"k\">);</span>","            <span class=\"k\">}</span> <span class=\"k\">else</span> <span class=\"k\">{</span>","                <span class=\"c\">//&#22810;&#20010;&amp;nbsp;&#35201;&#36716;&#25442;&#25104;&#31354;&#26684;&#21152;&amp;nbsp;&#30340;&#24418;&#24335;&#65292;&#35201;&#19981;&#39044;&#35272;&#26102;&#20250;&#25152;&#25104;&#19968;&#20010;</span>","                html <span class=\"k\">=</span> html<span class=\"k\">.</span>replace<span class=\"k\">(</span> <span class=\"s\">/(&amp;nbsp;)+/g</span><span class=\"k\">,</span> <span class=\"k\">function</span> <span class=\"k\">(</span> s <span class=\"k\">)</span> <span class=\"k\">{</span>","                    <span class=\"k\">for</span> <span class=\"k\">(</span> <span class=\"k\">var</span> i <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">,</span> str <span class=\"k\">=</span> <span class=\"k\">[],</span> l <span class=\"k\">=</span> s<span class=\"k\">.</span>split<span class=\"k\">(</span> <span class=\"s\">';'</span> <span class=\"k\">).</span>length <span class=\"k\">-</span> <span class=\"s\">1</span><span class=\"k\">;</span> i <span class=\"k\">&lt;</span> l<span class=\"k\">;</span> i<span class=\"k\">++</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                        str<span class=\"k\">.</span>push<span class=\"k\">(</span> i <span class=\"k\">%</span> <span class=\"s\">2</span> <span class=\"k\">==</span> <span class=\"s\">0</span> <span class=\"k\">?</span> <span class=\"s\">' '</span> <span class=\"k\">:</span> <span class=\"s\">'&amp;nbsp;'</span> <span class=\"k\">);</span>","                    <span class=\"k\">}</span>","                    <span class=\"k\">return</span> str<span class=\"k\">.</span>join<span class=\"k\">(</span> <span class=\"s\">''</span> <span class=\"k\">);</span>","                <span class=\"k\">}</span> <span class=\"k\">);</span>","            <span class=\"k\">}</span>","","            <span class=\"k\">return</span>  html<span class=\"k\">;</span>","","        <span class=\"k\">}</span><span class=\"k\">,</span>","        <span class=\"c\">/**</span>","<span class=\"c\">         * &#21462;&#24471;&#23436;&#25972;&#30340;html&#20195;&#30721;&#65292;&#21487;&#20197;&#30452;&#25509;&#26174;&#31034;&#25104;&#23436;&#25972;&#30340;html&#25991;&#26723;</span>","<span class=\"c\">         * @name getAllHtml</span>","<span class=\"c\">         * @grammar editor.getAllHtml()  =&gt; String</span>","<span class=\"c\">         */</span>","        getAllHtml<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","            <span class=\"k\">var</span> me <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">,</span>","                    headHtml <span class=\"k\">=</span> <span class=\"k\">{</span>html<span class=\"k\">:</span><span class=\"s\">''</span><span class=\"k\">}</span><span class=\"k\">,</span>","                    html <span class=\"k\">=</span> <span class=\"s\">''</span><span class=\"k\">;</span>","            me<span class=\"k\">.</span>fireEvent<span class=\"k\">(</span> <span class=\"s\">'getAllHtml'</span><span class=\"k\">,</span> headHtml <span class=\"k\">);</span>","            <span class=\"k\">return</span> <span class=\"s\">'&lt;html&gt;&lt;head&gt;'</span> <span class=\"k\">+</span> <span class=\"k\">(</span>me<span class=\"k\">.</span>options<span class=\"k\">.</span>charset <span class=\"k\">?</span> <span class=\"s\">'&lt;meta http-equiv=\"Content-Type\" content=\"text/html; charset='</span> <span class=\"k\">+</span> me<span class=\"k\">.</span>options<span class=\"k\">.</span>charset <span class=\"k\">+</span> <span class=\"s\">'\"/&gt;'</span> <span class=\"k\">:</span> <span class=\"s\">''</span><span class=\"k\">)</span> <span class=\"k\">+</span> me<span class=\"k\">.</span>document<span class=\"k\">.</span>getElementsByTagName<span class=\"k\">(</span> <span class=\"s\">'head'</span> <span class=\"k\">)[</span><span class=\"s\">0</span><span class=\"k\">].</span>innerHTML <span class=\"k\">+</span> headHtml<span class=\"k\">.</span>html <span class=\"k\">+</span> <span class=\"s\">'&lt;/head&gt;'</span>","                    <span class=\"k\">+</span> <span class=\"s\">'&lt;body '</span> <span class=\"k\">+</span> <span class=\"k\">(</span>ie <span class=\"k\">&amp;&amp;</span> browser<span class=\"k\">.</span>version <span class=\"k\">&lt;</span> <span class=\"s\">9</span> <span class=\"k\">?</span> <span class=\"s\">'class=\"view\"'</span> <span class=\"k\">:</span> <span class=\"s\">''</span><span class=\"k\">)</span> <span class=\"k\">+</span> <span class=\"s\">'&gt;'</span> <span class=\"k\">+</span> me<span class=\"k\">.</span>getContent<span class=\"k\">(</span> <span class=\"k\">null</span><span class=\"k\">,</span> <span class=\"k\">null</span><span class=\"k\">,</span> <span class=\"k\">true</span> <span class=\"k\">)</span> <span class=\"k\">+</span> <span class=\"s\">'&lt;/body&gt;&lt;/html&gt;'</span><span class=\"k\">;</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        <span class=\"c\">/**</span>","<span class=\"c\">         * &#24471;&#21040;&#32534;&#36753;&#22120;&#30340;&#32431;&#25991;&#26412;&#20869;&#23481;&#65292;&#20294;&#20250;&#20445;&#30041;&#27573;&#33853;&#26684;&#24335;</span>","<span class=\"c\">         * @name getPlainTxt</span>","<span class=\"c\">         * @grammar editor.getPlainTxt()  =&gt; String</span>","<span class=\"c\">         */</span>","        getPlainTxt<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","            <span class=\"k\">var</span> reg <span class=\"k\">=</span> <span class=\"k\">new</span> RegExp<span class=\"k\">(</span> domUtils<span class=\"k\">.</span>fillChar<span class=\"k\">,</span> <span class=\"s\">'g'</span> <span class=\"k\">),</span>","                    html <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>body<span class=\"k\">.</span>innerHTML<span class=\"k\">.</span>replace<span class=\"k\">(</span> <span class=\"s\">/[\\n\\r]/g</span><span class=\"k\">,</span> <span class=\"s\">''</span> <span class=\"k\">);</span><span class=\"c\">//ie&#35201;&#20808;&#21435;&#20102;\\n&#22312;&#22788;&#29702;</span>","            html <span class=\"k\">=</span> html<span class=\"k\">.</span>replace<span class=\"k\">(</span> <span class=\"s\">/&lt;(p|div)[^&gt;]*&gt;(&lt;br\\/?&gt;|&amp;nbsp;)&lt;\\/\\1&gt;/gi</span><span class=\"k\">,</span> <span class=\"s\">'</span><span class=\"t\">\\n</span><span class=\"s\">'</span> <span class=\"k\">)</span>","                    <span class=\"k\">.</span>replace<span class=\"k\">(</span> <span class=\"s\">/&lt;br\\/?&gt;/gi</span><span class=\"k\">,</span> <span class=\"s\">'</span><span class=\"t\">\\n</span><span class=\"s\">'</span> <span class=\"k\">)</span>","                    <span class=\"k\">.</span>replace<span class=\"k\">(</span> <span class=\"s\">/&lt;[^&gt;/]+&gt;/g</span><span class=\"k\">,</span> <span class=\"s\">''</span> <span class=\"k\">)</span>","                    <span class=\"k\">.</span>replace<span class=\"k\">(</span> <span class=\"s\">/(\\n)?&lt;\\/([^&gt;]+)&gt;/g</span><span class=\"k\">,</span> <span class=\"k\">function</span> <span class=\"k\">(</span> a<span class=\"k\">,</span> b<span class=\"k\">,</span> c <span class=\"k\">)</span> <span class=\"k\">{</span>","                        <span class=\"k\">return</span> dtd<span class=\"k\">.</span>$block<span class=\"k\">[</span>c<span class=\"k\">]</span> <span class=\"k\">?</span> <span class=\"s\">'</span><span class=\"t\">\\n</span><span class=\"s\">'</span> <span class=\"k\">:</span> b <span class=\"k\">?</span> b <span class=\"k\">:</span> <span class=\"s\">''</span><span class=\"k\">;</span>","                    <span class=\"k\">}</span> <span class=\"k\">);</span>","            <span class=\"c\">//&#21462;&#20986;&#26469;&#30340;&#31354;&#26684;&#20250;&#26377;c2a0&#20250;&#21464;&#25104;&#20081;&#30721;&#65292;&#22788;&#29702;&#36825;&#31181;&#24773;&#20917;\\u00a0</span>","            <span class=\"k\">return</span> html<span class=\"k\">.</span>replace<span class=\"k\">(</span> reg<span class=\"k\">,</span> <span class=\"s\">''</span> <span class=\"k\">).</span>replace<span class=\"k\">(</span> <span class=\"s\">/\\u00a0/g</span><span class=\"k\">,</span> <span class=\"s\">' '</span> <span class=\"k\">).</span>replace<span class=\"k\">(</span> <span class=\"s\">/&amp;nbsp;/g</span><span class=\"k\">,</span> <span class=\"s\">' '</span> <span class=\"k\">);</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","","        <span class=\"c\">/**</span>","<span class=\"c\">         * &#33719;&#21462;&#32534;&#36753;&#22120;&#20013;&#30340;&#32431;&#25991;&#26412;&#20869;&#23481;</span>","<span class=\"c\">         * @name getContentTxt</span>","<span class=\"c\">         * @grammar editor.getContentTxt()  =&gt; String</span>","<span class=\"c\">         */</span>","        getContentTxt<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","            <span class=\"k\">var</span> reg <span class=\"k\">=</span> <span class=\"k\">new</span> RegExp<span class=\"k\">(</span> domUtils<span class=\"k\">.</span>fillChar<span class=\"k\">,</span> <span class=\"s\">'g'</span> <span class=\"k\">);</span>","            <span class=\"c\">//&#21462;&#20986;&#26469;&#30340;&#31354;&#26684;&#20250;&#26377;c2a0&#20250;&#21464;&#25104;&#20081;&#30721;&#65292;&#22788;&#29702;&#36825;&#31181;&#24773;&#20917;\\u00a0</span>","            <span class=\"k\">return</span> <span class=\"k\">this</span><span class=\"k\">.</span>body<span class=\"k\">[</span>browser<span class=\"k\">.</span>ie <span class=\"k\">?</span> <span class=\"s\">'innerText'</span> <span class=\"k\">:</span> <span class=\"s\">'textContent'</span><span class=\"k\">].</span>replace<span class=\"k\">(</span> reg<span class=\"k\">,</span> <span class=\"s\">''</span> <span class=\"k\">).</span>replace<span class=\"k\">(</span> <span class=\"s\">/\\u00a0/g</span><span class=\"k\">,</span> <span class=\"s\">' '</span> <span class=\"k\">);</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","","        <span class=\"c\">/**</span>","<span class=\"c\">         * &#23558;html&#35774;&#32622;&#21040;&#32534;&#36753;&#22120;&#20013;, &#22914;&#26524;&#26159;&#29992;&#20110;&#21021;&#22987;&#21270;&#26102;&#32473;&#32534;&#36753;&#22120;&#36171;&#21021;&#20540;&#65292;&#21017;&#24517;&#39035;&#25918;&#22312;ready&#26041;&#27861;&#20869;&#37096;&#25191;&#34892;</span>","<span class=\"c\">         * @name setContent</span>","<span class=\"c\">         * @grammar editor.setContent(html)</span>","<span class=\"c\">         * @example</span>","<span class=\"c\">         * var editor = new UE.ui.Editor()</span>","<span class=\"c\">         * editor.ready(function(){</span>","<span class=\"c\">         *     //&#38656;&#35201;ready&#21518;&#25191;&#34892;&#65292;&#21542;&#21017;&#21487;&#33021;&#25253;&#38169;</span>","<span class=\"c\">         *     editor.setContent(\"&#27426;&#36814;&#20351;&#29992;UEditor&#65281;\");</span>","<span class=\"c\">         * })</span>","<span class=\"c\">         */</span>","        setContent<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">(</span> html<span class=\"k\">,</span> notFireSelectionchange <span class=\"k\">)</span> <span class=\"k\">{</span>","            <span class=\"k\">var</span> me <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">,</span>","                    inline <span class=\"k\">=</span> utils<span class=\"k\">.</span>extend<span class=\"k\">(</span> <span class=\"k\">{</span>a<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span> A<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">}</span><span class=\"k\">,</span> dtd<span class=\"k\">.</span>$inline<span class=\"k\">,</span> <span class=\"k\">true</span> <span class=\"k\">),</span>","                    lastTagName<span class=\"k\">;</span>","","            html <span class=\"k\">=</span> html","                    <span class=\"k\">.</span>replace<span class=\"k\">(</span> <span class=\"s\">/^[ \\t\\r\\n]*?&lt;/</span><span class=\"k\">,</span> <span class=\"s\">'&lt;'</span> <span class=\"k\">)</span>","                    <span class=\"k\">.</span>replace<span class=\"k\">(</span> <span class=\"s\">/&gt;[ \\t\\r\\n]*?$/</span><span class=\"k\">,</span> <span class=\"s\">'&gt;'</span> <span class=\"k\">)</span>","                    <span class=\"k\">.</span>replace<span class=\"k\">(</span> <span class=\"s\">/&gt;[\\t\\r\\n]*?&lt;/g</span><span class=\"k\">,</span> <span class=\"s\">'&gt;&lt;'</span> <span class=\"k\">)</span><span class=\"c\">//&#20195;&#30721;&#39640;&#37327;&#30340;\\n&#19981;&#33021;&#21435;&#38500;</span>","                    <span class=\"k\">.</span>replace<span class=\"k\">(</span> <span class=\"s\">/[\\s\\/]?(\\w+)?&gt;[ \\t\\r\\n]*?&lt;\\/?(\\w+)/gi</span><span class=\"k\">,</span> <span class=\"k\">function</span> <span class=\"k\">(</span> a<span class=\"k\">,</span> b<span class=\"k\">,</span> c <span class=\"k\">)</span> <span class=\"k\">{</span>","                        <span class=\"k\">if</span> <span class=\"k\">(</span> b <span class=\"k\">)</span> <span class=\"k\">{</span>","                            lastTagName <span class=\"k\">=</span> c<span class=\"k\">;</span>","                        <span class=\"k\">}</span> <span class=\"k\">else</span> <span class=\"k\">{</span>","                            b <span class=\"k\">=</span> lastTagName<span class=\"k\">;</span>","                        <span class=\"k\">}</span>","                        <span class=\"k\">return</span> <span class=\"k\">!</span>inline<span class=\"k\">[</span>b<span class=\"k\">]</span> <span class=\"k\">&amp;&amp;</span> <span class=\"k\">!</span>inline<span class=\"k\">[</span>c<span class=\"k\">]</span> <span class=\"k\">?</span> a<span class=\"k\">.</span>replace<span class=\"k\">(</span> <span class=\"s\">/&gt;[ \\t\\r\\n]*?&lt;/</span><span class=\"k\">,</span> <span class=\"s\">'&gt;&lt;'</span> <span class=\"k\">)</span> <span class=\"k\">:</span> a<span class=\"k\">;</span>","                    <span class=\"k\">}</span> <span class=\"k\">);</span>","            html <span class=\"k\">=</span> <span class=\"k\">{</span><span class=\"s\">'html'</span><span class=\"k\">:</span>html<span class=\"k\">}</span><span class=\"k\">;</span>","            me<span class=\"k\">.</span>fireEvent<span class=\"k\">(</span> <span class=\"s\">'beforesetcontent'</span><span class=\"k\">,</span>html <span class=\"k\">);</span>","            html <span class=\"k\">=</span> html<span class=\"k\">.</span>html<span class=\"k\">;</span>","            <span class=\"k\">var</span> serialize <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>serialize<span class=\"k\">;</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span> serialize <span class=\"k\">)</span> <span class=\"k\">{</span>","                <span class=\"k\">var</span> node <span class=\"k\">=</span> serialize<span class=\"k\">.</span>parseHTML<span class=\"k\">(</span> html <span class=\"k\">);</span>","                node <span class=\"k\">=</span> serialize<span class=\"k\">.</span>transformInput<span class=\"k\">(</span> node <span class=\"k\">);</span>","                node <span class=\"k\">=</span> serialize<span class=\"k\">.</span>filter<span class=\"k\">(</span> node <span class=\"k\">);</span>","                html <span class=\"k\">=</span> serialize<span class=\"k\">.</span>toHTML<span class=\"k\">(</span> node <span class=\"k\">);</span>","            <span class=\"k\">}</span>","            <span class=\"c\">//html.replace(new RegExp('[\\t\\n\\r' + domUtils.fillChar + ']*','g'),'');</span>","            <span class=\"c\">//&#21435;&#25481;&#20102;\\t\\n\\r &#22914;&#26524;&#26377;&#25554;&#20837;&#30340;&#20195;&#30721;&#65292;&#22312;&#28304;&#30721;&#20999;&#25442;&#25152;&#35265;&#21363;&#25152;&#24471;&#27169;&#24335;&#26102;&#65292;&#25442;&#34892;&#37117;&#20002;&#25481;&#20102;</span>","            <span class=\"c\">//\\r&#22312;ie&#19979;&#30340;&#19981;&#21487;&#35265;&#23383;&#31526;&#65292;&#22312;&#28304;&#30721;&#20999;&#25442;&#26102;&#20250;&#21464;&#25104;&#22810;&#20010;&amp;nbsp;</span>","            <span class=\"c\">//trace:1559</span>","            <span class=\"k\">this</span><span class=\"k\">.</span>body<span class=\"k\">.</span>innerHTML <span class=\"k\">=</span> html<span class=\"k\">.</span>replace<span class=\"k\">(</span> <span class=\"k\">new</span> RegExp<span class=\"k\">(</span> <span class=\"s\">'[</span><span class=\"t\">\\r</span><span class=\"s\">'</span> <span class=\"k\">+</span> domUtils<span class=\"k\">.</span>fillChar <span class=\"k\">+</span> <span class=\"s\">']*'</span><span class=\"k\">,</span> <span class=\"s\">'g'</span> <span class=\"k\">),</span> <span class=\"s\">''</span> <span class=\"k\">);</span>","            <span class=\"c\">//&#22788;&#29702;ie6&#19979;innerHTML&#33258;&#21160;&#23558;&#30456;&#23545;&#36335;&#24452;&#36716;&#21270;&#25104;&#32477;&#23545;&#36335;&#24452;&#30340;&#38382;&#39064;</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span> browser<span class=\"k\">.</span>ie <span class=\"k\">&amp;&amp;</span> browser<span class=\"k\">.</span>version <span class=\"k\">&lt;</span> <span class=\"s\">7</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                replaceSrc<span class=\"k\">(</span> <span class=\"k\">this</span><span class=\"k\">.</span>document<span class=\"k\">.</span>body <span class=\"k\">);</span>","            <span class=\"k\">}</span>","            <span class=\"c\">//&#32473;&#25991;&#26412;&#25110;&#32773;inline&#33410;&#28857;&#22871;p&#26631;&#31614;</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span> me<span class=\"k\">.</span>options<span class=\"k\">.</span>enterTag <span class=\"k\">==</span> <span class=\"s\">'p'</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","","                <span class=\"k\">var</span> child <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>body<span class=\"k\">.</span>firstChild<span class=\"k\">,</span> tmpNode<span class=\"k\">;</span>","                <span class=\"k\">if</span> <span class=\"k\">(</span> <span class=\"k\">!</span>child <span class=\"k\">||</span> child<span class=\"k\">.</span>nodeType <span class=\"k\">==</span> <span class=\"s\">1</span> <span class=\"k\">&amp;&amp;</span>","                        <span class=\"k\">(</span>dtd<span class=\"k\">.</span>$cdata<span class=\"k\">[</span>child<span class=\"k\">.</span>tagName<span class=\"k\">]</span> <span class=\"k\">||</span>","                                domUtils<span class=\"k\">.</span>isCustomeNode<span class=\"k\">(</span> child <span class=\"k\">)</span>","                                <span class=\"k\">)</span>","                        <span class=\"k\">&amp;&amp;</span> child <span class=\"k\">===</span> <span class=\"k\">this</span><span class=\"k\">.</span>body<span class=\"k\">.</span>lastChild <span class=\"k\">)</span> <span class=\"k\">{</span>","                    <span class=\"k\">this</span><span class=\"k\">.</span>body<span class=\"k\">.</span>innerHTML <span class=\"k\">=</span> <span class=\"s\">'&lt;p&gt;'</span> <span class=\"k\">+</span> <span class=\"k\">(</span>browser<span class=\"k\">.</span>ie <span class=\"k\">?</span> <span class=\"s\">'&amp;nbsp;'</span> <span class=\"k\">:</span> <span class=\"s\">'&lt;br/&gt;'</span><span class=\"k\">)</span> <span class=\"k\">+</span> <span class=\"s\">'&lt;/p&gt;'</span> <span class=\"k\">+</span> <span class=\"k\">this</span><span class=\"k\">.</span>body<span class=\"k\">.</span>innerHTML<span class=\"k\">;</span>","","                <span class=\"k\">}</span> <span class=\"k\">else</span> <span class=\"k\">{</span>","                    <span class=\"k\">var</span> p <span class=\"k\">=</span> me<span class=\"k\">.</span>document<span class=\"k\">.</span>createElement<span class=\"k\">(</span> <span class=\"s\">'p'</span> <span class=\"k\">);</span>","                    <span class=\"k\">while</span> <span class=\"k\">(</span> child <span class=\"k\">)</span> <span class=\"k\">{</span>","                        <span class=\"k\">while</span> <span class=\"k\">(</span> child <span class=\"k\">&amp;&amp;</span> <span class=\"k\">(</span>child<span class=\"k\">.</span>nodeType <span class=\"k\">==</span> <span class=\"s\">3</span> <span class=\"k\">||</span> child<span class=\"k\">.</span>nodeType <span class=\"k\">==</span> <span class=\"s\">1</span> <span class=\"k\">&amp;&amp;</span> dtd<span class=\"k\">.</span>p<span class=\"k\">[</span>child<span class=\"k\">.</span>tagName<span class=\"k\">]</span> <span class=\"k\">&amp;&amp;</span> <span class=\"k\">!</span>dtd<span class=\"k\">.</span>$cdata<span class=\"k\">[</span>child<span class=\"k\">.</span>tagName<span class=\"k\">])</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                            tmpNode <span class=\"k\">=</span> child<span class=\"k\">.</span>nextSibling<span class=\"k\">;</span>","                            p<span class=\"k\">.</span>appendChild<span class=\"k\">(</span> child <span class=\"k\">);</span>","                            child <span class=\"k\">=</span> tmpNode<span class=\"k\">;</span>","                        <span class=\"k\">}</span>","                        <span class=\"k\">if</span> <span class=\"k\">(</span> p<span class=\"k\">.</span>firstChild <span class=\"k\">)</span> <span class=\"k\">{</span>","                            <span class=\"k\">if</span> <span class=\"k\">(</span> <span class=\"k\">!</span>child <span class=\"k\">)</span> <span class=\"k\">{</span>","                                me<span class=\"k\">.</span>body<span class=\"k\">.</span>appendChild<span class=\"k\">(</span> p <span class=\"k\">);</span>","                                <span class=\"k\">break</span><span class=\"k\">;</span>","                            <span class=\"k\">}</span> <span class=\"k\">else</span> <span class=\"k\">{</span>","                                me<span class=\"k\">.</span>body<span class=\"k\">.</span>insertBefore<span class=\"k\">(</span> p<span class=\"k\">,</span> child <span class=\"k\">);</span>","                                p <span class=\"k\">=</span> me<span class=\"k\">.</span>document<span class=\"k\">.</span>createElement<span class=\"k\">(</span> <span class=\"s\">'p'</span> <span class=\"k\">);</span>","                            <span class=\"k\">}</span>","                        <span class=\"k\">}</span>","                        child <span class=\"k\">=</span> child<span class=\"k\">.</span>nextSibling<span class=\"k\">;</span>","                    <span class=\"k\">}</span>","                <span class=\"k\">}</span>","            <span class=\"k\">}</span>","            me<span class=\"k\">.</span>fireEvent<span class=\"k\">(</span> <span class=\"s\">'aftersetcontent'</span> <span class=\"k\">);</span>","            me<span class=\"k\">.</span>fireEvent<span class=\"k\">(</span> <span class=\"s\">'contentchange'</span> <span class=\"k\">);</span>","            <span class=\"k\">!</span>notFireSelectionchange <span class=\"k\">&amp;&amp;</span> me<span class=\"k\">.</span>_selectionChange<span class=\"k\">();</span>","            <span class=\"c\">//&#28165;&#38500;&#20445;&#23384;&#30340;&#36873;&#21306;</span>","            me<span class=\"k\">.</span>_bakRange <span class=\"k\">=</span> me<span class=\"k\">.</span>_bakIERange <span class=\"k\">=</span> <span class=\"k\">null</span><span class=\"k\">;</span>","            <span class=\"c\">//trace:1742 setContent&#21518;gecko&#33021;&#24471;&#21040;&#28966;&#28857;&#38382;&#39064;</span>","            <span class=\"k\">var</span> geckoSel<span class=\"k\">;</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span> browser<span class=\"k\">.</span>gecko <span class=\"k\">&amp;&amp;</span> <span class=\"k\">(</span>geckoSel <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>selection<span class=\"k\">.</span>getNative<span class=\"k\">())</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                geckoSel<span class=\"k\">.</span>removeAllRanges<span class=\"k\">();</span>","            <span class=\"k\">}</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","","        <span class=\"c\">/**</span>","<span class=\"c\">         * &#35753;&#32534;&#36753;&#22120;&#33719;&#24471;&#28966;&#28857;&#65292;toEnd&#30830;&#23450;focus&#20301;&#32622;</span>","<span class=\"c\">         * @name focus</span>","<span class=\"c\">         * @grammar editor.focus([toEnd])   //&#40664;&#35748;focus&#21040;&#32534;&#36753;&#22120;&#22836;&#37096;&#65292;toEnd&#20026;true&#26102;focus&#21040;&#20869;&#23481;&#23614;&#37096;</span>","<span class=\"c\">         */</span>","        focus<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">(</span> toEnd <span class=\"k\">)</span> <span class=\"k\">{</span>","            <span class=\"k\">try</span> <span class=\"k\">{</span>","                <span class=\"k\">var</span> me <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">,</span>","                        rng <span class=\"k\">=</span> me<span class=\"k\">.</span>selection<span class=\"k\">.</span>getRange<span class=\"k\">();</span>","                <span class=\"k\">if</span> <span class=\"k\">(</span> toEnd <span class=\"k\">)</span> <span class=\"k\">{</span>","                    rng<span class=\"k\">.</span>setStartAtLast<span class=\"k\">(</span> me<span class=\"k\">.</span>body<span class=\"k\">.</span>lastChild <span class=\"k\">).</span>setCursor<span class=\"k\">(</span> <span class=\"k\">false</span><span class=\"k\">,</span> <span class=\"k\">true</span> <span class=\"k\">);</span>","                <span class=\"k\">}</span> <span class=\"k\">else</span> <span class=\"k\">{</span>","                    rng<span class=\"k\">.</span>select<span class=\"k\">(</span> <span class=\"k\">true</span> <span class=\"k\">);</span>","                <span class=\"k\">}</span>","            <span class=\"k\">}</span> <span class=\"k\">catch</span> <span class=\"k\">(</span> e <span class=\"k\">)</span> <span class=\"k\">{</span>","            <span class=\"k\">}</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","","        <span class=\"c\">/**</span>","<span class=\"c\">         * &#21021;&#22987;&#21270;UE&#20107;&#20214;&#21450;&#37096;&#20998;&#20107;&#20214;&#20195;&#29702;</span>","<span class=\"c\">         * @private</span>","<span class=\"c\">         * @ignore</span>","<span class=\"c\">         */</span>","        _initEvents<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","            <span class=\"k\">var</span> me <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">,</span>","                    doc <span class=\"k\">=</span> me<span class=\"k\">.</span>document<span class=\"k\">,</span>","                    win <span class=\"k\">=</span> me<span class=\"k\">.</span>window<span class=\"k\">;</span>","            me<span class=\"k\">.</span>_proxyDomEvent <span class=\"k\">=</span> utils<span class=\"k\">.</span>bind<span class=\"k\">(</span> me<span class=\"k\">.</span>_proxyDomEvent<span class=\"k\">,</span> me <span class=\"k\">);</span>","            domUtils<span class=\"k\">.</span>on<span class=\"k\">(</span> doc<span class=\"k\">,</span> <span class=\"k\">[</span><span class=\"s\">'click'</span><span class=\"k\">,</span> <span class=\"s\">'contextmenu'</span><span class=\"k\">,</span> <span class=\"s\">'mousedown'</span><span class=\"k\">,</span> <span class=\"s\">'keydown'</span><span class=\"k\">,</span> <span class=\"s\">'keyup'</span><span class=\"k\">,</span> <span class=\"s\">'keypress'</span><span class=\"k\">,</span> <span class=\"s\">'mouseup'</span><span class=\"k\">,</span> <span class=\"s\">'mouseover'</span><span class=\"k\">,</span> <span class=\"s\">'mouseout'</span><span class=\"k\">,</span> <span class=\"s\">'selectstart'</span><span class=\"k\">],</span> me<span class=\"k\">.</span>_proxyDomEvent <span class=\"k\">);</span>","            domUtils<span class=\"k\">.</span>on<span class=\"k\">(</span> win<span class=\"k\">,</span> <span class=\"k\">[</span><span class=\"s\">'focus'</span><span class=\"k\">,</span> <span class=\"s\">'blur'</span><span class=\"k\">],</span> me<span class=\"k\">.</span>_proxyDomEvent <span class=\"k\">);</span>","            domUtils<span class=\"k\">.</span>on<span class=\"k\">(</span> doc<span class=\"k\">,</span> <span class=\"k\">[</span><span class=\"s\">'mouseup'</span><span class=\"k\">,</span> <span class=\"s\">'keydown'</span><span class=\"k\">],</span> <span class=\"k\">function</span> <span class=\"k\">(</span> evt <span class=\"k\">)</span> <span class=\"k\">{</span>","                <span class=\"c\">//&#29305;&#27530;&#38190;&#19981;&#35302;&#21457;selectionchange</span>","                <span class=\"k\">if</span> <span class=\"k\">(</span> evt<span class=\"k\">.</span>type <span class=\"k\">==</span> <span class=\"s\">'keydown'</span> <span class=\"k\">&amp;&amp;</span> <span class=\"k\">(</span>evt<span class=\"k\">.</span>ctrlKey <span class=\"k\">||</span> evt<span class=\"k\">.</span>metaKey <span class=\"k\">||</span> evt<span class=\"k\">.</span>shiftKey <span class=\"k\">||</span> evt<span class=\"k\">.</span>altKey<span class=\"k\">)</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                    <span class=\"k\">return</span><span class=\"k\">;</span>","                <span class=\"k\">}</span>","                <span class=\"k\">if</span> <span class=\"k\">(</span> evt<span class=\"k\">.</span>button <span class=\"k\">==</span> <span class=\"s\">2</span> <span class=\"k\">)</span><span class=\"k\">return</span><span class=\"k\">;</span>","                me<span class=\"k\">.</span>_selectionChange<span class=\"k\">(</span> <span class=\"s\">250</span><span class=\"k\">,</span> evt <span class=\"k\">);</span>","            <span class=\"k\">}</span> <span class=\"k\">);</span>","            <span class=\"c\">//&#22788;&#29702;&#25302;&#25341;</span>","            <span class=\"c\">//ie ff&#19981;&#33021;&#20174;&#22806;&#36793;&#25302;&#20837;</span>","            <span class=\"c\">//chrome&#21482;&#38024;&#23545;&#20174;&#22806;&#36793;&#25302;&#20837;&#30340;&#20869;&#23481;&#36807;&#28388;</span>","            <span class=\"k\">var</span> innerDrag <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">,</span> source <span class=\"k\">=</span> browser<span class=\"k\">.</span>ie <span class=\"k\">?</span> me<span class=\"k\">.</span>body <span class=\"k\">:</span> me<span class=\"k\">.</span>document<span class=\"k\">,</span> dragoverHandler<span class=\"k\">;</span>","            domUtils<span class=\"k\">.</span>on<span class=\"k\">(</span> source<span class=\"k\">,</span> <span class=\"s\">'dragstart'</span><span class=\"k\">,</span> <span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","                innerDrag <span class=\"k\">=</span> <span class=\"s\">1</span><span class=\"k\">;</span>","            <span class=\"k\">}</span> <span class=\"k\">);</span>","            domUtils<span class=\"k\">.</span>on<span class=\"k\">(</span> source<span class=\"k\">,</span> browser<span class=\"k\">.</span>webkit <span class=\"k\">?</span> <span class=\"s\">'dragover'</span> <span class=\"k\">:</span> <span class=\"s\">'drop'</span><span class=\"k\">,</span> <span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","                <span class=\"k\">return</span> browser<span class=\"k\">.</span>webkit <span class=\"k\">?</span>","                        <span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","                            clearTimeout<span class=\"k\">(</span> dragoverHandler <span class=\"k\">);</span>","                            dragoverHandler <span class=\"k\">=</span> setTimeout<span class=\"k\">(</span> <span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","                                <span class=\"k\">if</span> <span class=\"k\">(</span> <span class=\"k\">!</span>innerDrag <span class=\"k\">)</span> <span class=\"k\">{</span>","                                    <span class=\"k\">var</span> sel <span class=\"k\">=</span> me<span class=\"k\">.</span>selection<span class=\"k\">,</span>","                                            range <span class=\"k\">=</span> sel<span class=\"k\">.</span>getRange<span class=\"k\">();</span>","                                    <span class=\"k\">if</span> <span class=\"k\">(</span> range <span class=\"k\">)</span> <span class=\"k\">{</span>","                                        <span class=\"k\">var</span> common <span class=\"k\">=</span> range<span class=\"k\">.</span>getCommonAncestor<span class=\"k\">();</span>","                                        <span class=\"k\">if</span> <span class=\"k\">(</span> common <span class=\"k\">&amp;&amp;</span> me<span class=\"k\">.</span>serialize <span class=\"k\">)</span> <span class=\"k\">{</span>","                                            <span class=\"k\">var</span> f <span class=\"k\">=</span> me<span class=\"k\">.</span>serialize<span class=\"k\">,</span>","                                                    node <span class=\"k\">=</span>","                                                            f<span class=\"k\">.</span>filter<span class=\"k\">(</span>","                                                                    f<span class=\"k\">.</span>transformInput<span class=\"k\">(</span>","                                                                            f<span class=\"k\">.</span>parseHTML<span class=\"k\">(</span>","                                                                                    f<span class=\"k\">.</span>word<span class=\"k\">(</span> common<span class=\"k\">.</span>innerHTML <span class=\"k\">)</span>","                                                                            <span class=\"k\">)</span>","                                                                    <span class=\"k\">)</span>","                                                            <span class=\"k\">);</span>","                                            common<span class=\"k\">.</span>innerHTML <span class=\"k\">=</span> f<span class=\"k\">.</span>toHTML<span class=\"k\">(</span> node <span class=\"k\">);</span>","                                        <span class=\"k\">}</span>","                                    <span class=\"k\">}</span>","                                <span class=\"k\">}</span>","                                innerDrag <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">;</span>","                            <span class=\"k\">}</span><span class=\"k\">,</span> <span class=\"s\">200</span> <span class=\"k\">);</span>","                        <span class=\"k\">}</span> <span class=\"k\">:</span>","                        <span class=\"k\">function</span> <span class=\"k\">(</span> e <span class=\"k\">)</span> <span class=\"k\">{</span>","                            <span class=\"k\">if</span> <span class=\"k\">(</span> <span class=\"k\">!</span>innerDrag <span class=\"k\">)</span> <span class=\"k\">{</span>","                                e<span class=\"k\">.</span>preventDefault <span class=\"k\">?</span> e<span class=\"k\">.</span>preventDefault<span class=\"k\">()</span> <span class=\"k\">:</span> <span class=\"k\">(</span>e<span class=\"k\">.</span>returnValue <span class=\"k\">=</span> <span class=\"k\">false</span><span class=\"k\">);</span>","                            <span class=\"k\">}</span>","                            innerDrag <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">;</span>","                        <span class=\"k\">}</span>","            <span class=\"k\">}</span><span class=\"k\">()</span> <span class=\"k\">);</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        <span class=\"c\">/**</span>","<span class=\"c\">         * &#35302;&#21457;&#20107;&#20214;&#20195;&#29702;</span>","<span class=\"c\">         * @private</span>","<span class=\"c\">         * @ignore</span>","<span class=\"c\">         */</span>","        _proxyDomEvent<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">(</span> evt <span class=\"k\">)</span> <span class=\"k\">{</span>","            <span class=\"k\">return</span> <span class=\"k\">this</span><span class=\"k\">.</span>fireEvent<span class=\"k\">(</span> evt<span class=\"k\">.</span>type<span class=\"k\">.</span>replace<span class=\"k\">(</span> <span class=\"s\">/^on/</span><span class=\"k\">,</span> <span class=\"s\">''</span> <span class=\"k\">),</span> evt <span class=\"k\">);</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        <span class=\"c\">/**</span>","<span class=\"c\">         * &#21464;&#21270;&#36873;&#21306;</span>","<span class=\"c\">         * @private</span>","<span class=\"c\">         * @ignore</span>","<span class=\"c\">         */</span>","        _selectionChange<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">(</span> delay<span class=\"k\">,</span> evt <span class=\"k\">)</span> <span class=\"k\">{</span>","            <span class=\"k\">var</span> me <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">;</span>","            <span class=\"c\">//&#26377;&#20809;&#26631;&#25165;&#20570;selectionchange &#20026;&#20102;&#35299;&#20915;&#26410;focus&#26102;&#28857;&#20987;source&#19981;&#33021;&#35302;&#21457;&#26356;&#25913;&#24037;&#20855;&#26639;&#29366;&#24577;&#30340;&#38382;&#39064;&#65288;source&#21629;&#20196;notNeedUndo=1&#65289;</span>","<span class=\"c\">//            if ( !me.selection.isFocus() ){</span>","<span class=\"c\">//                return;</span>","<span class=\"c\">//            }</span>","            <span class=\"k\">var</span> hackForMouseUp <span class=\"k\">=</span> <span class=\"k\">false</span><span class=\"k\">;</span>","            <span class=\"k\">var</span> mouseX<span class=\"k\">,</span> mouseY<span class=\"k\">;</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span> browser<span class=\"k\">.</span>ie <span class=\"k\">&amp;&amp;</span> browser<span class=\"k\">.</span>version <span class=\"k\">&lt;</span> <span class=\"s\">9</span> <span class=\"k\">&amp;&amp;</span> evt <span class=\"k\">&amp;&amp;</span> evt<span class=\"k\">.</span>type <span class=\"k\">==</span> <span class=\"s\">'mouseup'</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                <span class=\"k\">var</span> range <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>selection<span class=\"k\">.</span>getRange<span class=\"k\">();</span>","                <span class=\"k\">if</span> <span class=\"k\">(</span> <span class=\"k\">!</span>range<span class=\"k\">.</span>collapsed <span class=\"k\">)</span> <span class=\"k\">{</span>","                    hackForMouseUp <span class=\"k\">=</span> <span class=\"k\">true</span><span class=\"k\">;</span>","                    mouseX <span class=\"k\">=</span> evt<span class=\"k\">.</span>clientX<span class=\"k\">;</span>","                    mouseY <span class=\"k\">=</span> evt<span class=\"k\">.</span>clientY<span class=\"k\">;</span>","                <span class=\"k\">}</span>","            <span class=\"k\">}</span>","            clearTimeout<span class=\"k\">(</span> _selectionChangeTimer <span class=\"k\">);</span>","            _selectionChangeTimer <span class=\"k\">=</span> setTimeout<span class=\"k\">(</span> <span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","                <span class=\"k\">if</span> <span class=\"k\">(</span> <span class=\"k\">!</span>me<span class=\"k\">.</span>selection<span class=\"k\">.</span>getNative<span class=\"k\">()</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                    <span class=\"k\">return</span><span class=\"k\">;</span>","                <span class=\"k\">}</span>","                <span class=\"c\">//&#20462;&#22797;&#19968;&#20010;IE&#19979;&#30340;bug: &#40736;&#26631;&#28857;&#20987;&#19968;&#27573;&#24050;&#36873;&#25321;&#30340;&#25991;&#26412;&#20013;&#38388;&#26102;&#65292;&#21487;&#33021;&#22312;mouseup&#21518;&#30340;&#19968;&#27573;&#26102;&#38388;&#20869;&#21462;&#21040;&#30340;range&#26159;&#22312;selection&#30340;type&#20026;None&#19979;&#30340;&#38169;&#35823;&#20540;.</span>","                <span class=\"c\">//IE&#19979;&#22914;&#26524;&#29992;&#25143;&#26159;&#25302;&#25341;&#19968;&#27573;&#24050;&#36873;&#25321;&#25991;&#26412;&#65292;&#21017;&#19981;&#20250;&#35302;&#21457;mouseup&#20107;&#20214;&#65292;&#25152;&#20197;&#36825;&#37324;&#30340;&#29305;&#27530;&#22788;&#29702;&#19981;&#20250;&#23545;&#20854;&#26377;&#24433;&#21709;</span>","                <span class=\"k\">var</span> ieRange<span class=\"k\">;</span>","                <span class=\"k\">if</span> <span class=\"k\">(</span> hackForMouseUp <span class=\"k\">&amp;&amp;</span> me<span class=\"k\">.</span>selection<span class=\"k\">.</span>getNative<span class=\"k\">().</span>type <span class=\"k\">==</span> <span class=\"s\">'None'</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                    ieRange <span class=\"k\">=</span> me<span class=\"k\">.</span>document<span class=\"k\">.</span>body<span class=\"k\">.</span>createTextRange<span class=\"k\">();</span>","                    <span class=\"k\">try</span> <span class=\"k\">{</span>","                        ieRange<span class=\"k\">.</span>moveToPoint<span class=\"k\">(</span> mouseX<span class=\"k\">,</span> mouseY <span class=\"k\">);</span>","                    <span class=\"k\">}</span> <span class=\"k\">catch</span> <span class=\"k\">(</span> ex <span class=\"k\">)</span> <span class=\"k\">{</span>","                        ieRange <span class=\"k\">=</span> <span class=\"k\">null</span><span class=\"k\">;</span>","                    <span class=\"k\">}</span>","                <span class=\"k\">}</span>","                <span class=\"k\">var</span> bakGetIERange<span class=\"k\">;</span>","                <span class=\"k\">if</span> <span class=\"k\">(</span> ieRange <span class=\"k\">)</span> <span class=\"k\">{</span>","                    bakGetIERange <span class=\"k\">=</span> me<span class=\"k\">.</span>selection<span class=\"k\">.</span>getIERange<span class=\"k\">;</span>","                    me<span class=\"k\">.</span>selection<span class=\"k\">.</span>getIERange <span class=\"k\">=</span> <span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","                        <span class=\"k\">return</span> ieRange<span class=\"k\">;</span>","                    <span class=\"k\">}</span><span class=\"k\">;</span>","                <span class=\"k\">}</span>","                me<span class=\"k\">.</span>selection<span class=\"k\">.</span>cache<span class=\"k\">();</span>","                <span class=\"k\">if</span> <span class=\"k\">(</span> bakGetIERange <span class=\"k\">)</span> <span class=\"k\">{</span>","                    me<span class=\"k\">.</span>selection<span class=\"k\">.</span>getIERange <span class=\"k\">=</span> bakGetIERange<span class=\"k\">;</span>","                <span class=\"k\">}</span>","                <span class=\"k\">if</span> <span class=\"k\">(</span> me<span class=\"k\">.</span>selection<span class=\"k\">.</span>_cachedRange <span class=\"k\">&amp;&amp;</span> me<span class=\"k\">.</span>selection<span class=\"k\">.</span>_cachedStartElement <span class=\"k\">)</span> <span class=\"k\">{</span>","                    me<span class=\"k\">.</span>fireEvent<span class=\"k\">(</span> <span class=\"s\">'beforeselectionchange'</span> <span class=\"k\">);</span>","                    <span class=\"c\">// &#31532;&#20108;&#20010;&#21442;&#25968;causeByUi&#20026;true&#20195;&#34920;&#30001;&#29992;&#25143;&#20132;&#20114;&#36896;&#25104;&#30340;selectionchange.</span>","                    me<span class=\"k\">.</span>fireEvent<span class=\"k\">(</span> <span class=\"s\">'selectionchange'</span><span class=\"k\">,</span> <span class=\"k\">!!</span>evt <span class=\"k\">);</span>","                    me<span class=\"k\">.</span>fireEvent<span class=\"k\">(</span> <span class=\"s\">'afterselectionchange'</span> <span class=\"k\">);</span>","                    me<span class=\"k\">.</span>selection<span class=\"k\">.</span>clear<span class=\"k\">();</span>","                <span class=\"k\">}</span>","            <span class=\"k\">}</span><span class=\"k\">,</span> delay <span class=\"k\">||</span> <span class=\"s\">50</span> <span class=\"k\">);</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        _callCmdFn<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">(</span> fnName<span class=\"k\">,</span> args <span class=\"k\">)</span> <span class=\"k\">{</span>","            <span class=\"k\">var</span> cmdName <span class=\"k\">=</span> args<span class=\"k\">[</span><span class=\"s\">0</span><span class=\"k\">].</span>toLowerCase<span class=\"k\">(),</span>","                    cmd<span class=\"k\">,</span> cmdFn<span class=\"k\">;</span>","            cmd <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>commands<span class=\"k\">[</span>cmdName<span class=\"k\">]</span> <span class=\"k\">||</span> UE<span class=\"k\">.</span>commands<span class=\"k\">[</span>cmdName<span class=\"k\">];</span>","            cmdFn <span class=\"k\">=</span> cmd <span class=\"k\">&amp;&amp;</span> cmd<span class=\"k\">[</span>fnName<span class=\"k\">];</span>","            <span class=\"c\">//&#27809;&#26377;querycommandstate&#25110;&#32773;&#27809;&#26377;command&#30340;&#37117;&#40664;&#35748;&#36820;&#22238;0</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span> <span class=\"k\">(!</span>cmd <span class=\"k\">||</span> <span class=\"k\">!</span>cmdFn<span class=\"k\">)</span> <span class=\"k\">&amp;&amp;</span> fnName <span class=\"k\">==</span> <span class=\"s\">'queryCommandState'</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                <span class=\"k\">return</span> <span class=\"s\">0</span><span class=\"k\">;</span>","            <span class=\"k\">}</span> <span class=\"k\">else</span> <span class=\"k\">if</span> <span class=\"k\">(</span> cmdFn <span class=\"k\">)</span> <span class=\"k\">{</span>","                <span class=\"k\">return</span> cmdFn<span class=\"k\">.</span>apply<span class=\"k\">(</span> <span class=\"k\">this</span><span class=\"k\">,</span> args <span class=\"k\">);</span>","            <span class=\"k\">}</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","","        <span class=\"c\">/**</span>","<span class=\"c\">         * &#25191;&#34892;&#32534;&#36753;&#21629;&#20196;cmdName&#65292;&#23436;&#25104;&#23500;&#25991;&#26412;&#32534;&#36753;&#25928;&#26524;</span>","<span class=\"c\">         * @name execCommand</span>","<span class=\"c\">         * @grammar editor.execCommand(cmdName)   =&gt; {*}</span>","<span class=\"c\">         */</span>","        execCommand<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">(</span> cmdName <span class=\"k\">)</span> <span class=\"k\">{</span>","            cmdName <span class=\"k\">=</span> cmdName<span class=\"k\">.</span>toLowerCase<span class=\"k\">();</span>","            <span class=\"k\">var</span> me <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">,</span>","                    result<span class=\"k\">,</span>","                    cmd <span class=\"k\">=</span> me<span class=\"k\">.</span>commands<span class=\"k\">[</span>cmdName<span class=\"k\">]</span> <span class=\"k\">||</span> UE<span class=\"k\">.</span>commands<span class=\"k\">[</span>cmdName<span class=\"k\">];</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span> <span class=\"k\">!</span>cmd <span class=\"k\">||</span> <span class=\"k\">!</span>cmd<span class=\"k\">.</span>execCommand <span class=\"k\">)</span> <span class=\"k\">{</span>","                <span class=\"k\">return</span> <span class=\"k\">null</span><span class=\"k\">;</span>","            <span class=\"k\">}</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span> <span class=\"k\">!</span>cmd<span class=\"k\">.</span>notNeedUndo <span class=\"k\">&amp;&amp;</span> <span class=\"k\">!</span>me<span class=\"k\">.</span>__hasEnterExecCommand <span class=\"k\">)</span> <span class=\"k\">{</span>","                me<span class=\"k\">.</span>__hasEnterExecCommand <span class=\"k\">=</span> <span class=\"k\">true</span><span class=\"k\">;</span>","                <span class=\"k\">if</span> <span class=\"k\">(</span> me<span class=\"k\">.</span>queryCommandState<span class=\"k\">(</span> cmdName <span class=\"k\">)</span> <span class=\"k\">!=</span> <span class=\"k\">-</span><span class=\"s\">1</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                    me<span class=\"k\">.</span>fireEvent<span class=\"k\">(</span> <span class=\"s\">'beforeexeccommand'</span><span class=\"k\">,</span> cmdName <span class=\"k\">);</span>","                    result <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>_callCmdFn<span class=\"k\">(</span> <span class=\"s\">'execCommand'</span><span class=\"k\">,</span> arguments <span class=\"k\">);</span>","                    me<span class=\"k\">.</span>fireEvent<span class=\"k\">(</span> <span class=\"s\">'afterexeccommand'</span><span class=\"k\">,</span> cmdName <span class=\"k\">);</span>","                <span class=\"k\">}</span>","                me<span class=\"k\">.</span>__hasEnterExecCommand <span class=\"k\">=</span> <span class=\"k\">false</span><span class=\"k\">;</span>","            <span class=\"k\">}</span> <span class=\"k\">else</span> <span class=\"k\">{</span>","                result <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>_callCmdFn<span class=\"k\">(</span> <span class=\"s\">'execCommand'</span><span class=\"k\">,</span> arguments <span class=\"k\">);</span>","            <span class=\"k\">}</span>","            me<span class=\"k\">.</span>_selectionChange<span class=\"k\">();</span>","            <span class=\"k\">return</span> result<span class=\"k\">;</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        <span class=\"c\">/**</span>","<span class=\"c\">         * &#26597;&#35810;&#21629;&#20196;cmdName&#30340;&#24403;&#21069;&#29366;&#24577;</span>","<span class=\"c\">         * @name  queryCommandState</span>","<span class=\"c\">         * @grammar editor.queryCommandState(cmdName)  =&gt; (-1|0|1)   //-1 : &#32622;&#28784;, 0 : &#27491;&#24120;, 1 : &#39640;&#20142;.</span>","<span class=\"c\">         */</span>","        queryCommandState<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">(</span> cmdName <span class=\"k\">)</span> <span class=\"k\">{</span>","            <span class=\"k\">return</span> <span class=\"k\">this</span><span class=\"k\">.</span>_callCmdFn<span class=\"k\">(</span> <span class=\"s\">'queryCommandState'</span><span class=\"k\">,</span> arguments <span class=\"k\">);</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","","        <span class=\"c\">/**</span>","<span class=\"c\">         * &#26597;&#35810;&#21629;&#20196;cmdName&#30340;&#36820;&#22238;&#20540;</span>","<span class=\"c\">         * @name  queryCommandValue</span>","<span class=\"c\">         * @grammar editor.queryCommandValue(cmdName)  =&gt;  {*}</span>","<span class=\"c\">         */</span>","        queryCommandValue<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">(</span> cmdName <span class=\"k\">)</span> <span class=\"k\">{</span>","            <span class=\"k\">return</span> <span class=\"k\">this</span><span class=\"k\">.</span>_callCmdFn<span class=\"k\">(</span> <span class=\"s\">'queryCommandValue'</span><span class=\"k\">,</span> arguments <span class=\"k\">);</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        <span class=\"c\">/**</span>","<span class=\"c\">         * &#26816;&#26597;&#32534;&#36753;&#21306;&#22495;&#20013;&#26159;&#21542;&#26377;&#20869;&#23481;&#65292;&#33509;&#21253;&#21547;tags&#20013;&#30340;&#33410;&#28857;&#31867;&#22411;&#65292;&#30452;&#25509;&#36820;&#22238;true</span>","<span class=\"c\">         * @name  hasContents</span>","<span class=\"c\">         * @grammar editor.hasContents()  =&gt; (true|false)</span>","<span class=\"c\">         * @grammar editor.hasContents(tags)  =&gt;  (true|false)  //&#33509;&#25991;&#26723;&#20013;&#21253;&#21547;tags&#25968;&#32452;&#37324;&#23545;&#24212;&#30340;tag&#65292;&#30452;&#25509;&#36820;&#22238;true</span>","<span class=\"c\">         */</span>","        hasContents<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">(</span> tags <span class=\"k\">)</span> <span class=\"k\">{</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span> tags <span class=\"k\">)</span> <span class=\"k\">{</span>","                <span class=\"k\">for</span> <span class=\"k\">(</span> <span class=\"k\">var</span> i <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">,</span> ci<span class=\"k\">;</span> ci <span class=\"k\">=</span> tags<span class=\"k\">[</span>i<span class=\"k\">++];</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                    <span class=\"k\">if</span> <span class=\"k\">(</span> <span class=\"k\">this</span><span class=\"k\">.</span>document<span class=\"k\">.</span>getElementsByTagName<span class=\"k\">(</span> ci <span class=\"k\">).</span>length <span class=\"k\">&gt;</span> <span class=\"s\">0</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                        <span class=\"k\">return</span> <span class=\"k\">true</span><span class=\"k\">;</span>","                    <span class=\"k\">}</span>","                <span class=\"k\">}</span>","            <span class=\"k\">}</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span> <span class=\"k\">!</span>domUtils<span class=\"k\">.</span>isEmptyBlock<span class=\"k\">(</span> <span class=\"k\">this</span><span class=\"k\">.</span>body <span class=\"k\">)</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                <span class=\"k\">return</span> <span class=\"k\">true</span>","            <span class=\"k\">}</span>","            <span class=\"c\">//&#38543;&#26102;&#28155;&#21152;,&#23450;&#20041;&#30340;&#29305;&#27530;&#26631;&#31614;&#22914;&#26524;&#23384;&#22312;&#65292;&#19981;&#33021;&#35748;&#20026;&#26159;&#31354;</span>","            tags <span class=\"k\">=</span> <span class=\"k\">[</span><span class=\"s\">'div'</span><span class=\"k\">];</span>","            <span class=\"k\">for</span> <span class=\"k\">(</span> i <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">;</span> ci <span class=\"k\">=</span> tags<span class=\"k\">[</span>i<span class=\"k\">++];</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                <span class=\"k\">var</span> nodes <span class=\"k\">=</span> domUtils<span class=\"k\">.</span>getElementsByTagName<span class=\"k\">(</span> <span class=\"k\">this</span><span class=\"k\">.</span>document<span class=\"k\">,</span> ci <span class=\"k\">);</span>","                <span class=\"k\">for</span> <span class=\"k\">(</span> <span class=\"k\">var</span> n <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">,</span> cn<span class=\"k\">;</span> cn <span class=\"k\">=</span> nodes<span class=\"k\">[</span>n<span class=\"k\">++];</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                    <span class=\"k\">if</span> <span class=\"k\">(</span> domUtils<span class=\"k\">.</span>isCustomeNode<span class=\"k\">(</span> cn <span class=\"k\">)</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                        <span class=\"k\">return</span> <span class=\"k\">true</span><span class=\"k\">;</span>","                    <span class=\"k\">}</span>","                <span class=\"k\">}</span>","            <span class=\"k\">}</span>","            <span class=\"k\">return</span> <span class=\"k\">false</span><span class=\"k\">;</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        <span class=\"c\">/**</span>","<span class=\"c\">         * &#37325;&#32622;&#32534;&#36753;&#22120;&#65292;&#23558;&#20250;&#38144;&#27585;&#24403;&#21069;&#23454;&#20363;&#19979;&#30340;&#25152;&#26377;&#23545;&#35937;&#20197;&#21450;&#23545;&#24212;dom&#20803;&#32032;</span>","<span class=\"c\">         * @name  reset</span>","<span class=\"c\">         * @grammar editor.reset()</span>","<span class=\"c\">         */</span>","        reset<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","            <span class=\"k\">this</span><span class=\"k\">.</span>fireEvent<span class=\"k\">(</span> <span class=\"s\">'reset'</span> <span class=\"k\">);</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        <span class=\"c\">/**</span>","<span class=\"c\">         * &#35774;&#32622;&#32534;&#36753;&#21306;&#22495;&#21487;&#20197;&#32534;&#36753;</span>","<span class=\"c\">         * @name  setEnabled</span>","<span class=\"c\">         * @grammar editor.setEnabled()</span>","<span class=\"c\">         * @deprecated &#20860;&#23481;&#26087;&#29256;&#26412;&#30340;&#25509;&#21475;, &#24314;&#35758;&#20351;&#29992; {@link enable} &#20195;&#26367;.</span>","<span class=\"c\">         */</span>","        setEnabled<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","            <span class=\"k\">var</span> me <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">,</span> range<span class=\"k\">;</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span> me<span class=\"k\">.</span>body<span class=\"k\">.</span>contentEditable <span class=\"k\">==</span> <span class=\"s\">'false'</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                me<span class=\"k\">.</span>body<span class=\"k\">.</span>contentEditable <span class=\"k\">=</span> <span class=\"k\">true</span><span class=\"k\">;</span>","                range <span class=\"k\">=</span> me<span class=\"k\">.</span>selection<span class=\"k\">.</span>getRange<span class=\"k\">();</span>","                <span class=\"c\">//&#26377;&#21487;&#33021;&#20869;&#23481;&#20002;&#22833;&#20102;</span>","                <span class=\"k\">try</span> <span class=\"k\">{</span>","                    range<span class=\"k\">.</span>moveToBookmark<span class=\"k\">(</span> me<span class=\"k\">.</span>lastBk <span class=\"k\">);</span>","                    <span class=\"k\">delete</span> me<span class=\"k\">.</span>lastBk","                <span class=\"k\">}</span> <span class=\"k\">catch</span> <span class=\"k\">(</span> e <span class=\"k\">)</span> <span class=\"k\">{</span>","                    range<span class=\"k\">.</span>setStartAtFirst<span class=\"k\">(</span> me<span class=\"k\">.</span>body <span class=\"k\">).</span>collapse<span class=\"k\">(</span> <span class=\"k\">true</span> <span class=\"k\">)</span>","                <span class=\"k\">}</span>","                range<span class=\"k\">.</span>select<span class=\"k\">(</span> <span class=\"k\">true</span> <span class=\"k\">);</span>","                <span class=\"k\">if</span> <span class=\"k\">(</span> me<span class=\"k\">.</span>bkqueryCommandState <span class=\"k\">)</span> <span class=\"k\">{</span>","                    me<span class=\"k\">.</span>queryCommandState <span class=\"k\">=</span> me<span class=\"k\">.</span>bkqueryCommandState<span class=\"k\">;</span>","                    <span class=\"k\">delete</span> me<span class=\"k\">.</span>bkqueryCommandState<span class=\"k\">;</span>","                <span class=\"k\">}</span>","                me<span class=\"k\">.</span>fireEvent<span class=\"k\">(</span> <span class=\"s\">'selectionchange'</span> <span class=\"k\">);</span>","            <span class=\"k\">}</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        <span class=\"c\">/**</span>","<span class=\"c\">         * &#35774;&#32622;&#24403;&#21069;&#32534;&#36753;&#21306;&#22495;&#21487;&#20197;&#32534;&#36753;</span>","<span class=\"c\">         * @name enable</span>","<span class=\"c\">         * @grammar editor.enable()</span>","<span class=\"c\">         */</span>","        enable<span class=\"k\">:</span><span class=\"k\">function</span><span class=\"k\">()</span><span class=\"k\">{</span>","            <span class=\"k\">return</span> <span class=\"k\">this</span><span class=\"k\">.</span>setEnabled<span class=\"k\">();</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        <span class=\"c\">/**</span>","<span class=\"c\">         * &#35774;&#32622;&#24403;&#21069;&#32534;&#36753;&#21306;&#22495;&#19981;&#21487;&#32534;&#36753;</span>","<span class=\"c\">         * @name  setDisabled</span>","<span class=\"c\">         * @grammar editor.setDisabled()</span>","<span class=\"c\">         * @grammar editor.setDisabled(except)  //&#33509;&#27492;&#22788;&#20256;&#20837;&#21629;&#20196;&#21517;&#31216;&#65292;&#21017;&#35813;&#21629;&#20196;&#23646;&#20110;&#20363;&#22806;&#65292;&#20173;&#28982;&#21487;&#20197;&#25191;&#34892;</span>","<span class=\"c\">         * @deprecated  &#20860;&#23481;&#26087;&#29256;&#26412;&#30340;&#25509;&#21475;, &#24314;&#35758;&#20351;&#29992; {@link disable} &#20195;&#26367;.</span>","<span class=\"c\">         */</span>","        setDisabled<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">(</span> except <span class=\"k\">)</span> <span class=\"k\">{</span>","            <span class=\"k\">var</span> me <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">;</span>","            except <span class=\"k\">=</span> except <span class=\"k\">?</span> utils<span class=\"k\">.</span>isArray<span class=\"k\">(</span> except <span class=\"k\">)</span> <span class=\"k\">?</span> except <span class=\"k\">:</span> <span class=\"k\">[</span>except<span class=\"k\">]</span> <span class=\"k\">:</span> <span class=\"k\">[];</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span> me<span class=\"k\">.</span>body<span class=\"k\">.</span>contentEditable <span class=\"k\">==</span> <span class=\"s\">'true'</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                <span class=\"k\">if</span> <span class=\"k\">(</span> <span class=\"k\">!</span>me<span class=\"k\">.</span>lastBk <span class=\"k\">)</span> <span class=\"k\">{</span>","                    me<span class=\"k\">.</span>lastBk <span class=\"k\">=</span> me<span class=\"k\">.</span>selection<span class=\"k\">.</span>getRange<span class=\"k\">().</span>createBookmark<span class=\"k\">(</span> <span class=\"k\">true</span> <span class=\"k\">);</span>","                <span class=\"k\">}</span>","                me<span class=\"k\">.</span>body<span class=\"k\">.</span>contentEditable <span class=\"k\">=</span> <span class=\"k\">false</span><span class=\"k\">;</span>","                me<span class=\"k\">.</span>bkqueryCommandState <span class=\"k\">=</span> me<span class=\"k\">.</span>queryCommandState<span class=\"k\">;</span>","                me<span class=\"k\">.</span>queryCommandState <span class=\"k\">=</span> <span class=\"k\">function</span> <span class=\"k\">(</span> type <span class=\"k\">)</span> <span class=\"k\">{</span>","                    <span class=\"k\">if</span> <span class=\"k\">(</span> utils<span class=\"k\">.</span>indexOf<span class=\"k\">(</span> except<span class=\"k\">,</span> type <span class=\"k\">)</span> <span class=\"k\">!=</span> <span class=\"k\">-</span><span class=\"s\">1</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                        <span class=\"k\">return</span> me<span class=\"k\">.</span>bkqueryCommandState<span class=\"k\">.</span>apply<span class=\"k\">(</span> me<span class=\"k\">,</span> arguments <span class=\"k\">);</span>","                    <span class=\"k\">}</span>","                    <span class=\"k\">return</span> <span class=\"k\">-</span><span class=\"s\">1</span><span class=\"k\">;</span>","                <span class=\"k\">}</span><span class=\"k\">;</span>","                me<span class=\"k\">.</span>fireEvent<span class=\"k\">(</span> <span class=\"s\">'selectionchange'</span> <span class=\"k\">);</span>","            <span class=\"k\">}</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        <span class=\"c\">/** &#35774;&#32622;&#24403;&#21069;&#32534;&#36753;&#21306;&#22495;&#19981;&#21487;&#32534;&#36753;,except&#20013;&#30340;&#21629;&#20196;&#38500;&#22806;</span>","<span class=\"c\">         * @name disable</span>","<span class=\"c\">         * @grammar editor.disable()</span>","<span class=\"c\">         * @grammar editor.disable(except)  //&#20363;&#22806;&#30340;&#21629;&#20196;&#65292;&#20063;&#21363;&#21363;&#20351;&#35774;&#32622;&#20102;disable&#65292;&#27492;&#22788;&#37197;&#32622;&#30340;&#21629;&#20196;&#20173;&#28982;&#21487;&#20197;&#25191;&#34892;</span>","<span class=\"c\">         * @example</span>","<span class=\"c\">         * //&#31105;&#29992;&#24037;&#20855;&#26639;&#20013;&#38500;&#21152;&#31895;&#21644;&#25554;&#20837;&#22270;&#29255;&#20043;&#22806;&#30340;&#25152;&#26377;&#21151;&#33021;</span>","<span class=\"c\">         * editor.disable(['bold','insertimage']);</span>","<span class=\"c\">        */</span>","        disable<span class=\"k\">:</span><span class=\"k\">function</span><span class=\"k\">(</span>except<span class=\"k\">)</span><span class=\"k\">{</span>","            <span class=\"k\">return</span> <span class=\"k\">this</span><span class=\"k\">.</span>setDisabled<span class=\"k\">(</span>except<span class=\"k\">);</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        <span class=\"c\">/**</span>","<span class=\"c\">         * &#35774;&#32622;&#40664;&#35748;&#20869;&#23481;</span>","<span class=\"c\">         * @ignore</span>","<span class=\"c\">         * @private</span>","<span class=\"c\">         * @param  {String} cont &#35201;&#23384;&#20837;&#30340;&#20869;&#23481;</span>","<span class=\"c\">         */</span>","        _setDefaultContent<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","            <span class=\"k\">function</span> clear<span class=\"k\">()</span> <span class=\"k\">{</span>","                <span class=\"k\">var</span> me <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">;</span>","                <span class=\"k\">if</span> <span class=\"k\">(</span> me<span class=\"k\">.</span>document<span class=\"k\">.</span>getElementById<span class=\"k\">(</span> <span class=\"s\">'initContent'</span> <span class=\"k\">)</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                    me<span class=\"k\">.</span>document<span class=\"k\">.</span>body<span class=\"k\">.</span>innerHTML <span class=\"k\">=</span> <span class=\"s\">'&lt;p&gt;'</span> <span class=\"k\">+</span> <span class=\"k\">(</span>ie <span class=\"k\">?</span> <span class=\"s\">''</span> <span class=\"k\">:</span> <span class=\"s\">'&lt;br/&gt;'</span><span class=\"k\">)</span> <span class=\"k\">+</span> <span class=\"s\">'&lt;/p&gt;'</span><span class=\"k\">;</span>","                    <span class=\"k\">var</span> range <span class=\"k\">=</span> me<span class=\"k\">.</span>selection<span class=\"k\">.</span>getRange<span class=\"k\">();</span>","                    me<span class=\"k\">.</span>removeListener<span class=\"k\">(</span> <span class=\"s\">'firstBeforeExecCommand'</span><span class=\"k\">,</span> clear <span class=\"k\">);</span>","                    me<span class=\"k\">.</span>removeListener<span class=\"k\">(</span> <span class=\"s\">'focus'</span><span class=\"k\">,</span> clear <span class=\"k\">);</span>","                    setTimeout<span class=\"k\">(</span> <span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","                        range<span class=\"k\">.</span>setStart<span class=\"k\">(</span> me<span class=\"k\">.</span>document<span class=\"k\">.</span>body<span class=\"k\">.</span>firstChild<span class=\"k\">,</span> <span class=\"s\">0</span> <span class=\"k\">).</span>collapse<span class=\"k\">(</span> <span class=\"k\">true</span> <span class=\"k\">).</span>select<span class=\"k\">(</span> <span class=\"k\">true</span> <span class=\"k\">);</span>","                        me<span class=\"k\">.</span>_selectionChange<span class=\"k\">();</span>","                    <span class=\"k\">}</span><span class=\"k\">,</span><span class=\"s\">0</span> <span class=\"k\">)</span>","                <span class=\"k\">}</span>","            <span class=\"k\">}</span>","","            <span class=\"k\">return</span> <span class=\"k\">function</span> <span class=\"k\">(</span> cont <span class=\"k\">)</span> <span class=\"k\">{</span>","                <span class=\"k\">var</span> me <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">;</span>","                me<span class=\"k\">.</span>document<span class=\"k\">.</span>body<span class=\"k\">.</span>innerHTML <span class=\"k\">=</span> <span class=\"s\">'&lt;p id=\"initContent\"&gt;'</span> <span class=\"k\">+</span> cont <span class=\"k\">+</span> <span class=\"s\">'&lt;/p&gt;'</span><span class=\"k\">;</span>","                <span class=\"k\">if</span> <span class=\"k\">(</span> browser<span class=\"k\">.</span>ie <span class=\"k\">&amp;&amp;</span> browser<span class=\"k\">.</span>version <span class=\"k\">&lt;</span> <span class=\"s\">7</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                    replaceSrc<span class=\"k\">(</span> me<span class=\"k\">.</span>document<span class=\"k\">.</span>body <span class=\"k\">);</span>","                <span class=\"k\">}</span>","                me<span class=\"k\">.</span>addListener<span class=\"k\">(</span> <span class=\"s\">'firstBeforeExecCommand'</span><span class=\"k\">,</span> clear <span class=\"k\">);</span>","                me<span class=\"k\">.</span>addListener<span class=\"k\">(</span> <span class=\"s\">'focus'</span><span class=\"k\">,</span> clear <span class=\"k\">);</span>","            <span class=\"k\">}</span>","        <span class=\"k\">}</span><span class=\"k\">(),</span>","        <span class=\"c\">/**</span>","<span class=\"c\">         * show&#26041;&#27861;&#30340;&#20860;&#23481;&#29256;&#26412;</span>","<span class=\"c\">         * @private</span>","<span class=\"c\">         * @ignore</span>","<span class=\"c\">         */</span>","        setShow<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","            <span class=\"k\">var</span> me <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">,</span>","                    range <span class=\"k\">=</span> me<span class=\"k\">.</span>selection<span class=\"k\">.</span>getRange<span class=\"k\">();</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span> me<span class=\"k\">.</span>container<span class=\"k\">.</span>style<span class=\"k\">.</span>display <span class=\"k\">==</span> <span class=\"s\">'none'</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                <span class=\"c\">//&#26377;&#21487;&#33021;&#20869;&#23481;&#20002;&#22833;&#20102;</span>","                <span class=\"k\">try</span> <span class=\"k\">{</span>","                    range<span class=\"k\">.</span>moveToBookmark<span class=\"k\">(</span> me<span class=\"k\">.</span>lastBk <span class=\"k\">);</span>","                    <span class=\"k\">delete</span> me<span class=\"k\">.</span>lastBk","                <span class=\"k\">}</span> <span class=\"k\">catch</span> <span class=\"k\">(</span> e <span class=\"k\">)</span> <span class=\"k\">{</span>","                    range<span class=\"k\">.</span>setStartAtFirst<span class=\"k\">(</span> me<span class=\"k\">.</span>body <span class=\"k\">).</span>collapse<span class=\"k\">(</span> <span class=\"k\">true</span> <span class=\"k\">)</span>","                <span class=\"k\">}</span>","                range<span class=\"k\">.</span>select<span class=\"k\">(</span> <span class=\"k\">true</span> <span class=\"k\">);</span>","                me<span class=\"k\">.</span>container<span class=\"k\">.</span>style<span class=\"k\">.</span>display <span class=\"k\">=</span> <span class=\"s\">''</span><span class=\"k\">;</span>","            <span class=\"k\">}</span>","","        <span class=\"k\">}</span><span class=\"k\">,</span>","        <span class=\"c\">/**</span>","<span class=\"c\">         * &#26174;&#31034;&#32534;&#36753;&#22120;</span>","<span class=\"c\">         * @name show</span>","<span class=\"c\">         * @grammar editor.show()</span>","<span class=\"c\">         */</span>","        show<span class=\"k\">:</span><span class=\"k\">function</span><span class=\"k\">()</span><span class=\"k\">{</span>","            <span class=\"k\">return</span> <span class=\"k\">this</span><span class=\"k\">.</span>setShow<span class=\"k\">();</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        <span class=\"c\">/**</span>","<span class=\"c\">         * hide&#26041;&#27861;&#30340;&#20860;&#23481;&#29256;&#26412;</span>","<span class=\"c\">         * @private</span>","<span class=\"c\">         * @ignore</span>","<span class=\"c\">         */</span>","        setHide<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","            <span class=\"k\">var</span> me <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">;</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span> <span class=\"k\">!</span>me<span class=\"k\">.</span>lastBk <span class=\"k\">)</span> <span class=\"k\">{</span>","                me<span class=\"k\">.</span>lastBk <span class=\"k\">=</span> me<span class=\"k\">.</span>selection<span class=\"k\">.</span>getRange<span class=\"k\">().</span>createBookmark<span class=\"k\">(</span> <span class=\"k\">true</span> <span class=\"k\">);</span>","            <span class=\"k\">}</span>","            me<span class=\"k\">.</span>container<span class=\"k\">.</span>style<span class=\"k\">.</span>display <span class=\"k\">=</span> <span class=\"s\">'none'</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        <span class=\"c\">/**</span>","<span class=\"c\">         * &#38544;&#34255;&#32534;&#36753;&#22120;</span>","<span class=\"c\">         * @name hide</span>","<span class=\"c\">         * @grammar editor.hide()</span>","<span class=\"c\">         */</span>","        hide<span class=\"k\">:</span><span class=\"k\">function</span><span class=\"k\">()</span><span class=\"k\">{</span>","            <span class=\"k\">return</span> <span class=\"k\">this</span><span class=\"k\">.</span>setHide<span class=\"k\">();</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        <span class=\"c\">/**</span>","<span class=\"c\">         * &#33719;&#21462;&#22269;&#38469;&#21270;&#35821;&#35328;&#36164;&#28304;</span>","<span class=\"c\">         * @name  getLang</span>","<span class=\"c\">         * @grammar editor.getLang(path)  =&gt;  JSON</span>","<span class=\"c\">         */</span>","        getLang<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">(</span> path <span class=\"k\">)</span> <span class=\"k\">{</span>","            <span class=\"k\">var</span> lang <span class=\"k\">=</span> UE<span class=\"k\">.</span>I18N<span class=\"k\">[</span><span class=\"k\">this</span><span class=\"k\">.</span>options<span class=\"k\">.</span>lang<span class=\"k\">];</span>","            path <span class=\"k\">=</span> <span class=\"k\">(</span>path <span class=\"k\">||</span> <span class=\"s\">\"\"</span><span class=\"k\">).</span>split<span class=\"k\">(</span> <span class=\"s\">\".\"</span> <span class=\"k\">);</span>","            <span class=\"k\">for</span> <span class=\"k\">(</span> <span class=\"k\">var</span> i <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">,</span> ci<span class=\"k\">;</span> ci <span class=\"k\">=</span> path<span class=\"k\">[</span>i<span class=\"k\">++];</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                lang <span class=\"k\">=</span> lang<span class=\"k\">[</span>ci<span class=\"k\">];</span>","                <span class=\"k\">if</span> <span class=\"k\">(</span> <span class=\"k\">!</span>lang <span class=\"k\">)</span><span class=\"k\">break</span><span class=\"k\">;</span>","            <span class=\"k\">}</span>","            <span class=\"k\">return</span> lang<span class=\"k\">;</span>","        <span class=\"k\">}</span>","        <span class=\"c\">/**</span>","<span class=\"c\">         * &#24471;&#21040;dialog&#23454;&#20363;&#23545;&#35937;</span>","<span class=\"c\">         * @name getDialog</span>","<span class=\"c\">         * @grammar editor.getDialog(dialogName) =&gt; Object</span>","<span class=\"c\">         * @example</span>","<span class=\"c\">         * var dialog = editor.getDialog(\"insertimage\");</span>","<span class=\"c\">         * dialog.open();   //&#25171;&#24320;dialog</span>","<span class=\"c\">         * dialog.close();  //&#20851;&#38381;dialog</span>","<span class=\"c\">         */</span>","    <span class=\"k\">}</span><span class=\"k\">;</span>","    utils<span class=\"k\">.</span>inherits<span class=\"k\">(</span> Editor<span class=\"k\">,</span> EventBase <span class=\"k\">);</span>","<span class=\"k\">}</span><span class=\"k\">)();</span>",""]);
_$jscoverage['core/EventBase.js'] && (_$jscoverage['core/EventBase.js'].source = ["<span class=\"c\">/**</span>","<span class=\"c\"> * @file</span>","<span class=\"c\"> * @name UE.EventBase</span>","<span class=\"c\"> * @short EventBase</span>","<span class=\"c\"> * @import editor.js,core/utils.js</span>","<span class=\"c\"> * @desc UE&#37319;&#29992;&#30340;&#20107;&#20214;&#22522;&#31867;&#65292;&#32487;&#25215;&#27492;&#31867;&#30340;&#23545;&#24212;&#31867;&#23558;&#33719;&#21462;addListener,removeListener,fireEvent&#26041;&#27861;&#12290;</span>","<span class=\"c\"> * &#22312;UE&#20013;&#65292;Editor&#20197;&#21450;&#25152;&#26377;ui&#23454;&#20363;&#37117;&#32487;&#25215;&#20102;&#35813;&#31867;&#65292;&#25925;&#21487;&#20197;&#22312;&#23545;&#24212;&#30340;ui&#23545;&#35937;&#20197;&#21450;editor&#23545;&#35937;&#19978;&#20351;&#29992;&#19978;&#36848;&#26041;&#27861;&#12290;</span>","<span class=\"c\"> */</span>","<span class=\"k\">var</span> EventBase <span class=\"k\">=</span> UE<span class=\"k\">.</span>EventBase <span class=\"k\">=</span> <span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{}</span><span class=\"k\">;</span>","","EventBase<span class=\"k\">.</span>prototype <span class=\"k\">=</span> <span class=\"k\">{</span>","    <span class=\"c\">/**</span>","<span class=\"c\">     * &#27880;&#20876;&#20107;&#20214;&#30417;&#21548;&#22120;</span>","<span class=\"c\">     * @name addListener</span>","<span class=\"c\">     * @grammar editor.addListener(types,fn)  //types&#20026;&#20107;&#20214;&#21517;&#31216;&#65292;&#22810;&#20010;&#21487;&#29992;&#31354;&#26684;&#20998;&#38548;</span>","<span class=\"c\">     * @example</span>","<span class=\"c\">     * editor.addListener('selectionchange',function(){</span>","<span class=\"c\">     *      console.log(\"&#36873;&#21306;&#24050;&#32463;&#21464;&#21270;&#65281;\");</span>","<span class=\"c\">     * })</span>","<span class=\"c\">     */</span>","    addListener<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">(</span>types<span class=\"k\">,</span> listener<span class=\"k\">)</span> <span class=\"k\">{</span>","        types <span class=\"k\">=</span> utils<span class=\"k\">.</span>trim<span class=\"k\">(</span>types<span class=\"k\">).</span>split<span class=\"k\">(</span><span class=\"s\">' '</span><span class=\"k\">);</span>","        <span class=\"k\">for</span> <span class=\"k\">(</span><span class=\"k\">var</span> i <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">,</span> ti<span class=\"k\">;</span> ti <span class=\"k\">=</span> types<span class=\"k\">[</span>i<span class=\"k\">++];)</span> <span class=\"k\">{</span>","            getListener<span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">,</span> ti<span class=\"k\">,</span> <span class=\"k\">true</span><span class=\"k\">).</span>push<span class=\"k\">(</span>listener<span class=\"k\">);</span>","        <span class=\"k\">}</span>","    <span class=\"k\">}</span><span class=\"k\">,</span>","    <span class=\"c\">/**</span>","<span class=\"c\">     * &#31227;&#38500;&#20107;&#20214;&#30417;&#21548;&#22120;</span>","<span class=\"c\">     * @name removeListener</span>","<span class=\"c\">     * @grammar editor.removeListener(types,fn)  //types&#20026;&#20107;&#20214;&#21517;&#31216;&#65292;&#22810;&#20010;&#21487;&#29992;&#31354;&#26684;&#20998;&#38548;</span>","<span class=\"c\">     * @example</span>","<span class=\"c\">     * //changeCallback&#20026;&#26041;&#27861;&#20307;</span>","<span class=\"c\">     * editor.removeListener(\"selectionchange\",changeCallback);</span>","<span class=\"c\">     */</span>","    removeListener<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">(</span>types<span class=\"k\">,</span> listener<span class=\"k\">)</span> <span class=\"k\">{</span>","        types <span class=\"k\">=</span> utils<span class=\"k\">.</span>trim<span class=\"k\">(</span>types<span class=\"k\">).</span>split<span class=\"k\">(</span><span class=\"s\">' '</span><span class=\"k\">);</span>","        <span class=\"k\">for</span> <span class=\"k\">(</span><span class=\"k\">var</span> i <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">,</span> ti<span class=\"k\">;</span> ti <span class=\"k\">=</span> types<span class=\"k\">[</span>i<span class=\"k\">++];)</span> <span class=\"k\">{</span>","            utils<span class=\"k\">.</span>removeItem<span class=\"k\">(</span>getListener<span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">,</span> ti<span class=\"k\">)</span> <span class=\"k\">||</span> <span class=\"k\">[],</span> listener<span class=\"k\">);</span>","        <span class=\"k\">}</span>","    <span class=\"k\">}</span><span class=\"k\">,</span>","    <span class=\"c\">/**</span>","<span class=\"c\">     * &#35302;&#21457;&#20107;&#20214;</span>","<span class=\"c\">     * @name fireEvent</span>","<span class=\"c\">     * @grammar editor.fireEvent(types)  //types&#20026;&#20107;&#20214;&#21517;&#31216;&#65292;&#22810;&#20010;&#21487;&#29992;&#31354;&#26684;&#20998;&#38548;</span>","<span class=\"c\">     * @example</span>","<span class=\"c\">     * editor.fireEvent(\"selectionchange\");</span>","<span class=\"c\">     */</span>","    fireEvent<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">(</span>types<span class=\"k\">)</span> <span class=\"k\">{</span>","        types <span class=\"k\">=</span> utils<span class=\"k\">.</span>trim<span class=\"k\">(</span>types<span class=\"k\">).</span>split<span class=\"k\">(</span><span class=\"s\">' '</span><span class=\"k\">);</span>","        <span class=\"k\">for</span> <span class=\"k\">(</span><span class=\"k\">var</span> i <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">,</span> ti<span class=\"k\">;</span> ti <span class=\"k\">=</span> types<span class=\"k\">[</span>i<span class=\"k\">++];)</span> <span class=\"k\">{</span>","            <span class=\"k\">var</span> listeners <span class=\"k\">=</span> getListener<span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">,</span> ti<span class=\"k\">),</span>","                r<span class=\"k\">,</span> t<span class=\"k\">,</span> k<span class=\"k\">;</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span>listeners<span class=\"k\">)</span> <span class=\"k\">{</span>","                k <span class=\"k\">=</span> listeners<span class=\"k\">.</span>length<span class=\"k\">;</span>","                <span class=\"k\">while</span> <span class=\"k\">(</span>k<span class=\"k\">--)</span> <span class=\"k\">{</span>","                    t <span class=\"k\">=</span> listeners<span class=\"k\">[</span>k<span class=\"k\">].</span>apply<span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">,</span> arguments<span class=\"k\">);</span>","                    <span class=\"k\">if</span> <span class=\"k\">(</span>t <span class=\"k\">!==</span> undefined<span class=\"k\">)</span> <span class=\"k\">{</span>","                        r <span class=\"k\">=</span> t<span class=\"k\">;</span>","                    <span class=\"k\">}</span>","                <span class=\"k\">}</span>","            <span class=\"k\">}</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span>t <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">[</span><span class=\"s\">'on'</span> <span class=\"k\">+</span> ti<span class=\"k\">.</span>toLowerCase<span class=\"k\">()])</span> <span class=\"k\">{</span>","                r <span class=\"k\">=</span> t<span class=\"k\">.</span>apply<span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">,</span> arguments<span class=\"k\">);</span>","            <span class=\"k\">}</span>","        <span class=\"k\">}</span>","        <span class=\"k\">return</span> r<span class=\"k\">;</span>","    <span class=\"k\">}</span>","<span class=\"k\">}</span><span class=\"k\">;</span>","<span class=\"c\">/**</span>","<span class=\"c\"> * &#33719;&#24471;&#23545;&#35937;&#25152;&#25317;&#26377;&#30417;&#21548;&#31867;&#22411;&#30340;&#25152;&#26377;&#30417;&#21548;&#22120;</span>","<span class=\"c\"> * @public</span>","<span class=\"c\"> * @function</span>","<span class=\"c\"> * @param {Object} obj  &#26597;&#35810;&#30417;&#21548;&#22120;&#30340;&#23545;&#35937;</span>","<span class=\"c\"> * @param {String} type &#20107;&#20214;&#31867;&#22411;</span>","<span class=\"c\"> * @param {Boolean} force  &#20026;true&#19988;&#24403;&#21069;&#25152;&#26377;type&#31867;&#22411;&#30340;&#20390;&#21548;&#22120;&#19981;&#23384;&#22312;&#26102;&#65292;&#21019;&#24314;&#19968;&#20010;&#31354;&#30417;&#21548;&#22120;&#25968;&#32452;</span>","<span class=\"c\"> * @returns {Array} &#30417;&#21548;&#22120;&#25968;&#32452;</span>","<span class=\"c\"> */</span>","<span class=\"k\">function</span> getListener<span class=\"k\">(</span>obj<span class=\"k\">,</span> type<span class=\"k\">,</span> force<span class=\"k\">)</span> <span class=\"k\">{</span>","    <span class=\"k\">var</span> allListeners<span class=\"k\">;</span>","    type <span class=\"k\">=</span> type<span class=\"k\">.</span>toLowerCase<span class=\"k\">();</span>","    <span class=\"k\">return</span> <span class=\"k\">(</span> <span class=\"k\">(</span> allListeners <span class=\"k\">=</span> <span class=\"k\">(</span> obj<span class=\"k\">.</span>__allListeners <span class=\"k\">||</span> force <span class=\"k\">&amp;&amp;</span> <span class=\"k\">(</span> obj<span class=\"k\">.</span>__allListeners <span class=\"k\">=</span> <span class=\"k\">{}</span> <span class=\"k\">)</span> <span class=\"k\">)</span> <span class=\"k\">)</span>","        <span class=\"k\">&amp;&amp;</span> <span class=\"k\">(</span> allListeners<span class=\"k\">[</span>type<span class=\"k\">]</span> <span class=\"k\">||</span> force <span class=\"k\">&amp;&amp;</span> <span class=\"k\">(</span> allListeners<span class=\"k\">[</span>type<span class=\"k\">]</span> <span class=\"k\">=</span> <span class=\"k\">[]</span> <span class=\"k\">)</span> <span class=\"k\">)</span> <span class=\"k\">);</span>","<span class=\"k\">}</span>",""]);
_$jscoverage['core/ajax.js'] && (_$jscoverage['core/ajax.js'].source = ["<span class=\"c\">/**</span>","<span class=\"c\"> * @file</span>","<span class=\"c\"> * @name UE.ajax</span>","<span class=\"c\"> * @short Ajax</span>","<span class=\"c\"> * @desc UEditor&#20869;&#32622;&#30340;ajax&#35831;&#27714;&#27169;&#22359;</span>","<span class=\"c\"> * @import core/utils.js</span>","<span class=\"c\"> * @user: taoqili</span>","<span class=\"c\"> * @date: 11-8-18</span>","<span class=\"c\"> * @time: &#19979;&#21320;3:18</span>","<span class=\"c\"> */</span>","UE<span class=\"k\">.</span>ajax <span class=\"k\">=</span> <span class=\"k\">function</span><span class=\"k\">()</span> <span class=\"k\">{</span>","    <span class=\"c\">/**</span>","<span class=\"c\">     * &#21019;&#24314;&#19968;&#20010;ajaxRequest&#23545;&#35937;</span>","<span class=\"c\">     */</span>","    <span class=\"k\">var</span> fnStr <span class=\"k\">=</span> <span class=\"s\">'XMLHttpRequest()'</span><span class=\"k\">;</span>","    <span class=\"k\">try</span> <span class=\"k\">{</span>","        <span class=\"k\">new</span> ActiveXObject<span class=\"k\">(</span><span class=\"s\">\"Msxml2.XMLHTTP\"</span><span class=\"k\">);</span>","        fnStr <span class=\"k\">=</span> <span class=\"s\">'ActiveXObject(</span><span class=\"t\">\\'</span><span class=\"s\">Msxml2.XMLHTTP</span><span class=\"t\">\\'</span><span class=\"s\">)'</span><span class=\"k\">;</span>","    <span class=\"k\">}</span> <span class=\"k\">catch</span> <span class=\"k\">(</span>e<span class=\"k\">)</span> <span class=\"k\">{</span>","        <span class=\"k\">try</span> <span class=\"k\">{</span>","            <span class=\"k\">new</span> ActiveXObject<span class=\"k\">(</span><span class=\"s\">\"Microsoft.XMLHTTP\"</span><span class=\"k\">);</span>","            fnStr <span class=\"k\">=</span> <span class=\"s\">'ActiveXObject(</span><span class=\"t\">\\'</span><span class=\"s\">Microsoft.XMLHTTP</span><span class=\"t\">\\'</span><span class=\"s\">)'</span>","        <span class=\"k\">}</span> <span class=\"k\">catch</span> <span class=\"k\">(</span>e<span class=\"k\">)</span> <span class=\"k\">{</span>","        <span class=\"k\">}</span>","    <span class=\"k\">}</span>","    <span class=\"k\">var</span> creatAjaxRequest <span class=\"k\">=</span> <span class=\"k\">new</span> Function<span class=\"k\">(</span><span class=\"s\">'return new '</span> <span class=\"k\">+</span> fnStr<span class=\"k\">);</span>","","","    <span class=\"c\">/**</span>","<span class=\"c\">     * &#23558;json&#21442;&#25968;&#36716;&#21270;&#25104;&#36866;&#21512;ajax&#25552;&#20132;&#30340;&#21442;&#25968;&#21015;&#34920;</span>","<span class=\"c\">     * @param json</span>","<span class=\"c\">     */</span>","    <span class=\"k\">function</span> json2str<span class=\"k\">(</span>json<span class=\"k\">)</span> <span class=\"k\">{</span>","        <span class=\"k\">var</span> strArr <span class=\"k\">=</span> <span class=\"k\">[];</span>","        <span class=\"k\">for</span> <span class=\"k\">(</span><span class=\"k\">var</span> i <span class=\"k\">in</span> json<span class=\"k\">)</span> <span class=\"k\">{</span>","            <span class=\"c\">//&#24573;&#30053;&#40664;&#35748;&#30340;&#20960;&#20010;&#21442;&#25968;</span>","            <span class=\"k\">if</span><span class=\"k\">(</span>i<span class=\"k\">==</span><span class=\"s\">\"method\"</span> <span class=\"k\">||</span> i<span class=\"k\">==</span><span class=\"s\">\"timeout\"</span> <span class=\"k\">||</span> i<span class=\"k\">==</span><span class=\"s\">\"async\"</span><span class=\"k\">)</span> <span class=\"k\">continue</span><span class=\"k\">;</span>","            <span class=\"c\">//&#20256;&#36882;&#36807;&#26469;&#30340;&#23545;&#35937;&#21644;&#20989;&#25968;&#19981;&#22312;&#25552;&#20132;&#20043;&#21015;</span>","            <span class=\"k\">if</span> <span class=\"k\">(!((</span><span class=\"k\">typeof</span> json<span class=\"k\">[</span>i<span class=\"k\">]).</span>toLowerCase<span class=\"k\">()</span> <span class=\"k\">==</span> <span class=\"s\">\"function\"</span> <span class=\"k\">||</span> <span class=\"k\">(</span><span class=\"k\">typeof</span> json<span class=\"k\">[</span>i<span class=\"k\">]).</span>toLowerCase<span class=\"k\">()</span> <span class=\"k\">==</span> <span class=\"s\">\"object\"</span><span class=\"k\">))</span> <span class=\"k\">{</span>","                strArr<span class=\"k\">.</span>push<span class=\"k\">(</span> encodeURIComponent<span class=\"k\">(</span>i<span class=\"k\">)</span> <span class=\"k\">+</span> <span class=\"s\">\"=\"</span><span class=\"k\">+</span>encodeURIComponent<span class=\"k\">(</span>json<span class=\"k\">[</span>i<span class=\"k\">])</span> <span class=\"k\">);</span>","            <span class=\"k\">}</span>","        <span class=\"k\">}</span>","        <span class=\"k\">return</span> strArr<span class=\"k\">.</span>join<span class=\"k\">(</span><span class=\"s\">\"&amp;\"</span><span class=\"k\">);</span>","","    <span class=\"k\">}</span>","","","    <span class=\"k\">return</span> <span class=\"k\">{</span>","\t\t<span class=\"c\">/**</span>","<span class=\"c\">         * @name request</span>","<span class=\"c\">         * @desc &#21457;&#20986;ajax&#35831;&#27714;&#65292;ajaxOpt&#20013;&#40664;&#35748;&#21253;&#21547;method&#65292;timeout&#65292;async&#65292;data&#65292;onsuccess&#20197;&#21450;onerror&#31561;&#20845;&#20010;&#65292;&#25903;&#25345;&#33258;&#23450;&#20041;&#28155;&#21152;&#21442;&#25968;</span>","<span class=\"c\">         * @grammar UE.ajax.request(url,ajaxOpt);</span>","<span class=\"c\">         * @example</span>","<span class=\"c\">         * UE.ajax.request('http://www.xxxx.com/test.php',{</span>","<span class=\"c\">         *     //&#21487;&#30465;&#30053;&#65292;&#40664;&#35748;POST</span>","<span class=\"c\">         *     method:'POST',</span>","<span class=\"c\">         *     //&#21487;&#20197;&#33258;&#23450;&#20041;&#21442;&#25968;</span>","<span class=\"c\">         *     content:'&#36825;&#37324;&#26159;&#25552;&#20132;&#30340;&#20869;&#23481;',</span>","<span class=\"c\">         *     //&#20063;&#21487;&#20197;&#30452;&#25509;&#20256;json&#65292;&#20294;&#26159;&#21482;&#33021;&#21629;&#21517;&#20026;data&#65292;&#21542;&#21017;&#24403;&#20570;&#19968;&#33324;&#23383;&#31526;&#20018;&#22788;&#29702;</span>","<span class=\"c\">         *     data:{</span>","<span class=\"c\">         *         name:'UEditor',</span>","<span class=\"c\">         *         age:'1'</span>","<span class=\"c\">         *     }</span>","<span class=\"c\">         *     onsuccess:function(xhr){</span>","<span class=\"c\">         *         console.log(xhr.responseText);</span>","<span class=\"c\">         *     },</span>","<span class=\"c\">         *     onerror:function(xhr){</span>","<span class=\"c\">         *         console.log(xhr.responseText);</span>","<span class=\"c\">         *     }</span>","<span class=\"c\">         * })</span>","<span class=\"c\">\t\t * @param ajaxOptions</span>","<span class=\"c\">\t\t */</span>","\t\trequest<span class=\"k\">:</span><span class=\"k\">function</span><span class=\"k\">(</span>url<span class=\"k\">,</span> ajaxOptions<span class=\"k\">)</span> <span class=\"k\">{</span>","            <span class=\"k\">var</span> ajaxRequest <span class=\"k\">=</span> creatAjaxRequest<span class=\"k\">(),</span>","                <span class=\"c\">//&#26159;&#21542;&#36229;&#26102;</span>","                timeIsOut <span class=\"k\">=</span> <span class=\"k\">false</span><span class=\"k\">,</span>","                <span class=\"c\">//&#40664;&#35748;&#21442;&#25968;</span>","                defaultAjaxOptions <span class=\"k\">=</span> <span class=\"k\">{</span>","                    method<span class=\"k\">:</span><span class=\"s\">\"POST\"</span><span class=\"k\">,</span>","                    timeout<span class=\"k\">:</span><span class=\"s\">5000</span><span class=\"k\">,</span>","                    async<span class=\"k\">:</span><span class=\"k\">true</span><span class=\"k\">,</span>","                    data<span class=\"k\">:</span><span class=\"k\">{}</span><span class=\"k\">,</span><span class=\"c\">//&#38656;&#35201;&#20256;&#36882;&#23545;&#35937;&#30340;&#35805;&#21482;&#33021;&#35206;&#30422;</span>","                    onsuccess<span class=\"k\">:</span><span class=\"k\">function</span><span class=\"k\">()</span> <span class=\"k\">{</span>","                    <span class=\"k\">}</span><span class=\"k\">,</span>","                    onerror<span class=\"k\">:</span><span class=\"k\">function</span><span class=\"k\">()</span> <span class=\"k\">{</span>","                    <span class=\"k\">}</span>","                <span class=\"k\">}</span><span class=\"k\">;</span>","","\t\t\t<span class=\"k\">if</span> <span class=\"k\">(</span><span class=\"k\">typeof</span> url <span class=\"k\">===</span> <span class=\"s\">\"object\"</span><span class=\"k\">)</span> <span class=\"k\">{</span>","\t\t\t\tajaxOptions <span class=\"k\">=</span> url<span class=\"k\">;</span>","\t\t\t\turl <span class=\"k\">=</span> ajaxOptions<span class=\"k\">.</span>url<span class=\"k\">;</span>","\t\t\t<span class=\"k\">}</span>","\t\t\t<span class=\"k\">if</span> <span class=\"k\">(!</span>ajaxRequest <span class=\"k\">||</span> <span class=\"k\">!</span>url<span class=\"k\">)</span> <span class=\"k\">return</span><span class=\"k\">;</span>","\t\t\t<span class=\"k\">var</span> ajaxOpts <span class=\"k\">=</span> ajaxOptions <span class=\"k\">?</span> utils<span class=\"k\">.</span>extend<span class=\"k\">(</span>defaultAjaxOptions<span class=\"k\">,</span>ajaxOptions<span class=\"k\">)</span> <span class=\"k\">:</span> defaultAjaxOptions<span class=\"k\">;</span>","","\t\t\t<span class=\"k\">var</span> submitStr <span class=\"k\">=</span> json2str<span class=\"k\">(</span>ajaxOpts<span class=\"k\">);</span>  <span class=\"c\">// { name:\"Jim\",city:\"Beijing\" } --&gt; \"name=Jim&amp;city=Beijing\"</span>","\t\t\t<span class=\"c\">//&#22914;&#26524;&#29992;&#25143;&#30452;&#25509;&#36890;&#36807;data&#21442;&#25968;&#20256;&#36882;json&#23545;&#35937;&#36807;&#26469;&#65292;&#21017;&#20063;&#35201;&#23558;&#27492;json&#23545;&#35937;&#36716;&#21270;&#20026;&#23383;&#31526;&#20018;</span>","\t\t\t<span class=\"k\">if</span> <span class=\"k\">(!</span>utils<span class=\"k\">.</span>isEmptyObject<span class=\"k\">(</span>ajaxOpts<span class=\"k\">.</span>data<span class=\"k\">))</span><span class=\"k\">{</span>","                submitStr <span class=\"k\">+=</span> <span class=\"k\">(</span>submitStr<span class=\"k\">?</span> <span class=\"s\">\"&amp;\"</span><span class=\"k\">:</span><span class=\"s\">\"\"</span><span class=\"k\">)</span> <span class=\"k\">+</span> json2str<span class=\"k\">(</span>ajaxOpts<span class=\"k\">.</span>data<span class=\"k\">);</span>","\t\t\t<span class=\"k\">}</span>","            <span class=\"c\">//&#36229;&#26102;&#26816;&#27979;</span>","            <span class=\"k\">var</span> timerID <span class=\"k\">=</span> setTimeout<span class=\"k\">(</span><span class=\"k\">function</span><span class=\"k\">()</span> <span class=\"k\">{</span>","                <span class=\"k\">if</span> <span class=\"k\">(</span>ajaxRequest<span class=\"k\">.</span>readyState <span class=\"k\">!=</span> <span class=\"s\">4</span><span class=\"k\">)</span> <span class=\"k\">{</span>","                    timeIsOut <span class=\"k\">=</span> <span class=\"k\">true</span><span class=\"k\">;</span>","                    ajaxRequest<span class=\"k\">.</span>abort<span class=\"k\">();</span>","                    clearTimeout<span class=\"k\">(</span>timerID<span class=\"k\">);</span>","                <span class=\"k\">}</span>","            <span class=\"k\">}</span><span class=\"k\">,</span> ajaxOpts<span class=\"k\">.</span>timeout<span class=\"k\">);</span>","","\t\t\t<span class=\"k\">var</span> method <span class=\"k\">=</span> ajaxOpts<span class=\"k\">.</span>method<span class=\"k\">.</span>toUpperCase<span class=\"k\">();</span>","            <span class=\"k\">var</span> str <span class=\"k\">=</span> url <span class=\"k\">+</span> <span class=\"k\">(</span>url<span class=\"k\">.</span>indexOf<span class=\"k\">(</span><span class=\"s\">\"?\"</span><span class=\"k\">)==-</span><span class=\"s\">1</span><span class=\"k\">?</span><span class=\"s\">\"?\"</span><span class=\"k\">:</span><span class=\"s\">\"&amp;\"</span><span class=\"k\">)</span> <span class=\"k\">+</span> <span class=\"k\">(</span>method<span class=\"k\">==</span><span class=\"s\">\"POST\"</span><span class=\"k\">?</span><span class=\"s\">\"\"</span><span class=\"k\">:</span>submitStr<span class=\"k\">+</span> <span class=\"s\">\"&amp;noCache=\"</span> <span class=\"k\">+</span> <span class=\"k\">+</span><span class=\"k\">new</span> Date<span class=\"k\">);</span>","\t\t\tajaxRequest<span class=\"k\">.</span>open<span class=\"k\">(</span>method<span class=\"k\">,</span> str<span class=\"k\">,</span> ajaxOpts<span class=\"k\">.</span>async<span class=\"k\">);</span>","\t\t\tajaxRequest<span class=\"k\">.</span>onreadystatechange <span class=\"k\">=</span> <span class=\"k\">function</span><span class=\"k\">()</span> <span class=\"k\">{</span>","\t\t\t\t<span class=\"k\">if</span> <span class=\"k\">(</span>ajaxRequest<span class=\"k\">.</span>readyState <span class=\"k\">==</span> <span class=\"s\">4</span><span class=\"k\">)</span> <span class=\"k\">{</span>","\t\t\t\t\t<span class=\"k\">if</span> <span class=\"k\">(!</span>timeIsOut <span class=\"k\">&amp;&amp;</span> ajaxRequest<span class=\"k\">.</span>status <span class=\"k\">==</span> <span class=\"s\">200</span><span class=\"k\">)</span> <span class=\"k\">{</span>","\t\t\t\t\t\tajaxOpts<span class=\"k\">.</span>onsuccess<span class=\"k\">(</span>ajaxRequest<span class=\"k\">);</span>","\t\t\t\t\t<span class=\"k\">}</span> <span class=\"k\">else</span> <span class=\"k\">{</span>","\t\t\t\t\t\tajaxOpts<span class=\"k\">.</span>onerror<span class=\"k\">(</span>ajaxRequest<span class=\"k\">);</span>","\t\t\t\t\t<span class=\"k\">}</span>","\t\t\t\t<span class=\"k\">}</span>","\t\t\t<span class=\"k\">}</span><span class=\"k\">;</span>","\t\t\t<span class=\"k\">if</span> <span class=\"k\">(</span>method <span class=\"k\">==</span> <span class=\"s\">\"POST\"</span><span class=\"k\">)</span> <span class=\"k\">{</span>","\t\t\t\tajaxRequest<span class=\"k\">.</span>setRequestHeader<span class=\"k\">(</span><span class=\"s\">'Content-Type'</span><span class=\"k\">,</span> <span class=\"s\">'application/x-www-form-urlencoded'</span><span class=\"k\">);</span>","\t\t\t\tajaxRequest<span class=\"k\">.</span>send<span class=\"k\">(</span>submitStr<span class=\"k\">);</span>","\t\t\t<span class=\"k\">}</span> <span class=\"k\">else</span> <span class=\"k\">{</span>","\t\t\t\tajaxRequest<span class=\"k\">.</span>send<span class=\"k\">(</span><span class=\"k\">null</span><span class=\"k\">);</span>","\t\t\t<span class=\"k\">}</span>","\t\t<span class=\"k\">}</span>","\t<span class=\"k\">}</span><span class=\"k\">;</span>","","","<span class=\"k\">}</span><span class=\"k\">();</span>"]);
_$jscoverage['core/browser.js'] && (_$jscoverage['core/browser.js'].source = ["<span class=\"c\">/**</span>","<span class=\"c\"> * @file</span>","<span class=\"c\"> * @name UE.browser</span>","<span class=\"c\"> * @short Browser</span>","<span class=\"c\"> * @desc UEditor&#20013;&#37319;&#29992;&#30340;&#27983;&#35272;&#22120;&#21028;&#26029;&#27169;&#22359;</span>","<span class=\"c\"> */</span>","<span class=\"k\">var</span> browser <span class=\"k\">=</span> UE<span class=\"k\">.</span>browser <span class=\"k\">=</span> <span class=\"k\">function</span><span class=\"k\">()</span><span class=\"k\">{</span>","    <span class=\"k\">var</span> agent <span class=\"k\">=</span> navigator<span class=\"k\">.</span>userAgent<span class=\"k\">.</span>toLowerCase<span class=\"k\">(),</span>","        opera <span class=\"k\">=</span> window<span class=\"k\">.</span>opera<span class=\"k\">,</span>","        browser <span class=\"k\">=</span> <span class=\"k\">{</span>","        <span class=\"c\">/**</span>","<span class=\"c\">         * &#26816;&#27979;&#27983;&#35272;&#22120;&#26159;&#21542;&#20026;IE</span>","<span class=\"c\">         * @name ie</span>","<span class=\"c\">         * @grammar UE.browser.ie  =&gt; true|false</span>","<span class=\"c\">         */</span>","        ie\t\t<span class=\"k\">:</span> <span class=\"k\">!!</span>window<span class=\"k\">.</span>ActiveXObject<span class=\"k\">,</span>","","        <span class=\"c\">/**</span>","<span class=\"c\">         * &#26816;&#27979;&#27983;&#35272;&#22120;&#26159;&#21542;&#20026;Opera</span>","<span class=\"c\">         * @name opera</span>","<span class=\"c\">         * @grammar UE.browser.opera  =&gt; true|false</span>","<span class=\"c\">         */</span>","        opera\t<span class=\"k\">:</span> <span class=\"k\">(</span> <span class=\"k\">!!</span>opera <span class=\"k\">&amp;&amp;</span> opera<span class=\"k\">.</span>version <span class=\"k\">),</span>","","        <span class=\"c\">/**</span>","<span class=\"c\">         * &#26816;&#27979;&#27983;&#35272;&#22120;&#26159;&#21542;&#20026;webkit&#20869;&#26680;</span>","<span class=\"c\">         * @name webkit</span>","<span class=\"c\">         * @grammar UE.browser.webkit  =&gt; true|false</span>","<span class=\"c\">         */</span>","        webkit\t<span class=\"k\">:</span> <span class=\"k\">(</span> agent<span class=\"k\">.</span>indexOf<span class=\"k\">(</span> <span class=\"s\">' applewebkit/'</span> <span class=\"k\">)</span> <span class=\"k\">&gt;</span> <span class=\"k\">-</span><span class=\"s\">1</span> <span class=\"k\">),</span>","","        <span class=\"c\">/**</span>","<span class=\"c\">         * &#26816;&#27979;&#27983;&#35272;&#22120;&#26159;&#21542;&#20026;mac&#31995;&#32479;&#19979;&#30340;&#27983;&#35272;&#22120;</span>","<span class=\"c\">         * @name mac</span>","<span class=\"c\">         * @grammar UE.browser.mac  =&gt; true|false</span>","<span class=\"c\">         */</span>","        mac\t<span class=\"k\">:</span> <span class=\"k\">(</span> agent<span class=\"k\">.</span>indexOf<span class=\"k\">(</span> <span class=\"s\">'macintosh'</span> <span class=\"k\">)</span> <span class=\"k\">&gt;</span> <span class=\"k\">-</span><span class=\"s\">1</span> <span class=\"k\">),</span>","","        <span class=\"c\">/**</span>","<span class=\"c\">         * &#26816;&#27979;&#27983;&#35272;&#22120;&#26159;&#21542;&#22788;&#20110;&#24618;&#24322;&#27169;&#24335;</span>","<span class=\"c\">         * @name quirks</span>","<span class=\"c\">         * @grammar UE.browser.quirks  =&gt; true|false</span>","<span class=\"c\">         */</span>","        quirks <span class=\"k\">:</span> <span class=\"k\">(</span> document<span class=\"k\">.</span>compatMode <span class=\"k\">==</span> <span class=\"s\">'BackCompat'</span> <span class=\"k\">)</span>","    <span class=\"k\">}</span><span class=\"k\">;</span>","    <span class=\"c\">/**</span>","<span class=\"c\">     * &#26816;&#27979;&#27983;&#35272;&#22120;&#26159;&#21542;&#22788;&#20026;gecko&#20869;&#26680;</span>","<span class=\"c\">     * @name gecko</span>","<span class=\"c\">     * @grammar UE.browser.gecko  =&gt; true|false</span>","<span class=\"c\">     */</span>","    browser<span class=\"k\">.</span>gecko <span class=\"k\">=(</span> navigator<span class=\"k\">.</span>product <span class=\"k\">==</span> <span class=\"s\">'Gecko'</span> <span class=\"k\">&amp;&amp;</span> <span class=\"k\">!</span>browser<span class=\"k\">.</span>webkit <span class=\"k\">&amp;&amp;</span> <span class=\"k\">!</span>browser<span class=\"k\">.</span>opera <span class=\"k\">);</span>","","    <span class=\"k\">var</span> version <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">;</span>","","    <span class=\"c\">// Internet Explorer 6.0+</span>","    <span class=\"k\">if</span> <span class=\"k\">(</span> browser<span class=\"k\">.</span>ie <span class=\"k\">)</span><span class=\"k\">{</span>","        version <span class=\"k\">=</span> parseFloat<span class=\"k\">(</span> agent<span class=\"k\">.</span>match<span class=\"k\">(</span> <span class=\"s\">/msie (\\d+)/</span> <span class=\"k\">)[</span><span class=\"s\">1</span><span class=\"k\">]</span> <span class=\"k\">);</span>","        <span class=\"c\">/**</span>","<span class=\"c\">         * &#26816;&#27979;&#27983;&#35272;&#22120;&#26159;&#21542;&#20026; IE9 &#27169;&#24335;</span>","<span class=\"c\">         * @name ie9Compat</span>","<span class=\"c\">         * @grammar UE.browser.ie9Compat  =&gt; true|false</span>","<span class=\"c\">         */</span>","        browser<span class=\"k\">.</span>ie9Compat <span class=\"k\">=</span> document<span class=\"k\">.</span>documentMode <span class=\"k\">==</span> <span class=\"s\">9</span><span class=\"k\">;</span>","        <span class=\"c\">/**</span>","<span class=\"c\">         * &#26816;&#27979;&#27983;&#35272;&#22120;&#26159;&#21542;&#20026; IE8 &#27983;&#35272;&#22120;</span>","<span class=\"c\">         * @name ie8</span>","<span class=\"c\">         * @grammar     UE.browser.ie8  =&gt; true|false</span>","<span class=\"c\">         */</span>","        browser<span class=\"k\">.</span>ie8 <span class=\"k\">=</span> <span class=\"k\">!!</span>document<span class=\"k\">.</span>documentMode<span class=\"k\">;</span>","","        <span class=\"c\">/**</span>","<span class=\"c\">         * &#26816;&#27979;&#27983;&#35272;&#22120;&#26159;&#21542;&#20026; IE8 &#27169;&#24335;</span>","<span class=\"c\">         * @name ie8Compat</span>","<span class=\"c\">         * @grammar     UE.browser.ie8Compat  =&gt; true|false</span>","<span class=\"c\">         */</span>","        browser<span class=\"k\">.</span>ie8Compat <span class=\"k\">=</span> document<span class=\"k\">.</span>documentMode <span class=\"k\">==</span> <span class=\"s\">8</span><span class=\"k\">;</span>","","        <span class=\"c\">/**</span>","<span class=\"c\">         * &#26816;&#27979;&#27983;&#35272;&#22120;&#26159;&#21542;&#36816;&#34892;&#22312; &#20860;&#23481;IE7&#27169;&#24335;</span>","<span class=\"c\">         * @name ie7Compat</span>","<span class=\"c\">         * @grammar     UE.browser.ie7Compat  =&gt; true|false</span>","<span class=\"c\">         */</span>","        browser<span class=\"k\">.</span>ie7Compat <span class=\"k\">=</span> <span class=\"k\">(</span> <span class=\"k\">(</span> version <span class=\"k\">==</span> <span class=\"s\">7</span> <span class=\"k\">&amp;&amp;</span> <span class=\"k\">!</span>document<span class=\"k\">.</span>documentMode <span class=\"k\">)</span>","                <span class=\"k\">||</span> document<span class=\"k\">.</span>documentMode <span class=\"k\">==</span> <span class=\"s\">7</span> <span class=\"k\">);</span>","","        <span class=\"c\">/**</span>","<span class=\"c\">         * &#26816;&#27979;&#27983;&#35272;&#22120;&#26159;&#21542;IE6&#27169;&#24335;&#25110;&#24618;&#24322;&#27169;&#24335;</span>","<span class=\"c\">         * @name ie6Compat</span>","<span class=\"c\">         * @grammar     UE.browser.ie6Compat  =&gt; true|false</span>","<span class=\"c\">         */</span>","        browser<span class=\"k\">.</span>ie6Compat <span class=\"k\">=</span> <span class=\"k\">(</span> version <span class=\"k\">&lt;</span> <span class=\"s\">7</span> <span class=\"k\">||</span> browser<span class=\"k\">.</span>quirks <span class=\"k\">);</span>","","    <span class=\"k\">}</span>","","    <span class=\"c\">// Gecko.</span>","    <span class=\"k\">if</span> <span class=\"k\">(</span> browser<span class=\"k\">.</span>gecko <span class=\"k\">)</span><span class=\"k\">{</span>","        <span class=\"k\">var</span> geckoRelease <span class=\"k\">=</span> agent<span class=\"k\">.</span>match<span class=\"k\">(</span> <span class=\"s\">/rv:([\\d\\.]+)/</span> <span class=\"k\">);</span>","        <span class=\"k\">if</span> <span class=\"k\">(</span> geckoRelease <span class=\"k\">)</span>","        <span class=\"k\">{</span>","            geckoRelease <span class=\"k\">=</span> geckoRelease<span class=\"k\">[</span><span class=\"s\">1</span><span class=\"k\">].</span>split<span class=\"k\">(</span> <span class=\"s\">'.'</span> <span class=\"k\">);</span>","            version <span class=\"k\">=</span> geckoRelease<span class=\"k\">[</span><span class=\"s\">0</span><span class=\"k\">]</span> <span class=\"k\">*</span> <span class=\"s\">10000</span> <span class=\"k\">+</span> <span class=\"k\">(</span> geckoRelease<span class=\"k\">[</span><span class=\"s\">1</span><span class=\"k\">]</span> <span class=\"k\">||</span> <span class=\"s\">0</span> <span class=\"k\">)</span> <span class=\"k\">*</span> <span class=\"s\">100</span> <span class=\"k\">+</span> <span class=\"k\">(</span> geckoRelease<span class=\"k\">[</span><span class=\"s\">2</span><span class=\"k\">]</span> <span class=\"k\">||</span> <span class=\"s\">0</span> <span class=\"k\">)</span> <span class=\"k\">*</span> <span class=\"s\">1</span><span class=\"k\">;</span>","        <span class=\"k\">}</span>","    <span class=\"k\">}</span>","    <span class=\"c\">/**</span>","<span class=\"c\">     * &#26816;&#27979;&#27983;&#35272;&#22120;&#26159;&#21542;&#20026;chrome</span>","<span class=\"c\">     * @name chrome</span>","<span class=\"c\">     * @grammar     UE.browser.chrome  =&gt; true|false</span>","<span class=\"c\">     */</span>","    <span class=\"k\">if</span> <span class=\"k\">(</span><span class=\"s\">/chrome\\/(\\d+\\.\\d)/i</span><span class=\"k\">.</span>test<span class=\"k\">(</span>agent<span class=\"k\">))</span> <span class=\"k\">{</span>","        browser<span class=\"k\">.</span>chrome <span class=\"k\">=</span> <span class=\"k\">+</span> RegExp<span class=\"k\">[</span><span class=\"s\">'</span><span class=\"t\">\\x</span><span class=\"s\">241'</span><span class=\"k\">];</span>","    <span class=\"k\">}</span>","    <span class=\"c\">/**</span>","<span class=\"c\">     * &#26816;&#27979;&#27983;&#35272;&#22120;&#26159;&#21542;&#20026;safari</span>","<span class=\"c\">     * @name safari</span>","<span class=\"c\">     * @grammar     UE.browser.safari  =&gt; true|false</span>","<span class=\"c\">     */</span>","    <span class=\"k\">if</span><span class=\"k\">(</span><span class=\"s\">/(\\d+\\.\\d)?(?:\\.\\d)?\\s+safari\\/?(\\d+\\.\\d+)?/i</span><span class=\"k\">.</span>test<span class=\"k\">(</span>agent<span class=\"k\">)</span> <span class=\"k\">&amp;&amp;</span> <span class=\"k\">!</span><span class=\"s\">/chrome/i</span><span class=\"k\">.</span>test<span class=\"k\">(</span>agent<span class=\"k\">))</span><span class=\"k\">{</span>","    \tbrowser<span class=\"k\">.</span>safari <span class=\"k\">=</span> <span class=\"k\">+</span> <span class=\"k\">(</span>RegExp<span class=\"k\">[</span><span class=\"s\">'</span><span class=\"t\">\\x</span><span class=\"s\">241'</span><span class=\"k\">]</span> <span class=\"k\">||</span> RegExp<span class=\"k\">[</span><span class=\"s\">'</span><span class=\"t\">\\x</span><span class=\"s\">242'</span><span class=\"k\">]);</span>","    <span class=\"k\">}</span>","","","    <span class=\"c\">// Opera 9.50+</span>","    <span class=\"k\">if</span> <span class=\"k\">(</span> browser<span class=\"k\">.</span>opera <span class=\"k\">)</span>","        version <span class=\"k\">=</span> parseFloat<span class=\"k\">(</span> opera<span class=\"k\">.</span>version<span class=\"k\">()</span> <span class=\"k\">);</span>","","    <span class=\"c\">// WebKit 522+ (Safari 3+)</span>","    <span class=\"k\">if</span> <span class=\"k\">(</span> browser<span class=\"k\">.</span>webkit <span class=\"k\">)</span>","        version <span class=\"k\">=</span> parseFloat<span class=\"k\">(</span> agent<span class=\"k\">.</span>match<span class=\"k\">(</span> <span class=\"s\">/ applewebkit\\/(\\d+)/</span> <span class=\"k\">)[</span><span class=\"s\">1</span><span class=\"k\">]</span> <span class=\"k\">);</span>","","    <span class=\"c\">/**</span>","<span class=\"c\">     * &#27983;&#35272;&#22120;&#29256;&#26412;&#21028;&#26029;</span>","<span class=\"c\">     * IE&#31995;&#21015;&#36820;&#22238;&#20540;&#20026;5,6,7,8,9,10&#31561;</span>","<span class=\"c\">     * gecko&#31995;&#21015;&#20250;&#36820;&#22238;10900&#65292;158900&#31561;.</span>","<span class=\"c\">     * webkit&#31995;&#21015;&#20250;&#36820;&#22238;&#20854;build&#21495; (&#22914; 522&#31561;).</span>","<span class=\"c\">     * @name version</span>","<span class=\"c\">     * @grammar     UE.browser.version  =&gt; number</span>","<span class=\"c\">     * @example</span>","<span class=\"c\">     * if ( UE.browser.ie &amp;&amp; UE.browser.version == 6 ){</span>","<span class=\"c\">     *     alert( \"Ouch!&#23621;&#28982;&#26159;&#19975;&#24694;&#30340;IE6!\" );</span>","<span class=\"c\">     * }</span>","<span class=\"c\">     */</span>","    browser<span class=\"k\">.</span>version <span class=\"k\">=</span> version<span class=\"k\">;</span>","","    <span class=\"c\">/**</span>","<span class=\"c\">     * &#26159;&#21542;&#26159;&#20860;&#23481;&#27169;&#24335;&#30340;&#27983;&#35272;&#22120;</span>","<span class=\"c\">     * @name isCompatible</span>","<span class=\"c\">     * @grammar  UE.browser.isCompatible  =&gt; true|false</span>","<span class=\"c\">     * @example</span>","<span class=\"c\">     * if ( UE.browser.isCompatible ){</span>","<span class=\"c\">     *     alert( \"&#20320;&#30340;&#27983;&#35272;&#22120;&#30456;&#24403;&#19981;&#38169;&#21734;&#65281;\" );</span>","<span class=\"c\">     * }</span>","<span class=\"c\">     */</span>","    browser<span class=\"k\">.</span>isCompatible <span class=\"k\">=</span>","        <span class=\"k\">!</span>browser<span class=\"k\">.</span>mobile <span class=\"k\">&amp;&amp;</span> <span class=\"k\">(</span>","        <span class=\"k\">(</span> browser<span class=\"k\">.</span>ie <span class=\"k\">&amp;&amp;</span> version <span class=\"k\">&gt;=</span> <span class=\"s\">6</span> <span class=\"k\">)</span> <span class=\"k\">||</span>","        <span class=\"k\">(</span> browser<span class=\"k\">.</span>gecko <span class=\"k\">&amp;&amp;</span> version <span class=\"k\">&gt;=</span> <span class=\"s\">10801</span> <span class=\"k\">)</span> <span class=\"k\">||</span>","        <span class=\"k\">(</span> browser<span class=\"k\">.</span>opera <span class=\"k\">&amp;&amp;</span> version <span class=\"k\">&gt;=</span> <span class=\"s\">9.5</span> <span class=\"k\">)</span> <span class=\"k\">||</span>","        <span class=\"k\">(</span> browser<span class=\"k\">.</span>air <span class=\"k\">&amp;&amp;</span> version <span class=\"k\">&gt;=</span> <span class=\"s\">1</span> <span class=\"k\">)</span> <span class=\"k\">||</span>","        <span class=\"k\">(</span> browser<span class=\"k\">.</span>webkit <span class=\"k\">&amp;&amp;</span> version <span class=\"k\">&gt;=</span> <span class=\"s\">522</span> <span class=\"k\">)</span> <span class=\"k\">||</span>","        <span class=\"k\">false</span> <span class=\"k\">);</span>","    <span class=\"k\">return</span> browser<span class=\"k\">;</span>","<span class=\"k\">}</span><span class=\"k\">();</span>","<span class=\"c\">//&#24555;&#25463;&#26041;&#24335;</span>","<span class=\"k\">var</span> ie <span class=\"k\">=</span> browser<span class=\"k\">.</span>ie<span class=\"k\">,</span>","    webkit <span class=\"k\">=</span> browser<span class=\"k\">.</span>webkit<span class=\"k\">,</span>","    gecko <span class=\"k\">=</span> browser<span class=\"k\">.</span>gecko<span class=\"k\">,</span>","    opera <span class=\"k\">=</span> browser<span class=\"k\">.</span>opera<span class=\"k\">;</span>"]);
_$jscoverage['core/dom/Range.js'] && (_$jscoverage['core/dom/Range.js'].source = ["<span class=\"c\">///import editor.js</span>","<span class=\"c\">///import core/utils.js</span>","<span class=\"c\">///import core/browser.js</span>","<span class=\"c\">///import core/dom/dom.js</span>","<span class=\"c\">///import core/dom/dtd.js</span>","<span class=\"c\">///import core/dom/domUtils.js</span>","<span class=\"c\">/**</span>","<span class=\"c\"> * @file</span>","<span class=\"c\"> * @name UE.dom.Range</span>","<span class=\"c\"> * @anthor zhanyi</span>","<span class=\"c\"> * @short Range</span>","<span class=\"c\"> * @import editor.js,core/utils.js,core/browser.js,core/dom/domUtils.js,core/dom/dtd.js</span>","<span class=\"c\"> * @desc Range&#33539;&#22260;&#23454;&#29616;&#31867;&#65292;&#26412;&#31867;&#26159;UEditor&#24213;&#23618;&#26680;&#24515;&#31867;&#65292;&#32479;&#19968;w3cRange&#21644;ieRange&#20043;&#38388;&#30340;&#24046;&#24322;&#65292;&#21253;&#25324;&#25509;&#21475;&#21644;&#23646;&#24615;</span>","<span class=\"c\"> */</span>","<span class=\"k\">(</span><span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","    <span class=\"k\">var</span> guid <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">,</span>","        fillChar <span class=\"k\">=</span> domUtils<span class=\"k\">.</span>fillChar<span class=\"k\">,</span>","        fillData<span class=\"k\">;</span>","","    <span class=\"c\">/**</span>","<span class=\"c\">     * &#26356;&#26032;range&#30340;collapse&#29366;&#24577;</span>","<span class=\"c\">     * @param  {Range}   range    range&#23545;&#35937;</span>","<span class=\"c\">     */</span>","    <span class=\"k\">function</span> updateCollapse<span class=\"k\">(</span>range<span class=\"k\">)</span> <span class=\"k\">{</span>","        range<span class=\"k\">.</span>collapsed <span class=\"k\">=</span>","            range<span class=\"k\">.</span>startContainer <span class=\"k\">&amp;&amp;</span> range<span class=\"k\">.</span>endContainer <span class=\"k\">&amp;&amp;</span>","                range<span class=\"k\">.</span>startContainer <span class=\"k\">===</span> range<span class=\"k\">.</span>endContainer <span class=\"k\">&amp;&amp;</span>","                range<span class=\"k\">.</span>startOffset <span class=\"k\">==</span> range<span class=\"k\">.</span>endOffset<span class=\"k\">;</span>","    <span class=\"k\">}</span>","","    <span class=\"k\">function</span> selectOneNode<span class=\"k\">(</span>rng<span class=\"k\">)</span><span class=\"k\">{</span>","        <span class=\"k\">return</span> <span class=\"k\">!</span>rng<span class=\"k\">.</span>collapsed <span class=\"k\">&amp;&amp;</span> rng<span class=\"k\">.</span>startContainer<span class=\"k\">.</span>nodeType <span class=\"k\">==</span> <span class=\"s\">1</span> <span class=\"k\">&amp;&amp;</span> rng<span class=\"k\">.</span>startContainer <span class=\"k\">===</span> rng<span class=\"k\">.</span>endContainer <span class=\"k\">&amp;&amp;</span> rng<span class=\"k\">.</span>endOffset <span class=\"k\">-</span> rng<span class=\"k\">.</span>startOffset <span class=\"k\">==</span> <span class=\"s\">1</span>","    <span class=\"k\">}</span>","    <span class=\"k\">function</span> setEndPoint<span class=\"k\">(</span>toStart<span class=\"k\">,</span> node<span class=\"k\">,</span> offset<span class=\"k\">,</span> range<span class=\"k\">)</span> <span class=\"k\">{</span>","        <span class=\"c\">//&#22914;&#26524;node&#26159;&#33258;&#38381;&#21512;&#26631;&#31614;&#35201;&#22788;&#29702;</span>","        <span class=\"k\">if</span> <span class=\"k\">(</span>node<span class=\"k\">.</span>nodeType <span class=\"k\">==</span> <span class=\"s\">1</span> <span class=\"k\">&amp;&amp;</span> <span class=\"k\">(</span>dtd<span class=\"k\">.</span>$empty<span class=\"k\">[</span>node<span class=\"k\">.</span>tagName<span class=\"k\">]</span> <span class=\"k\">||</span> dtd<span class=\"k\">.</span>$nonChild<span class=\"k\">[</span>node<span class=\"k\">.</span>tagName<span class=\"k\">]))</span> <span class=\"k\">{</span>","            offset <span class=\"k\">=</span> domUtils<span class=\"k\">.</span>getNodeIndex<span class=\"k\">(</span>node<span class=\"k\">)</span> <span class=\"k\">+</span> <span class=\"k\">(</span>toStart <span class=\"k\">?</span> <span class=\"s\">0</span> <span class=\"k\">:</span> <span class=\"s\">1</span><span class=\"k\">);</span>","            node <span class=\"k\">=</span> node<span class=\"k\">.</span>parentNode<span class=\"k\">;</span>","        <span class=\"k\">}</span>","        <span class=\"k\">if</span> <span class=\"k\">(</span>toStart<span class=\"k\">)</span> <span class=\"k\">{</span>","            range<span class=\"k\">.</span>startContainer <span class=\"k\">=</span> node<span class=\"k\">;</span>","            range<span class=\"k\">.</span>startOffset <span class=\"k\">=</span> offset<span class=\"k\">;</span>","            <span class=\"k\">if</span> <span class=\"k\">(!</span>range<span class=\"k\">.</span>endContainer<span class=\"k\">)</span> <span class=\"k\">{</span>","                range<span class=\"k\">.</span>collapse<span class=\"k\">(</span><span class=\"k\">true</span><span class=\"k\">);</span>","            <span class=\"k\">}</span>","        <span class=\"k\">}</span> <span class=\"k\">else</span> <span class=\"k\">{</span>","            range<span class=\"k\">.</span>endContainer <span class=\"k\">=</span> node<span class=\"k\">;</span>","            range<span class=\"k\">.</span>endOffset <span class=\"k\">=</span> offset<span class=\"k\">;</span>","            <span class=\"k\">if</span> <span class=\"k\">(!</span>range<span class=\"k\">.</span>startContainer<span class=\"k\">)</span> <span class=\"k\">{</span>","                range<span class=\"k\">.</span>collapse<span class=\"k\">(</span><span class=\"k\">false</span><span class=\"k\">);</span>","            <span class=\"k\">}</span>","        <span class=\"k\">}</span>","        updateCollapse<span class=\"k\">(</span>range<span class=\"k\">);</span>","        <span class=\"k\">return</span> range<span class=\"k\">;</span>","    <span class=\"k\">}</span>","","    <span class=\"k\">function</span> execContentsAction<span class=\"k\">(</span>range<span class=\"k\">,</span> action<span class=\"k\">)</span> <span class=\"k\">{</span>","        <span class=\"c\">//&#35843;&#25972;&#36793;&#30028;</span>","        <span class=\"c\">//range.includeBookmark();</span>","        <span class=\"k\">var</span> start <span class=\"k\">=</span> range<span class=\"k\">.</span>startContainer<span class=\"k\">,</span>","            end <span class=\"k\">=</span> range<span class=\"k\">.</span>endContainer<span class=\"k\">,</span>","            startOffset <span class=\"k\">=</span> range<span class=\"k\">.</span>startOffset<span class=\"k\">,</span>","            endOffset <span class=\"k\">=</span> range<span class=\"k\">.</span>endOffset<span class=\"k\">,</span>","            doc <span class=\"k\">=</span> range<span class=\"k\">.</span>document<span class=\"k\">,</span>","            frag <span class=\"k\">=</span> doc<span class=\"k\">.</span>createDocumentFragment<span class=\"k\">(),</span>","            tmpStart<span class=\"k\">,</span> tmpEnd<span class=\"k\">;</span>","        <span class=\"k\">if</span> <span class=\"k\">(</span>start<span class=\"k\">.</span>nodeType <span class=\"k\">==</span> <span class=\"s\">1</span><span class=\"k\">)</span> <span class=\"k\">{</span>","            start <span class=\"k\">=</span> start<span class=\"k\">.</span>childNodes<span class=\"k\">[</span>startOffset<span class=\"k\">]</span> <span class=\"k\">||</span> <span class=\"k\">(</span>tmpStart <span class=\"k\">=</span> start<span class=\"k\">.</span>appendChild<span class=\"k\">(</span>doc<span class=\"k\">.</span>createTextNode<span class=\"k\">(</span><span class=\"s\">''</span><span class=\"k\">)));</span>","        <span class=\"k\">}</span>","        <span class=\"k\">if</span> <span class=\"k\">(</span>end<span class=\"k\">.</span>nodeType <span class=\"k\">==</span> <span class=\"s\">1</span><span class=\"k\">)</span> <span class=\"k\">{</span>","            end <span class=\"k\">=</span> end<span class=\"k\">.</span>childNodes<span class=\"k\">[</span>endOffset<span class=\"k\">]</span> <span class=\"k\">||</span> <span class=\"k\">(</span>tmpEnd <span class=\"k\">=</span> end<span class=\"k\">.</span>appendChild<span class=\"k\">(</span>doc<span class=\"k\">.</span>createTextNode<span class=\"k\">(</span><span class=\"s\">''</span><span class=\"k\">)));</span>","        <span class=\"k\">}</span>","        <span class=\"k\">if</span> <span class=\"k\">(</span>start <span class=\"k\">===</span> end <span class=\"k\">&amp;&amp;</span> start<span class=\"k\">.</span>nodeType <span class=\"k\">==</span> <span class=\"s\">3</span><span class=\"k\">)</span> <span class=\"k\">{</span>","            frag<span class=\"k\">.</span>appendChild<span class=\"k\">(</span>doc<span class=\"k\">.</span>createTextNode<span class=\"k\">(</span>start<span class=\"k\">.</span>substringData<span class=\"k\">(</span>startOffset<span class=\"k\">,</span> endOffset <span class=\"k\">-</span> startOffset<span class=\"k\">)));</span>","            <span class=\"c\">//is not clone</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span>action<span class=\"k\">)</span> <span class=\"k\">{</span>","                start<span class=\"k\">.</span>deleteData<span class=\"k\">(</span>startOffset<span class=\"k\">,</span> endOffset <span class=\"k\">-</span> startOffset<span class=\"k\">);</span>","                range<span class=\"k\">.</span>collapse<span class=\"k\">(</span><span class=\"k\">true</span><span class=\"k\">);</span>","            <span class=\"k\">}</span>","            <span class=\"k\">return</span> frag<span class=\"k\">;</span>","        <span class=\"k\">}</span>","        <span class=\"k\">var</span> current<span class=\"k\">,</span> currentLevel<span class=\"k\">,</span> clone <span class=\"k\">=</span> frag<span class=\"k\">,</span>","            startParents <span class=\"k\">=</span> domUtils<span class=\"k\">.</span>findParents<span class=\"k\">(</span>start<span class=\"k\">,</span> <span class=\"k\">true</span><span class=\"k\">),</span> endParents <span class=\"k\">=</span> domUtils<span class=\"k\">.</span>findParents<span class=\"k\">(</span>end<span class=\"k\">,</span> <span class=\"k\">true</span><span class=\"k\">);</span>","        <span class=\"k\">for</span> <span class=\"k\">(</span><span class=\"k\">var</span> i <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">;</span> startParents<span class=\"k\">[</span>i<span class=\"k\">]</span> <span class=\"k\">==</span> endParents<span class=\"k\">[</span>i<span class=\"k\">];)</span> <span class=\"k\">{</span>","            i<span class=\"k\">++;</span>","        <span class=\"k\">}</span>","        <span class=\"k\">for</span> <span class=\"k\">(</span><span class=\"k\">var</span> j <span class=\"k\">=</span> i<span class=\"k\">,</span> si<span class=\"k\">;</span> si <span class=\"k\">=</span> startParents<span class=\"k\">[</span>j<span class=\"k\">];</span> j<span class=\"k\">++)</span> <span class=\"k\">{</span>","            current <span class=\"k\">=</span> si<span class=\"k\">.</span>nextSibling<span class=\"k\">;</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span>si <span class=\"k\">==</span> start<span class=\"k\">)</span> <span class=\"k\">{</span>","                <span class=\"k\">if</span> <span class=\"k\">(!</span>tmpStart<span class=\"k\">)</span> <span class=\"k\">{</span>","                    <span class=\"k\">if</span> <span class=\"k\">(</span>range<span class=\"k\">.</span>startContainer<span class=\"k\">.</span>nodeType <span class=\"k\">==</span> <span class=\"s\">3</span><span class=\"k\">)</span> <span class=\"k\">{</span>","                        clone<span class=\"k\">.</span>appendChild<span class=\"k\">(</span>doc<span class=\"k\">.</span>createTextNode<span class=\"k\">(</span>start<span class=\"k\">.</span>nodeValue<span class=\"k\">.</span>slice<span class=\"k\">(</span>startOffset<span class=\"k\">)));</span>","                        <span class=\"c\">//is not clone</span>","                        <span class=\"k\">if</span> <span class=\"k\">(</span>action<span class=\"k\">)</span> <span class=\"k\">{</span>","                            start<span class=\"k\">.</span>deleteData<span class=\"k\">(</span>startOffset<span class=\"k\">,</span> start<span class=\"k\">.</span>nodeValue<span class=\"k\">.</span>length <span class=\"k\">-</span> startOffset<span class=\"k\">);</span>","                        <span class=\"k\">}</span>","                    <span class=\"k\">}</span> <span class=\"k\">else</span> <span class=\"k\">{</span>","                        clone<span class=\"k\">.</span>appendChild<span class=\"k\">(!</span>action <span class=\"k\">?</span> start<span class=\"k\">.</span>cloneNode<span class=\"k\">(</span><span class=\"k\">true</span><span class=\"k\">)</span> <span class=\"k\">:</span> start<span class=\"k\">);</span>","                    <span class=\"k\">}</span>","                <span class=\"k\">}</span>","            <span class=\"k\">}</span> <span class=\"k\">else</span> <span class=\"k\">{</span>","                currentLevel <span class=\"k\">=</span> si<span class=\"k\">.</span>cloneNode<span class=\"k\">(</span><span class=\"k\">false</span><span class=\"k\">);</span>","                clone<span class=\"k\">.</span>appendChild<span class=\"k\">(</span>currentLevel<span class=\"k\">);</span>","            <span class=\"k\">}</span>","            <span class=\"k\">while</span> <span class=\"k\">(</span>current<span class=\"k\">)</span> <span class=\"k\">{</span>","                <span class=\"k\">if</span> <span class=\"k\">(</span>current <span class=\"k\">===</span> end <span class=\"k\">||</span> current <span class=\"k\">===</span> endParents<span class=\"k\">[</span>j<span class=\"k\">])</span> <span class=\"k\">{</span>","                    <span class=\"k\">break</span><span class=\"k\">;</span>","                <span class=\"k\">}</span>","                si <span class=\"k\">=</span> current<span class=\"k\">.</span>nextSibling<span class=\"k\">;</span>","                clone<span class=\"k\">.</span>appendChild<span class=\"k\">(!</span>action <span class=\"k\">?</span> current<span class=\"k\">.</span>cloneNode<span class=\"k\">(</span><span class=\"k\">true</span><span class=\"k\">)</span> <span class=\"k\">:</span> current<span class=\"k\">);</span>","                current <span class=\"k\">=</span> si<span class=\"k\">;</span>","            <span class=\"k\">}</span>","            clone <span class=\"k\">=</span> currentLevel<span class=\"k\">;</span>","        <span class=\"k\">}</span>","        clone <span class=\"k\">=</span> frag<span class=\"k\">;</span>","        <span class=\"k\">if</span> <span class=\"k\">(!</span>startParents<span class=\"k\">[</span>i<span class=\"k\">])</span> <span class=\"k\">{</span>","            clone<span class=\"k\">.</span>appendChild<span class=\"k\">(</span>startParents<span class=\"k\">[</span>i <span class=\"k\">-</span> <span class=\"s\">1</span><span class=\"k\">].</span>cloneNode<span class=\"k\">(</span><span class=\"k\">false</span><span class=\"k\">));</span>","            clone <span class=\"k\">=</span> clone<span class=\"k\">.</span>firstChild<span class=\"k\">;</span>","        <span class=\"k\">}</span>","        <span class=\"k\">for</span> <span class=\"k\">(</span><span class=\"k\">var</span> j <span class=\"k\">=</span> i<span class=\"k\">,</span> ei<span class=\"k\">;</span> ei <span class=\"k\">=</span> endParents<span class=\"k\">[</span>j<span class=\"k\">];</span> j<span class=\"k\">++)</span> <span class=\"k\">{</span>","            current <span class=\"k\">=</span> ei<span class=\"k\">.</span>previousSibling<span class=\"k\">;</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span>ei <span class=\"k\">==</span> end<span class=\"k\">)</span> <span class=\"k\">{</span>","                <span class=\"k\">if</span> <span class=\"k\">(!</span>tmpEnd <span class=\"k\">&amp;&amp;</span> range<span class=\"k\">.</span>endContainer<span class=\"k\">.</span>nodeType <span class=\"k\">==</span> <span class=\"s\">3</span><span class=\"k\">)</span> <span class=\"k\">{</span>","                    clone<span class=\"k\">.</span>appendChild<span class=\"k\">(</span>doc<span class=\"k\">.</span>createTextNode<span class=\"k\">(</span>end<span class=\"k\">.</span>substringData<span class=\"k\">(</span><span class=\"s\">0</span><span class=\"k\">,</span> endOffset<span class=\"k\">)));</span>","                    <span class=\"c\">//is not clone</span>","                    <span class=\"k\">if</span> <span class=\"k\">(</span>action<span class=\"k\">)</span> <span class=\"k\">{</span>","                        end<span class=\"k\">.</span>deleteData<span class=\"k\">(</span><span class=\"s\">0</span><span class=\"k\">,</span> endOffset<span class=\"k\">);</span>","                    <span class=\"k\">}</span>","                <span class=\"k\">}</span>","            <span class=\"k\">}</span> <span class=\"k\">else</span> <span class=\"k\">{</span>","                currentLevel <span class=\"k\">=</span> ei<span class=\"k\">.</span>cloneNode<span class=\"k\">(</span><span class=\"k\">false</span><span class=\"k\">);</span>","                clone<span class=\"k\">.</span>appendChild<span class=\"k\">(</span>currentLevel<span class=\"k\">);</span>","            <span class=\"k\">}</span>","            <span class=\"c\">//&#22914;&#26524;&#20004;&#31471;&#21516;&#32423;&#65292;&#21491;&#36793;&#31532;&#19968;&#27425;&#24050;&#32463;&#34987;&#24320;&#22987;&#20570;&#20102;</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span>j <span class=\"k\">!=</span> i <span class=\"k\">||</span> <span class=\"k\">!</span>startParents<span class=\"k\">[</span>i<span class=\"k\">])</span> <span class=\"k\">{</span>","                <span class=\"k\">while</span> <span class=\"k\">(</span>current<span class=\"k\">)</span> <span class=\"k\">{</span>","                    <span class=\"k\">if</span> <span class=\"k\">(</span>current <span class=\"k\">===</span> start<span class=\"k\">)</span> <span class=\"k\">{</span>","                        <span class=\"k\">break</span><span class=\"k\">;</span>","                    <span class=\"k\">}</span>","                    ei <span class=\"k\">=</span> current<span class=\"k\">.</span>previousSibling<span class=\"k\">;</span>","                    clone<span class=\"k\">.</span>insertBefore<span class=\"k\">(!</span>action <span class=\"k\">?</span> current<span class=\"k\">.</span>cloneNode<span class=\"k\">(</span><span class=\"k\">true</span><span class=\"k\">)</span> <span class=\"k\">:</span> current<span class=\"k\">,</span> clone<span class=\"k\">.</span>firstChild<span class=\"k\">);</span>","                    current <span class=\"k\">=</span> ei<span class=\"k\">;</span>","                <span class=\"k\">}</span>","            <span class=\"k\">}</span>","            clone <span class=\"k\">=</span> currentLevel<span class=\"k\">;</span>","        <span class=\"k\">}</span>","        <span class=\"k\">if</span> <span class=\"k\">(</span>action<span class=\"k\">)</span> <span class=\"k\">{</span>","            range<span class=\"k\">.</span>setStartBefore<span class=\"k\">(!</span>endParents<span class=\"k\">[</span>i<span class=\"k\">]</span> <span class=\"k\">?</span> endParents<span class=\"k\">[</span>i <span class=\"k\">-</span> <span class=\"s\">1</span><span class=\"k\">]</span> <span class=\"k\">:</span> <span class=\"k\">!</span>startParents<span class=\"k\">[</span>i<span class=\"k\">]</span> <span class=\"k\">?</span> startParents<span class=\"k\">[</span>i <span class=\"k\">-</span> <span class=\"s\">1</span><span class=\"k\">]</span> <span class=\"k\">:</span> endParents<span class=\"k\">[</span>i<span class=\"k\">]).</span>collapse<span class=\"k\">(</span><span class=\"k\">true</span><span class=\"k\">);</span>","        <span class=\"k\">}</span>","        tmpStart <span class=\"k\">&amp;&amp;</span> domUtils<span class=\"k\">.</span>remove<span class=\"k\">(</span>tmpStart<span class=\"k\">);</span>","        tmpEnd <span class=\"k\">&amp;&amp;</span> domUtils<span class=\"k\">.</span>remove<span class=\"k\">(</span>tmpEnd<span class=\"k\">);</span>","        <span class=\"k\">return</span> frag<span class=\"k\">;</span>","    <span class=\"k\">}</span>","","    <span class=\"c\">/**</span>","<span class=\"c\">     * @name Range</span>","<span class=\"c\">     * @grammar new UE.dom.Range(document)  =&gt; Range &#23454;&#20363;</span>","<span class=\"c\">     * @desc &#21019;&#24314;&#19968;&#20010;&#36319;document&#32465;&#23450;&#30340;&#31354;&#30340;Range&#23454;&#20363;</span>","<span class=\"c\">     * - ***startContainer*** &#24320;&#22987;&#36793;&#30028;&#30340;&#23481;&#22120;&#33410;&#28857;,&#21487;&#20197;&#26159;elementNode&#25110;&#32773;&#26159;textNode</span>","<span class=\"c\">     * - ***startOffset*** &#23481;&#22120;&#33410;&#28857;&#20013;&#30340;&#20559;&#31227;&#37327;&#65292;&#22914;&#26524;&#26159;elementNode&#23601;&#26159;childNodes&#20013;&#30340;&#31532;&#20960;&#20010;&#65292;&#22914;&#26524;&#26159;textNode&#23601;&#26159;nodeValue&#30340;&#31532;&#20960;&#20010;&#23383;&#31526;</span>","<span class=\"c\">     * - ***endContainer*** &#32467;&#26463;&#36793;&#30028;&#30340;&#23481;&#22120;&#33410;&#28857;,&#21487;&#20197;&#26159;elementNode&#25110;&#32773;&#26159;textNode</span>","<span class=\"c\">     * - ***endOffset*** &#23481;&#22120;&#33410;&#28857;&#20013;&#30340;&#20559;&#31227;&#37327;&#65292;&#22914;&#26524;&#26159;elementNode&#23601;&#26159;childNodes&#20013;&#30340;&#31532;&#20960;&#20010;&#65292;&#22914;&#26524;&#26159;textNode&#23601;&#26159;nodeValue&#30340;&#31532;&#20960;&#20010;&#23383;&#31526;</span>","<span class=\"c\">     * - ***document*** &#36319;range&#20851;&#32852;&#30340;document&#23545;&#35937;</span>","<span class=\"c\">     * - ***collapsed*** &#26159;&#21542;&#26159;&#38381;&#21512;&#29366;&#24577;</span>","<span class=\"c\">     */</span>","    <span class=\"k\">var</span> Range <span class=\"k\">=</span> dom<span class=\"k\">.</span>Range <span class=\"k\">=</span> <span class=\"k\">function</span> <span class=\"k\">(</span>document<span class=\"k\">)</span> <span class=\"k\">{</span>","        <span class=\"k\">var</span> me <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">;</span>","        me<span class=\"k\">.</span>startContainer <span class=\"k\">=</span>","            me<span class=\"k\">.</span>startOffset <span class=\"k\">=</span>","                me<span class=\"k\">.</span>endContainer <span class=\"k\">=</span>","                    me<span class=\"k\">.</span>endOffset <span class=\"k\">=</span> <span class=\"k\">null</span><span class=\"k\">;</span>","        me<span class=\"k\">.</span>document <span class=\"k\">=</span> document<span class=\"k\">;</span>","        me<span class=\"k\">.</span>collapsed <span class=\"k\">=</span> <span class=\"k\">true</span><span class=\"k\">;</span>","    <span class=\"k\">}</span><span class=\"k\">;</span>","","    <span class=\"c\">/**</span>","<span class=\"c\">     * &#21024;&#38500;fillData</span>","<span class=\"c\">     * @param doc</span>","<span class=\"c\">     * @param excludeNode</span>","<span class=\"c\">     */</span>","    <span class=\"k\">function</span> removeFillData<span class=\"k\">(</span>doc<span class=\"k\">,</span> excludeNode<span class=\"k\">)</span> <span class=\"k\">{</span>","        <span class=\"k\">try</span> <span class=\"k\">{</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span>fillData <span class=\"k\">&amp;&amp;</span> domUtils<span class=\"k\">.</span>inDoc<span class=\"k\">(</span>fillData<span class=\"k\">,</span> doc<span class=\"k\">))</span> <span class=\"k\">{</span>","                <span class=\"k\">if</span> <span class=\"k\">(!</span>fillData<span class=\"k\">.</span>nodeValue<span class=\"k\">.</span>replace<span class=\"k\">(</span>fillCharReg<span class=\"k\">,</span> <span class=\"s\">''</span><span class=\"k\">).</span>length<span class=\"k\">)</span> <span class=\"k\">{</span>","                    <span class=\"k\">var</span> tmpNode <span class=\"k\">=</span> fillData<span class=\"k\">.</span>parentNode<span class=\"k\">;</span>","                    domUtils<span class=\"k\">.</span>remove<span class=\"k\">(</span>fillData<span class=\"k\">);</span>","                    <span class=\"k\">while</span> <span class=\"k\">(</span>tmpNode <span class=\"k\">&amp;&amp;</span> domUtils<span class=\"k\">.</span>isEmptyInlineElement<span class=\"k\">(</span>tmpNode<span class=\"k\">)</span> <span class=\"k\">&amp;&amp;</span> <span class=\"k\">!</span>tmpNode<span class=\"k\">.</span>contains<span class=\"k\">(</span>excludeNode<span class=\"k\">))</span> <span class=\"k\">{</span>","                        fillData <span class=\"k\">=</span> tmpNode<span class=\"k\">.</span>parentNode<span class=\"k\">;</span>","                        domUtils<span class=\"k\">.</span>remove<span class=\"k\">(</span>tmpNode<span class=\"k\">);</span>","                        tmpNode <span class=\"k\">=</span> fillData<span class=\"k\">;</span>","                    <span class=\"k\">}</span>","                <span class=\"k\">}</span> <span class=\"k\">else</span> <span class=\"k\">{</span>","                    fillData<span class=\"k\">.</span>nodeValue <span class=\"k\">=</span> fillData<span class=\"k\">.</span>nodeValue<span class=\"k\">.</span>replace<span class=\"k\">(</span>fillCharReg<span class=\"k\">,</span> <span class=\"s\">''</span><span class=\"k\">);</span>","                <span class=\"k\">}</span>","            <span class=\"k\">}</span>","        <span class=\"k\">}</span> <span class=\"k\">catch</span> <span class=\"k\">(</span>e<span class=\"k\">)</span> <span class=\"k\">{</span>","        <span class=\"k\">}</span>","    <span class=\"k\">}</span>","","    <span class=\"c\">/**</span>","<span class=\"c\">     *</span>","<span class=\"c\">     * @param node</span>","<span class=\"c\">     * @param dir</span>","<span class=\"c\">     */</span>","    <span class=\"k\">function</span> mergeSibling<span class=\"k\">(</span>node<span class=\"k\">,</span> dir<span class=\"k\">)</span> <span class=\"k\">{</span>","        <span class=\"k\">var</span> tmpNode<span class=\"k\">;</span>","        node <span class=\"k\">=</span> node<span class=\"k\">[</span>dir<span class=\"k\">];</span>","        <span class=\"k\">while</span> <span class=\"k\">(</span>node <span class=\"k\">&amp;&amp;</span> domUtils<span class=\"k\">.</span>isFillChar<span class=\"k\">(</span>node<span class=\"k\">))</span> <span class=\"k\">{</span>","            tmpNode <span class=\"k\">=</span> node<span class=\"k\">[</span>dir<span class=\"k\">];</span>","            domUtils<span class=\"k\">.</span>remove<span class=\"k\">(</span>node<span class=\"k\">);</span>","            node <span class=\"k\">=</span> tmpNode<span class=\"k\">;</span>","        <span class=\"k\">}</span>","    <span class=\"k\">}</span>","","    Range<span class=\"k\">.</span>prototype <span class=\"k\">=</span> <span class=\"k\">{</span>","        <span class=\"c\">/**</span>","<span class=\"c\">         * @name cloneContents</span>","<span class=\"c\">         * @grammar range.cloneContents()  =&gt; DocumentFragment</span>","<span class=\"c\">         * @desc &#20811;&#38534;&#36873;&#20013;&#30340;&#20869;&#23481;&#21040;&#19968;&#20010;fragment&#37324;&#65292;&#22914;&#26524;&#36873;&#21306;&#26159;&#31354;&#30340;&#23558;&#36820;&#22238;null</span>","<span class=\"c\">         */</span>","        cloneContents<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","            <span class=\"k\">return</span> <span class=\"k\">this</span><span class=\"k\">.</span>collapsed <span class=\"k\">?</span> <span class=\"k\">null</span> <span class=\"k\">:</span> execContentsAction<span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">,</span> <span class=\"s\">0</span><span class=\"k\">);</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        <span class=\"c\">/**</span>","<span class=\"c\">         * @name deleteContents</span>","<span class=\"c\">         * @grammar range.deleteContents()  =&gt; Range</span>","<span class=\"c\">         * @desc &#21024;&#38500;&#24403;&#21069;&#36873;&#21306;&#33539;&#22260;&#20013;&#30340;&#25152;&#26377;&#20869;&#23481;&#24182;&#36820;&#22238;range&#23454;&#20363;&#65292;&#36825;&#26102;&#30340;range&#24050;&#32463;&#21464;&#25104;&#20102;&#38381;&#21512;&#29366;&#24577;</span>","<span class=\"c\">         * @example</span>","<span class=\"c\">         * DOM Element :</span>","<span class=\"c\">         * &lt;b&gt;x&lt;i&gt;x[x&lt;i&gt;xx]x&lt;/b&gt;</span>","<span class=\"c\">         * //&#25191;&#34892;&#26041;&#27861;&#21518;</span>","<span class=\"c\">         * &lt;b&gt;x&lt;i&gt;x&lt;i&gt;|x&lt;/b&gt;</span>","<span class=\"c\">         * &#27880;&#24847;range&#25913;&#21464;&#20102;</span>","<span class=\"c\">         * range.startContainer =&gt; b</span>","<span class=\"c\">         * range.startOffset  =&gt; 2</span>","<span class=\"c\">         * range.endContainer =&gt; b</span>","<span class=\"c\">         * range.endOffset =&gt; 2</span>","<span class=\"c\">         * range.collapsed =&gt; true</span>","<span class=\"c\">         */</span>","        deleteContents<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","            <span class=\"k\">var</span> txt<span class=\"k\">;</span>","            <span class=\"k\">if</span> <span class=\"k\">(!</span><span class=\"k\">this</span><span class=\"k\">.</span>collapsed<span class=\"k\">)</span> <span class=\"k\">{</span>","                execContentsAction<span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">,</span> <span class=\"s\">1</span><span class=\"k\">);</span>","            <span class=\"k\">}</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span>browser<span class=\"k\">.</span>webkit<span class=\"k\">)</span> <span class=\"k\">{</span>","                txt <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>startContainer<span class=\"k\">;</span>","                <span class=\"k\">if</span> <span class=\"k\">(</span>txt<span class=\"k\">.</span>nodeType <span class=\"k\">==</span> <span class=\"s\">3</span> <span class=\"k\">&amp;&amp;</span> <span class=\"k\">!</span>txt<span class=\"k\">.</span>nodeValue<span class=\"k\">.</span>length<span class=\"k\">)</span> <span class=\"k\">{</span>","                    <span class=\"k\">this</span><span class=\"k\">.</span>setStartBefore<span class=\"k\">(</span>txt<span class=\"k\">).</span>collapse<span class=\"k\">(</span><span class=\"k\">true</span><span class=\"k\">);</span>","                    domUtils<span class=\"k\">.</span>remove<span class=\"k\">(</span>txt<span class=\"k\">);</span>","                <span class=\"k\">}</span>","            <span class=\"k\">}</span>","            <span class=\"k\">return</span> <span class=\"k\">this</span><span class=\"k\">;</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        <span class=\"c\">/**</span>","<span class=\"c\">         * @name extractContents</span>","<span class=\"c\">         * @grammar range.extractContents()  =&gt; DocumentFragment</span>","<span class=\"c\">         * @desc &#23558;&#24403;&#21069;&#30340;&#20869;&#23481;&#25918;&#21040;&#19968;&#20010;fragment&#37324;&#24182;&#36820;&#22238;&#36825;&#20010;fragment&#65292;&#36825;&#26102;&#30340;range&#24050;&#32463;&#21464;&#25104;&#20102;&#38381;&#21512;&#29366;&#24577;</span>","<span class=\"c\">         * @example</span>","<span class=\"c\">         * DOM Element :</span>","<span class=\"c\">         * &lt;b&gt;x&lt;i&gt;x[x&lt;i&gt;xx]x&lt;/b&gt;</span>","<span class=\"c\">         * //&#25191;&#34892;&#26041;&#27861;&#21518;</span>","<span class=\"c\">         * &#36820;&#22238;&#30340;fragment&#37324;&#30340; dom&#32467;&#26500;&#26159;</span>","<span class=\"c\">         * &lt;i&gt;x&lt;i&gt;xx</span>","<span class=\"c\">         * dom&#26641;&#19978;&#30340;&#32467;&#26500;&#26159;</span>","<span class=\"c\">         * &lt;b&gt;x&lt;i&gt;x&lt;i&gt;|x&lt;/b&gt;</span>","<span class=\"c\">         * &#27880;&#24847;range&#25913;&#21464;&#20102;</span>","<span class=\"c\">         * range.startContainer =&gt; b</span>","<span class=\"c\">         * range.startOffset  =&gt; 2</span>","<span class=\"c\">         * range.endContainer =&gt; b</span>","<span class=\"c\">         * range.endOffset =&gt; 2</span>","<span class=\"c\">         * range.collapsed =&gt; true</span>","<span class=\"c\">         */</span>","        extractContents<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","            <span class=\"k\">return</span> <span class=\"k\">this</span><span class=\"k\">.</span>collapsed <span class=\"k\">?</span> <span class=\"k\">null</span> <span class=\"k\">:</span> execContentsAction<span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">,</span> <span class=\"s\">2</span><span class=\"k\">);</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        <span class=\"c\">/**</span>","<span class=\"c\">         * @name  setStart</span>","<span class=\"c\">         * @grammar range.setStart(node,offset)  =&gt; Range</span>","<span class=\"c\">         * @desc    &#35774;&#32622;range&#30340;&#24320;&#22987;&#20301;&#32622;&#20301;&#20110;node&#33410;&#28857;&#20869;&#65292;&#20559;&#31227;&#37327;&#20026;offset</span>","<span class=\"c\">         * &#22914;&#26524;node&#26159;elementNode&#37027;offset&#25351;&#30340;&#26159;childNodes&#20013;&#30340;&#31532;&#20960;&#20010;&#65292;&#22914;&#26524;&#26159;textNode&#37027;offset&#25351;&#30340;&#26159;nodeValue&#30340;&#31532;&#20960;&#20010;&#23383;&#31526;</span>","<span class=\"c\">         */</span>","        setStart<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">(</span>node<span class=\"k\">,</span> offset<span class=\"k\">)</span> <span class=\"k\">{</span>","            <span class=\"k\">return</span> setEndPoint<span class=\"k\">(</span><span class=\"k\">true</span><span class=\"k\">,</span> node<span class=\"k\">,</span> offset<span class=\"k\">,</span> <span class=\"k\">this</span><span class=\"k\">);</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        <span class=\"c\">/**</span>","<span class=\"c\">         * &#35774;&#32622;range&#30340;&#32467;&#26463;&#20301;&#32622;&#20301;&#20110;node&#33410;&#28857;&#65292;&#20559;&#31227;&#37327;&#20026;offset</span>","<span class=\"c\">         * &#22914;&#26524;node&#26159;elementNode&#37027;offset&#25351;&#30340;&#26159;childNodes&#20013;&#30340;&#31532;&#20960;&#20010;&#65292;&#22914;&#26524;&#26159;textNode&#37027;offset&#25351;&#30340;&#26159;nodeValue&#30340;&#31532;&#20960;&#20010;&#23383;&#31526;</span>","<span class=\"c\">         * @name  setEnd</span>","<span class=\"c\">         * @grammar range.setEnd(node,offset)  =&gt; Range</span>","<span class=\"c\">         */</span>","        setEnd<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">(</span>node<span class=\"k\">,</span> offset<span class=\"k\">)</span> <span class=\"k\">{</span>","            <span class=\"k\">return</span> setEndPoint<span class=\"k\">(</span><span class=\"k\">false</span><span class=\"k\">,</span> node<span class=\"k\">,</span> offset<span class=\"k\">,</span> <span class=\"k\">this</span><span class=\"k\">);</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        <span class=\"c\">/**</span>","<span class=\"c\">         * &#23558;Range&#24320;&#22987;&#20301;&#32622;&#35774;&#32622;&#21040;node&#33410;&#28857;&#20043;&#21518;</span>","<span class=\"c\">         * @name  setStartAfter</span>","<span class=\"c\">         * @grammar range.setStartAfter(node)  =&gt; Range</span>","<span class=\"c\">         * @example</span>","<span class=\"c\">         * &lt;b&gt;xx&lt;i&gt;x|x&lt;/i&gt;x&lt;/b&gt;</span>","<span class=\"c\">         * &#25191;&#34892;setStartAfter(i)&#21518;</span>","<span class=\"c\">         * range.startContainer =&gt;b</span>","<span class=\"c\">         * range.startOffset =&gt;2</span>","<span class=\"c\">         */</span>","        setStartAfter<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">(</span>node<span class=\"k\">)</span> <span class=\"k\">{</span>","            <span class=\"k\">return</span> <span class=\"k\">this</span><span class=\"k\">.</span>setStart<span class=\"k\">(</span>node<span class=\"k\">.</span>parentNode<span class=\"k\">,</span> domUtils<span class=\"k\">.</span>getNodeIndex<span class=\"k\">(</span>node<span class=\"k\">)</span> <span class=\"k\">+</span> <span class=\"s\">1</span><span class=\"k\">);</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        <span class=\"c\">/**</span>","<span class=\"c\">         * &#23558;Range&#24320;&#22987;&#20301;&#32622;&#35774;&#32622;&#21040;node&#33410;&#28857;&#20043;&#21069;</span>","<span class=\"c\">         * @name  setStartBefore</span>","<span class=\"c\">         * @grammar range.setStartBefore(node)  =&gt; Range</span>","<span class=\"c\">         * @example</span>","<span class=\"c\">         * &lt;b&gt;xx&lt;i&gt;x|x&lt;/i&gt;x&lt;/b&gt;</span>","<span class=\"c\">         * &#25191;&#34892;setStartBefore(i)&#21518;</span>","<span class=\"c\">         * range.startContainer =&gt;b</span>","<span class=\"c\">         * range.startOffset =&gt;1</span>","<span class=\"c\">         */</span>","        setStartBefore<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">(</span>node<span class=\"k\">)</span> <span class=\"k\">{</span>","            <span class=\"k\">return</span> <span class=\"k\">this</span><span class=\"k\">.</span>setStart<span class=\"k\">(</span>node<span class=\"k\">.</span>parentNode<span class=\"k\">,</span> domUtils<span class=\"k\">.</span>getNodeIndex<span class=\"k\">(</span>node<span class=\"k\">));</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        <span class=\"c\">/**</span>","<span class=\"c\">         * &#23558;Range&#32467;&#26463;&#20301;&#32622;&#35774;&#32622;&#21040;node&#33410;&#28857;&#20043;&#21518;</span>","<span class=\"c\">         * @name  setEndAfter</span>","<span class=\"c\">         * @grammar range.setEndAfter(node)  =&gt; Range</span>","<span class=\"c\">         * @example</span>","<span class=\"c\">         * &lt;b&gt;xx&lt;i&gt;x|x&lt;/i&gt;x&lt;/b&gt;</span>","<span class=\"c\">         * setEndAfter(i)&#21518;</span>","<span class=\"c\">         * range.endContainer =&gt;b</span>","<span class=\"c\">         * range.endtOffset =&gt;2</span>","<span class=\"c\">         */</span>","        setEndAfter<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">(</span>node<span class=\"k\">)</span> <span class=\"k\">{</span>","            <span class=\"k\">return</span> <span class=\"k\">this</span><span class=\"k\">.</span>setEnd<span class=\"k\">(</span>node<span class=\"k\">.</span>parentNode<span class=\"k\">,</span> domUtils<span class=\"k\">.</span>getNodeIndex<span class=\"k\">(</span>node<span class=\"k\">)</span> <span class=\"k\">+</span> <span class=\"s\">1</span><span class=\"k\">);</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        <span class=\"c\">/**</span>","<span class=\"c\">         * &#23558;Range&#32467;&#26463;&#20301;&#32622;&#35774;&#32622;&#21040;node&#33410;&#28857;&#20043;&#21069;</span>","<span class=\"c\">         * @name  setEndBefore</span>","<span class=\"c\">         * @grammar range.setEndBefore(node)  =&gt; Range</span>","<span class=\"c\">         * @example</span>","<span class=\"c\">         * &lt;b&gt;xx&lt;i&gt;x|x&lt;/i&gt;x&lt;/b&gt;</span>","<span class=\"c\">         * &#25191;&#34892;setEndBefore(i)&#21518;</span>","<span class=\"c\">         * range.endContainer =&gt;b</span>","<span class=\"c\">         * range.endtOffset =&gt;1</span>","<span class=\"c\">         */</span>","        setEndBefore<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">(</span>node<span class=\"k\">)</span> <span class=\"k\">{</span>","            <span class=\"k\">return</span> <span class=\"k\">this</span><span class=\"k\">.</span>setEnd<span class=\"k\">(</span>node<span class=\"k\">.</span>parentNode<span class=\"k\">,</span> domUtils<span class=\"k\">.</span>getNodeIndex<span class=\"k\">(</span>node<span class=\"k\">));</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        <span class=\"c\">/**</span>","<span class=\"c\">         * &#23558;Range&#24320;&#22987;&#20301;&#32622;&#35774;&#32622;&#21040;node&#33410;&#28857;&#20869;&#30340;&#24320;&#22987;&#20301;&#32622;</span>","<span class=\"c\">         * @name  setStartAtFirst</span>","<span class=\"c\">         * @grammar range.setStartAtFirst(node)  =&gt; Range</span>","<span class=\"c\">         */</span>","        setStartAtFirst<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">(</span>node<span class=\"k\">)</span> <span class=\"k\">{</span>","            <span class=\"k\">return</span> <span class=\"k\">this</span><span class=\"k\">.</span>setStart<span class=\"k\">(</span>node<span class=\"k\">,</span> <span class=\"s\">0</span><span class=\"k\">);</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        <span class=\"c\">/**</span>","<span class=\"c\">         * &#23558;Range&#24320;&#22987;&#20301;&#32622;&#35774;&#32622;&#21040;node&#33410;&#28857;&#20869;&#30340;&#32467;&#26463;&#20301;&#32622;</span>","<span class=\"c\">         * @name  setStartAtLast</span>","<span class=\"c\">         * @grammar range.setStartAtLast(node)  =&gt; Range</span>","<span class=\"c\">         */</span>","        setStartAtLast<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">(</span>node<span class=\"k\">)</span> <span class=\"k\">{</span>","            <span class=\"k\">return</span> <span class=\"k\">this</span><span class=\"k\">.</span>setStart<span class=\"k\">(</span>node<span class=\"k\">,</span> node<span class=\"k\">.</span>nodeType <span class=\"k\">==</span> <span class=\"s\">3</span> <span class=\"k\">?</span> node<span class=\"k\">.</span>nodeValue<span class=\"k\">.</span>length <span class=\"k\">:</span> node<span class=\"k\">.</span>childNodes<span class=\"k\">.</span>length<span class=\"k\">);</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        <span class=\"c\">/**</span>","<span class=\"c\">         * &#23558;Range&#32467;&#26463;&#20301;&#32622;&#35774;&#32622;&#21040;node&#33410;&#28857;&#20869;&#30340;&#24320;&#22987;&#20301;&#32622;</span>","<span class=\"c\">         * @name  setEndAtFirst</span>","<span class=\"c\">         * @grammar range.setEndAtFirst(node)  =&gt; Range</span>","<span class=\"c\">         */</span>","        setEndAtFirst<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">(</span>node<span class=\"k\">)</span> <span class=\"k\">{</span>","            <span class=\"k\">return</span> <span class=\"k\">this</span><span class=\"k\">.</span>setEnd<span class=\"k\">(</span>node<span class=\"k\">,</span> <span class=\"s\">0</span><span class=\"k\">);</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        <span class=\"c\">/**</span>","<span class=\"c\">         * &#23558;Range&#32467;&#26463;&#20301;&#32622;&#35774;&#32622;&#21040;node&#33410;&#28857;&#20869;&#30340;&#32467;&#26463;&#20301;&#32622;</span>","<span class=\"c\">         * @name  setEndAtLast</span>","<span class=\"c\">         * @grammar range.setEndAtLast(node)  =&gt; Range</span>","<span class=\"c\">         */</span>","        setEndAtLast<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">(</span>node<span class=\"k\">)</span> <span class=\"k\">{</span>","            <span class=\"k\">return</span> <span class=\"k\">this</span><span class=\"k\">.</span>setEnd<span class=\"k\">(</span>node<span class=\"k\">,</span> node<span class=\"k\">.</span>nodeType <span class=\"k\">==</span> <span class=\"s\">3</span> <span class=\"k\">?</span> node<span class=\"k\">.</span>nodeValue<span class=\"k\">.</span>length <span class=\"k\">:</span> node<span class=\"k\">.</span>childNodes<span class=\"k\">.</span>length<span class=\"k\">);</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","","        <span class=\"c\">/**</span>","<span class=\"c\">         * &#36873;&#20013;&#23436;&#25972;&#30340;&#25351;&#23450;&#33410;&#28857;,&#24182;&#36820;&#22238;&#21253;&#21547;&#35813;&#33410;&#28857;&#30340;range</span>","<span class=\"c\">         * @name  selectNode</span>","<span class=\"c\">         * @grammar range.selectNode(node)  =&gt; Range</span>","<span class=\"c\">         */</span>","        selectNode<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">(</span>node<span class=\"k\">)</span> <span class=\"k\">{</span>","            <span class=\"k\">return</span> <span class=\"k\">this</span><span class=\"k\">.</span>setStartBefore<span class=\"k\">(</span>node<span class=\"k\">).</span>setEndAfter<span class=\"k\">(</span>node<span class=\"k\">);</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        <span class=\"c\">/**</span>","<span class=\"c\">         * &#36873;&#20013;node&#20869;&#37096;&#30340;&#25152;&#26377;&#33410;&#28857;&#65292;&#24182;&#36820;&#22238;&#23545;&#24212;&#30340;range</span>","<span class=\"c\">         * @name selectNodeContents</span>","<span class=\"c\">         * @grammar range.selectNodeContents(node)  =&gt; Range</span>","<span class=\"c\">         * @example</span>","<span class=\"c\">         * &lt;b&gt;xx[x&lt;i&gt;xxx&lt;/i&gt;]xxx&lt;/b&gt;</span>","<span class=\"c\">         * &#25191;&#34892;&#21518;</span>","<span class=\"c\">         * &lt;b&gt;[xxx&lt;i&gt;xxx&lt;/i&gt;xxx]&lt;/b&gt;</span>","<span class=\"c\">         * range.startContainer =&gt;b</span>","<span class=\"c\">         * range.startOffset =&gt;0</span>","<span class=\"c\">         * range.endContainer =&gt;b</span>","<span class=\"c\">         * range.endOffset =&gt;3</span>","<span class=\"c\">         */</span>","        selectNodeContents<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">(</span>node<span class=\"k\">)</span> <span class=\"k\">{</span>","            <span class=\"k\">return</span> <span class=\"k\">this</span><span class=\"k\">.</span>setStart<span class=\"k\">(</span>node<span class=\"k\">,</span> <span class=\"s\">0</span><span class=\"k\">).</span>setEndAtLast<span class=\"k\">(</span>node<span class=\"k\">);</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","","        <span class=\"c\">/**</span>","<span class=\"c\">         * &#20811;&#38534;&#19968;&#20010;&#26032;&#30340;range&#23545;&#35937;</span>","<span class=\"c\">         * @name  cloneRange</span>","<span class=\"c\">         * @grammar range.cloneRange() =&gt; Range</span>","<span class=\"c\">         */</span>","        cloneRange<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","            <span class=\"k\">var</span> me <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">;</span>","            <span class=\"k\">return</span> <span class=\"k\">new</span> Range<span class=\"k\">(</span>me<span class=\"k\">.</span>document<span class=\"k\">).</span>setStart<span class=\"k\">(</span>me<span class=\"k\">.</span>startContainer<span class=\"k\">,</span> me<span class=\"k\">.</span>startOffset<span class=\"k\">).</span>setEnd<span class=\"k\">(</span>me<span class=\"k\">.</span>endContainer<span class=\"k\">,</span> me<span class=\"k\">.</span>endOffset<span class=\"k\">);</span>","","        <span class=\"k\">}</span><span class=\"k\">,</span>","","        <span class=\"c\">/**</span>","<span class=\"c\">         * &#35753;&#36873;&#21306;&#38381;&#21512;&#21040;&#23614;&#37096;&#65292;&#33509;toStart&#20026;&#30495;&#65292;&#21017;&#38381;&#21512;&#21040;&#22836;&#37096;</span>","<span class=\"c\">         * @name  collapse</span>","<span class=\"c\">         * @grammar range.collapse() =&gt; Range</span>","<span class=\"c\">         * @grammar range.collapse(true) =&gt; Range   //&#38381;&#21512;&#36873;&#21306;&#21040;&#22836;&#37096;</span>","<span class=\"c\">         */</span>","        collapse<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">(</span>toStart<span class=\"k\">)</span> <span class=\"k\">{</span>","            <span class=\"k\">var</span> me <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">;</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span>toStart<span class=\"k\">)</span> <span class=\"k\">{</span>","                me<span class=\"k\">.</span>endContainer <span class=\"k\">=</span> me<span class=\"k\">.</span>startContainer<span class=\"k\">;</span>","                me<span class=\"k\">.</span>endOffset <span class=\"k\">=</span> me<span class=\"k\">.</span>startOffset<span class=\"k\">;</span>","            <span class=\"k\">}</span> <span class=\"k\">else</span> <span class=\"k\">{</span>","                me<span class=\"k\">.</span>startContainer <span class=\"k\">=</span> me<span class=\"k\">.</span>endContainer<span class=\"k\">;</span>","                me<span class=\"k\">.</span>startOffset <span class=\"k\">=</span> me<span class=\"k\">.</span>endOffset<span class=\"k\">;</span>","            <span class=\"k\">}</span>","            me<span class=\"k\">.</span>collapsed <span class=\"k\">=</span> <span class=\"k\">true</span><span class=\"k\">;</span>","            <span class=\"k\">return</span> me<span class=\"k\">;</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","","        <span class=\"c\">/**</span>","<span class=\"c\">         * &#35843;&#25972;range&#30340;&#36793;&#30028;&#65292;&#20351;&#20854;\"&#25910;&#32553;\"&#21040;&#26368;&#23567;&#30340;&#20301;&#32622;</span>","<span class=\"c\">         * @name  shrinkBoundary</span>","<span class=\"c\">         * @grammar range.shrinkBoundary()  =&gt; Range  //range&#24320;&#22987;&#20301;&#32622;&#21644;&#32467;&#26463;&#20301;&#32622;&#37117;&#35843;&#25972;&#65292;&#21442;&#35265;&lt;code&gt;&lt;a href=\"#adjustmentboundary\"&gt;adjustmentBoundary&lt;/a&gt;&lt;/code&gt;</span>","<span class=\"c\">         * @grammar range.shrinkBoundary(true)  =&gt; Range  //&#20165;&#35843;&#25972;&#24320;&#22987;&#20301;&#32622;&#65292;&#24573;&#30053;&#32467;&#26463;&#20301;&#32622;</span>","<span class=\"c\">         * @example</span>","<span class=\"c\">         * &lt;b&gt;xx[&lt;/b&gt;xxxxx] ==&gt; &lt;b&gt;xx&lt;/b&gt;[xxxxx]</span>","<span class=\"c\">         * &lt;b&gt;x[xx&lt;/b&gt;&lt;i&gt;]xxx&lt;/i&gt; ==&gt; &lt;b&gt;x[xx]&lt;/b&gt;&lt;i&gt;xxx&lt;/i&gt;</span>","<span class=\"c\">         * [&lt;b&gt;&lt;i&gt;xxxx&lt;/i&gt;xxxxxxx&lt;/b&gt;] ==&gt; &lt;b&gt;&lt;i&gt;[xxxx&lt;/i&gt;xxxxxxx]&lt;/b&gt;</span>","<span class=\"c\">         */</span>","        shrinkBoundary<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">(</span>ignoreEnd<span class=\"k\">)</span> <span class=\"k\">{</span>","            <span class=\"k\">var</span> me <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">,</span> child<span class=\"k\">,</span>","                collapsed <span class=\"k\">=</span> me<span class=\"k\">.</span>collapsed<span class=\"k\">;</span>","            <span class=\"k\">function</span> check<span class=\"k\">(</span>node<span class=\"k\">)</span><span class=\"k\">{</span>","                <span class=\"k\">return</span> node<span class=\"k\">.</span>nodeType <span class=\"k\">==</span> <span class=\"s\">1</span> <span class=\"k\">&amp;&amp;</span> <span class=\"k\">!</span>domUtils<span class=\"k\">.</span>isBookmarkNode<span class=\"k\">(</span>node<span class=\"k\">)</span> <span class=\"k\">&amp;&amp;</span> <span class=\"k\">!</span>dtd<span class=\"k\">.</span>$empty<span class=\"k\">[</span>node<span class=\"k\">.</span>tagName<span class=\"k\">]</span> <span class=\"k\">&amp;&amp;</span> <span class=\"k\">!</span>dtd<span class=\"k\">.</span>$nonChild<span class=\"k\">[</span>node<span class=\"k\">.</span>tagName<span class=\"k\">]</span>","            <span class=\"k\">}</span>","            <span class=\"k\">while</span> <span class=\"k\">(</span>me<span class=\"k\">.</span>startContainer<span class=\"k\">.</span>nodeType <span class=\"k\">==</span> <span class=\"s\">1</span> <span class=\"c\">//&#26159;element</span>","                <span class=\"k\">&amp;&amp;</span> <span class=\"k\">(</span>child <span class=\"k\">=</span> me<span class=\"k\">.</span>startContainer<span class=\"k\">.</span>childNodes<span class=\"k\">[</span>me<span class=\"k\">.</span>startOffset<span class=\"k\">])</span> <span class=\"c\">//&#23376;&#33410;&#28857;&#20063;&#26159;element</span>","                <span class=\"k\">&amp;&amp;</span> check<span class=\"k\">(</span>child<span class=\"k\">))</span> <span class=\"k\">{</span>","                me<span class=\"k\">.</span>setStart<span class=\"k\">(</span>child<span class=\"k\">,</span> <span class=\"s\">0</span><span class=\"k\">);</span>","            <span class=\"k\">}</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span>collapsed<span class=\"k\">)</span> <span class=\"k\">{</span>","                <span class=\"k\">return</span> me<span class=\"k\">.</span>collapse<span class=\"k\">(</span><span class=\"k\">true</span><span class=\"k\">);</span>","            <span class=\"k\">}</span>","            <span class=\"k\">if</span> <span class=\"k\">(!</span>ignoreEnd<span class=\"k\">)</span> <span class=\"k\">{</span>","                <span class=\"k\">while</span> <span class=\"k\">(</span>me<span class=\"k\">.</span>endContainer<span class=\"k\">.</span>nodeType <span class=\"k\">==</span> <span class=\"s\">1</span><span class=\"c\">//&#26159;element</span>","                    <span class=\"k\">&amp;&amp;</span> me<span class=\"k\">.</span>endOffset <span class=\"k\">&gt;</span> <span class=\"s\">0</span> <span class=\"c\">//&#22914;&#26524;&#26159;&#31354;&#20803;&#32032;&#23601;&#36864;&#20986; endOffset=0&#37027;&#20040;endOffst-1&#20026;&#36127;&#20540;&#65292;childNodes[endOffset]&#25253;&#38169;</span>","                    <span class=\"k\">&amp;&amp;</span> <span class=\"k\">(</span>child <span class=\"k\">=</span> me<span class=\"k\">.</span>endContainer<span class=\"k\">.</span>childNodes<span class=\"k\">[</span>me<span class=\"k\">.</span>endOffset <span class=\"k\">-</span> <span class=\"s\">1</span><span class=\"k\">])</span> <span class=\"c\">//&#23376;&#33410;&#28857;&#20063;&#26159;element</span>","                    <span class=\"k\">&amp;&amp;</span> check<span class=\"k\">(</span>child<span class=\"k\">))</span> <span class=\"k\">{</span>","                    me<span class=\"k\">.</span>setEnd<span class=\"k\">(</span>child<span class=\"k\">,</span> child<span class=\"k\">.</span>childNodes<span class=\"k\">.</span>length<span class=\"k\">);</span>","                <span class=\"k\">}</span>","            <span class=\"k\">}</span>","            <span class=\"k\">return</span> me<span class=\"k\">;</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        <span class=\"c\">/**</span>","<span class=\"c\">         * &#33719;&#21462;&#24403;&#21069;range&#25152;&#22312;&#20301;&#32622;&#30340;&#20844;&#20849;&#31062;&#20808;&#33410;&#28857;&#65292;&#24403;&#21069;range&#20301;&#32622;&#21487;&#20197;&#20301;&#20110;&#25991;&#26412;&#33410;&#28857;&#20869;&#65292;&#20063;&#21487;&#20197;&#21253;&#21547;&#25972;&#20010;&#20803;&#32032;&#33410;&#28857;&#65292;&#20063;&#21487;&#20197;&#20301;&#20110;&#20004;&#20010;&#33410;&#28857;&#20043;&#38388;</span>","<span class=\"c\">         * @name  getCommonAncestor</span>","<span class=\"c\">         * @grammar range.getCommonAncestor([includeSelf, ignoreTextNode])  =&gt; Element</span>","<span class=\"c\">         * @example</span>","<span class=\"c\">         * &lt;b&gt;xx[xx&lt;i&gt;xx]x&lt;/i&gt;xxx&lt;/b&gt; ==&gt;getCommonAncestor() ==&gt; b</span>","<span class=\"c\">         * &lt;b&gt;[&lt;img/&gt;]&lt;/b&gt;</span>","<span class=\"c\">         * range.startContainer ==&gt; b</span>","<span class=\"c\">         * range.startOffset ==&gt; 0</span>","<span class=\"c\">         * range.endContainer ==&gt; b</span>","<span class=\"c\">         * range.endOffset ==&gt; 1</span>","<span class=\"c\">         * range.getCommonAncestor() ==&gt; b</span>","<span class=\"c\">         * range.getCommonAncestor(true) ==&gt; img</span>","<span class=\"c\">         * &lt;b&gt;xxx|xx&lt;/b&gt;</span>","<span class=\"c\">         * range.startContainer ==&gt; textNode</span>","<span class=\"c\">         * range.startOffset ==&gt; 3</span>","<span class=\"c\">         * range.endContainer ==&gt; textNode</span>","<span class=\"c\">         * range.endOffset ==&gt; 3</span>","<span class=\"c\">         * range.getCommonAncestor() ==&gt; textNode</span>","<span class=\"c\">         * range.getCommonAncestor(null,true) ==&gt; b</span>","<span class=\"c\">         */</span>","        getCommonAncestor<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">(</span>includeSelf<span class=\"k\">,</span> ignoreTextNode<span class=\"k\">)</span> <span class=\"k\">{</span>","            <span class=\"k\">var</span> me <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">,</span>","                start <span class=\"k\">=</span> me<span class=\"k\">.</span>startContainer<span class=\"k\">,</span>","                end <span class=\"k\">=</span> me<span class=\"k\">.</span>endContainer<span class=\"k\">;</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span>start <span class=\"k\">===</span> end<span class=\"k\">)</span> <span class=\"k\">{</span>","                <span class=\"k\">if</span> <span class=\"k\">(</span>includeSelf <span class=\"k\">&amp;&amp;</span> selectOneNode<span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">))</span> <span class=\"k\">{</span>","                    start <span class=\"k\">=</span> start<span class=\"k\">.</span>childNodes<span class=\"k\">[</span>me<span class=\"k\">.</span>startOffset<span class=\"k\">];</span>","                    <span class=\"k\">if</span><span class=\"k\">(</span>start<span class=\"k\">.</span>nodeType <span class=\"k\">==</span> <span class=\"s\">1</span><span class=\"k\">)</span>","                        <span class=\"k\">return</span> start<span class=\"k\">;</span>","                <span class=\"k\">}</span>","                <span class=\"c\">//&#21482;&#26377;&#22312;&#19978;&#26469;&#23601;&#30456;&#31561;&#30340;&#24773;&#20917;&#19979;&#25165;&#20250;&#20986;&#29616;&#26159;&#25991;&#26412;&#30340;&#24773;&#20917;</span>","                <span class=\"k\">return</span> ignoreTextNode <span class=\"k\">&amp;&amp;</span> start<span class=\"k\">.</span>nodeType <span class=\"k\">==</span> <span class=\"s\">3</span> <span class=\"k\">?</span> start<span class=\"k\">.</span>parentNode <span class=\"k\">:</span> start<span class=\"k\">;</span>","            <span class=\"k\">}</span>","            <span class=\"k\">return</span> domUtils<span class=\"k\">.</span>getCommonAncestor<span class=\"k\">(</span>start<span class=\"k\">,</span> end<span class=\"k\">);</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        <span class=\"c\">/**</span>","<span class=\"c\">         * &#35843;&#25972;&#36793;&#30028;&#23481;&#22120;&#65292;&#22914;&#26524;&#26159;textNode,&#23601;&#35843;&#25972;&#21040;elementNode&#19978;</span>","<span class=\"c\">         * @name trimBoundary</span>","<span class=\"c\">         * @grammar range.trimBoundary([ignoreEnd])  =&gt; Range //true&#24573;&#30053;&#32467;&#26463;&#36793;&#30028;</span>","<span class=\"c\">         * @example</span>","<span class=\"c\">         * DOM Element :</span>","<span class=\"c\">         * &lt;b&gt;|xxx&lt;/b&gt;</span>","<span class=\"c\">         * startContainer = xxx; startOffset = 0</span>","<span class=\"c\">         * //&#25191;&#34892;&#21518;&#26412;&#26041;&#27861;&#21518;</span>","<span class=\"c\">         * startContainer = &lt;b&gt;;  startOffset = 0</span>","<span class=\"c\">         * @example</span>","<span class=\"c\">         * Dom Element :</span>","<span class=\"c\">         * &lt;b&gt;xx|x&lt;/b&gt;</span>","<span class=\"c\">         * startContainer = xxx;  startOffset = 2</span>","<span class=\"c\">         * //&#25191;&#34892;&#26412;&#26041;&#27861;&#21518;&#65292;xxx&#34987;&#23454;&#23454;&#22312;&#22312;&#22320;&#20999;&#20998;&#25104;&#20004;&#20010;TextNode</span>","<span class=\"c\">         * startContainer = &lt;b&gt;; startOffset = 1</span>","<span class=\"c\">         */</span>","        trimBoundary<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">(</span>ignoreEnd<span class=\"k\">)</span> <span class=\"k\">{</span>","            <span class=\"k\">this</span><span class=\"k\">.</span>txtToElmBoundary<span class=\"k\">();</span>","            <span class=\"k\">var</span> start <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>startContainer<span class=\"k\">,</span>","                offset <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>startOffset<span class=\"k\">,</span>","                collapsed <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>collapsed<span class=\"k\">,</span>","                end <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>endContainer<span class=\"k\">;</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span>start<span class=\"k\">.</span>nodeType <span class=\"k\">==</span> <span class=\"s\">3</span><span class=\"k\">)</span> <span class=\"k\">{</span>","                <span class=\"k\">if</span> <span class=\"k\">(</span>offset <span class=\"k\">==</span> <span class=\"s\">0</span><span class=\"k\">)</span> <span class=\"k\">{</span>","                    <span class=\"k\">this</span><span class=\"k\">.</span>setStartBefore<span class=\"k\">(</span>start<span class=\"k\">);</span>","                <span class=\"k\">}</span> <span class=\"k\">else</span> <span class=\"k\">{</span>","                    <span class=\"k\">if</span> <span class=\"k\">(</span>offset <span class=\"k\">&gt;=</span> start<span class=\"k\">.</span>nodeValue<span class=\"k\">.</span>length<span class=\"k\">)</span> <span class=\"k\">{</span>","                        <span class=\"k\">this</span><span class=\"k\">.</span>setStartAfter<span class=\"k\">(</span>start<span class=\"k\">);</span>","                    <span class=\"k\">}</span> <span class=\"k\">else</span> <span class=\"k\">{</span>","                        <span class=\"k\">var</span> textNode <span class=\"k\">=</span> domUtils<span class=\"k\">.</span>split<span class=\"k\">(</span>start<span class=\"k\">,</span> offset<span class=\"k\">);</span>","                        <span class=\"c\">//&#36319;&#26032;&#32467;&#26463;&#36793;&#30028;</span>","                        <span class=\"k\">if</span> <span class=\"k\">(</span>start <span class=\"k\">===</span> end<span class=\"k\">)</span> <span class=\"k\">{</span>","                            <span class=\"k\">this</span><span class=\"k\">.</span>setEnd<span class=\"k\">(</span>textNode<span class=\"k\">,</span> <span class=\"k\">this</span><span class=\"k\">.</span>endOffset <span class=\"k\">-</span> offset<span class=\"k\">);</span>","                        <span class=\"k\">}</span> <span class=\"k\">else</span> <span class=\"k\">if</span> <span class=\"k\">(</span>start<span class=\"k\">.</span>parentNode <span class=\"k\">===</span> end<span class=\"k\">)</span> <span class=\"k\">{</span>","                            <span class=\"k\">this</span><span class=\"k\">.</span>endOffset <span class=\"k\">+=</span> <span class=\"s\">1</span><span class=\"k\">;</span>","                        <span class=\"k\">}</span>","                        <span class=\"k\">this</span><span class=\"k\">.</span>setStartBefore<span class=\"k\">(</span>textNode<span class=\"k\">);</span>","                    <span class=\"k\">}</span>","                <span class=\"k\">}</span>","                <span class=\"k\">if</span> <span class=\"k\">(</span>collapsed<span class=\"k\">)</span> <span class=\"k\">{</span>","                    <span class=\"k\">return</span> <span class=\"k\">this</span><span class=\"k\">.</span>collapse<span class=\"k\">(</span><span class=\"k\">true</span><span class=\"k\">);</span>","                <span class=\"k\">}</span>","            <span class=\"k\">}</span>","            <span class=\"k\">if</span> <span class=\"k\">(!</span>ignoreEnd<span class=\"k\">)</span> <span class=\"k\">{</span>","                offset <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>endOffset<span class=\"k\">;</span>","                end <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>endContainer<span class=\"k\">;</span>","                <span class=\"k\">if</span> <span class=\"k\">(</span>end<span class=\"k\">.</span>nodeType <span class=\"k\">==</span> <span class=\"s\">3</span><span class=\"k\">)</span> <span class=\"k\">{</span>","                    <span class=\"k\">if</span> <span class=\"k\">(</span>offset <span class=\"k\">==</span> <span class=\"s\">0</span><span class=\"k\">)</span> <span class=\"k\">{</span>","                        <span class=\"k\">this</span><span class=\"k\">.</span>setEndBefore<span class=\"k\">(</span>end<span class=\"k\">);</span>","                    <span class=\"k\">}</span> <span class=\"k\">else</span> <span class=\"k\">{</span>","                        offset <span class=\"k\">&lt;</span> end<span class=\"k\">.</span>nodeValue<span class=\"k\">.</span>length <span class=\"k\">&amp;&amp;</span> domUtils<span class=\"k\">.</span>split<span class=\"k\">(</span>end<span class=\"k\">,</span> offset<span class=\"k\">);</span>","                        <span class=\"k\">this</span><span class=\"k\">.</span>setEndAfter<span class=\"k\">(</span>end<span class=\"k\">);</span>","                    <span class=\"k\">}</span>","                <span class=\"k\">}</span>","            <span class=\"k\">}</span>","            <span class=\"k\">return</span> <span class=\"k\">this</span><span class=\"k\">;</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        <span class=\"c\">/**</span>","<span class=\"c\">         * &#22914;&#26524;&#36873;&#21306;&#22312;&#25991;&#26412;&#30340;&#36793;&#30028;&#19978;&#65292;&#23601;&#25193;&#23637;&#36873;&#21306;&#21040;&#25991;&#26412;&#30340;&#29238;&#33410;&#28857;&#19978;</span>","<span class=\"c\">         * @name  txtToElmBoundary</span>","<span class=\"c\">         * @example</span>","<span class=\"c\">         * Dom Element :</span>","<span class=\"c\">         * &lt;b&gt; |xxx&lt;/b&gt;</span>","<span class=\"c\">         * startContainer = xxx;  startOffset = 0</span>","<span class=\"c\">         * //&#26412;&#26041;&#27861;&#25191;&#34892;&#21518;</span>","<span class=\"c\">         * startContainer = &lt;b&gt;; startOffset = 0</span>","<span class=\"c\">         * @example</span>","<span class=\"c\">         * Dom Element :</span>","<span class=\"c\">         * &lt;b&gt; xxx| &lt;/b&gt;</span>","<span class=\"c\">         * startContainer = xxx; startOffset = 3</span>","<span class=\"c\">         * //&#26412;&#26041;&#27861;&#25191;&#34892;&#21518;</span>","<span class=\"c\">         * startContainer = &lt;b&gt;; startOffset = 1</span>","<span class=\"c\">         */</span>","        txtToElmBoundary<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","            <span class=\"k\">function</span> adjust<span class=\"k\">(</span>r<span class=\"k\">,</span> c<span class=\"k\">)</span> <span class=\"k\">{</span>","                <span class=\"k\">var</span> container <span class=\"k\">=</span> r<span class=\"k\">[</span>c <span class=\"k\">+</span> <span class=\"s\">'Container'</span><span class=\"k\">],</span>","                    offset <span class=\"k\">=</span> r<span class=\"k\">[</span>c <span class=\"k\">+</span> <span class=\"s\">'Offset'</span><span class=\"k\">];</span>","                <span class=\"k\">if</span> <span class=\"k\">(</span>container<span class=\"k\">.</span>nodeType <span class=\"k\">==</span> <span class=\"s\">3</span><span class=\"k\">)</span> <span class=\"k\">{</span>","                    <span class=\"k\">if</span> <span class=\"k\">(!</span>offset<span class=\"k\">)</span> <span class=\"k\">{</span>","                        r<span class=\"k\">[</span><span class=\"s\">'set'</span> <span class=\"k\">+</span> c<span class=\"k\">.</span>replace<span class=\"k\">(</span><span class=\"s\">/(\\w)/</span><span class=\"k\">,</span> <span class=\"k\">function</span> <span class=\"k\">(</span>a<span class=\"k\">)</span> <span class=\"k\">{</span>","                            <span class=\"k\">return</span> a<span class=\"k\">.</span>toUpperCase<span class=\"k\">();</span>","                        <span class=\"k\">}</span><span class=\"k\">)</span> <span class=\"k\">+</span> <span class=\"s\">'Before'</span><span class=\"k\">](</span>container<span class=\"k\">);</span>","                    <span class=\"k\">}</span> <span class=\"k\">else</span> <span class=\"k\">if</span> <span class=\"k\">(</span>offset <span class=\"k\">&gt;=</span> container<span class=\"k\">.</span>nodeValue<span class=\"k\">.</span>length<span class=\"k\">)</span> <span class=\"k\">{</span>","                        r<span class=\"k\">[</span><span class=\"s\">'set'</span> <span class=\"k\">+</span> c<span class=\"k\">.</span>replace<span class=\"k\">(</span><span class=\"s\">/(\\w)/</span><span class=\"k\">,</span> <span class=\"k\">function</span> <span class=\"k\">(</span>a<span class=\"k\">)</span> <span class=\"k\">{</span>","                            <span class=\"k\">return</span> a<span class=\"k\">.</span>toUpperCase<span class=\"k\">();</span>","                        <span class=\"k\">}</span><span class=\"k\">)</span> <span class=\"k\">+</span> <span class=\"s\">'After'</span> <span class=\"k\">](</span>container<span class=\"k\">);</span>","                    <span class=\"k\">}</span>","                <span class=\"k\">}</span>","            <span class=\"k\">}</span>","","            <span class=\"k\">if</span> <span class=\"k\">(!</span><span class=\"k\">this</span><span class=\"k\">.</span>collapsed<span class=\"k\">)</span> <span class=\"k\">{</span>","                adjust<span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">,</span> <span class=\"s\">'start'</span><span class=\"k\">);</span>","                adjust<span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">,</span> <span class=\"s\">'end'</span><span class=\"k\">);</span>","            <span class=\"k\">}</span>","            <span class=\"k\">return</span> <span class=\"k\">this</span><span class=\"k\">;</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","","        <span class=\"c\">/**</span>","<span class=\"c\">         * &#22312;&#24403;&#21069;&#36873;&#21306;&#30340;&#24320;&#22987;&#20301;&#32622;&#21069;&#25554;&#20837;&#19968;&#20010;&#33410;&#28857;&#25110;&#32773;fragment&#65292;range&#30340;&#24320;&#22987;&#20301;&#32622;&#20250;&#22312;&#25554;&#20837;&#33410;&#28857;&#30340;&#21069;&#36793;</span>","<span class=\"c\">         * @name  insertNode</span>","<span class=\"c\">         * @grammar range.insertNode(node)  =&gt; Range //node&#21487;&#20197;&#26159;textNode,elementNode,fragment</span>","<span class=\"c\">         * @example</span>","<span class=\"c\">         * Range :</span>","<span class=\"c\">         * xxx[x&lt;p&gt;xxxx&lt;/p&gt;xxxx]x&lt;p&gt;sdfsdf&lt;/p&gt;</span>","<span class=\"c\">         * &#24453;&#25554;&#20837;Node :</span>","<span class=\"c\">         * &lt;p&gt;ssss&lt;/p&gt;</span>","<span class=\"c\">         * &#25191;&#34892;&#26412;&#26041;&#27861;&#21518;&#30340;Range :</span>","<span class=\"c\">         * xxx[&lt;p&gt;ssss&lt;/p&gt;x&lt;p&gt;xxxx&lt;/p&gt;xxxx]x&lt;p&gt;sdfsdf&lt;/p&gt;</span>","<span class=\"c\">         */</span>","        insertNode<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">(</span>node<span class=\"k\">)</span> <span class=\"k\">{</span>","            <span class=\"k\">var</span> first <span class=\"k\">=</span> node<span class=\"k\">,</span> length <span class=\"k\">=</span> <span class=\"s\">1</span><span class=\"k\">;</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span>node<span class=\"k\">.</span>nodeType <span class=\"k\">==</span> <span class=\"s\">11</span><span class=\"k\">)</span> <span class=\"k\">{</span>","                first <span class=\"k\">=</span> node<span class=\"k\">.</span>firstChild<span class=\"k\">;</span>","                length <span class=\"k\">=</span> node<span class=\"k\">.</span>childNodes<span class=\"k\">.</span>length<span class=\"k\">;</span>","            <span class=\"k\">}</span>","            <span class=\"k\">this</span><span class=\"k\">.</span>trimBoundary<span class=\"k\">(</span><span class=\"k\">true</span><span class=\"k\">);</span>","            <span class=\"k\">var</span> start <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>startContainer<span class=\"k\">,</span>","                offset <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>startOffset<span class=\"k\">;</span>","            <span class=\"k\">var</span> nextNode <span class=\"k\">=</span> start<span class=\"k\">.</span>childNodes<span class=\"k\">[</span> offset <span class=\"k\">];</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span>nextNode<span class=\"k\">)</span> <span class=\"k\">{</span>","                start<span class=\"k\">.</span>insertBefore<span class=\"k\">(</span>node<span class=\"k\">,</span> nextNode<span class=\"k\">);</span>","            <span class=\"k\">}</span> <span class=\"k\">else</span> <span class=\"k\">{</span>","                start<span class=\"k\">.</span>appendChild<span class=\"k\">(</span>node<span class=\"k\">);</span>","            <span class=\"k\">}</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span>first<span class=\"k\">.</span>parentNode <span class=\"k\">===</span> <span class=\"k\">this</span><span class=\"k\">.</span>endContainer<span class=\"k\">)</span> <span class=\"k\">{</span>","                <span class=\"k\">this</span><span class=\"k\">.</span>endOffset <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>endOffset <span class=\"k\">+</span> length<span class=\"k\">;</span>","            <span class=\"k\">}</span>","            <span class=\"k\">return</span> <span class=\"k\">this</span><span class=\"k\">.</span>setStartBefore<span class=\"k\">(</span>first<span class=\"k\">);</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        <span class=\"c\">/**</span>","<span class=\"c\">         * &#35774;&#32622;&#20809;&#26631;&#38381;&#21512;&#20301;&#32622;,toEnd&#35774;&#32622;&#20026;true&#26102;&#20809;&#26631;&#23558;&#38381;&#21512;&#21040;&#36873;&#21306;&#30340;&#32467;&#23614;</span>","<span class=\"c\">         * @name  setCursor</span>","<span class=\"c\">         * @grammar range.setCursor([toEnd])  =&gt;  Range   //toEnd&#20026;true&#26102;&#65292;&#20809;&#26631;&#38381;&#21512;&#21040;&#36873;&#21306;&#30340;&#26411;&#23614;</span>","<span class=\"c\">         */</span>","        setCursor<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">(</span>toEnd<span class=\"k\">,</span> noFillData<span class=\"k\">)</span> <span class=\"k\">{</span>","            <span class=\"k\">return</span> <span class=\"k\">this</span><span class=\"k\">.</span>collapse<span class=\"k\">(!</span>toEnd<span class=\"k\">).</span>select<span class=\"k\">(</span>noFillData<span class=\"k\">);</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        <span class=\"c\">/**</span>","<span class=\"c\">         * &#21019;&#24314;&#24403;&#21069;range&#30340;&#19968;&#20010;&#20070;&#31614;&#65292;&#35760;&#24405;&#19979;&#24403;&#21069;range&#30340;&#20301;&#32622;&#65292;&#26041;&#20415;&#24403;dom&#26641;&#25913;&#21464;&#26102;&#65292;&#36824;&#33021;&#25214;&#22238;&#21407;&#26469;&#30340;&#36873;&#21306;&#20301;&#32622;</span>","<span class=\"c\">         * @name createBookmark</span>","<span class=\"c\">         * @grammar range.createBookmark([serialize])  =&gt; Object  //{start:&#24320;&#22987;&#26631;&#35760;,end:&#32467;&#26463;&#26631;&#35760;,id:serialize} serialize&#20026;&#30495;&#26102;&#65292;&#24320;&#22987;&#32467;&#26463;&#26631;&#35760;&#26159;&#25554;&#20837;&#33410;&#28857;&#30340;id&#65292;&#21542;&#21017;&#26159;&#25554;&#20837;&#33410;&#28857;&#30340;&#24341;&#29992;</span>","<span class=\"c\">         */</span>","        createBookmark<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">(</span>serialize<span class=\"k\">,</span> same<span class=\"k\">)</span> <span class=\"k\">{</span>","            <span class=\"k\">var</span> endNode<span class=\"k\">,</span>","                startNode <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>document<span class=\"k\">.</span>createElement<span class=\"k\">(</span><span class=\"s\">'span'</span><span class=\"k\">);</span>","            startNode<span class=\"k\">.</span>style<span class=\"k\">.</span>cssText <span class=\"k\">=</span> <span class=\"s\">'display:none;line-height:0px;'</span><span class=\"k\">;</span>","            startNode<span class=\"k\">.</span>appendChild<span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>document<span class=\"k\">.</span>createTextNode<span class=\"k\">(</span><span class=\"s\">'</span><span class=\"t\">\\u</span><span class=\"s\">FEFF'</span><span class=\"k\">));</span>","            startNode<span class=\"k\">.</span>id <span class=\"k\">=</span> <span class=\"s\">'_baidu_bookmark_start_'</span> <span class=\"k\">+</span> <span class=\"k\">(</span>same <span class=\"k\">?</span> <span class=\"s\">''</span> <span class=\"k\">:</span> guid<span class=\"k\">++);</span>","","            <span class=\"k\">if</span> <span class=\"k\">(!</span><span class=\"k\">this</span><span class=\"k\">.</span>collapsed<span class=\"k\">)</span> <span class=\"k\">{</span>","                endNode <span class=\"k\">=</span> startNode<span class=\"k\">.</span>cloneNode<span class=\"k\">(</span><span class=\"k\">true</span><span class=\"k\">);</span>","                endNode<span class=\"k\">.</span>id <span class=\"k\">=</span> <span class=\"s\">'_baidu_bookmark_end_'</span> <span class=\"k\">+</span> <span class=\"k\">(</span>same <span class=\"k\">?</span> <span class=\"s\">''</span> <span class=\"k\">:</span> guid<span class=\"k\">++);</span>","            <span class=\"k\">}</span>","            <span class=\"k\">this</span><span class=\"k\">.</span>insertNode<span class=\"k\">(</span>startNode<span class=\"k\">);</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span>endNode<span class=\"k\">)</span> <span class=\"k\">{</span>","                <span class=\"k\">this</span><span class=\"k\">.</span>collapse<span class=\"k\">().</span>insertNode<span class=\"k\">(</span>endNode<span class=\"k\">).</span>setEndBefore<span class=\"k\">(</span>endNode<span class=\"k\">);</span>","            <span class=\"k\">}</span>","            <span class=\"k\">this</span><span class=\"k\">.</span>setStartAfter<span class=\"k\">(</span>startNode<span class=\"k\">);</span>","            <span class=\"k\">return</span> <span class=\"k\">{</span>","                start<span class=\"k\">:</span>serialize <span class=\"k\">?</span> startNode<span class=\"k\">.</span>id <span class=\"k\">:</span> startNode<span class=\"k\">,</span>","                end<span class=\"k\">:</span>endNode <span class=\"k\">?</span> serialize <span class=\"k\">?</span> endNode<span class=\"k\">.</span>id <span class=\"k\">:</span> endNode <span class=\"k\">:</span> <span class=\"k\">null</span><span class=\"k\">,</span>","                id<span class=\"k\">:</span>serialize","            <span class=\"k\">}</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        <span class=\"c\">/**</span>","<span class=\"c\">         *  &#31227;&#21160;&#36793;&#30028;&#21040;&#20070;&#31614;&#20301;&#32622;&#65292;&#24182;&#21024;&#38500;&#25554;&#20837;&#30340;&#20070;&#31614;&#33410;&#28857;</span>","<span class=\"c\">         *  @name  moveToBookmark</span>","<span class=\"c\">         *  @grammar range.moveToBookmark(bookmark)  =&gt; Range //&#35753;&#24403;&#21069;&#30340;range&#36873;&#21040;&#32473;&#23450;bookmark&#30340;&#20301;&#32622;,bookmark&#23545;&#35937;&#26159;&#30001;range.createBookmark&#21019;&#24314;&#30340;</span>","<span class=\"c\">         */</span>","        moveToBookmark<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">(</span>bookmark<span class=\"k\">)</span> <span class=\"k\">{</span>","            <span class=\"k\">var</span> start <span class=\"k\">=</span> bookmark<span class=\"k\">.</span>id <span class=\"k\">?</span> <span class=\"k\">this</span><span class=\"k\">.</span>document<span class=\"k\">.</span>getElementById<span class=\"k\">(</span>bookmark<span class=\"k\">.</span>start<span class=\"k\">)</span> <span class=\"k\">:</span> bookmark<span class=\"k\">.</span>start<span class=\"k\">,</span>","                end <span class=\"k\">=</span> bookmark<span class=\"k\">.</span>end <span class=\"k\">&amp;&amp;</span> bookmark<span class=\"k\">.</span>id <span class=\"k\">?</span> <span class=\"k\">this</span><span class=\"k\">.</span>document<span class=\"k\">.</span>getElementById<span class=\"k\">(</span>bookmark<span class=\"k\">.</span>end<span class=\"k\">)</span> <span class=\"k\">:</span> bookmark<span class=\"k\">.</span>end<span class=\"k\">;</span>","            <span class=\"k\">this</span><span class=\"k\">.</span>setStartBefore<span class=\"k\">(</span>start<span class=\"k\">);</span>","            domUtils<span class=\"k\">.</span>remove<span class=\"k\">(</span>start<span class=\"k\">);</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span>end<span class=\"k\">)</span> <span class=\"k\">{</span>","                <span class=\"k\">this</span><span class=\"k\">.</span>setEndBefore<span class=\"k\">(</span>end<span class=\"k\">);</span>","                domUtils<span class=\"k\">.</span>remove<span class=\"k\">(</span>end<span class=\"k\">);</span>","            <span class=\"k\">}</span> <span class=\"k\">else</span> <span class=\"k\">{</span>","                <span class=\"k\">this</span><span class=\"k\">.</span>collapse<span class=\"k\">(</span><span class=\"k\">true</span><span class=\"k\">);</span>","            <span class=\"k\">}</span>","            <span class=\"k\">return</span> <span class=\"k\">this</span><span class=\"k\">;</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        <span class=\"c\">/**</span>","<span class=\"c\">         * &#35843;&#25972;range&#30340;&#36793;&#30028;&#65292;&#20351;&#20854;\"&#25918;&#22823;\"&#21040;&#26368;&#36817;&#30340;&#29238;block&#33410;&#28857;</span>","<span class=\"c\">         * @name  enlarge</span>","<span class=\"c\">         * @grammar range.enlarge()  =&gt;  Range</span>","<span class=\"c\">         * @example</span>","<span class=\"c\">         * &lt;p&gt;&lt;span&gt;xxx&lt;/span&gt;&lt;b&gt;x[x&lt;/b&gt;xxxxx]&lt;/p&gt;&lt;p&gt;xxx&lt;/p&gt; ==&gt; [&lt;p&gt;&lt;span&gt;xxx&lt;/span&gt;&lt;b&gt;xx&lt;/b&gt;xxxxx&lt;/p&gt;]&lt;p&gt;xxx&lt;/p&gt;</span>","<span class=\"c\">         */</span>","        enlarge<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">(</span>toBlock<span class=\"k\">,</span> stopFn<span class=\"k\">)</span> <span class=\"k\">{</span>","            <span class=\"k\">var</span> isBody <span class=\"k\">=</span> domUtils<span class=\"k\">.</span>isBody<span class=\"k\">,</span>","                pre<span class=\"k\">,</span> node<span class=\"k\">,</span> tmp <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>document<span class=\"k\">.</span>createTextNode<span class=\"k\">(</span><span class=\"s\">''</span><span class=\"k\">);</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span>toBlock<span class=\"k\">)</span> <span class=\"k\">{</span>","                node <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>startContainer<span class=\"k\">;</span>","                <span class=\"k\">if</span> <span class=\"k\">(</span>node<span class=\"k\">.</span>nodeType <span class=\"k\">==</span> <span class=\"s\">1</span><span class=\"k\">)</span> <span class=\"k\">{</span>","                    <span class=\"k\">if</span> <span class=\"k\">(</span>node<span class=\"k\">.</span>childNodes<span class=\"k\">[</span><span class=\"k\">this</span><span class=\"k\">.</span>startOffset<span class=\"k\">])</span> <span class=\"k\">{</span>","                        pre <span class=\"k\">=</span> node <span class=\"k\">=</span> node<span class=\"k\">.</span>childNodes<span class=\"k\">[</span><span class=\"k\">this</span><span class=\"k\">.</span>startOffset<span class=\"k\">]</span>","                    <span class=\"k\">}</span> <span class=\"k\">else</span> <span class=\"k\">{</span>","                        node<span class=\"k\">.</span>appendChild<span class=\"k\">(</span>tmp<span class=\"k\">);</span>","                        pre <span class=\"k\">=</span> node <span class=\"k\">=</span> tmp<span class=\"k\">;</span>","                    <span class=\"k\">}</span>","                <span class=\"k\">}</span> <span class=\"k\">else</span> <span class=\"k\">{</span>","                    pre <span class=\"k\">=</span> node<span class=\"k\">;</span>","                <span class=\"k\">}</span>","                <span class=\"k\">while</span> <span class=\"k\">(</span><span class=\"s\">1</span><span class=\"k\">)</span> <span class=\"k\">{</span>","                    <span class=\"k\">if</span> <span class=\"k\">(</span>domUtils<span class=\"k\">.</span>isBlockElm<span class=\"k\">(</span>node<span class=\"k\">))</span> <span class=\"k\">{</span>","                        node <span class=\"k\">=</span> pre<span class=\"k\">;</span>","                        <span class=\"k\">while</span> <span class=\"k\">((</span>pre <span class=\"k\">=</span> node<span class=\"k\">.</span>previousSibling<span class=\"k\">)</span> <span class=\"k\">&amp;&amp;</span> <span class=\"k\">!</span>domUtils<span class=\"k\">.</span>isBlockElm<span class=\"k\">(</span>pre<span class=\"k\">))</span> <span class=\"k\">{</span>","                            node <span class=\"k\">=</span> pre<span class=\"k\">;</span>","                        <span class=\"k\">}</span>","                        <span class=\"k\">this</span><span class=\"k\">.</span>setStartBefore<span class=\"k\">(</span>node<span class=\"k\">);</span>","                        <span class=\"k\">break</span><span class=\"k\">;</span>","                    <span class=\"k\">}</span>","                    pre <span class=\"k\">=</span> node<span class=\"k\">;</span>","                    node <span class=\"k\">=</span> node<span class=\"k\">.</span>parentNode<span class=\"k\">;</span>","                <span class=\"k\">}</span>","                node <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>endContainer<span class=\"k\">;</span>","                <span class=\"k\">if</span> <span class=\"k\">(</span>node<span class=\"k\">.</span>nodeType <span class=\"k\">==</span> <span class=\"s\">1</span><span class=\"k\">)</span> <span class=\"k\">{</span>","                    <span class=\"k\">if</span> <span class=\"k\">(</span>pre <span class=\"k\">=</span> node<span class=\"k\">.</span>childNodes<span class=\"k\">[</span><span class=\"k\">this</span><span class=\"k\">.</span>endOffset<span class=\"k\">])</span> <span class=\"k\">{</span>","                        node<span class=\"k\">.</span>insertBefore<span class=\"k\">(</span>tmp<span class=\"k\">,</span> pre<span class=\"k\">);</span>","                    <span class=\"k\">}</span> <span class=\"k\">else</span> <span class=\"k\">{</span>","                        node<span class=\"k\">.</span>appendChild<span class=\"k\">(</span>tmp<span class=\"k\">);</span>","                    <span class=\"k\">}</span>","                    pre <span class=\"k\">=</span> node <span class=\"k\">=</span> tmp<span class=\"k\">;</span>","                <span class=\"k\">}</span> <span class=\"k\">else</span> <span class=\"k\">{</span>","                    pre <span class=\"k\">=</span> node<span class=\"k\">;</span>","                <span class=\"k\">}</span>","                <span class=\"k\">while</span> <span class=\"k\">(</span><span class=\"s\">1</span><span class=\"k\">)</span> <span class=\"k\">{</span>","                    <span class=\"k\">if</span> <span class=\"k\">(</span>domUtils<span class=\"k\">.</span>isBlockElm<span class=\"k\">(</span>node<span class=\"k\">))</span> <span class=\"k\">{</span>","                        node <span class=\"k\">=</span> pre<span class=\"k\">;</span>","                        <span class=\"k\">while</span> <span class=\"k\">((</span>pre <span class=\"k\">=</span> node<span class=\"k\">.</span>nextSibling<span class=\"k\">)</span> <span class=\"k\">&amp;&amp;</span> <span class=\"k\">!</span>domUtils<span class=\"k\">.</span>isBlockElm<span class=\"k\">(</span>pre<span class=\"k\">))</span> <span class=\"k\">{</span>","                            node <span class=\"k\">=</span> pre<span class=\"k\">;</span>","                        <span class=\"k\">}</span>","                        <span class=\"k\">this</span><span class=\"k\">.</span>setEndAfter<span class=\"k\">(</span>node<span class=\"k\">);</span>","                        <span class=\"k\">break</span><span class=\"k\">;</span>","                    <span class=\"k\">}</span>","                    pre <span class=\"k\">=</span> node<span class=\"k\">;</span>","                    node <span class=\"k\">=</span> node<span class=\"k\">.</span>parentNode<span class=\"k\">;</span>","                <span class=\"k\">}</span>","                <span class=\"k\">if</span> <span class=\"k\">(</span>tmp<span class=\"k\">.</span>parentNode <span class=\"k\">===</span> <span class=\"k\">this</span><span class=\"k\">.</span>endContainer<span class=\"k\">)</span> <span class=\"k\">{</span>","                    <span class=\"k\">this</span><span class=\"k\">.</span>endOffset<span class=\"k\">--;</span>","                <span class=\"k\">}</span>","                domUtils<span class=\"k\">.</span>remove<span class=\"k\">(</span>tmp<span class=\"k\">);</span>","            <span class=\"k\">}</span>","","            <span class=\"c\">// &#25193;&#23637;&#36793;&#30028;&#21040;&#26368;&#22823;</span>","            <span class=\"k\">if</span> <span class=\"k\">(!</span><span class=\"k\">this</span><span class=\"k\">.</span>collapsed<span class=\"k\">)</span> <span class=\"k\">{</span>","                <span class=\"k\">while</span> <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>startOffset <span class=\"k\">==</span> <span class=\"s\">0</span><span class=\"k\">)</span> <span class=\"k\">{</span>","                    <span class=\"k\">if</span> <span class=\"k\">(</span>stopFn <span class=\"k\">&amp;&amp;</span> stopFn<span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>startContainer<span class=\"k\">))</span> <span class=\"k\">{</span>","                        <span class=\"k\">break</span><span class=\"k\">;</span>","                    <span class=\"k\">}</span>","                    <span class=\"k\">if</span> <span class=\"k\">(</span>isBody<span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>startContainer<span class=\"k\">))</span> <span class=\"k\">{</span>","                        <span class=\"k\">break</span><span class=\"k\">;</span>","                    <span class=\"k\">}</span>","                    <span class=\"k\">this</span><span class=\"k\">.</span>setStartBefore<span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>startContainer<span class=\"k\">);</span>","                <span class=\"k\">}</span>","                <span class=\"k\">while</span> <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>endOffset <span class=\"k\">==</span> <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>endContainer<span class=\"k\">.</span>nodeType <span class=\"k\">==</span> <span class=\"s\">1</span> <span class=\"k\">?</span> <span class=\"k\">this</span><span class=\"k\">.</span>endContainer<span class=\"k\">.</span>childNodes<span class=\"k\">.</span>length <span class=\"k\">:</span> <span class=\"k\">this</span><span class=\"k\">.</span>endContainer<span class=\"k\">.</span>nodeValue<span class=\"k\">.</span>length<span class=\"k\">))</span> <span class=\"k\">{</span>","                    <span class=\"k\">if</span> <span class=\"k\">(</span>stopFn <span class=\"k\">&amp;&amp;</span> stopFn<span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>endContainer<span class=\"k\">))</span> <span class=\"k\">{</span>","                        <span class=\"k\">break</span><span class=\"k\">;</span>","                    <span class=\"k\">}</span>","                    <span class=\"k\">if</span> <span class=\"k\">(</span>isBody<span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>endContainer<span class=\"k\">))</span> <span class=\"k\">{</span>","                        <span class=\"k\">break</span><span class=\"k\">;</span>","                    <span class=\"k\">}</span>","                    <span class=\"k\">this</span><span class=\"k\">.</span>setEndAfter<span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>endContainer<span class=\"k\">);</span>","                <span class=\"k\">}</span>","            <span class=\"k\">}</span>","            <span class=\"k\">return</span> <span class=\"k\">this</span><span class=\"k\">;</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        <span class=\"c\">/**</span>","<span class=\"c\">         * &#35843;&#25972;Range&#30340;&#36793;&#30028;&#65292;&#20351;&#20854;\"&#32553;&#23567;\"&#21040;&#26368;&#21512;&#36866;&#30340;&#20301;&#32622;</span>","<span class=\"c\">         * @name adjustmentBoundary</span>","<span class=\"c\">         * @grammar range.adjustmentBoundary() =&gt; Range   //&#21442;&#35265;&lt;code&gt;&lt;a href=\"#shrinkboundary\"&gt;shrinkBoundary&lt;/a&gt;&lt;/code&gt;</span>","<span class=\"c\">         * @example</span>","<span class=\"c\">         * &lt;b&gt;xx[&lt;/b&gt;xxxxx] ==&gt; &lt;b&gt;xx&lt;/b&gt;[xxxxx]</span>","<span class=\"c\">         * &lt;b&gt;x[xx&lt;/b&gt;&lt;i&gt;]xxx&lt;/i&gt; ==&gt; &lt;b&gt;x[xx&lt;/b&gt;]&lt;i&gt;xxx&lt;/i&gt;</span>","<span class=\"c\">         */</span>","        adjustmentBoundary<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","            <span class=\"k\">if</span> <span class=\"k\">(!</span><span class=\"k\">this</span><span class=\"k\">.</span>collapsed<span class=\"k\">)</span> <span class=\"k\">{</span>","                <span class=\"k\">while</span> <span class=\"k\">(!</span>domUtils<span class=\"k\">.</span>isBody<span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>startContainer<span class=\"k\">)</span> <span class=\"k\">&amp;&amp;</span>","                    <span class=\"k\">this</span><span class=\"k\">.</span>startOffset <span class=\"k\">==</span> <span class=\"k\">this</span><span class=\"k\">.</span>startContainer<span class=\"k\">[</span><span class=\"k\">this</span><span class=\"k\">.</span>startContainer<span class=\"k\">.</span>nodeType <span class=\"k\">==</span> <span class=\"s\">3</span> <span class=\"k\">?</span> <span class=\"s\">'nodeValue'</span> <span class=\"k\">:</span> <span class=\"s\">'childNodes'</span><span class=\"k\">].</span>length","                    <span class=\"k\">)</span> <span class=\"k\">{</span>","                    <span class=\"k\">this</span><span class=\"k\">.</span>setStartAfter<span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>startContainer<span class=\"k\">);</span>","                <span class=\"k\">}</span>","                <span class=\"k\">while</span> <span class=\"k\">(!</span>domUtils<span class=\"k\">.</span>isBody<span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>endContainer<span class=\"k\">)</span> <span class=\"k\">&amp;&amp;</span> <span class=\"k\">!</span><span class=\"k\">this</span><span class=\"k\">.</span>endOffset<span class=\"k\">)</span> <span class=\"k\">{</span>","                    <span class=\"k\">this</span><span class=\"k\">.</span>setEndBefore<span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>endContainer<span class=\"k\">);</span>","                <span class=\"k\">}</span>","            <span class=\"k\">}</span>","            <span class=\"k\">return</span> <span class=\"k\">this</span><span class=\"k\">;</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        <span class=\"c\">/**</span>","<span class=\"c\">         * &#32473;range&#36873;&#21306;&#20013;&#30340;&#20869;&#23481;&#28155;&#21152;&#32473;&#23450;&#30340;&#26631;&#31614;&#65292;&#20027;&#35201;&#29992;&#20110;inline&#26631;&#31614;</span>","<span class=\"c\">         * @name applyInlineStyle</span>","<span class=\"c\">         * @grammar range.applyInlineStyle(tagName)        =&gt;  Range    //tagName&#20026;&#38656;&#35201;&#28155;&#21152;&#30340;&#26679;&#24335;&#26631;&#31614;&#21517;</span>","<span class=\"c\">         * @grammar range.applyInlineStyle(tagName,attrs)  =&gt;  Range    //attrs&#20026;&#23646;&#24615;json&#23545;&#35937;</span>","<span class=\"c\">         * @example</span>","<span class=\"c\">         * &lt;p&gt;xxxx[xxxx]x&lt;/p&gt;  ==&gt;  range.applyInlineStyle(\"strong\")  ==&gt;  &lt;p&gt;xxxx[&lt;strong&gt;xxxx&lt;/strong&gt;]x&lt;/p&gt;</span>","<span class=\"c\">         * &lt;p&gt;xx[dd&lt;strong&gt;yyyy&lt;/strong&gt;]x&lt;/p&gt;  ==&gt;  range.applyInlineStyle(\"strong\")  ==&gt;  &lt;p&gt;xx[&lt;strong&gt;ddyyyy&lt;/strong&gt;]x&lt;/p&gt;</span>","<span class=\"c\">         * &lt;p&gt;xxxx[xxxx]x&lt;/p&gt;  ==&gt;  range.applyInlineStyle(\"strong\",{\"style\":\"font-size:12px\"})  ==&gt;  &lt;p&gt;xxxx[&lt;strong style=\"font-size:12px\"&gt;xxxx&lt;/strong&gt;]x&lt;/p&gt;</span>","<span class=\"c\">         */</span>","        applyInlineStyle<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">(</span>tagName<span class=\"k\">,</span> attrs<span class=\"k\">,</span> list<span class=\"k\">)</span> <span class=\"k\">{</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>collapsed<span class=\"k\">)</span><span class=\"k\">return</span> <span class=\"k\">this</span><span class=\"k\">;</span>","            <span class=\"k\">this</span><span class=\"k\">.</span>trimBoundary<span class=\"k\">().</span>enlarge<span class=\"k\">(</span><span class=\"k\">false</span><span class=\"k\">,</span>","                <span class=\"k\">function</span> <span class=\"k\">(</span>node<span class=\"k\">)</span> <span class=\"k\">{</span>","                    <span class=\"k\">return</span> node<span class=\"k\">.</span>nodeType <span class=\"k\">==</span> <span class=\"s\">1</span> <span class=\"k\">&amp;&amp;</span> domUtils<span class=\"k\">.</span>isBlockElm<span class=\"k\">(</span>node<span class=\"k\">)</span>","                <span class=\"k\">}</span><span class=\"k\">).</span>adjustmentBoundary<span class=\"k\">();</span>","            <span class=\"k\">var</span> bookmark <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>createBookmark<span class=\"k\">(),</span>","                end <span class=\"k\">=</span> bookmark<span class=\"k\">.</span>end<span class=\"k\">,</span>","                filterFn <span class=\"k\">=</span> <span class=\"k\">function</span> <span class=\"k\">(</span>node<span class=\"k\">)</span> <span class=\"k\">{</span>","                    <span class=\"k\">return</span> node<span class=\"k\">.</span>nodeType <span class=\"k\">==</span> <span class=\"s\">1</span> <span class=\"k\">?</span> node<span class=\"k\">.</span>tagName<span class=\"k\">.</span>toLowerCase<span class=\"k\">()</span> <span class=\"k\">!=</span> <span class=\"s\">'br'</span> <span class=\"k\">:</span> <span class=\"k\">!</span>domUtils<span class=\"k\">.</span>isWhitespace<span class=\"k\">(</span>node<span class=\"k\">);</span>","                <span class=\"k\">}</span><span class=\"k\">,</span>","                current <span class=\"k\">=</span> domUtils<span class=\"k\">.</span>getNextDomNode<span class=\"k\">(</span>bookmark<span class=\"k\">.</span>start<span class=\"k\">,</span> <span class=\"k\">false</span><span class=\"k\">,</span> filterFn<span class=\"k\">),</span>","                node<span class=\"k\">,</span>","                pre<span class=\"k\">,</span>","                range <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>cloneRange<span class=\"k\">();</span>","            <span class=\"k\">while</span> <span class=\"k\">(</span>current <span class=\"k\">&amp;&amp;</span> <span class=\"k\">(</span>domUtils<span class=\"k\">.</span>getPosition<span class=\"k\">(</span>current<span class=\"k\">,</span> end<span class=\"k\">)</span> <span class=\"k\">&amp;</span> domUtils<span class=\"k\">.</span>POSITION_PRECEDING<span class=\"k\">))</span> <span class=\"k\">{</span>","                <span class=\"k\">if</span> <span class=\"k\">(</span>current<span class=\"k\">.</span>nodeType <span class=\"k\">==</span> <span class=\"s\">3</span> <span class=\"k\">||</span> dtd<span class=\"k\">[</span>tagName<span class=\"k\">][</span>current<span class=\"k\">.</span>tagName<span class=\"k\">])</span> <span class=\"k\">{</span>","                    range<span class=\"k\">.</span>setStartBefore<span class=\"k\">(</span>current<span class=\"k\">);</span>","                    node <span class=\"k\">=</span> current<span class=\"k\">;</span>","                    <span class=\"k\">while</span> <span class=\"k\">(</span>node <span class=\"k\">&amp;&amp;</span> <span class=\"k\">(</span>node<span class=\"k\">.</span>nodeType <span class=\"k\">==</span> <span class=\"s\">3</span> <span class=\"k\">||</span> dtd<span class=\"k\">[</span>tagName<span class=\"k\">][</span>node<span class=\"k\">.</span>tagName<span class=\"k\">])</span> <span class=\"k\">&amp;&amp;</span> node <span class=\"k\">!==</span> end<span class=\"k\">)</span> <span class=\"k\">{</span>","                        pre <span class=\"k\">=</span> node<span class=\"k\">;</span>","                        node <span class=\"k\">=</span> domUtils<span class=\"k\">.</span>getNextDomNode<span class=\"k\">(</span>node<span class=\"k\">,</span> node<span class=\"k\">.</span>nodeType <span class=\"k\">==</span> <span class=\"s\">1</span><span class=\"k\">,</span> <span class=\"k\">null</span><span class=\"k\">,</span> <span class=\"k\">function</span> <span class=\"k\">(</span>parent<span class=\"k\">)</span> <span class=\"k\">{</span>","                            <span class=\"k\">return</span> dtd<span class=\"k\">[</span>tagName<span class=\"k\">][</span>parent<span class=\"k\">.</span>tagName<span class=\"k\">];</span>","                        <span class=\"k\">}</span><span class=\"k\">);</span>","                    <span class=\"k\">}</span>","                    <span class=\"k\">var</span> frag <span class=\"k\">=</span> range<span class=\"k\">.</span>setEndAfter<span class=\"k\">(</span>pre<span class=\"k\">).</span>extractContents<span class=\"k\">(),</span> elm<span class=\"k\">;</span>","                    <span class=\"k\">if</span> <span class=\"k\">(</span>list <span class=\"k\">&amp;&amp;</span> list<span class=\"k\">.</span>length <span class=\"k\">&gt;</span> <span class=\"s\">0</span><span class=\"k\">)</span> <span class=\"k\">{</span>","                        <span class=\"k\">var</span> level<span class=\"k\">,</span> top<span class=\"k\">;</span>","                        top <span class=\"k\">=</span> level <span class=\"k\">=</span> list<span class=\"k\">[</span><span class=\"s\">0</span><span class=\"k\">].</span>cloneNode<span class=\"k\">(</span><span class=\"k\">false</span><span class=\"k\">);</span>","                        <span class=\"k\">for</span> <span class=\"k\">(</span><span class=\"k\">var</span> i <span class=\"k\">=</span> <span class=\"s\">1</span><span class=\"k\">,</span> ci<span class=\"k\">;</span> ci <span class=\"k\">=</span> list<span class=\"k\">[</span>i<span class=\"k\">++];)</span> <span class=\"k\">{</span>","                            level<span class=\"k\">.</span>appendChild<span class=\"k\">(</span>ci<span class=\"k\">.</span>cloneNode<span class=\"k\">(</span><span class=\"k\">false</span><span class=\"k\">));</span>","                            level <span class=\"k\">=</span> level<span class=\"k\">.</span>firstChild<span class=\"k\">;</span>","                        <span class=\"k\">}</span>","                        elm <span class=\"k\">=</span> level<span class=\"k\">;</span>","                    <span class=\"k\">}</span> <span class=\"k\">else</span> <span class=\"k\">{</span>","                        elm <span class=\"k\">=</span> range<span class=\"k\">.</span>document<span class=\"k\">.</span>createElement<span class=\"k\">(</span>tagName<span class=\"k\">);</span>","                    <span class=\"k\">}</span>","                    <span class=\"k\">if</span> <span class=\"k\">(</span>attrs<span class=\"k\">)</span> <span class=\"k\">{</span>","                        domUtils<span class=\"k\">.</span>setAttributes<span class=\"k\">(</span>elm<span class=\"k\">,</span> attrs<span class=\"k\">);</span>","                    <span class=\"k\">}</span>","                    elm<span class=\"k\">.</span>appendChild<span class=\"k\">(</span>frag<span class=\"k\">);</span>","                    range<span class=\"k\">.</span>insertNode<span class=\"k\">(</span>list <span class=\"k\">?</span> top <span class=\"k\">:</span> elm<span class=\"k\">);</span>","                    <span class=\"c\">//&#22788;&#29702;&#19979;&#28369;&#32447;&#22312;a&#19978;&#30340;&#24773;&#20917;</span>","                    <span class=\"k\">var</span> aNode<span class=\"k\">;</span>","                    <span class=\"k\">if</span> <span class=\"k\">(</span>tagName <span class=\"k\">==</span> <span class=\"s\">'span'</span> <span class=\"k\">&amp;&amp;</span> attrs<span class=\"k\">.</span>style <span class=\"k\">&amp;&amp;</span> <span class=\"s\">/text\\-decoration/</span><span class=\"k\">.</span>test<span class=\"k\">(</span>attrs<span class=\"k\">.</span>style<span class=\"k\">)</span> <span class=\"k\">&amp;&amp;</span> <span class=\"k\">(</span>aNode <span class=\"k\">=</span> domUtils<span class=\"k\">.</span>findParentByTagName<span class=\"k\">(</span>elm<span class=\"k\">,</span> <span class=\"s\">'a'</span><span class=\"k\">,</span> <span class=\"k\">true</span><span class=\"k\">)))</span> <span class=\"k\">{</span>","                        domUtils<span class=\"k\">.</span>setAttributes<span class=\"k\">(</span>aNode<span class=\"k\">,</span> attrs<span class=\"k\">);</span>","                        domUtils<span class=\"k\">.</span>remove<span class=\"k\">(</span>elm<span class=\"k\">,</span> <span class=\"k\">true</span><span class=\"k\">);</span>","                        elm <span class=\"k\">=</span> aNode<span class=\"k\">;</span>","                    <span class=\"k\">}</span> <span class=\"k\">else</span> <span class=\"k\">{</span>","                        domUtils<span class=\"k\">.</span>mergeSibling<span class=\"k\">(</span>elm<span class=\"k\">);</span>","                        domUtils<span class=\"k\">.</span>clearEmptySibling<span class=\"k\">(</span>elm<span class=\"k\">);</span>","                    <span class=\"k\">}</span>","                    <span class=\"c\">//&#21435;&#38500;&#23376;&#33410;&#28857;&#30456;&#21516;&#30340;</span>","                    domUtils<span class=\"k\">.</span>mergeChild<span class=\"k\">(</span>elm<span class=\"k\">,</span> attrs<span class=\"k\">);</span>","                    current <span class=\"k\">=</span> domUtils<span class=\"k\">.</span>getNextDomNode<span class=\"k\">(</span>elm<span class=\"k\">,</span> <span class=\"k\">false</span><span class=\"k\">,</span> filterFn<span class=\"k\">);</span>","                    domUtils<span class=\"k\">.</span>mergeToParent<span class=\"k\">(</span>elm<span class=\"k\">);</span>","                    <span class=\"k\">if</span> <span class=\"k\">(</span>node <span class=\"k\">===</span> end<span class=\"k\">)</span> <span class=\"k\">{</span>","                        <span class=\"k\">break</span><span class=\"k\">;</span>","                    <span class=\"k\">}</span>","                <span class=\"k\">}</span> <span class=\"k\">else</span> <span class=\"k\">{</span>","                    current <span class=\"k\">=</span> domUtils<span class=\"k\">.</span>getNextDomNode<span class=\"k\">(</span>current<span class=\"k\">,</span> <span class=\"k\">true</span><span class=\"k\">,</span> filterFn<span class=\"k\">);</span>","                <span class=\"k\">}</span>","            <span class=\"k\">}</span>","            <span class=\"k\">return</span> <span class=\"k\">this</span><span class=\"k\">.</span>moveToBookmark<span class=\"k\">(</span>bookmark<span class=\"k\">);</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        <span class=\"c\">/**</span>","<span class=\"c\">         * &#23545;&#24403;&#21069;range&#36873;&#20013;&#30340;&#33410;&#28857;&#65292;&#21435;&#25481;&#32473;&#23450;&#30340;&#26631;&#31614;&#33410;&#28857;&#65292;&#20294;&#26631;&#31614;&#20013;&#30340;&#20869;&#23481;&#20445;&#30041;&#65292;&#20027;&#35201;&#29992;&#20110;&#22788;&#29702;inline&#20803;&#32032;</span>","<span class=\"c\">         * @name removeInlineStyle</span>","<span class=\"c\">         * @grammar range.removeInlineStyle(tagNames)  =&gt; Range  //tagNames &#20026;&#38656;&#35201;&#21435;&#25481;&#30340;&#26679;&#24335;&#26631;&#31614;&#21517;,&#25903;&#25345;\"b\"&#25110;&#32773;[\"b\",\"i\",\"u\"]</span>","<span class=\"c\">         * @example</span>","<span class=\"c\">         * xx[x&lt;span&gt;xxx&lt;em&gt;yyy&lt;/em&gt;zz]z&lt;/span&gt;  =&gt; range.removeInlineStyle([\"em\"])  =&gt; xx[x&lt;span&gt;xxxyyyzz]z&lt;/span&gt;</span>","<span class=\"c\">         */</span>","        removeInlineStyle<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">(</span>tagNames<span class=\"k\">)</span> <span class=\"k\">{</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>collapsed<span class=\"k\">)</span><span class=\"k\">return</span> <span class=\"k\">this</span><span class=\"k\">;</span>","            tagNames <span class=\"k\">=</span> utils<span class=\"k\">.</span>isArray<span class=\"k\">(</span>tagNames<span class=\"k\">)</span> <span class=\"k\">?</span> tagNames <span class=\"k\">:</span> <span class=\"k\">[</span>tagNames<span class=\"k\">];</span>","            <span class=\"k\">this</span><span class=\"k\">.</span>shrinkBoundary<span class=\"k\">().</span>adjustmentBoundary<span class=\"k\">();</span>","            <span class=\"k\">var</span> start <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>startContainer<span class=\"k\">,</span> end <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>endContainer<span class=\"k\">;</span>","            <span class=\"k\">while</span> <span class=\"k\">(</span><span class=\"s\">1</span><span class=\"k\">)</span> <span class=\"k\">{</span>","                <span class=\"k\">if</span> <span class=\"k\">(</span>start<span class=\"k\">.</span>nodeType <span class=\"k\">==</span> <span class=\"s\">1</span><span class=\"k\">)</span> <span class=\"k\">{</span>","                    <span class=\"k\">if</span> <span class=\"k\">(</span>utils<span class=\"k\">.</span>indexOf<span class=\"k\">(</span>tagNames<span class=\"k\">,</span> start<span class=\"k\">.</span>tagName<span class=\"k\">.</span>toLowerCase<span class=\"k\">())</span> <span class=\"k\">&gt;</span> <span class=\"k\">-</span><span class=\"s\">1</span><span class=\"k\">)</span> <span class=\"k\">{</span>","                        <span class=\"k\">break</span><span class=\"k\">;</span>","                    <span class=\"k\">}</span>","                    <span class=\"k\">if</span> <span class=\"k\">(</span>start<span class=\"k\">.</span>tagName<span class=\"k\">.</span>toLowerCase<span class=\"k\">()</span> <span class=\"k\">==</span> <span class=\"s\">'body'</span><span class=\"k\">)</span> <span class=\"k\">{</span>","                        start <span class=\"k\">=</span> <span class=\"k\">null</span><span class=\"k\">;</span>","                        <span class=\"k\">break</span><span class=\"k\">;</span>","                    <span class=\"k\">}</span>","                <span class=\"k\">}</span>","                start <span class=\"k\">=</span> start<span class=\"k\">.</span>parentNode<span class=\"k\">;</span>","            <span class=\"k\">}</span>","            <span class=\"k\">while</span> <span class=\"k\">(</span><span class=\"s\">1</span><span class=\"k\">)</span> <span class=\"k\">{</span>","                <span class=\"k\">if</span> <span class=\"k\">(</span>end<span class=\"k\">.</span>nodeType <span class=\"k\">==</span> <span class=\"s\">1</span><span class=\"k\">)</span> <span class=\"k\">{</span>","                    <span class=\"k\">if</span> <span class=\"k\">(</span>utils<span class=\"k\">.</span>indexOf<span class=\"k\">(</span>tagNames<span class=\"k\">,</span> end<span class=\"k\">.</span>tagName<span class=\"k\">.</span>toLowerCase<span class=\"k\">())</span> <span class=\"k\">&gt;</span> <span class=\"k\">-</span><span class=\"s\">1</span><span class=\"k\">)</span> <span class=\"k\">{</span>","                        <span class=\"k\">break</span><span class=\"k\">;</span>","                    <span class=\"k\">}</span>","                    <span class=\"k\">if</span> <span class=\"k\">(</span>end<span class=\"k\">.</span>tagName<span class=\"k\">.</span>toLowerCase<span class=\"k\">()</span> <span class=\"k\">==</span> <span class=\"s\">'body'</span><span class=\"k\">)</span> <span class=\"k\">{</span>","                        end <span class=\"k\">=</span> <span class=\"k\">null</span><span class=\"k\">;</span>","                        <span class=\"k\">break</span><span class=\"k\">;</span>","                    <span class=\"k\">}</span>","                <span class=\"k\">}</span>","                end <span class=\"k\">=</span> end<span class=\"k\">.</span>parentNode<span class=\"k\">;</span>","            <span class=\"k\">}</span>","            <span class=\"k\">var</span> bookmark <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>createBookmark<span class=\"k\">(),</span>","                frag<span class=\"k\">,</span>","                tmpRange<span class=\"k\">;</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span>start<span class=\"k\">)</span> <span class=\"k\">{</span>","                tmpRange <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>cloneRange<span class=\"k\">().</span>setEndBefore<span class=\"k\">(</span>bookmark<span class=\"k\">.</span>start<span class=\"k\">).</span>setStartBefore<span class=\"k\">(</span>start<span class=\"k\">);</span>","                frag <span class=\"k\">=</span> tmpRange<span class=\"k\">.</span>extractContents<span class=\"k\">();</span>","                tmpRange<span class=\"k\">.</span>insertNode<span class=\"k\">(</span>frag<span class=\"k\">);</span>","                domUtils<span class=\"k\">.</span>clearEmptySibling<span class=\"k\">(</span>start<span class=\"k\">,</span> <span class=\"k\">true</span><span class=\"k\">);</span>","                start<span class=\"k\">.</span>parentNode<span class=\"k\">.</span>insertBefore<span class=\"k\">(</span>bookmark<span class=\"k\">.</span>start<span class=\"k\">,</span> start<span class=\"k\">);</span>","            <span class=\"k\">}</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span>end<span class=\"k\">)</span> <span class=\"k\">{</span>","                tmpRange <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>cloneRange<span class=\"k\">().</span>setStartAfter<span class=\"k\">(</span>bookmark<span class=\"k\">.</span>end<span class=\"k\">).</span>setEndAfter<span class=\"k\">(</span>end<span class=\"k\">);</span>","                frag <span class=\"k\">=</span> tmpRange<span class=\"k\">.</span>extractContents<span class=\"k\">();</span>","                tmpRange<span class=\"k\">.</span>insertNode<span class=\"k\">(</span>frag<span class=\"k\">);</span>","                domUtils<span class=\"k\">.</span>clearEmptySibling<span class=\"k\">(</span>end<span class=\"k\">,</span> <span class=\"k\">false</span><span class=\"k\">,</span> <span class=\"k\">true</span><span class=\"k\">);</span>","                end<span class=\"k\">.</span>parentNode<span class=\"k\">.</span>insertBefore<span class=\"k\">(</span>bookmark<span class=\"k\">.</span>end<span class=\"k\">,</span> end<span class=\"k\">.</span>nextSibling<span class=\"k\">);</span>","            <span class=\"k\">}</span>","            <span class=\"k\">var</span> current <span class=\"k\">=</span> domUtils<span class=\"k\">.</span>getNextDomNode<span class=\"k\">(</span>bookmark<span class=\"k\">.</span>start<span class=\"k\">,</span> <span class=\"k\">false</span><span class=\"k\">,</span> <span class=\"k\">function</span> <span class=\"k\">(</span>node<span class=\"k\">)</span> <span class=\"k\">{</span>","                <span class=\"k\">return</span> node<span class=\"k\">.</span>nodeType <span class=\"k\">==</span> <span class=\"s\">1</span><span class=\"k\">;</span>","            <span class=\"k\">}</span><span class=\"k\">),</span> next<span class=\"k\">;</span>","            <span class=\"k\">while</span> <span class=\"k\">(</span>current <span class=\"k\">&amp;&amp;</span> current <span class=\"k\">!==</span> bookmark<span class=\"k\">.</span>end<span class=\"k\">)</span> <span class=\"k\">{</span>","                next <span class=\"k\">=</span> domUtils<span class=\"k\">.</span>getNextDomNode<span class=\"k\">(</span>current<span class=\"k\">,</span> <span class=\"k\">true</span><span class=\"k\">,</span> <span class=\"k\">function</span> <span class=\"k\">(</span>node<span class=\"k\">)</span> <span class=\"k\">{</span>","                    <span class=\"k\">return</span> node<span class=\"k\">.</span>nodeType <span class=\"k\">==</span> <span class=\"s\">1</span><span class=\"k\">;</span>","                <span class=\"k\">}</span><span class=\"k\">);</span>","                <span class=\"k\">if</span> <span class=\"k\">(</span>utils<span class=\"k\">.</span>indexOf<span class=\"k\">(</span>tagNames<span class=\"k\">,</span> current<span class=\"k\">.</span>tagName<span class=\"k\">.</span>toLowerCase<span class=\"k\">())</span> <span class=\"k\">&gt;</span> <span class=\"k\">-</span><span class=\"s\">1</span><span class=\"k\">)</span> <span class=\"k\">{</span>","                    domUtils<span class=\"k\">.</span>remove<span class=\"k\">(</span>current<span class=\"k\">,</span> <span class=\"k\">true</span><span class=\"k\">);</span>","                <span class=\"k\">}</span>","                current <span class=\"k\">=</span> next<span class=\"k\">;</span>","            <span class=\"k\">}</span>","            <span class=\"k\">return</span> <span class=\"k\">this</span><span class=\"k\">.</span>moveToBookmark<span class=\"k\">(</span>bookmark<span class=\"k\">);</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        <span class=\"c\">/**</span>","<span class=\"c\">         * &#24471;&#21040;&#19968;&#20010;&#33258;&#38381;&#21512;&#30340;&#33410;&#28857;,&#24120;&#29992;&#20110;&#33719;&#21462;&#33258;&#38381;&#21644;&#30340;&#33410;&#28857;&#65292;&#20363;&#22914;&#22270;&#29255;&#33410;&#28857;</span>","<span class=\"c\">         * @name  getClosedNode</span>","<span class=\"c\">         * @grammar range.getClosedNode()  =&gt; node|null</span>","<span class=\"c\">         * @example</span>","<span class=\"c\">         * &lt;b&gt;xxxx[&lt;img /&gt;]xxx&lt;/b&gt;</span>","<span class=\"c\">         */</span>","        getClosedNode<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","            <span class=\"k\">var</span> node<span class=\"k\">;</span>","            <span class=\"k\">if</span> <span class=\"k\">(!</span><span class=\"k\">this</span><span class=\"k\">.</span>collapsed<span class=\"k\">)</span> <span class=\"k\">{</span>","                <span class=\"k\">var</span> range <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>cloneRange<span class=\"k\">().</span>adjustmentBoundary<span class=\"k\">().</span>shrinkBoundary<span class=\"k\">();</span>","                <span class=\"k\">if</span> <span class=\"k\">(</span>selectOneNode<span class=\"k\">(</span>range<span class=\"k\">))</span> <span class=\"k\">{</span>","                    <span class=\"k\">var</span> child <span class=\"k\">=</span> range<span class=\"k\">.</span>startContainer<span class=\"k\">.</span>childNodes<span class=\"k\">[</span>range<span class=\"k\">.</span>startOffset<span class=\"k\">];</span>","                    <span class=\"k\">if</span> <span class=\"k\">(</span>child <span class=\"k\">&amp;&amp;</span> child<span class=\"k\">.</span>nodeType <span class=\"k\">==</span> <span class=\"s\">1</span> <span class=\"k\">&amp;&amp;</span> <span class=\"k\">(</span>dtd<span class=\"k\">.</span>$empty<span class=\"k\">[</span>child<span class=\"k\">.</span>tagName<span class=\"k\">]</span> <span class=\"k\">||</span> dtd<span class=\"k\">.</span>$nonChild<span class=\"k\">[</span>child<span class=\"k\">.</span>tagName<span class=\"k\">]))</span> <span class=\"k\">{</span>","                        node <span class=\"k\">=</span> child<span class=\"k\">;</span>","                    <span class=\"k\">}</span>","                <span class=\"k\">}</span>","            <span class=\"k\">}</span>","            <span class=\"k\">return</span> node<span class=\"k\">;</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        <span class=\"c\">/**</span>","<span class=\"c\">         * &#26681;&#25454;&#24403;&#21069;range&#36873;&#20013;&#20869;&#23481;&#33410;&#28857;&#65288;&#22312;&#39029;&#38754;&#19978;&#34920;&#29616;&#20026;&#21453;&#30333;&#26174;&#31034;&#65289;</span>","<span class=\"c\">         * @name select</span>","<span class=\"c\">         * @grammar range.select();  =&gt; Range</span>","<span class=\"c\">         */</span>","        select<span class=\"k\">:</span>browser<span class=\"k\">.</span>ie <span class=\"k\">?</span> <span class=\"k\">function</span> <span class=\"k\">(</span>noFillData<span class=\"k\">,</span> textRange<span class=\"k\">)</span> <span class=\"k\">{</span>","            <span class=\"k\">var</span> nativeRange<span class=\"k\">;</span>","            <span class=\"k\">if</span> <span class=\"k\">(!</span><span class=\"k\">this</span><span class=\"k\">.</span>collapsed<span class=\"k\">)</span>","                <span class=\"k\">this</span><span class=\"k\">.</span>shrinkBoundary<span class=\"k\">();</span>","            <span class=\"k\">var</span> node <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>getClosedNode<span class=\"k\">();</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span>node <span class=\"k\">&amp;&amp;</span> <span class=\"k\">!</span>textRange<span class=\"k\">)</span> <span class=\"k\">{</span>","                <span class=\"k\">try</span> <span class=\"k\">{</span>","                    nativeRange <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>document<span class=\"k\">.</span>body<span class=\"k\">.</span>createControlRange<span class=\"k\">();</span>","                    nativeRange<span class=\"k\">.</span>addElement<span class=\"k\">(</span>node<span class=\"k\">);</span>","                    nativeRange<span class=\"k\">.</span>select<span class=\"k\">();</span>","                <span class=\"k\">}</span> <span class=\"k\">catch</span> <span class=\"k\">(</span>e<span class=\"k\">)</span> <span class=\"k\">{}</span>","                <span class=\"k\">return</span> <span class=\"k\">this</span><span class=\"k\">;</span>","            <span class=\"k\">}</span>","            <span class=\"k\">var</span> bookmark <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>createBookmark<span class=\"k\">(),</span>","                start <span class=\"k\">=</span> bookmark<span class=\"k\">.</span>start<span class=\"k\">,</span>","                end<span class=\"k\">;</span>","            nativeRange <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>document<span class=\"k\">.</span>body<span class=\"k\">.</span>createTextRange<span class=\"k\">();</span>","            nativeRange<span class=\"k\">.</span>moveToElementText<span class=\"k\">(</span>start<span class=\"k\">);</span>","            nativeRange<span class=\"k\">.</span>moveStart<span class=\"k\">(</span><span class=\"s\">'character'</span><span class=\"k\">,</span> <span class=\"s\">1</span><span class=\"k\">);</span>","            <span class=\"k\">if</span> <span class=\"k\">(!</span><span class=\"k\">this</span><span class=\"k\">.</span>collapsed<span class=\"k\">)</span> <span class=\"k\">{</span>","                <span class=\"k\">var</span> nativeRangeEnd <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>document<span class=\"k\">.</span>body<span class=\"k\">.</span>createTextRange<span class=\"k\">();</span>","                end <span class=\"k\">=</span> bookmark<span class=\"k\">.</span>end<span class=\"k\">;</span>","                nativeRangeEnd<span class=\"k\">.</span>moveToElementText<span class=\"k\">(</span>end<span class=\"k\">);</span>","                nativeRange<span class=\"k\">.</span>setEndPoint<span class=\"k\">(</span><span class=\"s\">'EndToEnd'</span><span class=\"k\">,</span> nativeRangeEnd<span class=\"k\">);</span>","            <span class=\"k\">}</span> <span class=\"k\">else</span> <span class=\"k\">{</span>","                <span class=\"k\">if</span> <span class=\"k\">(!</span>noFillData <span class=\"k\">&amp;&amp;</span> <span class=\"k\">this</span><span class=\"k\">.</span>startContainer<span class=\"k\">.</span>nodeType <span class=\"k\">!=</span> <span class=\"s\">3</span><span class=\"k\">)</span> <span class=\"k\">{</span>","                    <span class=\"c\">//&#20351;&#29992;&lt;span&gt;|x&lt;span&gt;&#22266;&#23450;&#20303;&#20809;&#26631;</span>","                    <span class=\"k\">var</span> tmpText <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>document<span class=\"k\">.</span>createTextNode<span class=\"k\">(</span>fillChar<span class=\"k\">),</span>","                        tmp <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>document<span class=\"k\">.</span>createElement<span class=\"k\">(</span><span class=\"s\">'span'</span><span class=\"k\">);</span>","                    tmp<span class=\"k\">.</span>appendChild<span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>document<span class=\"k\">.</span>createTextNode<span class=\"k\">(</span>fillChar<span class=\"k\">));</span>","                    start<span class=\"k\">.</span>parentNode<span class=\"k\">.</span>insertBefore<span class=\"k\">(</span>tmp<span class=\"k\">,</span> start<span class=\"k\">);</span>","                    start<span class=\"k\">.</span>parentNode<span class=\"k\">.</span>insertBefore<span class=\"k\">(</span>tmpText<span class=\"k\">,</span> start<span class=\"k\">);</span>","                    <span class=\"c\">//&#24403;&#28857;b,i,u&#26102;&#65292;&#19981;&#33021;&#28165;&#38500;i&#19978;&#36793;&#30340;b</span>","                    removeFillData<span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>document<span class=\"k\">,</span> tmpText<span class=\"k\">);</span>","                    fillData <span class=\"k\">=</span> tmpText<span class=\"k\">;</span>","                    mergeSibling<span class=\"k\">(</span>tmp<span class=\"k\">,</span> <span class=\"s\">'previousSibling'</span><span class=\"k\">);</span>","                    mergeSibling<span class=\"k\">(</span>start<span class=\"k\">,</span> <span class=\"s\">'nextSibling'</span><span class=\"k\">);</span>","                    nativeRange<span class=\"k\">.</span>moveStart<span class=\"k\">(</span><span class=\"s\">'character'</span><span class=\"k\">,</span> <span class=\"k\">-</span><span class=\"s\">1</span><span class=\"k\">);</span>","                    nativeRange<span class=\"k\">.</span>collapse<span class=\"k\">(</span><span class=\"k\">true</span><span class=\"k\">);</span>","                <span class=\"k\">}</span>","            <span class=\"k\">}</span>","            <span class=\"k\">this</span><span class=\"k\">.</span>moveToBookmark<span class=\"k\">(</span>bookmark<span class=\"k\">);</span>","            tmp <span class=\"k\">&amp;&amp;</span> domUtils<span class=\"k\">.</span>remove<span class=\"k\">(</span>tmp<span class=\"k\">);</span>","            <span class=\"c\">//IE&#22312;&#38544;&#34255;&#29366;&#24577;&#19979;&#19981;&#25903;&#25345;range&#25805;&#20316;&#65292;catch&#19968;&#19979;</span>","            <span class=\"k\">try</span> <span class=\"k\">{</span>","                nativeRange<span class=\"k\">.</span>select<span class=\"k\">();</span>","            <span class=\"k\">}</span> <span class=\"k\">catch</span> <span class=\"k\">(</span>e<span class=\"k\">)</span> <span class=\"k\">{</span>","            <span class=\"k\">}</span>","            <span class=\"k\">return</span> <span class=\"k\">this</span><span class=\"k\">;</span>","        <span class=\"k\">}</span> <span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">(</span>notInsertFillData<span class=\"k\">)</span> <span class=\"k\">{</span>","            <span class=\"k\">var</span> win <span class=\"k\">=</span> domUtils<span class=\"k\">.</span>getWindow<span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>document<span class=\"k\">),</span>","                sel <span class=\"k\">=</span> win<span class=\"k\">.</span>getSelection<span class=\"k\">(),</span>","                txtNode<span class=\"k\">;</span>","            <span class=\"c\">//FF&#19979;&#20851;&#38381;&#33258;&#21160;&#38271;&#39640;&#26102;&#28378;&#21160;&#26465;&#22312;&#20851;&#38381;dialog&#26102;&#20250;&#36339;</span>","            <span class=\"c\">//ff&#19979;&#22914;&#26524;&#19981;body.focus&#23558;&#19981;&#33021;&#23450;&#20301;&#38381;&#21512;&#20809;&#26631;&#21040;&#32534;&#36753;&#22120;&#20869;</span>","            browser<span class=\"k\">.</span>gecko <span class=\"k\">?</span> <span class=\"k\">this</span><span class=\"k\">.</span>document<span class=\"k\">.</span>body<span class=\"k\">.</span>focus<span class=\"k\">()</span> <span class=\"k\">:</span> win<span class=\"k\">.</span>focus<span class=\"k\">();</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span>sel<span class=\"k\">)</span> <span class=\"k\">{</span>","                sel<span class=\"k\">.</span>removeAllRanges<span class=\"k\">();</span>","                <span class=\"c\">// trace:870 chrome/safari&#21518;&#36793;&#26159;br&#23545;&#20110;&#38381;&#21512;&#24471;range&#19981;&#33021;&#23450;&#20301; &#25152;&#20197;&#21435;&#25481;&#20102;&#21028;&#26029;</span>","                <span class=\"c\">// this.startContainer.nodeType != 3 &amp;&amp;! ((child = this.startContainer.childNodes[this.startOffset]) &amp;&amp; child.nodeType == 1 &amp;&amp; child.tagName == 'BR'</span>","                <span class=\"k\">if</span> <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>collapsed<span class=\"k\">)</span> <span class=\"k\">{</span>","                    <span class=\"c\">//opear&#22914;&#26524;&#27809;&#26377;&#33410;&#28857;&#25509;&#30528;&#65292;&#21407;&#29983;&#30340;&#19981;&#33021;&#22815;&#23450;&#20301;,&#19981;&#33021;&#22312;body&#30340;&#31532;&#19968;&#32423;&#25554;&#20837;&#31354;&#30333;&#33410;&#28857;</span>","                    <span class=\"k\">if</span> <span class=\"k\">(</span>notInsertFillData <span class=\"k\">&amp;&amp;</span> browser<span class=\"k\">.</span>opera <span class=\"k\">&amp;&amp;</span> <span class=\"k\">!</span>domUtils<span class=\"k\">.</span>isBody<span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>startContainer<span class=\"k\">)</span> <span class=\"k\">&amp;&amp;</span> <span class=\"k\">this</span><span class=\"k\">.</span>startContainer<span class=\"k\">.</span>nodeType <span class=\"k\">==</span> <span class=\"s\">1</span><span class=\"k\">)</span> <span class=\"k\">{</span>","                        <span class=\"k\">var</span> tmp <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>document<span class=\"k\">.</span>createTextNode<span class=\"k\">(</span><span class=\"s\">''</span><span class=\"k\">);</span>","                        <span class=\"k\">this</span><span class=\"k\">.</span>insertNode<span class=\"k\">(</span>tmp<span class=\"k\">).</span>setStart<span class=\"k\">(</span>tmp<span class=\"k\">,</span> <span class=\"s\">0</span><span class=\"k\">).</span>collapse<span class=\"k\">(</span><span class=\"k\">true</span><span class=\"k\">);</span>","                    <span class=\"k\">}</span>","","                    <span class=\"c\">//&#22788;&#29702;&#20809;&#26631;&#33853;&#22312;&#25991;&#26412;&#33410;&#28857;&#30340;&#24773;&#20917;</span>","                    <span class=\"c\">//&#22788;&#29702;&#20197;&#19979;&#30340;&#24773;&#20917;</span>","                    <span class=\"c\">//&lt;b&gt;|xxxx&lt;/b&gt;</span>","                    <span class=\"c\">//&lt;b&gt;xxxx&lt;/b&gt;|xxxx</span>","                    <span class=\"c\">//xxxx&lt;b&gt;|&lt;/b&gt;</span>","","                    <span class=\"k\">if</span> <span class=\"k\">(!</span>notInsertFillData <span class=\"k\">&amp;&amp;</span> <span class=\"k\">(</span>","                        <span class=\"k\">this</span><span class=\"k\">.</span>startContainer<span class=\"k\">.</span>nodeType <span class=\"k\">!=</span> <span class=\"s\">3</span> <span class=\"k\">||</span>","                        <span class=\"k\">this</span><span class=\"k\">.</span>startOffset <span class=\"k\">==</span> <span class=\"s\">0</span> <span class=\"k\">&amp;&amp;</span> <span class=\"k\">(!</span><span class=\"k\">this</span><span class=\"k\">.</span>startContainer<span class=\"k\">.</span>previousSibling <span class=\"k\">||</span> <span class=\"k\">this</span><span class=\"k\">.</span>startContainer<span class=\"k\">.</span>previousSibling<span class=\"k\">.</span>nodeType <span class=\"k\">!=</span><span class=\"s\">3</span><span class=\"k\">)</span>","                        <span class=\"k\">))</span> <span class=\"k\">{</span>","                        txtNode <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>document<span class=\"k\">.</span>createTextNode<span class=\"k\">(</span>fillChar<span class=\"k\">);</span>","                        <span class=\"c\">//&#36319;&#30528;&#21069;&#36793;&#36208;</span>","                        <span class=\"k\">this</span><span class=\"k\">.</span>insertNode<span class=\"k\">(</span>txtNode<span class=\"k\">);</span>","                        removeFillData<span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>document<span class=\"k\">,</span> txtNode<span class=\"k\">);</span>","                        mergeSibling<span class=\"k\">(</span>txtNode<span class=\"k\">,</span> <span class=\"s\">'previousSibling'</span><span class=\"k\">);</span>","                        mergeSibling<span class=\"k\">(</span>txtNode<span class=\"k\">,</span> <span class=\"s\">'nextSibling'</span><span class=\"k\">);</span>","                        fillData <span class=\"k\">=</span> txtNode<span class=\"k\">;</span>","                        <span class=\"k\">this</span><span class=\"k\">.</span>setStart<span class=\"k\">(</span>txtNode<span class=\"k\">,</span> browser<span class=\"k\">.</span>webkit <span class=\"k\">?</span> <span class=\"s\">1</span> <span class=\"k\">:</span> <span class=\"s\">0</span><span class=\"k\">).</span>collapse<span class=\"k\">(</span><span class=\"k\">true</span><span class=\"k\">);</span>","                    <span class=\"k\">}</span>","                <span class=\"k\">}</span>","                <span class=\"k\">var</span> nativeRange <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>document<span class=\"k\">.</span>createRange<span class=\"k\">();</span>","                nativeRange<span class=\"k\">.</span>setStart<span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>startContainer<span class=\"k\">,</span> <span class=\"k\">this</span><span class=\"k\">.</span>startOffset<span class=\"k\">);</span>","                nativeRange<span class=\"k\">.</span>setEnd<span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>endContainer<span class=\"k\">,</span> <span class=\"k\">this</span><span class=\"k\">.</span>endOffset<span class=\"k\">);</span>","                sel<span class=\"k\">.</span>addRange<span class=\"k\">(</span>nativeRange<span class=\"k\">);</span>","            <span class=\"k\">}</span>","            <span class=\"k\">return</span> <span class=\"k\">this</span><span class=\"k\">;</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        <span class=\"c\">/**</span>","<span class=\"c\">         * &#28378;&#21160;&#26465;&#36339;&#21040;&#24403;&#28982;range&#24320;&#22987;&#30340;&#20301;&#32622;</span>","<span class=\"c\">         * @name scrollToView</span>","<span class=\"c\">         * @grammar range.scrollToView([win,offset]) =&gt; Range //&#38024;&#23545;window&#23545;&#35937;&#65292;&#33509;&#19981;&#25351;&#23450;&#65292;&#23558;&#20197;&#32534;&#36753;&#21306;&#22495;&#30340;&#31383;&#21475;&#20026;&#20934;,offset&#20559;&#31227;&#37327;</span>","<span class=\"c\">         */</span>","        scrollToView<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">(</span>win<span class=\"k\">,</span> offset<span class=\"k\">)</span> <span class=\"k\">{</span>","            win <span class=\"k\">=</span> win <span class=\"k\">?</span> window <span class=\"k\">:</span> domUtils<span class=\"k\">.</span>getWindow<span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>document<span class=\"k\">);</span>","            <span class=\"k\">var</span> me <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">,</span>","                span <span class=\"k\">=</span> me<span class=\"k\">.</span>document<span class=\"k\">.</span>createElement<span class=\"k\">(</span><span class=\"s\">'span'</span><span class=\"k\">);</span>","            <span class=\"c\">//trace:717</span>","            span<span class=\"k\">.</span>innerHTML <span class=\"k\">=</span> <span class=\"s\">'&amp;nbsp;'</span><span class=\"k\">;</span>","            me<span class=\"k\">.</span>cloneRange<span class=\"k\">().</span>insertNode<span class=\"k\">(</span>span<span class=\"k\">);</span>","            domUtils<span class=\"k\">.</span>scrollToView<span class=\"k\">(</span>span<span class=\"k\">,</span> win<span class=\"k\">,</span> offset<span class=\"k\">);</span>","            domUtils<span class=\"k\">.</span>remove<span class=\"k\">(</span>span<span class=\"k\">);</span>","            <span class=\"k\">return</span> me<span class=\"k\">;</span>","        <span class=\"k\">}</span>","    <span class=\"k\">}</span><span class=\"k\">;</span>","<span class=\"k\">}</span><span class=\"k\">)();</span>"]);
_$jscoverage['core/dom/Selection.js'] && (_$jscoverage['core/dom/Selection.js'].source = ["<span class=\"c\">///import editor.js</span>","<span class=\"c\">///import core/browser.js</span>","<span class=\"c\">///import core/dom/dom.js</span>","<span class=\"c\">///import core/dom/dtd.js</span>","<span class=\"c\">///import core/dom/domUtils.js</span>","<span class=\"c\">///import core/dom/Range.js</span>","<span class=\"c\">/**</span>","<span class=\"c\"> * @class baidu.editor.dom.Selection    Selection&#31867;</span>","<span class=\"c\"> */</span>","<span class=\"k\">(</span><span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","","    <span class=\"k\">function</span> getBoundaryInformation<span class=\"k\">(</span> range<span class=\"k\">,</span> start <span class=\"k\">)</span> <span class=\"k\">{</span>","        <span class=\"k\">var</span> getIndex <span class=\"k\">=</span> domUtils<span class=\"k\">.</span>getNodeIndex<span class=\"k\">;</span>","        range <span class=\"k\">=</span> range<span class=\"k\">.</span>duplicate<span class=\"k\">();</span>","        range<span class=\"k\">.</span>collapse<span class=\"k\">(</span> start <span class=\"k\">);</span>","        <span class=\"k\">var</span> parent <span class=\"k\">=</span> range<span class=\"k\">.</span>parentElement<span class=\"k\">();</span>","        <span class=\"c\">//&#22914;&#26524;&#33410;&#28857;&#37324;&#27809;&#26377;&#23376;&#33410;&#28857;&#65292;&#30452;&#25509;&#36864;&#20986;</span>","        <span class=\"k\">if</span> <span class=\"k\">(</span> <span class=\"k\">!</span>parent<span class=\"k\">.</span>hasChildNodes<span class=\"k\">()</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","            <span class=\"k\">return</span>  <span class=\"k\">{</span>container<span class=\"k\">:</span>parent<span class=\"k\">,</span> offset<span class=\"k\">:</span><span class=\"s\">0</span><span class=\"k\">}</span><span class=\"k\">;</span>","        <span class=\"k\">}</span>","        <span class=\"k\">var</span> siblings <span class=\"k\">=</span> parent<span class=\"k\">.</span>children<span class=\"k\">,</span>","                child<span class=\"k\">,</span>","                testRange <span class=\"k\">=</span> range<span class=\"k\">.</span>duplicate<span class=\"k\">(),</span>","                startIndex <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">,</span> endIndex <span class=\"k\">=</span> siblings<span class=\"k\">.</span>length <span class=\"k\">-</span> <span class=\"s\">1</span><span class=\"k\">,</span> index <span class=\"k\">=</span> <span class=\"k\">-</span><span class=\"s\">1</span><span class=\"k\">,</span>","                distance<span class=\"k\">;</span>","        <span class=\"k\">while</span> <span class=\"k\">(</span> startIndex <span class=\"k\">&lt;=</span> endIndex <span class=\"k\">)</span> <span class=\"k\">{</span>","            index <span class=\"k\">=</span> Math<span class=\"k\">.</span>floor<span class=\"k\">(</span> <span class=\"k\">(</span>startIndex <span class=\"k\">+</span> endIndex<span class=\"k\">)</span> <span class=\"k\">/</span> <span class=\"s\">2</span> <span class=\"k\">);</span>","            child <span class=\"k\">=</span> siblings<span class=\"k\">[</span>index<span class=\"k\">];</span>","            testRange<span class=\"k\">.</span>moveToElementText<span class=\"k\">(</span> child <span class=\"k\">);</span>","            <span class=\"k\">var</span> position <span class=\"k\">=</span> testRange<span class=\"k\">.</span>compareEndPoints<span class=\"k\">(</span> <span class=\"s\">'StartToStart'</span><span class=\"k\">,</span> range <span class=\"k\">);</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span> position <span class=\"k\">&gt;</span> <span class=\"s\">0</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                endIndex <span class=\"k\">=</span> index <span class=\"k\">-</span> <span class=\"s\">1</span><span class=\"k\">;</span>","            <span class=\"k\">}</span> <span class=\"k\">else</span> <span class=\"k\">if</span> <span class=\"k\">(</span> position <span class=\"k\">&lt;</span> <span class=\"s\">0</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                startIndex <span class=\"k\">=</span> index <span class=\"k\">+</span> <span class=\"s\">1</span><span class=\"k\">;</span>","            <span class=\"k\">}</span> <span class=\"k\">else</span> <span class=\"k\">{</span>","                <span class=\"c\">//trace:1043</span>","                <span class=\"k\">return</span>  <span class=\"k\">{</span>container<span class=\"k\">:</span>parent<span class=\"k\">,</span> offset<span class=\"k\">:</span>getIndex<span class=\"k\">(</span> child <span class=\"k\">)</span><span class=\"k\">}</span><span class=\"k\">;</span>","            <span class=\"k\">}</span>","        <span class=\"k\">}</span>","        <span class=\"k\">if</span> <span class=\"k\">(</span> index <span class=\"k\">==</span> <span class=\"k\">-</span><span class=\"s\">1</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","            testRange<span class=\"k\">.</span>moveToElementText<span class=\"k\">(</span> parent <span class=\"k\">);</span>","            testRange<span class=\"k\">.</span>setEndPoint<span class=\"k\">(</span> <span class=\"s\">'StartToStart'</span><span class=\"k\">,</span> range <span class=\"k\">);</span>","            distance <span class=\"k\">=</span> testRange<span class=\"k\">.</span>text<span class=\"k\">.</span>replace<span class=\"k\">(</span> <span class=\"s\">/(\\r\\n|\\r)/g</span><span class=\"k\">,</span> <span class=\"s\">'</span><span class=\"t\">\\n</span><span class=\"s\">'</span> <span class=\"k\">).</span>length<span class=\"k\">;</span>","            siblings <span class=\"k\">=</span> parent<span class=\"k\">.</span>childNodes<span class=\"k\">;</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span> <span class=\"k\">!</span>distance <span class=\"k\">)</span> <span class=\"k\">{</span>","                child <span class=\"k\">=</span> siblings<span class=\"k\">[</span>siblings<span class=\"k\">.</span>length <span class=\"k\">-</span> <span class=\"s\">1</span><span class=\"k\">];</span>","                <span class=\"k\">return</span>  <span class=\"k\">{</span>container<span class=\"k\">:</span>child<span class=\"k\">,</span> offset<span class=\"k\">:</span>child<span class=\"k\">.</span>nodeValue<span class=\"k\">.</span>length<span class=\"k\">}</span><span class=\"k\">;</span>","            <span class=\"k\">}</span>","","            <span class=\"k\">var</span> i <span class=\"k\">=</span> siblings<span class=\"k\">.</span>length<span class=\"k\">;</span>","            <span class=\"k\">while</span> <span class=\"k\">(</span> distance <span class=\"k\">&gt;</span> <span class=\"s\">0</span> <span class=\"k\">)</span><span class=\"k\">{</span>","                distance <span class=\"k\">-=</span> siblings<span class=\"k\">[</span> <span class=\"k\">--</span>i <span class=\"k\">].</span>nodeValue<span class=\"k\">.</span>length<span class=\"k\">;</span>","            <span class=\"k\">}</span>","            <span class=\"k\">return</span> <span class=\"k\">{</span>container<span class=\"k\">:</span>siblings<span class=\"k\">[</span>i<span class=\"k\">],</span> offset<span class=\"k\">:-</span>distance<span class=\"k\">}</span><span class=\"k\">;</span>","        <span class=\"k\">}</span>","        testRange<span class=\"k\">.</span>collapse<span class=\"k\">(</span> position <span class=\"k\">&gt;</span> <span class=\"s\">0</span> <span class=\"k\">);</span>","        testRange<span class=\"k\">.</span>setEndPoint<span class=\"k\">(</span> position <span class=\"k\">&gt;</span> <span class=\"s\">0</span> <span class=\"k\">?</span> <span class=\"s\">'StartToStart'</span> <span class=\"k\">:</span> <span class=\"s\">'EndToStart'</span><span class=\"k\">,</span> range <span class=\"k\">);</span>","        distance <span class=\"k\">=</span> testRange<span class=\"k\">.</span>text<span class=\"k\">.</span>replace<span class=\"k\">(</span> <span class=\"s\">/(\\r\\n|\\r)/g</span><span class=\"k\">,</span> <span class=\"s\">'</span><span class=\"t\">\\n</span><span class=\"s\">'</span> <span class=\"k\">).</span>length<span class=\"k\">;</span>","        <span class=\"k\">if</span> <span class=\"k\">(</span> <span class=\"k\">!</span>distance <span class=\"k\">)</span> <span class=\"k\">{</span>","            <span class=\"k\">return</span>  dtd<span class=\"k\">.</span>$empty<span class=\"k\">[</span>child<span class=\"k\">.</span>tagName<span class=\"k\">]</span> <span class=\"k\">||</span> dtd<span class=\"k\">.</span>$nonChild<span class=\"k\">[</span>child<span class=\"k\">.</span>tagName<span class=\"k\">]</span> <span class=\"k\">?</span>","                <span class=\"k\">{</span>container<span class=\"k\">:</span>parent<span class=\"k\">,</span> offset<span class=\"k\">:</span>getIndex<span class=\"k\">(</span> child <span class=\"k\">)</span> <span class=\"k\">+</span> <span class=\"k\">(</span>position <span class=\"k\">&gt;</span> <span class=\"s\">0</span> <span class=\"k\">?</span> <span class=\"s\">0</span> <span class=\"k\">:</span> <span class=\"s\">1</span><span class=\"k\">)</span><span class=\"k\">}</span> <span class=\"k\">:</span>","                <span class=\"k\">{</span>container<span class=\"k\">:</span>child<span class=\"k\">,</span> offset<span class=\"k\">:</span>position <span class=\"k\">&gt;</span> <span class=\"s\">0</span> <span class=\"k\">?</span> <span class=\"s\">0</span> <span class=\"k\">:</span> child<span class=\"k\">.</span>childNodes<span class=\"k\">.</span>length<span class=\"k\">}</span>","        <span class=\"k\">}</span>","        <span class=\"k\">while</span> <span class=\"k\">(</span> distance <span class=\"k\">&gt;</span> <span class=\"s\">0</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","            <span class=\"k\">try</span> <span class=\"k\">{</span>","                <span class=\"k\">var</span> pre <span class=\"k\">=</span> child<span class=\"k\">;</span>","                child <span class=\"k\">=</span> child<span class=\"k\">[</span>position <span class=\"k\">&gt;</span> <span class=\"s\">0</span> <span class=\"k\">?</span> <span class=\"s\">'previousSibling'</span> <span class=\"k\">:</span> <span class=\"s\">'nextSibling'</span><span class=\"k\">];</span>","                distance <span class=\"k\">-=</span> child<span class=\"k\">.</span>nodeValue<span class=\"k\">.</span>length<span class=\"k\">;</span>","            <span class=\"k\">}</span> <span class=\"k\">catch</span> <span class=\"k\">(</span> e <span class=\"k\">)</span> <span class=\"k\">{</span>","                <span class=\"k\">return</span> <span class=\"k\">{</span>container<span class=\"k\">:</span>parent<span class=\"k\">,</span> offset<span class=\"k\">:</span>getIndex<span class=\"k\">(</span> pre <span class=\"k\">)</span><span class=\"k\">}</span><span class=\"k\">;</span>","            <span class=\"k\">}</span>","        <span class=\"k\">}</span>","        <span class=\"k\">return</span>  <span class=\"k\">{</span>container<span class=\"k\">:</span>child<span class=\"k\">,</span> offset<span class=\"k\">:</span>position <span class=\"k\">&gt;</span> <span class=\"s\">0</span> <span class=\"k\">?</span> <span class=\"k\">-</span>distance <span class=\"k\">:</span> child<span class=\"k\">.</span>nodeValue<span class=\"k\">.</span>length <span class=\"k\">+</span> distance<span class=\"k\">}</span>","    <span class=\"k\">}</span>","","    <span class=\"c\">/**</span>","<span class=\"c\">     * &#23558;ieRange&#36716;&#25442;&#20026;Range&#23545;&#35937;</span>","<span class=\"c\">     * @param {Range}   ieRange    ieRange&#23545;&#35937;</span>","<span class=\"c\">     * @param {Range}   range      Range&#23545;&#35937;</span>","<span class=\"c\">     * @return  {Range}  range       &#36820;&#22238;&#36716;&#25442;&#21518;&#30340;Range&#23545;&#35937;</span>","<span class=\"c\">     */</span>","    <span class=\"k\">function</span> transformIERangeToRange<span class=\"k\">(</span> ieRange<span class=\"k\">,</span> range <span class=\"k\">)</span> <span class=\"k\">{</span>","        <span class=\"k\">if</span> <span class=\"k\">(</span> ieRange<span class=\"k\">.</span>item <span class=\"k\">)</span> <span class=\"k\">{</span>","            range<span class=\"k\">.</span>selectNode<span class=\"k\">(</span> ieRange<span class=\"k\">.</span>item<span class=\"k\">(</span> <span class=\"s\">0</span> <span class=\"k\">)</span> <span class=\"k\">);</span>","        <span class=\"k\">}</span> <span class=\"k\">else</span> <span class=\"k\">{</span>","            <span class=\"k\">var</span> bi <span class=\"k\">=</span> getBoundaryInformation<span class=\"k\">(</span> ieRange<span class=\"k\">,</span> <span class=\"k\">true</span> <span class=\"k\">);</span>","            range<span class=\"k\">.</span>setStart<span class=\"k\">(</span> bi<span class=\"k\">.</span>container<span class=\"k\">,</span> bi<span class=\"k\">.</span>offset <span class=\"k\">);</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span> ieRange<span class=\"k\">.</span>compareEndPoints<span class=\"k\">(</span> <span class=\"s\">'StartToEnd'</span><span class=\"k\">,</span> ieRange <span class=\"k\">)</span> <span class=\"k\">!=</span> <span class=\"s\">0</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                bi <span class=\"k\">=</span> getBoundaryInformation<span class=\"k\">(</span> ieRange<span class=\"k\">,</span> <span class=\"k\">false</span> <span class=\"k\">);</span>","                range<span class=\"k\">.</span>setEnd<span class=\"k\">(</span> bi<span class=\"k\">.</span>container<span class=\"k\">,</span> bi<span class=\"k\">.</span>offset <span class=\"k\">);</span>","            <span class=\"k\">}</span>","        <span class=\"k\">}</span>","        <span class=\"k\">return</span> range<span class=\"k\">;</span>","    <span class=\"k\">}</span>","","    <span class=\"c\">/**</span>","<span class=\"c\">     * &#33719;&#24471;ieRange</span>","<span class=\"c\">     * @param {Selection} sel    Selection&#23545;&#35937;</span>","<span class=\"c\">     * @return {ieRange}    &#24471;&#21040;ieRange</span>","<span class=\"c\">     */</span>","    <span class=\"k\">function</span> _getIERange<span class=\"k\">(</span> sel <span class=\"k\">)</span> <span class=\"k\">{</span>","        <span class=\"k\">var</span> ieRange<span class=\"k\">;</span>","        <span class=\"c\">//ie&#19979;&#26377;&#21487;&#33021;&#25253;&#38169;</span>","        <span class=\"k\">try</span> <span class=\"k\">{</span>","            ieRange <span class=\"k\">=</span> sel<span class=\"k\">.</span>getNative<span class=\"k\">().</span>createRange<span class=\"k\">();</span>","        <span class=\"k\">}</span> <span class=\"k\">catch</span> <span class=\"k\">(</span> e <span class=\"k\">)</span> <span class=\"k\">{</span>","            <span class=\"k\">return</span> <span class=\"k\">null</span><span class=\"k\">;</span>","        <span class=\"k\">}</span>","        <span class=\"k\">var</span> el <span class=\"k\">=</span> ieRange<span class=\"k\">.</span>item <span class=\"k\">?</span> ieRange<span class=\"k\">.</span>item<span class=\"k\">(</span> <span class=\"s\">0</span> <span class=\"k\">)</span> <span class=\"k\">:</span> ieRange<span class=\"k\">.</span>parentElement<span class=\"k\">();</span>","        <span class=\"k\">if</span> <span class=\"k\">(</span> <span class=\"k\">(</span> el<span class=\"k\">.</span>ownerDocument <span class=\"k\">||</span> el <span class=\"k\">)</span> <span class=\"k\">===</span> sel<span class=\"k\">.</span>document <span class=\"k\">)</span> <span class=\"k\">{</span>","            <span class=\"k\">return</span> ieRange<span class=\"k\">;</span>","        <span class=\"k\">}</span>","        <span class=\"k\">return</span> <span class=\"k\">null</span><span class=\"k\">;</span>","    <span class=\"k\">}</span>","","    <span class=\"k\">var</span> Selection <span class=\"k\">=</span> dom<span class=\"k\">.</span>Selection <span class=\"k\">=</span> <span class=\"k\">function</span> <span class=\"k\">(</span> doc <span class=\"k\">)</span> <span class=\"k\">{</span>","        <span class=\"k\">var</span> me <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">,</span> iframe<span class=\"k\">;</span>","        me<span class=\"k\">.</span>document <span class=\"k\">=</span> doc<span class=\"k\">;</span>","        <span class=\"k\">if</span> <span class=\"k\">(</span> ie <span class=\"k\">)</span> <span class=\"k\">{</span>","            <span class=\"k\">debugger</span><span class=\"k\">;</span>","            iframe <span class=\"k\">=</span> domUtils<span class=\"k\">.</span>getWindow<span class=\"k\">(</span> doc <span class=\"k\">).</span>frameElement<span class=\"k\">;</span>","            domUtils<span class=\"k\">.</span>on<span class=\"k\">(</span> iframe<span class=\"k\">,</span> <span class=\"s\">'beforedeactivate'</span><span class=\"k\">,</span> <span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","                me<span class=\"k\">.</span>_bakIERange <span class=\"k\">=</span> me<span class=\"k\">.</span>getIERange<span class=\"k\">();</span>","            <span class=\"k\">}</span> <span class=\"k\">);</span>","            domUtils<span class=\"k\">.</span>on<span class=\"k\">(</span> iframe<span class=\"k\">,</span> <span class=\"s\">'activate'</span><span class=\"k\">,</span> <span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","                <span class=\"k\">try</span> <span class=\"k\">{</span>","                    <span class=\"k\">if</span> <span class=\"k\">(</span> <span class=\"k\">!</span>_getIERange<span class=\"k\">(</span> me <span class=\"k\">)</span> <span class=\"k\">&amp;&amp;</span> me<span class=\"k\">.</span>_bakIERange <span class=\"k\">)</span> <span class=\"k\">{</span>","                        me<span class=\"k\">.</span>_bakIERange<span class=\"k\">.</span>select<span class=\"k\">();</span>","                    <span class=\"k\">}</span>","                <span class=\"k\">}</span> <span class=\"k\">catch</span> <span class=\"k\">(</span> ex <span class=\"k\">)</span> <span class=\"k\">{</span>","                <span class=\"k\">}</span>","                me<span class=\"k\">.</span>_bakIERange <span class=\"k\">=</span> <span class=\"k\">null</span><span class=\"k\">;</span>","            <span class=\"k\">}</span> <span class=\"k\">);</span>","        <span class=\"k\">}</span>","        iframe <span class=\"k\">=</span> doc <span class=\"k\">=</span> <span class=\"k\">null</span><span class=\"k\">;</span>","    <span class=\"k\">}</span><span class=\"k\">;</span>","","    Selection<span class=\"k\">.</span>prototype <span class=\"k\">=</span> <span class=\"k\">{</span>","        <span class=\"c\">/**</span>","<span class=\"c\">         * &#33719;&#21462;&#21407;&#29983;seleciton&#23545;&#35937;</span>","<span class=\"c\">         * @public</span>","<span class=\"c\">         * @function</span>","<span class=\"c\">         * @name    baidu.editor.dom.Selection.getNative</span>","<span class=\"c\">         * @return {Selection}    &#33719;&#24471;selection&#23545;&#35937;</span>","<span class=\"c\">         */</span>","        getNative<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","            <span class=\"k\">var</span> doc <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>document<span class=\"k\">;</span>","            <span class=\"k\">try</span> <span class=\"k\">{</span>","                <span class=\"k\">return</span> <span class=\"k\">!</span>doc <span class=\"k\">?</span> <span class=\"k\">null</span> <span class=\"k\">:</span> ie <span class=\"k\">?</span> doc<span class=\"k\">.</span>selection <span class=\"k\">:</span> domUtils<span class=\"k\">.</span>getWindow<span class=\"k\">(</span> doc <span class=\"k\">).</span>getSelection<span class=\"k\">();</span>","            <span class=\"k\">}</span> <span class=\"k\">catch</span> <span class=\"k\">(</span> e <span class=\"k\">)</span> <span class=\"k\">{</span>","                <span class=\"k\">return</span> <span class=\"k\">null</span><span class=\"k\">;</span>","            <span class=\"k\">}</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        <span class=\"c\">/**</span>","<span class=\"c\">         * &#33719;&#24471;ieRange</span>","<span class=\"c\">         * @public</span>","<span class=\"c\">         * @function</span>","<span class=\"c\">         * @name    baidu.editor.dom.Selection.getIERange</span>","<span class=\"c\">         * @return {ieRange}    &#36820;&#22238;ie&#21407;&#29983;&#30340;Range</span>","<span class=\"c\">         */</span>","        getIERange<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","            <span class=\"k\">var</span> ieRange <span class=\"k\">=</span> _getIERange<span class=\"k\">(</span> <span class=\"k\">this</span> <span class=\"k\">);</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span> <span class=\"k\">!</span>ieRange <span class=\"k\">)</span> <span class=\"k\">{</span>","                <span class=\"k\">if</span> <span class=\"k\">(</span> <span class=\"k\">this</span><span class=\"k\">.</span>_bakIERange <span class=\"k\">)</span> <span class=\"k\">{</span>","                    <span class=\"k\">return</span> <span class=\"k\">this</span><span class=\"k\">.</span>_bakIERange<span class=\"k\">;</span>","                <span class=\"k\">}</span>","            <span class=\"k\">}</span>","            <span class=\"k\">return</span> ieRange<span class=\"k\">;</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","","        <span class=\"c\">/**</span>","<span class=\"c\">         * &#32531;&#23384;&#24403;&#21069;&#36873;&#21306;&#30340;range&#21644;&#36873;&#21306;&#30340;&#24320;&#22987;&#33410;&#28857;</span>","<span class=\"c\">         * @public</span>","<span class=\"c\">         * @function</span>","<span class=\"c\">         * @name    baidu.editor.dom.Selection.cache</span>","<span class=\"c\">         */</span>","        cache<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","            <span class=\"k\">this</span><span class=\"k\">.</span>clear<span class=\"k\">();</span>","            <span class=\"k\">this</span><span class=\"k\">.</span>_cachedRange <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>getRange<span class=\"k\">();</span>","            <span class=\"k\">this</span><span class=\"k\">.</span>_cachedStartElement <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>getStart<span class=\"k\">();</span>","            <span class=\"k\">this</span><span class=\"k\">.</span>_cachedStartElementPath <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>getStartElementPath<span class=\"k\">();</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","","        getStartElementPath<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span> <span class=\"k\">this</span><span class=\"k\">.</span>_cachedStartElementPath <span class=\"k\">)</span> <span class=\"k\">{</span>","                <span class=\"k\">return</span> <span class=\"k\">this</span><span class=\"k\">.</span>_cachedStartElementPath<span class=\"k\">;</span>","            <span class=\"k\">}</span>","            <span class=\"k\">var</span> start <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>getStart<span class=\"k\">();</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span> start <span class=\"k\">)</span> <span class=\"k\">{</span>","                <span class=\"k\">return</span> domUtils<span class=\"k\">.</span>findParents<span class=\"k\">(</span> start<span class=\"k\">,</span> <span class=\"k\">true</span><span class=\"k\">,</span> <span class=\"k\">null</span><span class=\"k\">,</span> <span class=\"k\">true</span> <span class=\"k\">)</span>","            <span class=\"k\">}</span>","            <span class=\"k\">return</span> <span class=\"k\">[];</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        <span class=\"c\">/**</span>","<span class=\"c\">         * &#28165;&#31354;&#32531;&#23384;</span>","<span class=\"c\">         * @public</span>","<span class=\"c\">         * @function</span>","<span class=\"c\">         * @name    baidu.editor.dom.Selection.clear</span>","<span class=\"c\">         */</span>","        clear<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","            <span class=\"k\">this</span><span class=\"k\">.</span>_cachedStartElementPath <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>_cachedRange <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>_cachedStartElement <span class=\"k\">=</span> <span class=\"k\">null</span><span class=\"k\">;</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        <span class=\"c\">/**</span>","<span class=\"c\">         * &#32534;&#36753;&#22120;&#26159;&#21542;&#24471;&#21040;&#20102;&#36873;&#21306;</span>","<span class=\"c\">         */</span>","        isFocus<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","            <span class=\"k\">try</span> <span class=\"k\">{</span>","                <span class=\"k\">return</span> browser<span class=\"k\">.</span>ie <span class=\"k\">&amp;&amp;</span> _getIERange<span class=\"k\">(</span> <span class=\"k\">this</span> <span class=\"k\">)</span> <span class=\"k\">||</span> <span class=\"k\">!</span>browser<span class=\"k\">.</span>ie <span class=\"k\">&amp;&amp;</span> <span class=\"k\">this</span><span class=\"k\">.</span>getNative<span class=\"k\">().</span>rangeCount <span class=\"k\">?</span> <span class=\"k\">true</span> <span class=\"k\">:</span> <span class=\"k\">false</span><span class=\"k\">;</span>","            <span class=\"k\">}</span> <span class=\"k\">catch</span> <span class=\"k\">(</span> e <span class=\"k\">)</span> <span class=\"k\">{</span>","                <span class=\"k\">return</span> <span class=\"k\">false</span><span class=\"k\">;</span>","            <span class=\"k\">}</span>","","        <span class=\"k\">}</span><span class=\"k\">,</span>","        <span class=\"c\">/**</span>","<span class=\"c\">         * &#33719;&#21462;&#36873;&#21306;&#23545;&#24212;&#30340;Range</span>","<span class=\"c\">         * @public</span>","<span class=\"c\">         * @function</span>","<span class=\"c\">         * @name    baidu.editor.dom.Selection.getRange</span>","<span class=\"c\">         * @returns {baidu.editor.dom.Range}    &#24471;&#21040;Range&#23545;&#35937;</span>","<span class=\"c\">         */</span>","        getRange<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","            <span class=\"k\">var</span> me <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">;</span>","            <span class=\"k\">function</span> optimze<span class=\"k\">(</span> range <span class=\"k\">)</span> <span class=\"k\">{</span>","                <span class=\"k\">var</span> child <span class=\"k\">=</span> me<span class=\"k\">.</span>document<span class=\"k\">.</span>body<span class=\"k\">.</span>firstChild<span class=\"k\">,</span>","                        collapsed <span class=\"k\">=</span> range<span class=\"k\">.</span>collapsed<span class=\"k\">;</span>","                <span class=\"k\">while</span> <span class=\"k\">(</span> child <span class=\"k\">&amp;&amp;</span> child<span class=\"k\">.</span>firstChild <span class=\"k\">)</span> <span class=\"k\">{</span>","                    range<span class=\"k\">.</span>setStart<span class=\"k\">(</span> child<span class=\"k\">,</span> <span class=\"s\">0</span> <span class=\"k\">);</span>","                    child <span class=\"k\">=</span> child<span class=\"k\">.</span>firstChild<span class=\"k\">;</span>","                <span class=\"k\">}</span>","                <span class=\"k\">if</span> <span class=\"k\">(</span> <span class=\"k\">!</span>range<span class=\"k\">.</span>startContainer <span class=\"k\">)</span> <span class=\"k\">{</span>","                    range<span class=\"k\">.</span>setStart<span class=\"k\">(</span> me<span class=\"k\">.</span>document<span class=\"k\">.</span>body<span class=\"k\">,</span> <span class=\"s\">0</span> <span class=\"k\">)</span>","                <span class=\"k\">}</span>","                <span class=\"k\">if</span> <span class=\"k\">(</span> collapsed <span class=\"k\">)</span> <span class=\"k\">{</span>","                    range<span class=\"k\">.</span>collapse<span class=\"k\">(</span> <span class=\"k\">true</span> <span class=\"k\">);</span>","                <span class=\"k\">}</span>","            <span class=\"k\">}</span>","","            <span class=\"k\">if</span> <span class=\"k\">(</span> me<span class=\"k\">.</span>_cachedRange <span class=\"k\">!=</span> <span class=\"k\">null</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                <span class=\"k\">return</span> <span class=\"k\">this</span><span class=\"k\">.</span>_cachedRange<span class=\"k\">;</span>","            <span class=\"k\">}</span>","            <span class=\"k\">var</span> range <span class=\"k\">=</span> <span class=\"k\">new</span> baidu<span class=\"k\">.</span>editor<span class=\"k\">.</span>dom<span class=\"k\">.</span>Range<span class=\"k\">(</span> me<span class=\"k\">.</span>document <span class=\"k\">);</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span> ie <span class=\"k\">)</span> <span class=\"k\">{</span>","                <span class=\"k\">var</span> nativeRange <span class=\"k\">=</span> me<span class=\"k\">.</span>getIERange<span class=\"k\">();</span>","                <span class=\"k\">if</span> <span class=\"k\">(</span> nativeRange <span class=\"k\">)</span> <span class=\"k\">{</span>","                    transformIERangeToRange<span class=\"k\">(</span> nativeRange<span class=\"k\">,</span> range <span class=\"k\">);</span>","                <span class=\"k\">}</span> <span class=\"k\">else</span> <span class=\"k\">{</span>","                    optimze<span class=\"k\">(</span> range <span class=\"k\">);</span>","                <span class=\"k\">}</span>","            <span class=\"k\">}</span> <span class=\"k\">else</span> <span class=\"k\">{</span>","                <span class=\"k\">var</span> sel <span class=\"k\">=</span> me<span class=\"k\">.</span>getNative<span class=\"k\">();</span>","                <span class=\"k\">if</span> <span class=\"k\">(</span> sel <span class=\"k\">&amp;&amp;</span> sel<span class=\"k\">.</span>rangeCount <span class=\"k\">)</span> <span class=\"k\">{</span>","                    <span class=\"k\">var</span> firstRange <span class=\"k\">=</span> sel<span class=\"k\">.</span>getRangeAt<span class=\"k\">(</span> <span class=\"s\">0</span> <span class=\"k\">);</span>","                    <span class=\"k\">var</span> lastRange <span class=\"k\">=</span> sel<span class=\"k\">.</span>getRangeAt<span class=\"k\">(</span> sel<span class=\"k\">.</span>rangeCount <span class=\"k\">-</span> <span class=\"s\">1</span> <span class=\"k\">);</span>","                    range<span class=\"k\">.</span>setStart<span class=\"k\">(</span> firstRange<span class=\"k\">.</span>startContainer<span class=\"k\">,</span> firstRange<span class=\"k\">.</span>startOffset <span class=\"k\">).</span>setEnd<span class=\"k\">(</span> lastRange<span class=\"k\">.</span>endContainer<span class=\"k\">,</span> lastRange<span class=\"k\">.</span>endOffset <span class=\"k\">);</span>","                    <span class=\"k\">if</span> <span class=\"k\">(</span> range<span class=\"k\">.</span>collapsed <span class=\"k\">&amp;&amp;</span> domUtils<span class=\"k\">.</span>isBody<span class=\"k\">(</span> range<span class=\"k\">.</span>startContainer <span class=\"k\">)</span> <span class=\"k\">&amp;&amp;</span> <span class=\"k\">!</span>range<span class=\"k\">.</span>startOffset <span class=\"k\">)</span> <span class=\"k\">{</span>","                        optimze<span class=\"k\">(</span> range <span class=\"k\">);</span>","                    <span class=\"k\">}</span>","                <span class=\"k\">}</span> <span class=\"k\">else</span> <span class=\"k\">{</span>","                    <span class=\"c\">//trace:1734 &#26377;&#21487;&#33021;&#24050;&#32463;&#19981;&#22312;dom&#26641;&#19978;&#20102;&#65292;&#26631;&#35782;&#30340;&#33410;&#28857;</span>","                    <span class=\"k\">if</span> <span class=\"k\">(</span> <span class=\"k\">this</span><span class=\"k\">.</span>_bakRange <span class=\"k\">&amp;&amp;</span> domUtils<span class=\"k\">.</span>inDoc<span class=\"k\">(</span> <span class=\"k\">this</span><span class=\"k\">.</span>_bakRange<span class=\"k\">.</span>startContainer<span class=\"k\">,</span> <span class=\"k\">this</span><span class=\"k\">.</span>document <span class=\"k\">)</span> <span class=\"k\">)</span><span class=\"k\">{</span>","                        <span class=\"k\">return</span> <span class=\"k\">this</span><span class=\"k\">.</span>_bakRange<span class=\"k\">;</span>","                    <span class=\"k\">}</span>","                    optimze<span class=\"k\">(</span> range <span class=\"k\">);</span>","                <span class=\"k\">}</span>","            <span class=\"k\">}</span>","            <span class=\"k\">return</span> <span class=\"k\">this</span><span class=\"k\">.</span>_bakRange <span class=\"k\">=</span> range<span class=\"k\">;</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","","        <span class=\"c\">/**</span>","<span class=\"c\">         * &#33719;&#21462;&#24320;&#22987;&#20803;&#32032;&#65292;&#29992;&#20110;&#29366;&#24577;&#21453;&#23556;</span>","<span class=\"c\">         * @public</span>","<span class=\"c\">         * @function</span>","<span class=\"c\">         * @name    baidu.editor.dom.Selection.getStart</span>","<span class=\"c\">         * @return {Element}     &#33719;&#24471;&#24320;&#22987;&#20803;&#32032;</span>","<span class=\"c\">         */</span>","        getStart<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span> <span class=\"k\">this</span><span class=\"k\">.</span>_cachedStartElement <span class=\"k\">)</span> <span class=\"k\">{</span>","                <span class=\"k\">return</span> <span class=\"k\">this</span><span class=\"k\">.</span>_cachedStartElement<span class=\"k\">;</span>","            <span class=\"k\">}</span>","            <span class=\"k\">var</span> range <span class=\"k\">=</span> ie <span class=\"k\">?</span> <span class=\"k\">this</span><span class=\"k\">.</span>getIERange<span class=\"k\">()</span> <span class=\"k\">:</span> <span class=\"k\">this</span><span class=\"k\">.</span>getRange<span class=\"k\">(),</span>","                    tmpRange<span class=\"k\">,</span>","                    start<span class=\"k\">,</span> tmp<span class=\"k\">,</span> parent<span class=\"k\">;</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span> ie <span class=\"k\">)</span> <span class=\"k\">{</span>","                <span class=\"k\">if</span> <span class=\"k\">(</span> <span class=\"k\">!</span>range <span class=\"k\">)</span> <span class=\"k\">{</span>","                    <span class=\"c\">//todo &#32473;&#31532;&#19968;&#20010;&#20540;&#21487;&#33021;&#20250;&#26377;&#38382;&#39064;</span>","                    <span class=\"k\">return</span> <span class=\"k\">this</span><span class=\"k\">.</span>document<span class=\"k\">.</span>body<span class=\"k\">.</span>firstChild<span class=\"k\">;</span>","                <span class=\"k\">}</span>","                <span class=\"c\">//control&#20803;&#32032;</span>","                <span class=\"k\">if</span> <span class=\"k\">(</span> range<span class=\"k\">.</span>item <span class=\"k\">)</span><span class=\"k\">{</span>","                    <span class=\"k\">return</span> range<span class=\"k\">.</span>item<span class=\"k\">(</span> <span class=\"s\">0</span> <span class=\"k\">);</span>","                <span class=\"k\">}</span>","                tmpRange <span class=\"k\">=</span> range<span class=\"k\">.</span>duplicate<span class=\"k\">();</span>","                <span class=\"c\">//&#20462;&#27491;ie&#19979;&lt;b&gt;x&lt;/b&gt;[xx] &#38381;&#21512;&#21518; &lt;b&gt;x|&lt;/b&gt;xx</span>","                tmpRange<span class=\"k\">.</span>text<span class=\"k\">.</span>length <span class=\"k\">&gt;</span> <span class=\"s\">0</span> <span class=\"k\">&amp;&amp;</span> tmpRange<span class=\"k\">.</span>moveStart<span class=\"k\">(</span> <span class=\"s\">'character'</span><span class=\"k\">,</span> <span class=\"s\">1</span> <span class=\"k\">);</span>","                tmpRange<span class=\"k\">.</span>collapse<span class=\"k\">(</span> <span class=\"s\">1</span> <span class=\"k\">);</span>","                start <span class=\"k\">=</span> tmpRange<span class=\"k\">.</span>parentElement<span class=\"k\">();</span>","                parent <span class=\"k\">=</span> tmp <span class=\"k\">=</span> range<span class=\"k\">.</span>parentElement<span class=\"k\">();</span>","                <span class=\"k\">while</span> <span class=\"k\">(</span> tmp <span class=\"k\">=</span> tmp<span class=\"k\">.</span>parentNode <span class=\"k\">)</span> <span class=\"k\">{</span>","                    <span class=\"k\">if</span> <span class=\"k\">(</span> tmp <span class=\"k\">==</span> start <span class=\"k\">)</span> <span class=\"k\">{</span>","                        start <span class=\"k\">=</span> parent<span class=\"k\">;</span>","                        <span class=\"k\">break</span><span class=\"k\">;</span>","                    <span class=\"k\">}</span>","                <span class=\"k\">}</span>","            <span class=\"k\">}</span> <span class=\"k\">else</span> <span class=\"k\">{</span>","                range<span class=\"k\">.</span>shrinkBoundary<span class=\"k\">();</span>","                start <span class=\"k\">=</span> range<span class=\"k\">.</span>startContainer<span class=\"k\">;</span>","                <span class=\"k\">if</span> <span class=\"k\">(</span> start<span class=\"k\">.</span>nodeType <span class=\"k\">==</span> <span class=\"s\">1</span> <span class=\"k\">&amp;&amp;</span> start<span class=\"k\">.</span>hasChildNodes<span class=\"k\">()</span> <span class=\"k\">)</span><span class=\"k\">{</span>","                    start <span class=\"k\">=</span> start<span class=\"k\">.</span>childNodes<span class=\"k\">[</span>Math<span class=\"k\">.</span>min<span class=\"k\">(</span> start<span class=\"k\">.</span>childNodes<span class=\"k\">.</span>length <span class=\"k\">-</span> <span class=\"s\">1</span><span class=\"k\">,</span> range<span class=\"k\">.</span>startOffset <span class=\"k\">)];</span>","                <span class=\"k\">}</span>","                <span class=\"k\">if</span> <span class=\"k\">(</span> start<span class=\"k\">.</span>nodeType <span class=\"k\">==</span> <span class=\"s\">3</span> <span class=\"k\">)</span><span class=\"k\">{</span>","                    <span class=\"k\">return</span> start<span class=\"k\">.</span>parentNode<span class=\"k\">;</span>","                <span class=\"k\">}</span>","            <span class=\"k\">}</span>","            <span class=\"k\">return</span> start<span class=\"k\">;</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        <span class=\"c\">/**</span>","<span class=\"c\">         * &#24471;&#21040;&#36873;&#21306;&#20013;&#30340;&#25991;&#26412;</span>","<span class=\"c\">         * @public</span>","<span class=\"c\">         * @function</span>","<span class=\"c\">         * @name    baidu.editor.dom.Selection.getText</span>","<span class=\"c\">         * @return  {String}    &#36873;&#21306;&#20013;&#21253;&#21547;&#30340;&#25991;&#26412;</span>","<span class=\"c\">         */</span>","        getText<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","            <span class=\"k\">var</span> nativeSel<span class=\"k\">,</span> nativeRange<span class=\"k\">;</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span> <span class=\"k\">this</span><span class=\"k\">.</span>isFocus<span class=\"k\">()</span> <span class=\"k\">&amp;&amp;</span> <span class=\"k\">(</span>nativeSel <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>getNative<span class=\"k\">())</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                nativeRange <span class=\"k\">=</span> browser<span class=\"k\">.</span>ie <span class=\"k\">?</span> nativeSel<span class=\"k\">.</span>createRange<span class=\"k\">()</span> <span class=\"k\">:</span> nativeSel<span class=\"k\">.</span>getRangeAt<span class=\"k\">(</span> <span class=\"s\">0</span> <span class=\"k\">);</span>","                <span class=\"k\">return</span> browser<span class=\"k\">.</span>ie <span class=\"k\">?</span> nativeRange<span class=\"k\">.</span>text <span class=\"k\">:</span> nativeRange<span class=\"k\">.</span>toString<span class=\"k\">();</span>","            <span class=\"k\">}</span>","            <span class=\"k\">return</span> <span class=\"s\">''</span><span class=\"k\">;</span>","        <span class=\"k\">}</span>","    <span class=\"k\">}</span><span class=\"k\">;</span>","<span class=\"k\">}</span><span class=\"k\">)();</span>"]);
_$jscoverage['core/dom/domUtils.js'] && (_$jscoverage['core/dom/domUtils.js'].source = ["<span class=\"c\">/**</span>","<span class=\"c\"> * @file</span>","<span class=\"c\"> * @name UE.dom.domUtils</span>","<span class=\"c\"> * @short DomUtils</span>","<span class=\"c\"> * @import editor.js, core/utils.js,core/browser.js,core/dom/dtd.js</span>","<span class=\"c\"> * @desc UEditor&#23553;&#35013;&#30340;&#24213;&#23618;dom&#25805;&#20316;&#24211;</span>","<span class=\"c\"> */</span>","<span class=\"k\">function</span> getDomNode<span class=\"k\">(</span>node<span class=\"k\">,</span> start<span class=\"k\">,</span> ltr<span class=\"k\">,</span> startFromChild<span class=\"k\">,</span> fn<span class=\"k\">,</span> guard<span class=\"k\">)</span> <span class=\"k\">{</span>","    <span class=\"k\">var</span> tmpNode <span class=\"k\">=</span> startFromChild <span class=\"k\">&amp;&amp;</span> node<span class=\"k\">[</span>start<span class=\"k\">],</span>","        parent<span class=\"k\">;</span>","    <span class=\"k\">!</span>tmpNode <span class=\"k\">&amp;&amp;</span> <span class=\"k\">(</span>tmpNode <span class=\"k\">=</span> node<span class=\"k\">[</span>ltr<span class=\"k\">]);</span>","    <span class=\"k\">while</span> <span class=\"k\">(!</span>tmpNode <span class=\"k\">&amp;&amp;</span> <span class=\"k\">(</span>parent <span class=\"k\">=</span> <span class=\"k\">(</span>parent <span class=\"k\">||</span> node<span class=\"k\">).</span>parentNode<span class=\"k\">))</span> <span class=\"k\">{</span>","        <span class=\"k\">if</span> <span class=\"k\">(</span>parent<span class=\"k\">.</span>tagName <span class=\"k\">==</span> <span class=\"s\">'BODY'</span> <span class=\"k\">||</span> guard <span class=\"k\">&amp;&amp;</span> <span class=\"k\">!</span>guard<span class=\"k\">(</span>parent<span class=\"k\">))</span> <span class=\"k\">{</span>","            <span class=\"k\">return</span> <span class=\"k\">null</span><span class=\"k\">;</span>","        <span class=\"k\">}</span>","        tmpNode <span class=\"k\">=</span> parent<span class=\"k\">[</span>ltr<span class=\"k\">];</span>","    <span class=\"k\">}</span>","    <span class=\"k\">if</span> <span class=\"k\">(</span>tmpNode <span class=\"k\">&amp;&amp;</span> fn <span class=\"k\">&amp;&amp;</span> <span class=\"k\">!</span>fn<span class=\"k\">(</span>tmpNode<span class=\"k\">))</span> <span class=\"k\">{</span>","        <span class=\"k\">return</span>  getDomNode<span class=\"k\">(</span>tmpNode<span class=\"k\">,</span> start<span class=\"k\">,</span> ltr<span class=\"k\">,</span> <span class=\"k\">false</span><span class=\"k\">,</span> fn<span class=\"k\">);</span>","    <span class=\"k\">}</span>","    <span class=\"k\">return</span> tmpNode<span class=\"k\">;</span>","<span class=\"k\">}</span>","<span class=\"k\">var</span> attrFix <span class=\"k\">=</span> ie <span class=\"k\">&amp;&amp;</span> browser<span class=\"k\">.</span>version <span class=\"k\">&lt;</span> <span class=\"s\">9</span> <span class=\"k\">?</span> <span class=\"k\">{</span>","        tabindex<span class=\"k\">:</span><span class=\"s\">\"tabIndex\"</span><span class=\"k\">,</span>","        readonly<span class=\"k\">:</span><span class=\"s\">\"readOnly\"</span><span class=\"k\">,</span>","        <span class=\"s\">\"for\"</span><span class=\"k\">:</span><span class=\"s\">\"htmlFor\"</span><span class=\"k\">,</span>","        <span class=\"s\">\"class\"</span><span class=\"k\">:</span><span class=\"s\">\"className\"</span><span class=\"k\">,</span>","        maxlength<span class=\"k\">:</span><span class=\"s\">\"maxLength\"</span><span class=\"k\">,</span>","        cellspacing<span class=\"k\">:</span><span class=\"s\">\"cellSpacing\"</span><span class=\"k\">,</span>","        cellpadding<span class=\"k\">:</span><span class=\"s\">\"cellPadding\"</span><span class=\"k\">,</span>","        rowspan<span class=\"k\">:</span><span class=\"s\">\"rowSpan\"</span><span class=\"k\">,</span>","        colspan<span class=\"k\">:</span><span class=\"s\">\"colSpan\"</span><span class=\"k\">,</span>","        usemap<span class=\"k\">:</span><span class=\"s\">\"useMap\"</span><span class=\"k\">,</span>","        frameborder<span class=\"k\">:</span><span class=\"s\">\"frameBorder\"</span>","    <span class=\"k\">}</span> <span class=\"k\">:</span> <span class=\"k\">{</span>","        tabindex<span class=\"k\">:</span><span class=\"s\">\"tabIndex\"</span><span class=\"k\">,</span>","        readonly<span class=\"k\">:</span><span class=\"s\">\"readOnly\"</span>","    <span class=\"k\">}</span><span class=\"k\">,</span>","    styleBlock <span class=\"k\">=</span> utils<span class=\"k\">.</span>listToMap<span class=\"k\">([</span>","        <span class=\"s\">'-webkit-box'</span><span class=\"k\">,</span> <span class=\"s\">'-moz-box'</span><span class=\"k\">,</span> <span class=\"s\">'block'</span> <span class=\"k\">,</span>","        <span class=\"s\">'list-item'</span> <span class=\"k\">,</span> <span class=\"s\">'table'</span> <span class=\"k\">,</span> <span class=\"s\">'table-row-group'</span> <span class=\"k\">,</span>","        <span class=\"s\">'table-header-group'</span><span class=\"k\">,</span> <span class=\"s\">'table-footer-group'</span> <span class=\"k\">,</span>","        <span class=\"s\">'table-row'</span> <span class=\"k\">,</span> <span class=\"s\">'table-column-group'</span> <span class=\"k\">,</span> <span class=\"s\">'table-column'</span> <span class=\"k\">,</span>","        <span class=\"s\">'table-cell'</span> <span class=\"k\">,</span> <span class=\"s\">'table-caption'</span>","    <span class=\"k\">]);</span>","<span class=\"k\">var</span> domUtils <span class=\"k\">=</span> dom<span class=\"k\">.</span>domUtils <span class=\"k\">=</span> <span class=\"k\">{</span>","    <span class=\"c\">//&#33410;&#28857;&#24120;&#37327;</span>","    NODE_ELEMENT<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>","    NODE_DOCUMENT<span class=\"k\">:</span><span class=\"s\">9</span><span class=\"k\">,</span>","    NODE_TEXT<span class=\"k\">:</span><span class=\"s\">3</span><span class=\"k\">,</span>","    NODE_COMMENT<span class=\"k\">:</span><span class=\"s\">8</span><span class=\"k\">,</span>","    NODE_DOCUMENT_FRAGMENT<span class=\"k\">:</span><span class=\"s\">11</span><span class=\"k\">,</span>","","    <span class=\"c\">//&#20301;&#32622;&#20851;&#31995;</span>","    POSITION_IDENTICAL<span class=\"k\">:</span><span class=\"s\">0</span><span class=\"k\">,</span>","    POSITION_DISCONNECTED<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>","    POSITION_FOLLOWING<span class=\"k\">:</span><span class=\"s\">2</span><span class=\"k\">,</span>","    POSITION_PRECEDING<span class=\"k\">:</span><span class=\"s\">4</span><span class=\"k\">,</span>","    POSITION_IS_CONTAINED<span class=\"k\">:</span><span class=\"s\">8</span><span class=\"k\">,</span>","    POSITION_CONTAINS<span class=\"k\">:</span><span class=\"s\">16</span><span class=\"k\">,</span>","    <span class=\"c\">//ie6&#20351;&#29992;&#20854;&#20182;&#30340;&#20250;&#26377;&#19968;&#27573;&#31354;&#30333;&#20986;&#29616;</span>","    fillChar<span class=\"k\">:</span>ie <span class=\"k\">&amp;&amp;</span> browser<span class=\"k\">.</span>version <span class=\"k\">==</span> <span class=\"s\">'6'</span> <span class=\"k\">?</span> <span class=\"s\">'</span><span class=\"t\">\\u</span><span class=\"s\">feff'</span> <span class=\"k\">:</span> <span class=\"s\">'</span><span class=\"t\">\\u</span><span class=\"s\">200B'</span><span class=\"k\">,</span>","    <span class=\"c\">//-------------------------Node&#37096;&#20998;--------------------------------</span>","    keys<span class=\"k\">:</span><span class=\"k\">{</span>","        <span class=\"c\">/*Backspace*/</span> <span class=\"s\">8</span><span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span> <span class=\"c\">/*Delete*/</span> <span class=\"s\">46</span><span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>","        <span class=\"c\">/*Shift*/</span> <span class=\"s\">16</span><span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span> <span class=\"c\">/*Ctrl*/</span> <span class=\"s\">17</span><span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span> <span class=\"c\">/*Alt*/</span> <span class=\"s\">18</span><span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>","        <span class=\"s\">37</span><span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span> <span class=\"s\">38</span><span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span> <span class=\"s\">39</span><span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span> <span class=\"s\">40</span><span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>","        <span class=\"s\">13</span><span class=\"k\">:</span><span class=\"s\">1</span> <span class=\"c\">/*enter*/</span>","    <span class=\"k\">}</span><span class=\"k\">,</span>","    <span class=\"c\">/**</span>","<span class=\"c\">     * &#33719;&#21462;&#33410;&#28857;A&#30456;&#23545;&#20110;&#33410;&#28857;B&#30340;&#20301;&#32622;&#20851;&#31995;</span>","<span class=\"c\">     * @name getPosition</span>","<span class=\"c\">     * @grammar UE.dom.domUtils.getPosition(nodeA,nodeB)  =&gt;  Number</span>","<span class=\"c\">     * @example</span>","<span class=\"c\">     *  switch (returnValue) {</span>","<span class=\"c\">     *      case 0: //&#30456;&#31561;&#65292;&#21516;&#19968;&#33410;&#28857;</span>","<span class=\"c\">     *      case 1: //&#26080;&#20851;&#65292;&#33410;&#28857;&#19981;&#30456;&#36830;</span>","<span class=\"c\">     *      case 2: //&#36319;&#38543;&#65292;&#21363;&#33410;&#28857;A&#22836;&#37096;&#20301;&#20110;&#33410;&#28857;B&#22836;&#37096;&#30340;&#21518;&#38754;</span>","<span class=\"c\">     *      case 4: //&#21069;&#32622;&#65292;&#21363;&#33410;&#28857;A&#22836;&#37096;&#20301;&#20110;&#33410;&#28857;B&#22836;&#37096;&#30340;&#21069;&#38754;</span>","<span class=\"c\">     *      case 8: //&#34987;&#21253;&#21547;&#65292;&#21363;&#33410;&#28857;A&#34987;&#33410;&#28857;B&#21253;&#21547;</span>","<span class=\"c\">     *      case 10://&#32452;&#21512;&#31867;&#22411;&#65292;&#21363;&#33410;&#28857;A&#28385;&#36275;&#36319;&#38543;&#33410;&#28857;B&#19988;&#34987;&#33410;&#28857;B&#21253;&#21547;&#12290;&#23454;&#38469;&#19978;&#65292;&#22914;&#26524;&#34987;&#21253;&#21547;&#65292;&#24517;&#23450;&#36319;&#38543;&#65292;&#25152;&#20197;returnValue&#20107;&#23454;&#19978;&#19981;&#20250;&#23384;&#22312;8&#30340;&#24773;&#20917;&#12290;</span>","<span class=\"c\">     *      case 16://&#21253;&#21547;&#65292;&#21363;&#33410;&#28857;A&#21253;&#21547;&#33410;&#28857;B</span>","<span class=\"c\">     *      case 20://&#32452;&#21512;&#31867;&#22411;&#65292;&#21363;&#33410;&#28857;A&#28385;&#36275;&#21069;&#32622;&#33410;&#28857;A&#19988;&#21253;&#21547;&#33410;&#28857;B&#12290;&#21516;&#26679;&#65292;&#22914;&#26524;&#21253;&#21547;&#65292;&#24517;&#23450;&#21069;&#32622;&#65292;&#25152;&#20197;returnValue&#20107;&#23454;&#19978;&#20063;&#19981;&#20250;&#23384;&#22312;16&#30340;&#24773;&#20917;</span>","<span class=\"c\">     *  }</span>","<span class=\"c\">     */</span>","    getPosition<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">(</span>nodeA<span class=\"k\">,</span> nodeB<span class=\"k\">)</span> <span class=\"k\">{</span>","        <span class=\"c\">// &#22914;&#26524;&#20004;&#20010;&#33410;&#28857;&#26159;&#21516;&#19968;&#20010;&#33410;&#28857;</span>","        <span class=\"k\">if</span> <span class=\"k\">(</span>nodeA <span class=\"k\">===</span> nodeB<span class=\"k\">)</span> <span class=\"k\">{</span>","            <span class=\"c\">// domUtils.POSITION_IDENTICAL</span>","            <span class=\"k\">return</span> <span class=\"s\">0</span><span class=\"k\">;</span>","        <span class=\"k\">}</span>","        <span class=\"k\">var</span> node<span class=\"k\">,</span>","            parentsA <span class=\"k\">=</span> <span class=\"k\">[</span>nodeA<span class=\"k\">],</span>","            parentsB <span class=\"k\">=</span> <span class=\"k\">[</span>nodeB<span class=\"k\">];</span>","        node <span class=\"k\">=</span> nodeA<span class=\"k\">;</span>","        <span class=\"k\">while</span> <span class=\"k\">(</span>node <span class=\"k\">=</span> node<span class=\"k\">.</span>parentNode<span class=\"k\">)</span> <span class=\"k\">{</span>","            <span class=\"c\">// &#22914;&#26524;nodeB&#26159;nodeA&#30340;&#31062;&#20808;&#33410;&#28857;</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span>node <span class=\"k\">===</span> nodeB<span class=\"k\">)</span> <span class=\"k\">{</span>","                <span class=\"c\">// domUtils.POSITION_IS_CONTAINED + domUtils.POSITION_FOLLOWING</span>","                <span class=\"k\">return</span> <span class=\"s\">10</span><span class=\"k\">;</span>","            <span class=\"k\">}</span>","            parentsA<span class=\"k\">.</span>push<span class=\"k\">(</span>node<span class=\"k\">);</span>","        <span class=\"k\">}</span>","        node <span class=\"k\">=</span> nodeB<span class=\"k\">;</span>","        <span class=\"k\">while</span> <span class=\"k\">(</span>node <span class=\"k\">=</span> node<span class=\"k\">.</span>parentNode<span class=\"k\">)</span> <span class=\"k\">{</span>","            <span class=\"c\">// &#22914;&#26524;nodeA&#26159;nodeB&#30340;&#31062;&#20808;&#33410;&#28857;</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span>node <span class=\"k\">===</span> nodeA<span class=\"k\">)</span> <span class=\"k\">{</span>","                <span class=\"c\">// domUtils.POSITION_CONTAINS + domUtils.POSITION_PRECEDING</span>","                <span class=\"k\">return</span> <span class=\"s\">20</span><span class=\"k\">;</span>","            <span class=\"k\">}</span>","            parentsB<span class=\"k\">.</span>push<span class=\"k\">(</span>node<span class=\"k\">);</span>","        <span class=\"k\">}</span>","        parentsA<span class=\"k\">.</span>reverse<span class=\"k\">();</span>","        parentsB<span class=\"k\">.</span>reverse<span class=\"k\">();</span>","        <span class=\"k\">if</span> <span class=\"k\">(</span>parentsA<span class=\"k\">[</span><span class=\"s\">0</span><span class=\"k\">]</span> <span class=\"k\">!==</span> parentsB<span class=\"k\">[</span><span class=\"s\">0</span><span class=\"k\">])</span> <span class=\"k\">{</span>","            <span class=\"c\">// domUtils.POSITION_DISCONNECTED</span>","            <span class=\"k\">return</span> <span class=\"s\">1</span><span class=\"k\">;</span>","        <span class=\"k\">}</span>","        <span class=\"k\">var</span> i <span class=\"k\">=</span> <span class=\"k\">-</span><span class=\"s\">1</span><span class=\"k\">;</span>","        <span class=\"k\">while</span> <span class=\"k\">(</span>i<span class=\"k\">++,</span> parentsA<span class=\"k\">[</span>i<span class=\"k\">]</span> <span class=\"k\">===</span> parentsB<span class=\"k\">[</span>i<span class=\"k\">])</span> <span class=\"k\">{</span>","        <span class=\"k\">}</span>","        nodeA <span class=\"k\">=</span> parentsA<span class=\"k\">[</span>i<span class=\"k\">];</span>","        nodeB <span class=\"k\">=</span> parentsB<span class=\"k\">[</span>i<span class=\"k\">];</span>","        <span class=\"k\">while</span> <span class=\"k\">(</span>nodeA <span class=\"k\">=</span> nodeA<span class=\"k\">.</span>nextSibling<span class=\"k\">)</span> <span class=\"k\">{</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span>nodeA <span class=\"k\">===</span> nodeB<span class=\"k\">)</span> <span class=\"k\">{</span>","                <span class=\"c\">// domUtils.POSITION_PRECEDING</span>","                <span class=\"k\">return</span> <span class=\"s\">4</span>","            <span class=\"k\">}</span>","        <span class=\"k\">}</span>","        <span class=\"c\">// domUtils.POSITION_FOLLOWING</span>","        <span class=\"k\">return</span>  <span class=\"s\">2</span><span class=\"k\">;</span>","    <span class=\"k\">}</span><span class=\"k\">,</span>","","    <span class=\"c\">/**</span>","<span class=\"c\">     * &#36820;&#22238;&#33410;&#28857;node&#22312;&#29238;&#33410;&#28857;&#20013;&#30340;&#32034;&#24341;&#20301;&#32622;</span>","<span class=\"c\">     * @name getNodeIndex</span>","<span class=\"c\">     * @grammar UE.dom.domUtils.getNodeIndex(node)  =&gt; Number  //&#32034;&#24341;&#20540;&#20174;0&#24320;&#22987;</span>","<span class=\"c\">     */</span>","    getNodeIndex<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">(</span>node<span class=\"k\">,</span> ignoreTextNode<span class=\"k\">)</span> <span class=\"k\">{</span>","        <span class=\"k\">var</span> preNode <span class=\"k\">=</span> node<span class=\"k\">,</span>","            i <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">;</span>","        <span class=\"k\">while</span> <span class=\"k\">(</span>preNode <span class=\"k\">=</span> preNode<span class=\"k\">.</span>previousSibling<span class=\"k\">)</span> <span class=\"k\">{</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span>ignoreTextNode <span class=\"k\">&amp;&amp;</span> preNode<span class=\"k\">.</span>nodeType <span class=\"k\">==</span> <span class=\"s\">3</span><span class=\"k\">)</span> <span class=\"k\">{</span>","                <span class=\"k\">continue</span><span class=\"k\">;</span>","            <span class=\"k\">}</span>","            i<span class=\"k\">++;</span>","        <span class=\"k\">}</span>","        <span class=\"k\">return</span> i<span class=\"k\">;</span>","    <span class=\"k\">}</span><span class=\"k\">,</span>","","    <span class=\"c\">/**</span>","<span class=\"c\">     * &#26816;&#27979;&#33410;&#28857;node&#26159;&#21542;&#22312;&#33410;&#28857;doc&#30340;&#26641;&#19978;&#65292;&#23454;&#36136;&#19978;&#26159;&#26816;&#27979;&#26159;&#21542;&#34987;doc&#21253;&#21547;</span>","<span class=\"c\">     * @name inDoc</span>","<span class=\"c\">     * @grammar UE.dom.domUtils.inDoc(node,doc)   =&gt;  true|false</span>","<span class=\"c\">     */</span>","    inDoc<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">(</span>node<span class=\"k\">,</span> doc<span class=\"k\">)</span> <span class=\"k\">{</span>","        <span class=\"k\">return</span> domUtils<span class=\"k\">.</span>getPosition<span class=\"k\">(</span>node<span class=\"k\">,</span> doc<span class=\"k\">)</span> <span class=\"k\">==</span> <span class=\"s\">10</span><span class=\"k\">;</span>","    <span class=\"k\">}</span><span class=\"k\">,</span>","    <span class=\"c\">/**</span>","<span class=\"c\">     * &#26597;&#25214;node&#33410;&#28857;&#30340;&#31062;&#20808;&#33410;&#28857;</span>","<span class=\"c\">     * @name findParent</span>","<span class=\"c\">     * @grammar UE.dom.domUtils.findParent(node)  =&gt; Element  // &#30452;&#25509;&#36820;&#22238;node&#33410;&#28857;&#30340;&#29238;&#33410;&#28857;</span>","<span class=\"c\">     * @grammar UE.dom.domUtils.findParent(node,filterFn)  =&gt; Element  //filterFn&#20026;&#36807;&#28388;&#20989;&#25968;&#65292;node&#20316;&#20026;&#21442;&#25968;&#65292;&#36820;&#22238;true&#26102;&#25165;&#20250;&#23558;node&#20316;&#20026;&#31526;&#21512;&#35201;&#27714;&#30340;&#33410;&#28857;&#36820;&#22238;</span>","<span class=\"c\">     * @grammar UE.dom.domUtils.findParent(node,filterFn,includeSelf)  =&gt; Element  //includeSelf&#25351;&#23450;&#26159;&#21542;&#21253;&#21547;&#33258;&#36523;</span>","<span class=\"c\">     * @example</span>","<span class=\"c\">     *</span>","<span class=\"c\">     */</span>","    findParent<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">(</span>node<span class=\"k\">,</span> filterFn<span class=\"k\">,</span> includeSelf<span class=\"k\">)</span> <span class=\"k\">{</span>","        <span class=\"k\">if</span> <span class=\"k\">(</span>node <span class=\"k\">&amp;&amp;</span> <span class=\"k\">!</span>domUtils<span class=\"k\">.</span>isBody<span class=\"k\">(</span>node<span class=\"k\">))</span> <span class=\"k\">{</span>","            node <span class=\"k\">=</span> includeSelf <span class=\"k\">?</span> node <span class=\"k\">:</span> node<span class=\"k\">.</span>parentNode<span class=\"k\">;</span>","            <span class=\"k\">while</span> <span class=\"k\">(</span>node<span class=\"k\">)</span> <span class=\"k\">{</span>","                <span class=\"k\">if</span> <span class=\"k\">(!</span>filterFn <span class=\"k\">||</span> filterFn<span class=\"k\">(</span>node<span class=\"k\">)</span> <span class=\"k\">||</span> domUtils<span class=\"k\">.</span>isBody<span class=\"k\">(</span>node<span class=\"k\">))</span> <span class=\"k\">{</span>","                    <span class=\"k\">return</span> filterFn <span class=\"k\">&amp;&amp;</span> <span class=\"k\">!</span>filterFn<span class=\"k\">(</span>node<span class=\"k\">)</span> <span class=\"k\">&amp;&amp;</span> domUtils<span class=\"k\">.</span>isBody<span class=\"k\">(</span>node<span class=\"k\">)</span> <span class=\"k\">?</span> <span class=\"k\">null</span> <span class=\"k\">:</span> node<span class=\"k\">;</span>","                <span class=\"k\">}</span>","                node <span class=\"k\">=</span> node<span class=\"k\">.</span>parentNode<span class=\"k\">;</span>","            <span class=\"k\">}</span>","        <span class=\"k\">}</span>","        <span class=\"k\">return</span> <span class=\"k\">null</span><span class=\"k\">;</span>","    <span class=\"k\">}</span><span class=\"k\">,</span>","    <span class=\"c\">/**</span>","<span class=\"c\">     * &#36890;&#36807;tagName&#26597;&#25214;node&#33410;&#28857;&#30340;&#31062;&#20808;&#33410;&#28857;</span>","<span class=\"c\">     * @name findParentByTagName</span>","<span class=\"c\">     * @grammar UE.dom.domUtils.findParentByTagName(node,tagNames)   =&gt;  Element  //tagNames&#25903;&#25345;&#25968;&#32452;&#65292;&#21306;&#20998;&#22823;&#23567;&#20889;</span>","<span class=\"c\">     * @grammar UE.dom.domUtils.findParentByTagName(node,tagNames,includeSelf)   =&gt;  Element  //includeSelf&#25351;&#23450;&#26159;&#21542;&#21253;&#21547;&#33258;&#36523;</span>","<span class=\"c\">     * @grammar UE.dom.domUtils.findParentByTagName(node,tagNames,includeSelf,excludeFn)   =&gt;  Element  //excludeFn&#25351;&#23450;&#20363;&#22806;&#36807;&#28388;&#26465;&#20214;&#65292;&#36820;&#22238;true&#26102;&#24573;&#30053;&#35813;&#33410;&#28857;</span>","<span class=\"c\">     * @example</span>","<span class=\"c\">     *</span>","<span class=\"c\">     */</span>","    findParentByTagName<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">(</span>node<span class=\"k\">,</span> tagNames<span class=\"k\">,</span> includeSelf<span class=\"k\">,</span> excludeFn<span class=\"k\">)</span> <span class=\"k\">{</span>","        tagNames <span class=\"k\">=</span> utils<span class=\"k\">.</span>listToMap<span class=\"k\">(</span>utils<span class=\"k\">.</span>isArray<span class=\"k\">(</span>tagNames<span class=\"k\">)</span> <span class=\"k\">?</span> tagNames <span class=\"k\">:</span> <span class=\"k\">[</span>tagNames<span class=\"k\">]);</span>","        <span class=\"k\">return</span> domUtils<span class=\"k\">.</span>findParent<span class=\"k\">(</span>node<span class=\"k\">,</span> <span class=\"k\">function</span> <span class=\"k\">(</span>node<span class=\"k\">)</span> <span class=\"k\">{</span>","            <span class=\"k\">return</span> tagNames<span class=\"k\">[</span>node<span class=\"k\">.</span>tagName<span class=\"k\">]</span> <span class=\"k\">&amp;&amp;</span> <span class=\"k\">!(</span>excludeFn <span class=\"k\">&amp;&amp;</span> excludeFn<span class=\"k\">(</span>node<span class=\"k\">));</span>","        <span class=\"k\">}</span><span class=\"k\">,</span> includeSelf<span class=\"k\">);</span>","    <span class=\"k\">}</span><span class=\"k\">,</span>","    <span class=\"c\">/**</span>","<span class=\"c\">     * &#26597;&#25214;&#33410;&#28857;node&#30340;&#31062;&#20808;&#33410;&#28857;&#38598;&#21512;</span>","<span class=\"c\">     * @name findParents</span>","<span class=\"c\">     * @grammar UE.dom.domUtils.findParents(node)  =&gt; Array  //&#36820;&#22238;&#19968;&#20010;&#31062;&#20808;&#33410;&#28857;&#25968;&#32452;&#38598;&#21512;&#65292;&#19981;&#21253;&#21547;&#33258;&#36523;</span>","<span class=\"c\">     * @grammar UE.dom.domUtils.findParents(node,includeSelf)  =&gt; Array  //&#36820;&#22238;&#19968;&#20010;&#31062;&#20808;&#33410;&#28857;&#25968;&#32452;&#38598;&#21512;&#65292;includeSelf&#25351;&#23450;&#26159;&#21542;&#21253;&#21547;&#33258;&#36523;</span>","<span class=\"c\">     * @grammar UE.dom.domUtils.findParents(node,includeSelf,filterFn)  =&gt; Array  //&#36820;&#22238;&#19968;&#20010;&#31062;&#20808;&#33410;&#28857;&#25968;&#32452;&#38598;&#21512;&#65292;filterFn&#25351;&#23450;&#36807;&#28388;&#26465;&#20214;&#65292;&#36820;&#22238;true&#30340;node&#23558;&#34987;&#36873;&#21462;</span>","<span class=\"c\">     * @grammar UE.dom.domUtils.findParents(node,includeSelf,filterFn,closerFirst)  =&gt; Array  //&#36820;&#22238;&#19968;&#20010;&#31062;&#20808;&#33410;&#28857;&#25968;&#32452;&#38598;&#21512;&#65292;closerFirst&#25351;&#23450;&#38598;&#21512;&#25490;&#24207;</span>","<span class=\"c\">     * @example</span>","<span class=\"c\">     *</span>","<span class=\"c\">     */</span>","    findParents<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">(</span>node<span class=\"k\">,</span> includeSelf<span class=\"k\">,</span> filterFn<span class=\"k\">,</span> closerFirst<span class=\"k\">)</span> <span class=\"k\">{</span>","        <span class=\"k\">var</span> parents <span class=\"k\">=</span> includeSelf <span class=\"k\">&amp;&amp;</span> <span class=\"k\">(</span> filterFn <span class=\"k\">&amp;&amp;</span> filterFn<span class=\"k\">(</span>node<span class=\"k\">)</span> <span class=\"k\">||</span> <span class=\"k\">!</span>filterFn <span class=\"k\">)</span> <span class=\"k\">?</span> <span class=\"k\">[</span>node<span class=\"k\">]</span> <span class=\"k\">:</span> <span class=\"k\">[];</span>","        <span class=\"k\">while</span> <span class=\"k\">(</span>node <span class=\"k\">=</span> domUtils<span class=\"k\">.</span>findParent<span class=\"k\">(</span>node<span class=\"k\">,</span> filterFn<span class=\"k\">))</span> <span class=\"k\">{</span>","            parents<span class=\"k\">.</span>push<span class=\"k\">(</span>node<span class=\"k\">);</span>","        <span class=\"k\">}</span>","        <span class=\"k\">return</span> closerFirst <span class=\"k\">?</span> parents <span class=\"k\">:</span> parents<span class=\"k\">.</span>reverse<span class=\"k\">();</span>","    <span class=\"k\">}</span><span class=\"k\">,</span>","","    <span class=\"c\">/**</span>","<span class=\"c\">     * &#22312;&#33410;&#28857;node&#21518;&#38754;&#25554;&#20837;&#26032;&#33410;&#28857;newNode</span>","<span class=\"c\">     * @name insertAfter</span>","<span class=\"c\">     * @grammar UE.dom.domUtils.insertAfter(node,newNode)  =&gt; newNode</span>","<span class=\"c\">     */</span>","    insertAfter<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">(</span>node<span class=\"k\">,</span> newNode<span class=\"k\">)</span> <span class=\"k\">{</span>","        <span class=\"k\">return</span> node<span class=\"k\">.</span>parentNode<span class=\"k\">.</span>insertBefore<span class=\"k\">(</span>newNode<span class=\"k\">,</span> node<span class=\"k\">.</span>nextSibling<span class=\"k\">);</span>","    <span class=\"k\">}</span><span class=\"k\">,</span>","","    <span class=\"c\">/**</span>","<span class=\"c\">     * &#21024;&#38500;&#33410;&#28857;node&#65292;&#24182;&#26681;&#25454;keepChildren&#25351;&#23450;&#26159;&#21542;&#20445;&#30041;&#23376;&#33410;&#28857;</span>","<span class=\"c\">     * @name remove</span>","<span class=\"c\">     * @grammar UE.dom.domUtils.remove(node)  =&gt;  node</span>","<span class=\"c\">     * @grammar UE.dom.domUtils.remove(node,keepChildren)  =&gt;  node</span>","<span class=\"c\">     */</span>","    remove<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">(</span>node<span class=\"k\">,</span> keepChildren<span class=\"k\">)</span> <span class=\"k\">{</span>","        <span class=\"k\">var</span> parent <span class=\"k\">=</span> node<span class=\"k\">.</span>parentNode<span class=\"k\">,</span>","            child<span class=\"k\">;</span>","        <span class=\"k\">if</span> <span class=\"k\">(</span>parent<span class=\"k\">)</span> <span class=\"k\">{</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span>keepChildren <span class=\"k\">&amp;&amp;</span> node<span class=\"k\">.</span>hasChildNodes<span class=\"k\">())</span> <span class=\"k\">{</span>","                <span class=\"k\">while</span> <span class=\"k\">(</span>child <span class=\"k\">=</span> node<span class=\"k\">.</span>firstChild<span class=\"k\">)</span> <span class=\"k\">{</span>","                    parent<span class=\"k\">.</span>insertBefore<span class=\"k\">(</span>child<span class=\"k\">,</span> node<span class=\"k\">);</span>","                <span class=\"k\">}</span>","            <span class=\"k\">}</span>","            parent<span class=\"k\">.</span>removeChild<span class=\"k\">(</span>node<span class=\"k\">);</span>","        <span class=\"k\">}</span>","        <span class=\"k\">return</span> node<span class=\"k\">;</span>","    <span class=\"k\">}</span><span class=\"k\">,</span>","","    <span class=\"c\">/**</span>","<span class=\"c\">     * &#21462;&#24471;node&#33410;&#28857;&#22312;dom&#26641;&#19978;&#30340;&#19979;&#19968;&#20010;&#33410;&#28857;,&#21363;&#22810;&#21449;&#26641;&#36941;&#21382;</span>","<span class=\"c\">     * @name  getNextDomNode</span>","<span class=\"c\">     * @grammar UE.dom.domUtils.getNextDomNode(node)  =&gt; Element</span>","<span class=\"c\">     * @example</span>","<span class=\"c\">     */</span>","    getNextDomNode<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">(</span>node<span class=\"k\">,</span> startFromChild<span class=\"k\">,</span> filterFn<span class=\"k\">,</span> guard<span class=\"k\">)</span> <span class=\"k\">{</span>","        <span class=\"k\">return</span> getDomNode<span class=\"k\">(</span>node<span class=\"k\">,</span> <span class=\"s\">'firstChild'</span><span class=\"k\">,</span> <span class=\"s\">'nextSibling'</span><span class=\"k\">,</span> startFromChild<span class=\"k\">,</span> filterFn<span class=\"k\">,</span> guard<span class=\"k\">);</span>","    <span class=\"k\">}</span><span class=\"k\">,</span>","    <span class=\"c\">/**</span>","<span class=\"c\">     * &#26816;&#27979;&#33410;&#28857;node&#26159;&#21542;&#23646;&#20110;bookmark&#33410;&#28857;</span>","<span class=\"c\">     * @name isBookmarkNode</span>","<span class=\"c\">     * @grammar UE.dom.domUtils.isBookmarkNode(node)  =&gt; true|false</span>","<span class=\"c\">     */</span>","    isBookmarkNode<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">(</span>node<span class=\"k\">)</span> <span class=\"k\">{</span>","        <span class=\"k\">return</span> node<span class=\"k\">.</span>nodeType <span class=\"k\">==</span> <span class=\"s\">1</span> <span class=\"k\">&amp;&amp;</span> node<span class=\"k\">.</span>id <span class=\"k\">&amp;&amp;</span> <span class=\"s\">/^_baidu_bookmark_/i</span><span class=\"k\">.</span>test<span class=\"k\">(</span>node<span class=\"k\">.</span>id<span class=\"k\">);</span>","    <span class=\"k\">}</span><span class=\"k\">,</span>","    <span class=\"c\">/**</span>","<span class=\"c\">     * &#33719;&#21462;&#33410;&#28857;node&#25152;&#22312;&#30340;window&#23545;&#35937;</span>","<span class=\"c\">     * @name  getWindow</span>","<span class=\"c\">     * @grammar UE.dom.domUtils.getWindow(node)  =&gt; window&#23545;&#35937;</span>","<span class=\"c\">     */</span>","    getWindow<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">(</span>node<span class=\"k\">)</span> <span class=\"k\">{</span>","        <span class=\"k\">var</span> doc <span class=\"k\">=</span> node<span class=\"k\">.</span>ownerDocument <span class=\"k\">||</span> node<span class=\"k\">;</span>","        <span class=\"k\">return</span> doc<span class=\"k\">.</span>defaultView <span class=\"k\">||</span> doc<span class=\"k\">.</span>parentWindow<span class=\"k\">;</span>","    <span class=\"k\">}</span><span class=\"k\">,</span>","    <span class=\"c\">/**</span>","<span class=\"c\">     * &#24471;&#21040;nodeA&#19982;nodeB&#20844;&#20849;&#30340;&#31062;&#20808;&#33410;&#28857;</span>","<span class=\"c\">     * @name  getCommonAncestor</span>","<span class=\"c\">     * @grammar UE.dom.domUtils.getCommonAncestor(nodeA,nodeB)  =&gt; Element</span>","<span class=\"c\">     */</span>","    getCommonAncestor<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">(</span>nodeA<span class=\"k\">,</span> nodeB<span class=\"k\">)</span> <span class=\"k\">{</span>","        <span class=\"k\">if</span> <span class=\"k\">(</span>nodeA <span class=\"k\">===</span> nodeB<span class=\"k\">)</span>","            <span class=\"k\">return</span> nodeA<span class=\"k\">;</span>","        <span class=\"k\">var</span> parentsA <span class=\"k\">=</span> <span class=\"k\">[</span>nodeA<span class=\"k\">]</span> <span class=\"k\">,</span> parentsB <span class=\"k\">=</span> <span class=\"k\">[</span>nodeB<span class=\"k\">],</span> parent <span class=\"k\">=</span> nodeA<span class=\"k\">,</span> i <span class=\"k\">=</span> <span class=\"k\">-</span><span class=\"s\">1</span><span class=\"k\">;</span>","        <span class=\"k\">while</span> <span class=\"k\">(</span>parent <span class=\"k\">=</span> parent<span class=\"k\">.</span>parentNode<span class=\"k\">)</span> <span class=\"k\">{</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span>parent <span class=\"k\">===</span> nodeB<span class=\"k\">)</span> <span class=\"k\">{</span>","                <span class=\"k\">return</span> parent<span class=\"k\">;</span>","            <span class=\"k\">}</span>","            parentsA<span class=\"k\">.</span>push<span class=\"k\">(</span>parent<span class=\"k\">);</span>","        <span class=\"k\">}</span>","        parent <span class=\"k\">=</span> nodeB<span class=\"k\">;</span>","        <span class=\"k\">while</span> <span class=\"k\">(</span>parent <span class=\"k\">=</span> parent<span class=\"k\">.</span>parentNode<span class=\"k\">)</span> <span class=\"k\">{</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span>parent <span class=\"k\">===</span> nodeA<span class=\"k\">)</span>","                <span class=\"k\">return</span> parent<span class=\"k\">;</span>","            parentsB<span class=\"k\">.</span>push<span class=\"k\">(</span>parent<span class=\"k\">);</span>","        <span class=\"k\">}</span>","        parentsA<span class=\"k\">.</span>reverse<span class=\"k\">();</span>","        parentsB<span class=\"k\">.</span>reverse<span class=\"k\">();</span>","        <span class=\"k\">while</span> <span class=\"k\">(</span>i<span class=\"k\">++,</span> parentsA<span class=\"k\">[</span>i<span class=\"k\">]</span> <span class=\"k\">===</span> parentsB<span class=\"k\">[</span>i<span class=\"k\">])</span> <span class=\"k\">{</span>","        <span class=\"k\">}</span>","        <span class=\"k\">return</span> i <span class=\"k\">==</span> <span class=\"s\">0</span> <span class=\"k\">?</span> <span class=\"k\">null</span> <span class=\"k\">:</span> parentsA<span class=\"k\">[</span>i <span class=\"k\">-</span> <span class=\"s\">1</span><span class=\"k\">];</span>","","    <span class=\"k\">}</span><span class=\"k\">,</span>","    <span class=\"c\">/**</span>","<span class=\"c\">     * &#28165;&#38500;node&#33410;&#28857;&#24038;&#21491;&#20026;&#31354;&#30340;inline&#33410;&#28857;</span>","<span class=\"c\">     * @name clearEmptySibling</span>","<span class=\"c\">     * @grammar UE.dom.domUtils.clearEmptySibling(node)</span>","<span class=\"c\">     * @grammar UE.dom.domUtils.clearEmptySibling(node,ignoreNext)  //ignoreNext&#25351;&#23450;&#26159;&#21542;&#24573;&#30053;&#21491;&#36793;&#31354;&#33410;&#28857;</span>","<span class=\"c\">     * @grammar UE.dom.domUtils.clearEmptySibling(node,ignoreNext,ignorePre)  //ignorePre&#25351;&#23450;&#26159;&#21542;&#24573;&#30053;&#24038;&#36793;&#31354;&#33410;&#28857;</span>","<span class=\"c\">     * @example</span>","<span class=\"c\">     * &lt;b&gt;&lt;/b&gt;&lt;i&gt;&lt;/i&gt;xxxx&lt;b&gt;bb&lt;/b&gt; --&gt; xxxx&lt;b&gt;bb&lt;/b&gt;</span>","<span class=\"c\">     */</span>","    clearEmptySibling<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">(</span>node<span class=\"k\">,</span> ignoreNext<span class=\"k\">,</span> ignorePre<span class=\"k\">)</span> <span class=\"k\">{</span>","        <span class=\"k\">function</span> clear<span class=\"k\">(</span>next<span class=\"k\">,</span> dir<span class=\"k\">)</span> <span class=\"k\">{</span>","            <span class=\"k\">var</span> tmpNode<span class=\"k\">;</span>","            <span class=\"k\">while</span> <span class=\"k\">(</span>next <span class=\"k\">&amp;&amp;</span> <span class=\"k\">!</span>domUtils<span class=\"k\">.</span>isBookmarkNode<span class=\"k\">(</span>next<span class=\"k\">)</span> <span class=\"k\">&amp;&amp;</span> <span class=\"k\">(</span>domUtils<span class=\"k\">.</span>isEmptyInlineElement<span class=\"k\">(</span>next<span class=\"k\">)</span>","                <span class=\"c\">//&#36825;&#37324;&#19981;&#33021;&#25226;&#31354;&#26684;&#31639;&#36827;&#26469;&#20250;&#21543;&#31354;&#26684;&#24178;&#25481;&#65292;&#20986;&#29616;&#25991;&#23383;&#38388;&#30340;&#31354;&#26684;&#20002;&#25481;&#20102;</span>","                <span class=\"k\">||</span> <span class=\"k\">!</span><span class=\"k\">new</span> RegExp<span class=\"k\">(</span><span class=\"s\">'[^</span><span class=\"t\">\\t\\n\\r</span><span class=\"s\">'</span> <span class=\"k\">+</span> domUtils<span class=\"k\">.</span>fillChar <span class=\"k\">+</span> <span class=\"s\">']'</span><span class=\"k\">).</span>test<span class=\"k\">(</span>next<span class=\"k\">.</span>nodeValue<span class=\"k\">)</span> <span class=\"k\">))</span> <span class=\"k\">{</span>","                tmpNode <span class=\"k\">=</span> next<span class=\"k\">[</span>dir<span class=\"k\">];</span>","                domUtils<span class=\"k\">.</span>remove<span class=\"k\">(</span>next<span class=\"k\">);</span>","                next <span class=\"k\">=</span> tmpNode<span class=\"k\">;</span>","            <span class=\"k\">}</span>","        <span class=\"k\">}</span>","        <span class=\"k\">!</span>ignoreNext <span class=\"k\">&amp;&amp;</span> clear<span class=\"k\">(</span>node<span class=\"k\">.</span>nextSibling<span class=\"k\">,</span> <span class=\"s\">'nextSibling'</span><span class=\"k\">);</span>","        <span class=\"k\">!</span>ignorePre <span class=\"k\">&amp;&amp;</span> clear<span class=\"k\">(</span>node<span class=\"k\">.</span>previousSibling<span class=\"k\">,</span> <span class=\"s\">'previousSibling'</span><span class=\"k\">);</span>","    <span class=\"k\">}</span><span class=\"k\">,</span>","    <span class=\"c\">/**</span>","<span class=\"c\">     * &#23558;&#19968;&#20010;&#25991;&#26412;&#33410;&#28857;node&#25286;&#20998;&#25104;&#20004;&#20010;&#25991;&#26412;&#33410;&#28857;&#65292;offset&#25351;&#23450;&#25286;&#20998;&#20301;&#32622;</span>","<span class=\"c\">     * @name split</span>","<span class=\"c\">     * @grammar UE.dom.domUtils.split(node,offset)  =&gt;  TextNode  //&#36820;&#22238;&#20174;&#20999;&#20998;&#20301;&#32622;&#24320;&#22987;&#30340;&#21518;&#19968;&#20010;&#25991;&#26412;&#33410;&#28857;</span>","<span class=\"c\">     */</span>","    split<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">(</span>node<span class=\"k\">,</span> offset<span class=\"k\">)</span> <span class=\"k\">{</span>","        <span class=\"k\">var</span> doc <span class=\"k\">=</span> node<span class=\"k\">.</span>ownerDocument<span class=\"k\">;</span>","        <span class=\"k\">if</span> <span class=\"k\">(</span>browser<span class=\"k\">.</span>ie <span class=\"k\">&amp;&amp;</span> offset <span class=\"k\">==</span> node<span class=\"k\">.</span>nodeValue<span class=\"k\">.</span>length<span class=\"k\">)</span> <span class=\"k\">{</span>","            <span class=\"k\">var</span> next <span class=\"k\">=</span> doc<span class=\"k\">.</span>createTextNode<span class=\"k\">(</span><span class=\"s\">''</span><span class=\"k\">);</span>","            <span class=\"k\">return</span> domUtils<span class=\"k\">.</span>insertAfter<span class=\"k\">(</span>node<span class=\"k\">,</span> next<span class=\"k\">);</span>","        <span class=\"k\">}</span>","        <span class=\"k\">var</span> retval <span class=\"k\">=</span> node<span class=\"k\">.</span>splitText<span class=\"k\">(</span>offset<span class=\"k\">);</span>","        <span class=\"c\">//ie8&#19979;splitText&#19981;&#20250;&#36319;&#26032;childNodes,&#25105;&#20204;&#25163;&#21160;&#35302;&#21457;&#20182;&#30340;&#26356;&#26032;</span>","        <span class=\"k\">if</span> <span class=\"k\">(</span>browser<span class=\"k\">.</span>ie8<span class=\"k\">)</span> <span class=\"k\">{</span>","            <span class=\"k\">var</span> tmpNode <span class=\"k\">=</span> doc<span class=\"k\">.</span>createTextNode<span class=\"k\">(</span><span class=\"s\">''</span><span class=\"k\">);</span>","            domUtils<span class=\"k\">.</span>insertAfter<span class=\"k\">(</span>retval<span class=\"k\">,</span> tmpNode<span class=\"k\">);</span>","            domUtils<span class=\"k\">.</span>remove<span class=\"k\">(</span>tmpNode<span class=\"k\">);</span>","        <span class=\"k\">}</span>","        <span class=\"k\">return</span> retval<span class=\"k\">;</span>","    <span class=\"k\">}</span><span class=\"k\">,</span>","","    <span class=\"c\">/**</span>","<span class=\"c\">     * &#26816;&#27979;&#33410;&#28857;node&#26159;&#21542;&#20026;&#31354;&#33410;&#28857;&#65288;&#21253;&#25324;&#31354;&#26684;&#12289;&#25442;&#34892;&#12289;&#21344;&#20301;&#31526;&#31561;&#23383;&#31526;&#65289;</span>","<span class=\"c\">     * @name  isWhitespace</span>","<span class=\"c\">     * @grammar  UE.dom.domUtils.isWhitespace(node)  =&gt; true|false</span>","<span class=\"c\">     */</span>","    isWhitespace<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">(</span>node<span class=\"k\">)</span> <span class=\"k\">{</span>","        <span class=\"k\">return</span> <span class=\"k\">!</span><span class=\"k\">new</span> RegExp<span class=\"k\">(</span><span class=\"s\">'[^ </span><span class=\"t\">\\t\\n\\r</span><span class=\"s\">'</span> <span class=\"k\">+</span> domUtils<span class=\"k\">.</span>fillChar <span class=\"k\">+</span> <span class=\"s\">']'</span><span class=\"k\">).</span>test<span class=\"k\">(</span>node<span class=\"k\">.</span>nodeValue<span class=\"k\">);</span>","    <span class=\"k\">}</span><span class=\"k\">,</span>","    <span class=\"c\">/**</span>","<span class=\"c\">     * &#33719;&#21462;&#20803;&#32032;element&#30456;&#23545;&#20110;viewport&#30340;&#20301;&#32622;&#22352;&#26631;</span>","<span class=\"c\">     * @name getXY</span>","<span class=\"c\">     * @grammar UE.dom.domUtils.getXY(element)  =&gt; Object //&#36820;&#22238;&#22352;&#26631;&#23545;&#35937;{x:left,y:top}</span>","<span class=\"c\">     */</span>","    getXY<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">(</span>element<span class=\"k\">)</span> <span class=\"k\">{</span>","        <span class=\"k\">var</span> x <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">,</span> y <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">;</span>","        <span class=\"k\">while</span> <span class=\"k\">(</span>element<span class=\"k\">.</span>offsetParent<span class=\"k\">)</span> <span class=\"k\">{</span>","            y <span class=\"k\">+=</span> element<span class=\"k\">.</span>offsetTop<span class=\"k\">;</span>","            x <span class=\"k\">+=</span> element<span class=\"k\">.</span>offsetLeft<span class=\"k\">;</span>","            element <span class=\"k\">=</span> element<span class=\"k\">.</span>offsetParent<span class=\"k\">;</span>","        <span class=\"k\">}</span>","        <span class=\"k\">return</span> <span class=\"k\">{</span> <span class=\"s\">'x'</span><span class=\"k\">:</span>x<span class=\"k\">,</span> <span class=\"s\">'y'</span><span class=\"k\">:</span>y<span class=\"k\">}</span><span class=\"k\">;</span>","    <span class=\"k\">}</span><span class=\"k\">,</span>","    <span class=\"c\">/**</span>","<span class=\"c\">     * &#20026;&#20803;&#32032;element&#32465;&#23450;&#21407;&#29983;DOM&#20107;&#20214;&#65292;type&#20026;&#20107;&#20214;&#31867;&#22411;&#65292;handler&#20026;&#22788;&#29702;&#20989;&#25968;</span>","<span class=\"c\">     * @name on</span>","<span class=\"c\">     * @grammar UE.dom.domUtils.on(element,type,handler)   //type&#25903;&#25345;&#25968;&#32452;&#20256;&#20837;</span>","<span class=\"c\">     * @example</span>","<span class=\"c\">     * UE.dom.domUtils.on(document.body,\"click\",function(e){</span>","<span class=\"c\">     *     //e&#20026;&#20107;&#20214;&#23545;&#35937;&#65292;this&#20026;&#34987;&#28857;&#20987;&#20803;&#32032;&#23545;&#25103;&#37027;&#20010;</span>","<span class=\"c\">     * })</span>","<span class=\"c\">     * @example</span>","<span class=\"c\">     * UE.dom.domUtils.on(document.body,[\"click\",\"mousedown\"],function(evt){</span>","<span class=\"c\">     *     //evt&#20026;&#20107;&#20214;&#23545;&#35937;&#65292;this&#20026;&#34987;&#28857;&#20987;&#20803;&#32032;&#23545;&#35937;</span>","<span class=\"c\">     * })</span>","<span class=\"c\">     */</span>","    on<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">(</span>element<span class=\"k\">,</span> type<span class=\"k\">,</span> handler<span class=\"k\">)</span> <span class=\"k\">{</span>","        <span class=\"k\">var</span> types <span class=\"k\">=</span> utils<span class=\"k\">.</span>isArray<span class=\"k\">(</span>type<span class=\"k\">)</span> <span class=\"k\">?</span> type <span class=\"k\">:</span> <span class=\"k\">[</span>type<span class=\"k\">],</span>","            k <span class=\"k\">=</span> types<span class=\"k\">.</span>length<span class=\"k\">;</span>","        <span class=\"k\">if</span> <span class=\"k\">(</span>k<span class=\"k\">)</span> <span class=\"k\">while</span> <span class=\"k\">(</span>k<span class=\"k\">--)</span> <span class=\"k\">{</span>","            type <span class=\"k\">=</span> types<span class=\"k\">[</span>k<span class=\"k\">];</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span>element<span class=\"k\">.</span>addEventListener<span class=\"k\">)</span> <span class=\"k\">{</span>","                element<span class=\"k\">.</span>addEventListener<span class=\"k\">(</span>type<span class=\"k\">,</span> handler<span class=\"k\">,</span> <span class=\"k\">false</span><span class=\"k\">);</span>","            <span class=\"k\">}</span> <span class=\"k\">else</span> <span class=\"k\">{</span>","                <span class=\"k\">if</span> <span class=\"k\">(!</span>handler<span class=\"k\">.</span>_d<span class=\"k\">)</span> <span class=\"k\">{</span>","                    handler<span class=\"k\">.</span>_d <span class=\"k\">=</span> <span class=\"k\">{</span>","                        els <span class=\"k\">:</span> <span class=\"k\">[]</span>","                    <span class=\"k\">}</span><span class=\"k\">;</span>","                <span class=\"k\">}</span>","                <span class=\"k\">var</span> key <span class=\"k\">=</span> type <span class=\"k\">+</span> handler<span class=\"k\">.</span>toString<span class=\"k\">(),</span>index <span class=\"k\">=</span> utils<span class=\"k\">.</span>indexOf<span class=\"k\">(</span>handler<span class=\"k\">.</span>_d<span class=\"k\">.</span>els<span class=\"k\">,</span>element<span class=\"k\">);</span>","                <span class=\"k\">if</span> <span class=\"k\">(!</span>handler<span class=\"k\">.</span>_d<span class=\"k\">[</span>key<span class=\"k\">]</span> <span class=\"k\">||</span> index <span class=\"k\">==</span> <span class=\"k\">-</span><span class=\"s\">1</span><span class=\"k\">)</span> <span class=\"k\">{</span>","                    <span class=\"k\">if</span><span class=\"k\">(</span>index <span class=\"k\">==</span> <span class=\"k\">-</span><span class=\"s\">1</span><span class=\"k\">)</span><span class=\"k\">{</span>","                        handler<span class=\"k\">.</span>_d<span class=\"k\">.</span>els<span class=\"k\">.</span>push<span class=\"k\">(</span>element<span class=\"k\">);</span>","                    <span class=\"k\">}</span>","                    <span class=\"k\">if</span><span class=\"k\">(!</span>handler<span class=\"k\">.</span>_d<span class=\"k\">[</span>key<span class=\"k\">])</span><span class=\"k\">{</span>","                        handler<span class=\"k\">.</span>_d<span class=\"k\">[</span>key<span class=\"k\">]</span> <span class=\"k\">=</span> <span class=\"k\">function</span> <span class=\"k\">(</span>evt<span class=\"k\">)</span> <span class=\"k\">{</span>","                            <span class=\"k\">return</span> handler<span class=\"k\">.</span>call<span class=\"k\">(</span>evt<span class=\"k\">.</span>srcElement<span class=\"k\">,</span> evt <span class=\"k\">||</span> window<span class=\"k\">.</span>event<span class=\"k\">);</span>","                        <span class=\"k\">}</span><span class=\"k\">;</span>","                    <span class=\"k\">}</span>","","","                    element<span class=\"k\">.</span>attachEvent<span class=\"k\">(</span><span class=\"s\">'on'</span> <span class=\"k\">+</span> type<span class=\"k\">,</span> handler<span class=\"k\">.</span>_d<span class=\"k\">[</span>key<span class=\"k\">]);</span>","                <span class=\"k\">}</span>","            <span class=\"k\">}</span>","        <span class=\"k\">}</span>","        element <span class=\"k\">=</span> <span class=\"k\">null</span><span class=\"k\">;</span>","    <span class=\"k\">}</span><span class=\"k\">,</span>","    <span class=\"c\">/**</span>","<span class=\"c\">     * &#35299;&#38500;&#21407;&#29983;DOM&#20107;&#20214;&#32465;&#23450;</span>","<span class=\"c\">     * @name un</span>","<span class=\"c\">     * @grammar  UE.dom.donUtils.un(element,type,handler)  //&#21442;&#35265;&lt;code&gt;&lt;a href=\"#on\"&gt;on&lt;/a&gt;&lt;/code&gt;</span>","<span class=\"c\">     */</span>","    un<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">(</span>element<span class=\"k\">,</span> type<span class=\"k\">,</span> handler<span class=\"k\">)</span> <span class=\"k\">{</span>","        <span class=\"k\">var</span> types <span class=\"k\">=</span> utils<span class=\"k\">.</span>isArray<span class=\"k\">(</span>type<span class=\"k\">)</span> <span class=\"k\">?</span> type <span class=\"k\">:</span> <span class=\"k\">[</span>type<span class=\"k\">],</span>","            k <span class=\"k\">=</span> types<span class=\"k\">.</span>length<span class=\"k\">;</span>","        <span class=\"k\">if</span> <span class=\"k\">(</span>k<span class=\"k\">)</span> <span class=\"k\">while</span> <span class=\"k\">(</span>k<span class=\"k\">--)</span> <span class=\"k\">{</span>","            type <span class=\"k\">=</span> types<span class=\"k\">[</span>k<span class=\"k\">];</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span>element<span class=\"k\">.</span>removeEventListener<span class=\"k\">)</span> <span class=\"k\">{</span>","                element<span class=\"k\">.</span>removeEventListener<span class=\"k\">(</span>type<span class=\"k\">,</span> handler<span class=\"k\">,</span> <span class=\"k\">false</span><span class=\"k\">);</span>","            <span class=\"k\">}</span> <span class=\"k\">else</span> <span class=\"k\">{</span>","                <span class=\"k\">var</span> key <span class=\"k\">=</span> type <span class=\"k\">+</span> handler<span class=\"k\">.</span>toString<span class=\"k\">();</span>","                element<span class=\"k\">.</span>detachEvent<span class=\"k\">(</span><span class=\"s\">'on'</span> <span class=\"k\">+</span> type<span class=\"k\">,</span> handler<span class=\"k\">.</span>_d <span class=\"k\">?</span> handler<span class=\"k\">.</span>_d<span class=\"k\">[</span>key<span class=\"k\">]</span> <span class=\"k\">:</span> handler<span class=\"k\">);</span>","","                <span class=\"k\">if</span> <span class=\"k\">(</span>handler<span class=\"k\">.</span>_d <span class=\"k\">&amp;&amp;</span> handler<span class=\"k\">.</span>_d<span class=\"k\">[</span>key<span class=\"k\">])</span> <span class=\"k\">{</span>","                    <span class=\"k\">var</span> index <span class=\"k\">=</span> utils<span class=\"k\">.</span>indexOf<span class=\"k\">(</span>handler<span class=\"k\">.</span>_d<span class=\"k\">.</span>els<span class=\"k\">,</span>element<span class=\"k\">);</span>","                    <span class=\"k\">if</span><span class=\"k\">(</span>index<span class=\"k\">!=-</span><span class=\"s\">1</span><span class=\"k\">)</span><span class=\"k\">{</span>","                        handler<span class=\"k\">.</span>_d<span class=\"k\">.</span>els<span class=\"k\">.</span>splice<span class=\"k\">(</span>index<span class=\"k\">,</span><span class=\"s\">1</span><span class=\"k\">);</span>","                    <span class=\"k\">}</span>","                    handler<span class=\"k\">.</span>_d<span class=\"k\">.</span>els<span class=\"k\">.</span>length <span class=\"k\">==</span> <span class=\"s\">0</span> <span class=\"k\">&amp;&amp;</span> <span class=\"k\">delete</span> handler<span class=\"k\">.</span>_d<span class=\"k\">[</span>key<span class=\"k\">];</span>","                <span class=\"k\">}</span>","            <span class=\"k\">}</span>","        <span class=\"k\">}</span>","    <span class=\"k\">}</span><span class=\"k\">,</span>","","    <span class=\"c\">/**</span>","<span class=\"c\">     * &#27604;&#36739;&#33410;&#28857;nodeA&#19982;&#33410;&#28857;nodeB&#26159;&#21542;&#20855;&#26377;&#30456;&#21516;&#30340;&#26631;&#31614;&#21517;&#12289;&#23646;&#24615;&#21517;&#20197;&#21450;&#23646;&#24615;&#20540;</span>","<span class=\"c\">     * @name  isSameElement</span>","<span class=\"c\">     * @grammar UE.dom.domUtils.isSameElement(nodeA,nodeB) =&gt; true|false</span>","<span class=\"c\">     * @example</span>","<span class=\"c\">     * &lt;span  style=\"font-size:12px\"&gt;ssss&lt;/span&gt; and &lt;span style=\"font-size:12px\"&gt;bbbbb&lt;/span&gt;   =&gt; true</span>","<span class=\"c\">     * &lt;span  style=\"font-size:13px\"&gt;ssss&lt;/span&gt; and &lt;span style=\"font-size:12px\"&gt;bbbbb&lt;/span&gt;   =&gt; false</span>","<span class=\"c\">     */</span>","    isSameElement<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">(</span>nodeA<span class=\"k\">,</span> nodeB<span class=\"k\">)</span> <span class=\"k\">{</span>","        <span class=\"k\">if</span> <span class=\"k\">(</span>nodeA<span class=\"k\">.</span>tagName <span class=\"k\">!=</span> nodeB<span class=\"k\">.</span>tagName<span class=\"k\">)</span> <span class=\"k\">{</span>","            <span class=\"k\">return</span> <span class=\"k\">false</span><span class=\"k\">;</span>","        <span class=\"k\">}</span>","        <span class=\"k\">var</span> thisAttrs <span class=\"k\">=</span> nodeA<span class=\"k\">.</span>attributes<span class=\"k\">,</span>","            otherAttrs <span class=\"k\">=</span> nodeB<span class=\"k\">.</span>attributes<span class=\"k\">;</span>","        <span class=\"k\">if</span> <span class=\"k\">(!</span>ie <span class=\"k\">&amp;&amp;</span> thisAttrs<span class=\"k\">.</span>length <span class=\"k\">!=</span> otherAttrs<span class=\"k\">.</span>length<span class=\"k\">)</span> <span class=\"k\">{</span>","            <span class=\"k\">return</span> <span class=\"k\">false</span><span class=\"k\">;</span>","        <span class=\"k\">}</span>","        <span class=\"k\">var</span> attrA<span class=\"k\">,</span> attrB<span class=\"k\">,</span> al <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">,</span> bl <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">;</span>","        <span class=\"k\">for</span> <span class=\"k\">(</span><span class=\"k\">var</span> i <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">;</span> attrA <span class=\"k\">=</span> thisAttrs<span class=\"k\">[</span>i<span class=\"k\">++];)</span> <span class=\"k\">{</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span>attrA<span class=\"k\">.</span>nodeName <span class=\"k\">==</span> <span class=\"s\">'style'</span><span class=\"k\">)</span> <span class=\"k\">{</span>","                <span class=\"k\">if</span> <span class=\"k\">(</span>attrA<span class=\"k\">.</span>specified<span class=\"k\">)</span> <span class=\"k\">{</span>","                    al<span class=\"k\">++;</span>","                <span class=\"k\">}</span>","                <span class=\"k\">if</span> <span class=\"k\">(</span>domUtils<span class=\"k\">.</span>isSameStyle<span class=\"k\">(</span>nodeA<span class=\"k\">,</span> nodeB<span class=\"k\">))</span> <span class=\"k\">{</span>","                    <span class=\"k\">continue</span><span class=\"k\">;</span>","                <span class=\"k\">}</span> <span class=\"k\">else</span> <span class=\"k\">{</span>","                    <span class=\"k\">return</span> <span class=\"k\">false</span><span class=\"k\">;</span>","                <span class=\"k\">}</span>","            <span class=\"k\">}</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span>ie<span class=\"k\">)</span> <span class=\"k\">{</span>","                <span class=\"k\">if</span> <span class=\"k\">(</span>attrA<span class=\"k\">.</span>specified<span class=\"k\">)</span> <span class=\"k\">{</span>","                    al<span class=\"k\">++;</span>","                    attrB <span class=\"k\">=</span> otherAttrs<span class=\"k\">.</span>getNamedItem<span class=\"k\">(</span>attrA<span class=\"k\">.</span>nodeName<span class=\"k\">);</span>","                <span class=\"k\">}</span> <span class=\"k\">else</span> <span class=\"k\">{</span>","                    <span class=\"k\">continue</span><span class=\"k\">;</span>","                <span class=\"k\">}</span>","            <span class=\"k\">}</span> <span class=\"k\">else</span> <span class=\"k\">{</span>","                attrB <span class=\"k\">=</span> nodeB<span class=\"k\">.</span>attributes<span class=\"k\">[</span>attrA<span class=\"k\">.</span>nodeName<span class=\"k\">];</span>","            <span class=\"k\">}</span>","            <span class=\"k\">if</span> <span class=\"k\">(!</span>attrB<span class=\"k\">.</span>specified <span class=\"k\">||</span> attrA<span class=\"k\">.</span>nodeValue <span class=\"k\">!=</span> attrB<span class=\"k\">.</span>nodeValue<span class=\"k\">)</span> <span class=\"k\">{</span>","                <span class=\"k\">return</span> <span class=\"k\">false</span><span class=\"k\">;</span>","            <span class=\"k\">}</span>","        <span class=\"k\">}</span>","        <span class=\"c\">// &#26377;&#21487;&#33021;attrB&#30340;&#23646;&#24615;&#21253;&#21547;&#20102;attrA&#30340;&#23646;&#24615;&#20043;&#22806;&#36824;&#26377;&#33258;&#24049;&#30340;&#23646;&#24615;</span>","        <span class=\"k\">if</span> <span class=\"k\">(</span>ie<span class=\"k\">)</span> <span class=\"k\">{</span>","            <span class=\"k\">for</span> <span class=\"k\">(</span>i <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">;</span> attrB <span class=\"k\">=</span> otherAttrs<span class=\"k\">[</span>i<span class=\"k\">++];)</span> <span class=\"k\">{</span>","                <span class=\"k\">if</span> <span class=\"k\">(</span>attrB<span class=\"k\">.</span>specified<span class=\"k\">)</span> <span class=\"k\">{</span>","                    bl<span class=\"k\">++;</span>","                <span class=\"k\">}</span>","            <span class=\"k\">}</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span>al <span class=\"k\">!=</span> bl<span class=\"k\">)</span> <span class=\"k\">{</span>","                <span class=\"k\">return</span> <span class=\"k\">false</span><span class=\"k\">;</span>","            <span class=\"k\">}</span>","        <span class=\"k\">}</span>","        <span class=\"k\">return</span> <span class=\"k\">true</span><span class=\"k\">;</span>","    <span class=\"k\">}</span><span class=\"k\">,</span>","","    <span class=\"c\">/**</span>","<span class=\"c\">     * &#21028;&#26029;&#33410;&#28857;nodeA&#19982;&#33410;&#28857;nodeB&#30340;&#20803;&#32032;&#23646;&#24615;&#26159;&#21542;&#19968;&#33268;</span>","<span class=\"c\">     * @name isSameStyle</span>","<span class=\"c\">     * @grammar UE.dom.domUtils.isSameStyle(nodeA,nodeB) =&gt; true|false</span>","<span class=\"c\">     */</span>","    isSameStyle<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">(</span>nodeA<span class=\"k\">,</span> nodeB<span class=\"k\">)</span> <span class=\"k\">{</span>","        <span class=\"k\">var</span> styleA <span class=\"k\">=</span> nodeA<span class=\"k\">.</span>style<span class=\"k\">.</span>cssText<span class=\"k\">.</span>replace<span class=\"k\">(</span><span class=\"s\">/( ?; ?)/g</span><span class=\"k\">,</span> <span class=\"s\">';'</span><span class=\"k\">).</span>replace<span class=\"k\">(</span><span class=\"s\">/( ?: ?)/g</span><span class=\"k\">,</span> <span class=\"s\">':'</span><span class=\"k\">),</span>","            styleB <span class=\"k\">=</span> nodeB<span class=\"k\">.</span>style<span class=\"k\">.</span>cssText<span class=\"k\">.</span>replace<span class=\"k\">(</span><span class=\"s\">/( ?; ?)/g</span><span class=\"k\">,</span> <span class=\"s\">';'</span><span class=\"k\">).</span>replace<span class=\"k\">(</span><span class=\"s\">/( ?: ?)/g</span><span class=\"k\">,</span> <span class=\"s\">':'</span><span class=\"k\">);</span>","        <span class=\"k\">if</span> <span class=\"k\">(</span>browser<span class=\"k\">.</span>opera<span class=\"k\">)</span> <span class=\"k\">{</span>","            styleA <span class=\"k\">=</span> nodeA<span class=\"k\">.</span>style<span class=\"k\">;</span>","            styleB <span class=\"k\">=</span> nodeB<span class=\"k\">.</span>style<span class=\"k\">;</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span>styleA<span class=\"k\">.</span>length <span class=\"k\">!=</span> styleB<span class=\"k\">.</span>length<span class=\"k\">)</span>","                <span class=\"k\">return</span> <span class=\"k\">false</span><span class=\"k\">;</span>","            <span class=\"k\">for</span> <span class=\"k\">(</span><span class=\"k\">var</span> p <span class=\"k\">in</span> styleA<span class=\"k\">)</span> <span class=\"k\">{</span>","                <span class=\"k\">if</span> <span class=\"k\">(</span><span class=\"s\">/^(\\d+|csstext)$/i</span><span class=\"k\">.</span>test<span class=\"k\">(</span>p<span class=\"k\">))</span> <span class=\"k\">{</span>","                    <span class=\"k\">continue</span><span class=\"k\">;</span>","                <span class=\"k\">}</span>","                <span class=\"k\">if</span> <span class=\"k\">(</span>styleA<span class=\"k\">[</span>p<span class=\"k\">]</span> <span class=\"k\">!=</span> styleB<span class=\"k\">[</span>p<span class=\"k\">])</span> <span class=\"k\">{</span>","                    <span class=\"k\">return</span> <span class=\"k\">false</span><span class=\"k\">;</span>","                <span class=\"k\">}</span>","            <span class=\"k\">}</span>","            <span class=\"k\">return</span> <span class=\"k\">true</span><span class=\"k\">;</span>","        <span class=\"k\">}</span>","        <span class=\"k\">if</span> <span class=\"k\">(!</span>styleA <span class=\"k\">||</span> <span class=\"k\">!</span>styleB<span class=\"k\">)</span> <span class=\"k\">{</span>","            <span class=\"k\">return</span> styleA <span class=\"k\">==</span> styleB<span class=\"k\">;</span>","        <span class=\"k\">}</span>","        styleA <span class=\"k\">=</span> styleA<span class=\"k\">.</span>split<span class=\"k\">(</span><span class=\"s\">';'</span><span class=\"k\">);</span>","        styleB <span class=\"k\">=</span> styleB<span class=\"k\">.</span>split<span class=\"k\">(</span><span class=\"s\">';'</span><span class=\"k\">);</span>","        <span class=\"k\">if</span> <span class=\"k\">(</span>styleA<span class=\"k\">.</span>length <span class=\"k\">!=</span> styleB<span class=\"k\">.</span>length<span class=\"k\">)</span> <span class=\"k\">{</span>","            <span class=\"k\">return</span> <span class=\"k\">false</span><span class=\"k\">;</span>","        <span class=\"k\">}</span>","        <span class=\"k\">for</span> <span class=\"k\">(</span><span class=\"k\">var</span> i <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">,</span> ci<span class=\"k\">;</span> ci <span class=\"k\">=</span> styleA<span class=\"k\">[</span>i<span class=\"k\">++];)</span> <span class=\"k\">{</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span>utils<span class=\"k\">.</span>indexOf<span class=\"k\">(</span>styleB<span class=\"k\">,</span> ci<span class=\"k\">)</span> <span class=\"k\">==</span> <span class=\"k\">-</span><span class=\"s\">1</span><span class=\"k\">)</span> <span class=\"k\">{</span>","                <span class=\"k\">return</span> <span class=\"k\">false</span><span class=\"k\">;</span>","            <span class=\"k\">}</span>","        <span class=\"k\">}</span>","        <span class=\"k\">return</span> <span class=\"k\">true</span><span class=\"k\">;</span>","    <span class=\"k\">}</span><span class=\"k\">,</span>","    <span class=\"c\">/**</span>","<span class=\"c\">     * &#26816;&#26597;&#33410;&#28857;node&#26159;&#21542;&#20026;&#22359;&#20803;&#32032;</span>","<span class=\"c\">     * @name isBlockElm</span>","<span class=\"c\">     * @grammar UE.dom.domUtils.isBlockElm(node)  =&gt; true|false</span>","<span class=\"c\">     */</span>","    isBlockElm<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">(</span>node<span class=\"k\">)</span> <span class=\"k\">{</span>","        <span class=\"k\">return</span> node<span class=\"k\">.</span>nodeType <span class=\"k\">==</span> <span class=\"s\">1</span> <span class=\"k\">&amp;&amp;</span> <span class=\"k\">(</span>dtd<span class=\"k\">.</span>$block<span class=\"k\">[</span>node<span class=\"k\">.</span>tagName<span class=\"k\">]</span> <span class=\"k\">||</span> styleBlock<span class=\"k\">[</span>domUtils<span class=\"k\">.</span>getComputedStyle<span class=\"k\">(</span>node<span class=\"k\">,</span> <span class=\"s\">'display'</span><span class=\"k\">)])</span> <span class=\"k\">&amp;&amp;</span> <span class=\"k\">!</span>dtd<span class=\"k\">.</span>$nonChild<span class=\"k\">[</span>node<span class=\"k\">.</span>tagName<span class=\"k\">];</span>","    <span class=\"k\">}</span><span class=\"k\">,</span>","    <span class=\"c\">/**</span>","<span class=\"c\">     * &#26816;&#27979;node&#33410;&#28857;&#26159;&#21542;&#20026;body&#33410;&#28857;</span>","<span class=\"c\">     * @name isBody</span>","<span class=\"c\">     * @grammar UE.dom.domUtils.isBody(node)   =&gt; true|false</span>","<span class=\"c\">     */</span>","    isBody<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">(</span>node<span class=\"k\">)</span> <span class=\"k\">{</span>","        <span class=\"k\">return</span>  node <span class=\"k\">&amp;&amp;</span> node<span class=\"k\">.</span>nodeType <span class=\"k\">==</span> <span class=\"s\">1</span> <span class=\"k\">&amp;&amp;</span> node<span class=\"k\">.</span>tagName<span class=\"k\">.</span>toLowerCase<span class=\"k\">()</span> <span class=\"k\">==</span> <span class=\"s\">'body'</span><span class=\"k\">;</span>","    <span class=\"k\">}</span><span class=\"k\">,</span>","    <span class=\"c\">/**</span>","<span class=\"c\">     * &#20197;node&#33410;&#28857;&#20026;&#20013;&#24515;&#65292;&#23558;&#35813;&#33410;&#28857;&#30340;&#25351;&#23450;&#31062;&#20808;&#33410;&#28857;parent&#25286;&#20998;&#25104;2&#22359;</span>","<span class=\"c\">     * @name  breakParent</span>","<span class=\"c\">     * @grammar UE.dom.domUtils.breakParent(node,parent) =&gt; node</span>","<span class=\"c\">     * @example</span>","<span class=\"c\">     * //&lt;b&gt;ooo&lt;/b&gt;&#26159;node&#33410;&#28857;</span>","<span class=\"c\">     * &lt;p&gt;xxxx&lt;b&gt;ooo&lt;/b&gt;xxx&lt;/p&gt; ==&gt; &lt;p&gt;xxx&lt;/p&gt;&lt;b&gt;ooo&lt;/b&gt;&lt;p&gt;xxx&lt;/p&gt;</span>","<span class=\"c\">     * &lt;p&gt;xxxxx&lt;span&gt;xxxx&lt;b&gt;ooo&lt;/b&gt;xxxxxx&lt;/span&gt;&lt;/p&gt;   =&gt;   &lt;p&gt;xxxxx&lt;span&gt;xxxx&lt;/span&gt;&lt;/p&gt;&lt;b&gt;ooo&lt;/b&gt;&lt;p&gt;&lt;span&gt;xxxxxx&lt;/span&gt;&lt;/p&gt;</span>","<span class=\"c\">     */</span>","    breakParent<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">(</span>node<span class=\"k\">,</span> parent<span class=\"k\">)</span> <span class=\"k\">{</span>","        <span class=\"k\">var</span> tmpNode<span class=\"k\">,</span>","            parentClone <span class=\"k\">=</span> node<span class=\"k\">,</span>","            clone <span class=\"k\">=</span> node<span class=\"k\">,</span>","            leftNodes<span class=\"k\">,</span>","            rightNodes<span class=\"k\">;</span>","        <span class=\"k\">do</span> <span class=\"k\">{</span>","            parentClone <span class=\"k\">=</span> parentClone<span class=\"k\">.</span>parentNode<span class=\"k\">;</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span>leftNodes<span class=\"k\">)</span> <span class=\"k\">{</span>","                tmpNode <span class=\"k\">=</span> parentClone<span class=\"k\">.</span>cloneNode<span class=\"k\">(</span><span class=\"k\">false</span><span class=\"k\">);</span>","                tmpNode<span class=\"k\">.</span>appendChild<span class=\"k\">(</span>leftNodes<span class=\"k\">);</span>","                leftNodes <span class=\"k\">=</span> tmpNode<span class=\"k\">;</span>","                tmpNode <span class=\"k\">=</span> parentClone<span class=\"k\">.</span>cloneNode<span class=\"k\">(</span><span class=\"k\">false</span><span class=\"k\">);</span>","                tmpNode<span class=\"k\">.</span>appendChild<span class=\"k\">(</span>rightNodes<span class=\"k\">);</span>","                rightNodes <span class=\"k\">=</span> tmpNode<span class=\"k\">;</span>","            <span class=\"k\">}</span> <span class=\"k\">else</span> <span class=\"k\">{</span>","                leftNodes <span class=\"k\">=</span> parentClone<span class=\"k\">.</span>cloneNode<span class=\"k\">(</span><span class=\"k\">false</span><span class=\"k\">);</span>","                rightNodes <span class=\"k\">=</span> leftNodes<span class=\"k\">.</span>cloneNode<span class=\"k\">(</span><span class=\"k\">false</span><span class=\"k\">);</span>","            <span class=\"k\">}</span>","            <span class=\"k\">while</span> <span class=\"k\">(</span>tmpNode <span class=\"k\">=</span> clone<span class=\"k\">.</span>previousSibling<span class=\"k\">)</span> <span class=\"k\">{</span>","                leftNodes<span class=\"k\">.</span>insertBefore<span class=\"k\">(</span>tmpNode<span class=\"k\">,</span> leftNodes<span class=\"k\">.</span>firstChild<span class=\"k\">);</span>","            <span class=\"k\">}</span>","            <span class=\"k\">while</span> <span class=\"k\">(</span>tmpNode <span class=\"k\">=</span> clone<span class=\"k\">.</span>nextSibling<span class=\"k\">)</span> <span class=\"k\">{</span>","                rightNodes<span class=\"k\">.</span>appendChild<span class=\"k\">(</span>tmpNode<span class=\"k\">);</span>","            <span class=\"k\">}</span>","            clone <span class=\"k\">=</span> parentClone<span class=\"k\">;</span>","        <span class=\"k\">}</span> <span class=\"k\">while</span> <span class=\"k\">(</span>parent <span class=\"k\">!==</span> parentClone<span class=\"k\">);</span>","        tmpNode <span class=\"k\">=</span> parent<span class=\"k\">.</span>parentNode<span class=\"k\">;</span>","        tmpNode<span class=\"k\">.</span>insertBefore<span class=\"k\">(</span>leftNodes<span class=\"k\">,</span> parent<span class=\"k\">);</span>","        tmpNode<span class=\"k\">.</span>insertBefore<span class=\"k\">(</span>rightNodes<span class=\"k\">,</span> parent<span class=\"k\">);</span>","        tmpNode<span class=\"k\">.</span>insertBefore<span class=\"k\">(</span>node<span class=\"k\">,</span> rightNodes<span class=\"k\">);</span>","        domUtils<span class=\"k\">.</span>remove<span class=\"k\">(</span>parent<span class=\"k\">);</span>","        <span class=\"k\">return</span> node<span class=\"k\">;</span>","    <span class=\"k\">}</span><span class=\"k\">,</span>","    <span class=\"c\">/**</span>","<span class=\"c\">     * &#26816;&#26597;&#33410;&#28857;node&#26159;&#21542;&#26159;&#31354;inline&#33410;&#28857;</span>","<span class=\"c\">     * @name  isEmptyInlineElement</span>","<span class=\"c\">     * @grammar   UE.dom.domUtils.isEmptyInlineElement(node)  =&gt; 1|0</span>","<span class=\"c\">     * @example</span>","<span class=\"c\">     * &lt;b&gt;&lt;i&gt;&lt;/i&gt;&lt;/b&gt; =&gt; 1</span>","<span class=\"c\">     * &lt;b&gt;&lt;i&gt;&lt;/i&gt;&lt;u&gt;&lt;/u&gt;&lt;/b&gt; =&gt; 1</span>","<span class=\"c\">     * &lt;b&gt;&lt;/b&gt; =&gt; 1</span>","<span class=\"c\">     * &lt;b&gt;xx&lt;i&gt;&lt;/i&gt;&lt;/b&gt; =&gt; 0</span>","<span class=\"c\">     */</span>","    isEmptyInlineElement<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">(</span>node<span class=\"k\">)</span> <span class=\"k\">{</span>","        <span class=\"k\">if</span> <span class=\"k\">(</span>node<span class=\"k\">.</span>nodeType <span class=\"k\">!=</span> <span class=\"s\">1</span> <span class=\"k\">||</span> <span class=\"k\">!</span>dtd<span class=\"k\">.</span>$removeEmpty<span class=\"k\">[</span> node<span class=\"k\">.</span>tagName <span class=\"k\">])</span> <span class=\"k\">{</span>","            <span class=\"k\">return</span> <span class=\"s\">0</span><span class=\"k\">;</span>","        <span class=\"k\">}</span>","        node <span class=\"k\">=</span> node<span class=\"k\">.</span>firstChild<span class=\"k\">;</span>","        <span class=\"k\">while</span> <span class=\"k\">(</span>node<span class=\"k\">)</span> <span class=\"k\">{</span>","            <span class=\"c\">//&#22914;&#26524;&#26159;&#21019;&#24314;&#30340;bookmark&#23601;&#36339;&#36807;</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span>domUtils<span class=\"k\">.</span>isBookmarkNode<span class=\"k\">(</span>node<span class=\"k\">))</span> <span class=\"k\">{</span>","                <span class=\"k\">return</span> <span class=\"s\">0</span><span class=\"k\">;</span>","            <span class=\"k\">}</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span>node<span class=\"k\">.</span>nodeType <span class=\"k\">==</span> <span class=\"s\">1</span> <span class=\"k\">&amp;&amp;</span> <span class=\"k\">!</span>domUtils<span class=\"k\">.</span>isEmptyInlineElement<span class=\"k\">(</span>node<span class=\"k\">)</span> <span class=\"k\">||</span>","                node<span class=\"k\">.</span>nodeType <span class=\"k\">==</span> <span class=\"s\">3</span> <span class=\"k\">&amp;&amp;</span> <span class=\"k\">!</span>domUtils<span class=\"k\">.</span>isWhitespace<span class=\"k\">(</span>node<span class=\"k\">)</span>","                <span class=\"k\">)</span> <span class=\"k\">{</span>","                <span class=\"k\">return</span> <span class=\"s\">0</span><span class=\"k\">;</span>","            <span class=\"k\">}</span>","            node <span class=\"k\">=</span> node<span class=\"k\">.</span>nextSibling<span class=\"k\">;</span>","        <span class=\"k\">}</span>","        <span class=\"k\">return</span> <span class=\"s\">1</span><span class=\"k\">;</span>","","    <span class=\"k\">}</span><span class=\"k\">,</span>","","    <span class=\"c\">/**</span>","<span class=\"c\">     * &#21024;&#38500;node&#33410;&#28857;&#30340;&#31354;&#30333;&#25991;&#26412;&#23376;&#33410;&#28857;</span>","<span class=\"c\">     * @name trimWhiteTextNode</span>","<span class=\"c\">     * @grammar UE.dom.domUtils.trimWhiteTextNode(node)</span>","<span class=\"c\">     */</span>","    trimWhiteTextNode<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">(</span>node<span class=\"k\">)</span> <span class=\"k\">{</span>","        <span class=\"k\">function</span> remove<span class=\"k\">(</span>dir<span class=\"k\">)</span> <span class=\"k\">{</span>","            <span class=\"k\">var</span> child<span class=\"k\">;</span>","            <span class=\"k\">while</span> <span class=\"k\">((</span>child <span class=\"k\">=</span> node<span class=\"k\">[</span>dir<span class=\"k\">])</span> <span class=\"k\">&amp;&amp;</span> child<span class=\"k\">.</span>nodeType <span class=\"k\">==</span> <span class=\"s\">3</span> <span class=\"k\">&amp;&amp;</span> domUtils<span class=\"k\">.</span>isWhitespace<span class=\"k\">(</span>child<span class=\"k\">))</span> <span class=\"k\">{</span>","                node<span class=\"k\">.</span>removeChild<span class=\"k\">(</span>child<span class=\"k\">);</span>","            <span class=\"k\">}</span>","        <span class=\"k\">}</span>","        remove<span class=\"k\">(</span><span class=\"s\">'firstChild'</span><span class=\"k\">);</span>","        remove<span class=\"k\">(</span><span class=\"s\">'lastChild'</span><span class=\"k\">);</span>","    <span class=\"k\">}</span><span class=\"k\">,</span>","","    <span class=\"c\">/**</span>","<span class=\"c\">     * &#21512;&#24182;&#23376;&#33410;&#28857;</span>","<span class=\"c\">     * @param    {String}    tagName     &#26631;&#31614;</span>","<span class=\"c\">     * @param    {String}    attrs     &#23646;&#24615;</span>","<span class=\"c\">     * @example</span>","<span class=\"c\">     * &lt;span style=\"font-size:12px;\"&gt;xx&lt;span style=\"font-size:12px;\"&gt;aa&lt;/span&gt;xx&lt;/span&gt;</span>","<span class=\"c\">     * &lt;span style=\"font-size:12px;\"&gt;xxaaxx&lt;/span&gt;</span>","<span class=\"c\">     */</span>","    mergeChild<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">(</span>node<span class=\"k\">,</span> tagName<span class=\"k\">,</span> attrs<span class=\"k\">)</span> <span class=\"k\">{</span>","        <span class=\"k\">var</span> list <span class=\"k\">=</span> domUtils<span class=\"k\">.</span>getElementsByTagName<span class=\"k\">(</span>node<span class=\"k\">,</span> node<span class=\"k\">.</span>tagName<span class=\"k\">.</span>toLowerCase<span class=\"k\">());</span>","        <span class=\"k\">for</span> <span class=\"k\">(</span><span class=\"k\">var</span> i <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">,</span> ci<span class=\"k\">;</span> ci <span class=\"k\">=</span> list<span class=\"k\">[</span>i<span class=\"k\">++];)</span> <span class=\"k\">{</span>","            <span class=\"k\">if</span> <span class=\"k\">(!</span>ci<span class=\"k\">.</span>parentNode <span class=\"k\">||</span> domUtils<span class=\"k\">.</span>isBookmarkNode<span class=\"k\">(</span>ci<span class=\"k\">))</span> <span class=\"k\">{</span>","                <span class=\"k\">continue</span><span class=\"k\">;</span>","            <span class=\"k\">}</span>","            <span class=\"c\">//span&#21333;&#29420;&#22788;&#29702;</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span>ci<span class=\"k\">.</span>tagName<span class=\"k\">.</span>toLowerCase<span class=\"k\">()</span> <span class=\"k\">==</span> <span class=\"s\">'span'</span><span class=\"k\">)</span> <span class=\"k\">{</span>","                <span class=\"k\">if</span> <span class=\"k\">(</span>node <span class=\"k\">===</span> ci<span class=\"k\">.</span>parentNode<span class=\"k\">)</span> <span class=\"k\">{</span>","                    domUtils<span class=\"k\">.</span>trimWhiteTextNode<span class=\"k\">(</span>node<span class=\"k\">);</span>","                    <span class=\"k\">if</span> <span class=\"k\">(</span>node<span class=\"k\">.</span>childNodes<span class=\"k\">.</span>length <span class=\"k\">==</span> <span class=\"s\">1</span><span class=\"k\">)</span> <span class=\"k\">{</span>","                        node<span class=\"k\">.</span>style<span class=\"k\">.</span>cssText <span class=\"k\">=</span> ci<span class=\"k\">.</span>style<span class=\"k\">.</span>cssText <span class=\"k\">+</span> <span class=\"s\">\";\"</span> <span class=\"k\">+</span> node<span class=\"k\">.</span>style<span class=\"k\">.</span>cssText<span class=\"k\">;</span>","                        domUtils<span class=\"k\">.</span>remove<span class=\"k\">(</span>ci<span class=\"k\">,</span> <span class=\"k\">true</span><span class=\"k\">);</span>","                        <span class=\"k\">continue</span><span class=\"k\">;</span>","                    <span class=\"k\">}</span>","                <span class=\"k\">}</span>","                ci<span class=\"k\">.</span>style<span class=\"k\">.</span>cssText <span class=\"k\">=</span> node<span class=\"k\">.</span>style<span class=\"k\">.</span>cssText <span class=\"k\">+</span> <span class=\"s\">';'</span> <span class=\"k\">+</span> ci<span class=\"k\">.</span>style<span class=\"k\">.</span>cssText<span class=\"k\">;</span>","                <span class=\"k\">if</span> <span class=\"k\">(</span>attrs<span class=\"k\">)</span> <span class=\"k\">{</span>","                    <span class=\"k\">var</span> style <span class=\"k\">=</span> attrs<span class=\"k\">.</span>style<span class=\"k\">;</span>","                    <span class=\"k\">if</span> <span class=\"k\">(</span>style<span class=\"k\">)</span> <span class=\"k\">{</span>","                        style <span class=\"k\">=</span> style<span class=\"k\">.</span>split<span class=\"k\">(</span><span class=\"s\">';'</span><span class=\"k\">);</span>","                        <span class=\"k\">for</span> <span class=\"k\">(</span><span class=\"k\">var</span> j <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">,</span> s<span class=\"k\">;</span> s <span class=\"k\">=</span> style<span class=\"k\">[</span>j<span class=\"k\">++];)</span> <span class=\"k\">{</span>","                            ci<span class=\"k\">.</span>style<span class=\"k\">[</span>utils<span class=\"k\">.</span>cssStyleToDomStyle<span class=\"k\">(</span>s<span class=\"k\">.</span>split<span class=\"k\">(</span><span class=\"s\">':'</span><span class=\"k\">)[</span><span class=\"s\">0</span><span class=\"k\">])]</span> <span class=\"k\">=</span> s<span class=\"k\">.</span>split<span class=\"k\">(</span><span class=\"s\">':'</span><span class=\"k\">)[</span><span class=\"s\">1</span><span class=\"k\">];</span>","                        <span class=\"k\">}</span>","                    <span class=\"k\">}</span>","                <span class=\"k\">}</span>","                <span class=\"k\">if</span> <span class=\"k\">(</span>domUtils<span class=\"k\">.</span>isSameStyle<span class=\"k\">(</span>ci<span class=\"k\">,</span> node<span class=\"k\">))</span> <span class=\"k\">{</span>","                    domUtils<span class=\"k\">.</span>remove<span class=\"k\">(</span>ci<span class=\"k\">,</span> <span class=\"k\">true</span><span class=\"k\">);</span>","                <span class=\"k\">}</span>","                <span class=\"k\">continue</span><span class=\"k\">;</span>","            <span class=\"k\">}</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span>domUtils<span class=\"k\">.</span>isSameElement<span class=\"k\">(</span>node<span class=\"k\">,</span> ci<span class=\"k\">))</span> <span class=\"k\">{</span>","                domUtils<span class=\"k\">.</span>remove<span class=\"k\">(</span>ci<span class=\"k\">,</span> <span class=\"k\">true</span><span class=\"k\">);</span>","            <span class=\"k\">}</span>","        <span class=\"k\">}</span>","    <span class=\"k\">}</span><span class=\"k\">,</span>","","    <span class=\"c\">/**</span>","<span class=\"c\">     * &#21407;&#29983;&#26041;&#27861;getElementsByTagName&#30340;&#23553;&#35013;</span>","<span class=\"c\">     * @name getElementsByTagName</span>","<span class=\"c\">     * @grammar UE.dom.domUtils.getElementsByTagName(node,tagName)  =&gt; Array  //&#33410;&#28857;&#38598;&#21512;&#25968;&#32452;</span>","<span class=\"c\">     */</span>","    getElementsByTagName<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">(</span>node<span class=\"k\">,</span> name<span class=\"k\">)</span> <span class=\"k\">{</span>","        <span class=\"k\">var</span> list <span class=\"k\">=</span> node<span class=\"k\">.</span>getElementsByTagName<span class=\"k\">(</span>name<span class=\"k\">),</span> arr <span class=\"k\">=</span> <span class=\"k\">[];</span>","        <span class=\"k\">for</span> <span class=\"k\">(</span><span class=\"k\">var</span> i <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">,</span> ci<span class=\"k\">;</span> ci <span class=\"k\">=</span> list<span class=\"k\">[</span>i<span class=\"k\">++];)</span> <span class=\"k\">{</span>","            arr<span class=\"k\">.</span>push<span class=\"k\">(</span>ci<span class=\"k\">);</span>","        <span class=\"k\">}</span>","        <span class=\"k\">return</span> arr<span class=\"k\">;</span>","    <span class=\"k\">}</span><span class=\"k\">,</span>","    <span class=\"c\">/**</span>","<span class=\"c\">     * &#23558;&#33410;&#28857;node&#21512;&#24182;&#21040;&#29238;&#33410;&#28857;&#19978;</span>","<span class=\"c\">     * @name mergeToParent</span>","<span class=\"c\">     * @grammar UE.dom.domUtils.mergeToParent(node)</span>","<span class=\"c\">     * @example</span>","<span class=\"c\">     * //&#33410;&#28857;node&#20026;&lt;span style=\"font-size:12px\"&gt;xxx&lt;/span&gt;</span>","<span class=\"c\">     * &lt;span style=\"color:#fff\"&gt;&lt;span style=\"font-size:12px\"&gt;xxx&lt;/span&gt;&lt;/span&gt; ==&gt; &lt;span style=\"color:#fff;font-size:12px\"&gt;xxx&lt;/span&gt;</span>","<span class=\"c\">     */</span>","    mergeToParent<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">(</span>node<span class=\"k\">)</span> <span class=\"k\">{</span>","        <span class=\"k\">var</span> parent <span class=\"k\">=</span> node<span class=\"k\">.</span>parentNode<span class=\"k\">;</span>","        <span class=\"k\">while</span> <span class=\"k\">(</span>parent <span class=\"k\">&amp;&amp;</span> dtd<span class=\"k\">.</span>$removeEmpty<span class=\"k\">[</span>parent<span class=\"k\">.</span>tagName<span class=\"k\">])</span> <span class=\"k\">{</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span>parent<span class=\"k\">.</span>tagName <span class=\"k\">==</span> node<span class=\"k\">.</span>tagName <span class=\"k\">||</span> parent<span class=\"k\">.</span>tagName <span class=\"k\">==</span> <span class=\"s\">'A'</span><span class=\"k\">)</span> <span class=\"k\">{</span><span class=\"c\">//&#38024;&#23545;a&#26631;&#31614;&#21333;&#29420;&#22788;&#29702;</span>","                domUtils<span class=\"k\">.</span>trimWhiteTextNode<span class=\"k\">(</span>parent<span class=\"k\">);</span>","                <span class=\"c\">//span&#38656;&#35201;&#29305;&#27530;&#22788;&#29702;  &#19981;&#22788;&#29702;&#36825;&#26679;&#30340;&#24773;&#20917; &lt;span stlye=\"color:#fff\"&gt;xxx&lt;span style=\"color:#ccc\"&gt;xxx&lt;/span&gt;xxx&lt;/span&gt;</span>","                <span class=\"k\">if</span> <span class=\"k\">(</span>parent<span class=\"k\">.</span>tagName <span class=\"k\">==</span> <span class=\"s\">'SPAN'</span> <span class=\"k\">&amp;&amp;</span> <span class=\"k\">!</span>domUtils<span class=\"k\">.</span>isSameStyle<span class=\"k\">(</span>parent<span class=\"k\">,</span> node<span class=\"k\">)</span>","                    <span class=\"k\">||</span> <span class=\"k\">(</span>parent<span class=\"k\">.</span>tagName <span class=\"k\">==</span> <span class=\"s\">'A'</span> <span class=\"k\">&amp;&amp;</span> node<span class=\"k\">.</span>tagName <span class=\"k\">==</span> <span class=\"s\">'SPAN'</span><span class=\"k\">))</span> <span class=\"k\">{</span>","                    <span class=\"k\">if</span> <span class=\"k\">(</span>parent<span class=\"k\">.</span>childNodes<span class=\"k\">.</span>length <span class=\"k\">&gt;</span> <span class=\"s\">1</span> <span class=\"k\">||</span> parent <span class=\"k\">!==</span> node<span class=\"k\">.</span>parentNode<span class=\"k\">)</span> <span class=\"k\">{</span>","                        node<span class=\"k\">.</span>style<span class=\"k\">.</span>cssText <span class=\"k\">=</span> parent<span class=\"k\">.</span>style<span class=\"k\">.</span>cssText <span class=\"k\">+</span> <span class=\"s\">\";\"</span> <span class=\"k\">+</span> node<span class=\"k\">.</span>style<span class=\"k\">.</span>cssText<span class=\"k\">;</span>","                        parent <span class=\"k\">=</span> parent<span class=\"k\">.</span>parentNode<span class=\"k\">;</span>","                        <span class=\"k\">continue</span><span class=\"k\">;</span>","                    <span class=\"k\">}</span> <span class=\"k\">else</span> <span class=\"k\">{</span>","                        parent<span class=\"k\">.</span>style<span class=\"k\">.</span>cssText <span class=\"k\">+=</span> <span class=\"s\">\";\"</span> <span class=\"k\">+</span> node<span class=\"k\">.</span>style<span class=\"k\">.</span>cssText<span class=\"k\">;</span>","                        <span class=\"c\">//trace:952 a&#26631;&#31614;&#35201;&#20445;&#25345;&#19979;&#21010;&#32447;</span>","                        <span class=\"k\">if</span> <span class=\"k\">(</span>parent<span class=\"k\">.</span>tagName <span class=\"k\">==</span> <span class=\"s\">'A'</span><span class=\"k\">)</span> <span class=\"k\">{</span>","                            parent<span class=\"k\">.</span>style<span class=\"k\">.</span>textDecoration <span class=\"k\">=</span> <span class=\"s\">'underline'</span><span class=\"k\">;</span>","                        <span class=\"k\">}</span>","                    <span class=\"k\">}</span>","                <span class=\"k\">}</span>","                <span class=\"k\">if</span> <span class=\"k\">(</span>parent<span class=\"k\">.</span>tagName <span class=\"k\">!=</span> <span class=\"s\">'A'</span><span class=\"k\">)</span> <span class=\"k\">{</span>","                    parent <span class=\"k\">===</span> node<span class=\"k\">.</span>parentNode <span class=\"k\">&amp;&amp;</span> domUtils<span class=\"k\">.</span>remove<span class=\"k\">(</span>node<span class=\"k\">,</span> <span class=\"k\">true</span><span class=\"k\">);</span>","                    <span class=\"k\">break</span><span class=\"k\">;</span>","                <span class=\"k\">}</span>","            <span class=\"k\">}</span>","            parent <span class=\"k\">=</span> parent<span class=\"k\">.</span>parentNode<span class=\"k\">;</span>","        <span class=\"k\">}</span>","    <span class=\"k\">}</span><span class=\"k\">,</span>","    <span class=\"c\">/**</span>","<span class=\"c\">     * &#21512;&#24182;&#33410;&#28857;node&#30340;&#24038;&#21491;&#20804;&#24351;&#33410;&#28857;</span>","<span class=\"c\">     * @name mergeSibling</span>","<span class=\"c\">     * @grammar UE.dom.domUtils.mergeSibling(node)</span>","<span class=\"c\">     * @grammar UE.dom.domUtils.mergeSibling(node,ignorePre)    //ignorePre&#25351;&#23450;&#26159;&#21542;&#24573;&#30053;&#24038;&#20804;&#24351;</span>","<span class=\"c\">     * @grammar UE.dom.domUtils.mergeSibling(node,ignorePre,ignoreNext)  //ignoreNext&#25351;&#23450;&#26159;&#21542;&#24573;&#30053;&#21491;&#20804;&#24351;</span>","<span class=\"c\">     * @example</span>","<span class=\"c\">     * &lt;b&gt;xxxx&lt;/b&gt;&lt;b&gt;ooo&lt;/b&gt;&lt;b&gt;xxxx&lt;/b&gt; ==&gt; &lt;b&gt;xxxxoooxxxx&lt;/b&gt;</span>","<span class=\"c\">     */</span>","    mergeSibling<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">(</span>node<span class=\"k\">,</span> ignorePre<span class=\"k\">,</span> ignoreNext<span class=\"k\">)</span> <span class=\"k\">{</span>","        <span class=\"k\">function</span> merge<span class=\"k\">(</span>rtl<span class=\"k\">,</span> start<span class=\"k\">,</span> node<span class=\"k\">)</span> <span class=\"k\">{</span>","            <span class=\"k\">var</span> next<span class=\"k\">;</span>","            <span class=\"k\">if</span> <span class=\"k\">((</span>next <span class=\"k\">=</span> node<span class=\"k\">[</span>rtl<span class=\"k\">])</span> <span class=\"k\">&amp;&amp;</span> <span class=\"k\">!</span>domUtils<span class=\"k\">.</span>isBookmarkNode<span class=\"k\">(</span>next<span class=\"k\">)</span> <span class=\"k\">&amp;&amp;</span> next<span class=\"k\">.</span>nodeType <span class=\"k\">==</span> <span class=\"s\">1</span> <span class=\"k\">&amp;&amp;</span> domUtils<span class=\"k\">.</span>isSameElement<span class=\"k\">(</span>node<span class=\"k\">,</span> next<span class=\"k\">))</span> <span class=\"k\">{</span>","                <span class=\"k\">while</span> <span class=\"k\">(</span>next<span class=\"k\">.</span>firstChild<span class=\"k\">)</span> <span class=\"k\">{</span>","                    <span class=\"k\">if</span> <span class=\"k\">(</span>start <span class=\"k\">==</span> <span class=\"s\">'firstChild'</span><span class=\"k\">)</span> <span class=\"k\">{</span>","                        node<span class=\"k\">.</span>insertBefore<span class=\"k\">(</span>next<span class=\"k\">.</span>lastChild<span class=\"k\">,</span> node<span class=\"k\">.</span>firstChild<span class=\"k\">);</span>","                    <span class=\"k\">}</span> <span class=\"k\">else</span> <span class=\"k\">{</span>","                        node<span class=\"k\">.</span>appendChild<span class=\"k\">(</span>next<span class=\"k\">.</span>firstChild<span class=\"k\">);</span>","                    <span class=\"k\">}</span>","                <span class=\"k\">}</span>","                domUtils<span class=\"k\">.</span>remove<span class=\"k\">(</span>next<span class=\"k\">);</span>","            <span class=\"k\">}</span>","        <span class=\"k\">}</span>","        <span class=\"k\">!</span>ignorePre <span class=\"k\">&amp;&amp;</span> merge<span class=\"k\">(</span><span class=\"s\">'previousSibling'</span><span class=\"k\">,</span> <span class=\"s\">'firstChild'</span><span class=\"k\">,</span> node<span class=\"k\">);</span>","        <span class=\"k\">!</span>ignoreNext <span class=\"k\">&amp;&amp;</span> merge<span class=\"k\">(</span><span class=\"s\">'nextSibling'</span><span class=\"k\">,</span> <span class=\"s\">'lastChild'</span><span class=\"k\">,</span> node<span class=\"k\">);</span>","    <span class=\"k\">}</span><span class=\"k\">,</span>","","    <span class=\"c\">/**</span>","<span class=\"c\">     * &#35774;&#32622;&#33410;&#28857;node&#21450;&#20854;&#23376;&#33410;&#28857;&#19981;&#20250;&#34987;&#36873;&#20013;</span>","<span class=\"c\">     * @name unSelectable</span>","<span class=\"c\">     * @grammar UE.dom.domUtils.unSelectable(node)</span>","<span class=\"c\">     */</span>","    unSelectable<span class=\"k\">:</span>ie <span class=\"k\">||</span> browser<span class=\"k\">.</span>opera <span class=\"k\">?</span> <span class=\"k\">function</span> <span class=\"k\">(</span>node<span class=\"k\">)</span> <span class=\"k\">{</span>","        <span class=\"c\">//for ie9</span>","        node<span class=\"k\">.</span>onselectstart <span class=\"k\">=</span> <span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","            <span class=\"k\">return</span> <span class=\"k\">false</span><span class=\"k\">;</span>","        <span class=\"k\">}</span><span class=\"k\">;</span>","        node<span class=\"k\">.</span>onclick <span class=\"k\">=</span> node<span class=\"k\">.</span>onkeyup <span class=\"k\">=</span> node<span class=\"k\">.</span>onkeydown <span class=\"k\">=</span> <span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","            <span class=\"k\">return</span> <span class=\"k\">false</span><span class=\"k\">;</span>","        <span class=\"k\">}</span><span class=\"k\">;</span>","        node<span class=\"k\">.</span>unselectable <span class=\"k\">=</span> <span class=\"s\">'on'</span><span class=\"k\">;</span>","        node<span class=\"k\">.</span>setAttribute<span class=\"k\">(</span><span class=\"s\">\"unselectable\"</span><span class=\"k\">,</span> <span class=\"s\">\"on\"</span><span class=\"k\">);</span>","        <span class=\"k\">for</span> <span class=\"k\">(</span><span class=\"k\">var</span> i <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">,</span> ci<span class=\"k\">;</span> ci <span class=\"k\">=</span> node<span class=\"k\">.</span>all<span class=\"k\">[</span>i<span class=\"k\">++];)</span> <span class=\"k\">{</span>","            <span class=\"k\">switch</span> <span class=\"k\">(</span>ci<span class=\"k\">.</span>tagName<span class=\"k\">.</span>toLowerCase<span class=\"k\">())</span> <span class=\"k\">{</span>","                <span class=\"k\">case</span> <span class=\"s\">'iframe'</span> <span class=\"k\">:</span>","                <span class=\"k\">case</span> <span class=\"s\">'textarea'</span> <span class=\"k\">:</span>","                <span class=\"k\">case</span> <span class=\"s\">'input'</span> <span class=\"k\">:</span>","                <span class=\"k\">case</span> <span class=\"s\">'select'</span> <span class=\"k\">:</span>","                    <span class=\"k\">break</span><span class=\"k\">;</span>","                <span class=\"k\">default</span> <span class=\"k\">:</span>","                    ci<span class=\"k\">.</span>unselectable <span class=\"k\">=</span> <span class=\"s\">'on'</span><span class=\"k\">;</span>","                    node<span class=\"k\">.</span>setAttribute<span class=\"k\">(</span><span class=\"s\">\"unselectable\"</span><span class=\"k\">,</span> <span class=\"s\">\"on\"</span><span class=\"k\">);</span>","            <span class=\"k\">}</span>","        <span class=\"k\">}</span>","    <span class=\"k\">}</span> <span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">(</span>node<span class=\"k\">)</span> <span class=\"k\">{</span>","        node<span class=\"k\">.</span>style<span class=\"k\">.</span>MozUserSelect <span class=\"k\">=</span>","            node<span class=\"k\">.</span>style<span class=\"k\">.</span>webkitUserSelect <span class=\"k\">=</span>","                node<span class=\"k\">.</span>style<span class=\"k\">.</span>KhtmlUserSelect <span class=\"k\">=</span> <span class=\"s\">'none'</span><span class=\"k\">;</span>","    <span class=\"k\">}</span><span class=\"k\">,</span>","    <span class=\"c\">/**</span>","<span class=\"c\">     * &#21024;&#38500;&#33410;&#28857;node&#19978;&#30340;&#23646;&#24615;attrNames&#65292;attrNames&#20026;&#23646;&#24615;&#21517;&#31216;&#25968;&#32452;</span>","<span class=\"c\">     * @name  removeAttributes</span>","<span class=\"c\">     * @grammar UE.dom.domUtils.removeAttributes(node,attrNames)</span>","<span class=\"c\">     * @example</span>","<span class=\"c\">     * //Before remove</span>","<span class=\"c\">     * &lt;span style=\"font-size:14px;\" id=\"test\" name=\"followMe\"&gt;xxxxx&lt;/span&gt;</span>","<span class=\"c\">     * //Remove</span>","<span class=\"c\">     * UE.dom.domUtils.removeAttributes(node,[\"id\",\"name\"]);</span>","<span class=\"c\">     * //After remove</span>","<span class=\"c\">     * &lt;span style=\"font-size:14px;\"&gt;xxxxx&lt;/span&gt;</span>","<span class=\"c\">     */</span>","    removeAttributes<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">(</span>node<span class=\"k\">,</span> attrNames<span class=\"k\">)</span> <span class=\"k\">{</span>","        <span class=\"k\">for</span> <span class=\"k\">(</span><span class=\"k\">var</span> i <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">,</span> ci<span class=\"k\">;</span> ci <span class=\"k\">=</span> attrNames<span class=\"k\">[</span>i<span class=\"k\">++];)</span> <span class=\"k\">{</span>","            ci <span class=\"k\">=</span> attrFix<span class=\"k\">[</span>ci<span class=\"k\">]</span> <span class=\"k\">||</span> ci<span class=\"k\">;</span>","            <span class=\"k\">switch</span> <span class=\"k\">(</span>ci<span class=\"k\">)</span> <span class=\"k\">{</span>","                <span class=\"k\">case</span> <span class=\"s\">'className'</span><span class=\"k\">:</span>","                    node<span class=\"k\">[</span>ci<span class=\"k\">]</span> <span class=\"k\">=</span> <span class=\"s\">''</span><span class=\"k\">;</span>","                    <span class=\"k\">break</span><span class=\"k\">;</span>","                <span class=\"k\">case</span> <span class=\"s\">'style'</span><span class=\"k\">:</span>","                    node<span class=\"k\">.</span>style<span class=\"k\">.</span>cssText <span class=\"k\">=</span> <span class=\"s\">''</span><span class=\"k\">;</span>","                    <span class=\"k\">!</span>browser<span class=\"k\">.</span>ie <span class=\"k\">&amp;&amp;</span> node<span class=\"k\">.</span>removeAttributeNode<span class=\"k\">(</span>node<span class=\"k\">.</span>getAttributeNode<span class=\"k\">(</span><span class=\"s\">'style'</span><span class=\"k\">))</span>","            <span class=\"k\">}</span>","            node<span class=\"k\">.</span>removeAttribute<span class=\"k\">(</span>ci<span class=\"k\">);</span>","        <span class=\"k\">}</span>","    <span class=\"k\">}</span><span class=\"k\">,</span>","    <span class=\"c\">/**</span>","<span class=\"c\">     * &#22312;doc&#19979;&#21019;&#24314;&#19968;&#20010;&#26631;&#31614;&#21517;&#20026;tag&#65292;&#23646;&#24615;&#20026;attrs&#30340;&#20803;&#32032;</span>","<span class=\"c\">     * @name createElement</span>","<span class=\"c\">     * @grammar UE.dom.domUtils.createElement(doc,tag,attrs)  =&gt;  Node  //&#36820;&#22238;&#21019;&#24314;&#30340;&#33410;&#28857;</span>","<span class=\"c\">     */</span>","    createElement<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">(</span>doc<span class=\"k\">,</span> tag<span class=\"k\">,</span> attrs<span class=\"k\">)</span> <span class=\"k\">{</span>","        <span class=\"k\">return</span> domUtils<span class=\"k\">.</span>setAttributes<span class=\"k\">(</span>doc<span class=\"k\">.</span>createElement<span class=\"k\">(</span>tag<span class=\"k\">),</span> attrs<span class=\"k\">)</span>","    <span class=\"k\">}</span><span class=\"k\">,</span>","    <span class=\"c\">/**</span>","<span class=\"c\">     * &#20026;&#33410;&#28857;node&#28155;&#21152;&#23646;&#24615;attrs&#65292;attrs&#20026;&#23646;&#24615;&#38190;&#20540;&#23545;</span>","<span class=\"c\">     * @name setAttributes</span>","<span class=\"c\">     * @grammar UE.dom.domUtils.setAttributes(node,attrs)  =&gt; node</span>","<span class=\"c\">     */</span>","    setAttributes<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">(</span>node<span class=\"k\">,</span> attrs<span class=\"k\">)</span> <span class=\"k\">{</span>","        <span class=\"k\">for</span> <span class=\"k\">(</span><span class=\"k\">var</span> attr <span class=\"k\">in</span> attrs<span class=\"k\">)</span> <span class=\"k\">{</span>","            <span class=\"k\">if</span><span class=\"k\">(</span>attrs<span class=\"k\">.</span>hasOwnProperty<span class=\"k\">(</span>attr<span class=\"k\">))</span><span class=\"k\">{</span>","                <span class=\"k\">var</span> value <span class=\"k\">=</span> attrs<span class=\"k\">[</span>attr<span class=\"k\">];</span>","                <span class=\"k\">switch</span> <span class=\"k\">(</span>attr<span class=\"k\">)</span> <span class=\"k\">{</span>","                    <span class=\"k\">case</span> <span class=\"s\">'class'</span><span class=\"k\">:</span>","                        <span class=\"c\">//ie&#19979;&#35201;&#36825;&#26679;&#36171;&#20540;&#65292;setAttribute&#19981;&#36215;&#20316;&#29992;</span>","                        node<span class=\"k\">.</span>className <span class=\"k\">=</span> value<span class=\"k\">;</span>","                        <span class=\"k\">break</span><span class=\"k\">;</span>","                    <span class=\"k\">case</span> <span class=\"s\">'style'</span> <span class=\"k\">:</span>","                        node<span class=\"k\">.</span>style<span class=\"k\">.</span>cssText <span class=\"k\">=</span> node<span class=\"k\">.</span>style<span class=\"k\">.</span>cssText <span class=\"k\">+</span> <span class=\"s\">\";\"</span> <span class=\"k\">+</span> value<span class=\"k\">;</span>","                        <span class=\"k\">break</span><span class=\"k\">;</span>","                    <span class=\"k\">case</span> <span class=\"s\">'innerHTML'</span><span class=\"k\">:</span>","                        node<span class=\"k\">[</span>attr<span class=\"k\">]</span> <span class=\"k\">=</span> value<span class=\"k\">;</span>","                        <span class=\"k\">break</span><span class=\"k\">;</span>","                    <span class=\"k\">case</span> <span class=\"s\">'value'</span><span class=\"k\">:</span>","                        node<span class=\"k\">.</span>value <span class=\"k\">=</span> value<span class=\"k\">;</span>","                        <span class=\"k\">break</span><span class=\"k\">;</span>","                    <span class=\"k\">default</span><span class=\"k\">:</span>","                        node<span class=\"k\">.</span>setAttribute<span class=\"k\">(</span>attrFix<span class=\"k\">[</span>attr<span class=\"k\">]</span> <span class=\"k\">||</span> attr<span class=\"k\">,</span> value<span class=\"k\">);</span>","                <span class=\"k\">}</span>","            <span class=\"k\">}</span>","        <span class=\"k\">}</span>","        <span class=\"k\">return</span> node<span class=\"k\">;</span>","    <span class=\"k\">}</span><span class=\"k\">,</span>","","    <span class=\"c\">/**</span>","<span class=\"c\">     * &#33719;&#21462;&#20803;&#32032;element&#30340;&#35745;&#31639;&#26679;&#24335;</span>","<span class=\"c\">     * @name getComputedStyle</span>","<span class=\"c\">     * @grammar UE.dom.domUtils.getComputedStyle(element,styleName)  =&gt; String //&#36820;&#22238;&#23545;&#24212;&#26679;&#24335;&#21517;&#31216;&#30340;&#26679;&#24335;&#20540;</span>","<span class=\"c\">     * @example</span>","<span class=\"c\">     * getComputedStyle(document.body,\"font-size\")  =&gt;  \"15px\"</span>","<span class=\"c\">     * getComputedStyle(form,\"color\")  =&gt;  \"#ffccdd\"</span>","<span class=\"c\">     */</span>","    getComputedStyle<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">(</span>element<span class=\"k\">,</span> styleName<span class=\"k\">)</span> <span class=\"k\">{</span>","        <span class=\"k\">function</span> fixUnit<span class=\"k\">(</span>key<span class=\"k\">,</span> val<span class=\"k\">)</span> <span class=\"k\">{</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span>key <span class=\"k\">==</span> <span class=\"s\">'font-size'</span> <span class=\"k\">&amp;&amp;</span> <span class=\"s\">/pt$/</span><span class=\"k\">.</span>test<span class=\"k\">(</span>val<span class=\"k\">))</span> <span class=\"k\">{</span>","                val <span class=\"k\">=</span> Math<span class=\"k\">.</span>round<span class=\"k\">(</span>parseFloat<span class=\"k\">(</span>val<span class=\"k\">)</span> <span class=\"k\">/</span> <span class=\"s\">0.75</span><span class=\"k\">)</span> <span class=\"k\">+</span> <span class=\"s\">'px'</span><span class=\"k\">;</span>","            <span class=\"k\">}</span>","            <span class=\"k\">return</span> val<span class=\"k\">;</span>","        <span class=\"k\">}</span>","        <span class=\"c\">//&#24573;&#30053;&#25991;&#26412;&#33410;&#28857;</span>","        <span class=\"k\">if</span> <span class=\"k\">(</span>element<span class=\"k\">.</span>nodeType <span class=\"k\">==</span> <span class=\"s\">3</span><span class=\"k\">)</span> <span class=\"k\">{</span>","            element <span class=\"k\">=</span> element<span class=\"k\">.</span>parentNode<span class=\"k\">;</span>","        <span class=\"k\">}</span>","        <span class=\"c\">//ie&#19979;font-size&#33509;body&#19979;&#23450;&#20041;&#20102;font-size&#65292;&#21017;&#20174;currentStyle&#37324;&#20250;&#21462;&#21040;&#36825;&#20010;font-size. &#21462;&#19981;&#21040;&#23454;&#38469;&#20540;&#65292;&#25925;&#27492;&#20462;&#25913;.</span>","        <span class=\"k\">if</span> <span class=\"k\">(</span>browser<span class=\"k\">.</span>ie <span class=\"k\">&amp;&amp;</span> browser<span class=\"k\">.</span>version <span class=\"k\">&lt;</span> <span class=\"s\">9</span> <span class=\"k\">&amp;&amp;</span> styleName <span class=\"k\">==</span> <span class=\"s\">'font-size'</span> <span class=\"k\">&amp;&amp;</span> <span class=\"k\">!</span>element<span class=\"k\">.</span>style<span class=\"k\">.</span>fontSize <span class=\"k\">&amp;&amp;</span>","            <span class=\"k\">!</span>dtd<span class=\"k\">.</span>$empty<span class=\"k\">[</span>element<span class=\"k\">.</span>tagName<span class=\"k\">]</span> <span class=\"k\">&amp;&amp;</span> <span class=\"k\">!</span>dtd<span class=\"k\">.</span>$nonChild<span class=\"k\">[</span>element<span class=\"k\">.</span>tagName<span class=\"k\">])</span> <span class=\"k\">{</span>","            <span class=\"k\">var</span> span <span class=\"k\">=</span> element<span class=\"k\">.</span>ownerDocument<span class=\"k\">.</span>createElement<span class=\"k\">(</span><span class=\"s\">'span'</span><span class=\"k\">);</span>","            span<span class=\"k\">.</span>style<span class=\"k\">.</span>cssText <span class=\"k\">=</span> <span class=\"s\">'padding:0;border:0;font-family:simsun;'</span><span class=\"k\">;</span>","            span<span class=\"k\">.</span>innerHTML <span class=\"k\">=</span> <span class=\"s\">'.'</span><span class=\"k\">;</span>","            element<span class=\"k\">.</span>appendChild<span class=\"k\">(</span>span<span class=\"k\">);</span>","            <span class=\"k\">var</span> result <span class=\"k\">=</span> span<span class=\"k\">.</span>offsetHeight<span class=\"k\">;</span>","            element<span class=\"k\">.</span>removeChild<span class=\"k\">(</span>span<span class=\"k\">);</span>","            span <span class=\"k\">=</span> <span class=\"k\">null</span><span class=\"k\">;</span>","            <span class=\"k\">return</span> result <span class=\"k\">+</span> <span class=\"s\">'px'</span><span class=\"k\">;</span>","        <span class=\"k\">}</span>","        <span class=\"k\">try</span> <span class=\"k\">{</span>","            <span class=\"k\">var</span> value <span class=\"k\">=</span> domUtils<span class=\"k\">.</span>getStyle<span class=\"k\">(</span>element<span class=\"k\">,</span> styleName<span class=\"k\">)</span> <span class=\"k\">||</span>","                <span class=\"k\">(</span>window<span class=\"k\">.</span>getComputedStyle <span class=\"k\">?</span> domUtils<span class=\"k\">.</span>getWindow<span class=\"k\">(</span>element<span class=\"k\">).</span>getComputedStyle<span class=\"k\">(</span>element<span class=\"k\">,</span> <span class=\"s\">''</span><span class=\"k\">).</span>getPropertyValue<span class=\"k\">(</span>styleName<span class=\"k\">)</span> <span class=\"k\">:</span>","                    <span class=\"k\">(</span> element<span class=\"k\">.</span>currentStyle <span class=\"k\">||</span> element<span class=\"k\">.</span>style <span class=\"k\">)[</span>utils<span class=\"k\">.</span>cssStyleToDomStyle<span class=\"k\">(</span>styleName<span class=\"k\">)]);</span>","","        <span class=\"k\">}</span> <span class=\"k\">catch</span> <span class=\"k\">(</span>e<span class=\"k\">)</span> <span class=\"k\">{</span>","            <span class=\"k\">return</span> <span class=\"s\">\"\"</span><span class=\"k\">;</span>","        <span class=\"k\">}</span>","        <span class=\"k\">return</span> fixUnit<span class=\"k\">(</span>styleName<span class=\"k\">,</span> utils<span class=\"k\">.</span>fixColor<span class=\"k\">(</span>styleName<span class=\"k\">,</span> value<span class=\"k\">));</span>","    <span class=\"k\">}</span><span class=\"k\">,</span>","    <span class=\"c\">/**</span>","<span class=\"c\">     * &#22312;&#20803;&#32032;element&#19978;&#21024;&#38500;classNames&#65292;&#25903;&#25345;&#21516;&#26102;&#21024;&#38500;&#22810;&#20010;</span>","<span class=\"c\">     * @name removeClasses</span>","<span class=\"c\">     * @grammar UE.dom.domUtils.removeClasses(element,classNames)</span>","<span class=\"c\">     * @example</span>","<span class=\"c\">     * //&#25191;&#34892;&#26041;&#27861;&#21069;&#30340;dom&#32467;&#26500;</span>","<span class=\"c\">     * &lt;span class=\"test1 test2 test3\"&gt;xxx&lt;/span&gt;</span>","<span class=\"c\">     * //&#25191;&#34892;&#26041;&#27861;</span>","<span class=\"c\">     * UE.dom.domUtils.removeClasses(element,[\"test1\",\"test3\"])</span>","<span class=\"c\">     * //&#25191;&#34892;&#26041;&#27861;&#21518;&#30340;dom&#32467;&#26500;</span>","<span class=\"c\">     * &lt;span class=\"test2\"&gt;xxx&lt;/span&gt;</span>","<span class=\"c\">     */</span>","    removeClasses<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">(</span>element<span class=\"k\">,</span> classNames<span class=\"k\">)</span> <span class=\"k\">{</span>","        classNames <span class=\"k\">=</span> utils<span class=\"k\">.</span>isArray<span class=\"k\">(</span>classNames<span class=\"k\">)</span> <span class=\"k\">?</span> classNames <span class=\"k\">:</span> <span class=\"k\">[</span>classNames<span class=\"k\">];</span>","        element<span class=\"k\">.</span>className <span class=\"k\">=</span> <span class=\"k\">(</span><span class=\"s\">' '</span> <span class=\"k\">+</span> element<span class=\"k\">.</span>className <span class=\"k\">+</span> <span class=\"s\">' '</span><span class=\"k\">).</span>replace<span class=\"k\">(</span>","            <span class=\"k\">new</span> RegExp<span class=\"k\">(</span><span class=\"s\">'(?:</span><span class=\"t\">\\\\</span><span class=\"s\">s+(?:'</span> <span class=\"k\">+</span> classNames<span class=\"k\">.</span>join<span class=\"k\">(</span><span class=\"s\">'|'</span><span class=\"k\">)</span> <span class=\"k\">+</span> <span class=\"s\">'))+</span><span class=\"t\">\\\\</span><span class=\"s\">s+'</span><span class=\"k\">,</span> <span class=\"s\">'g'</span><span class=\"k\">),</span> <span class=\"s\">' '</span><span class=\"k\">);</span>","    <span class=\"k\">}</span><span class=\"k\">,</span>","    <span class=\"c\">/**</span>","<span class=\"c\">     * &#22312;&#20803;&#32032;element&#19978;&#22686;&#21152;&#19968;&#20010;&#26679;&#24335;&#31867;className&#65292;&#25903;&#25345;&#20197;&#31354;&#26684;&#20998;&#24320;&#30340;&#22810;&#20010;&#31867;&#21517;</span>","<span class=\"c\">     * @name addClass</span>","<span class=\"c\">     * @grammar UE.dom.domUtils.addClass(element,classNames)</span>","<span class=\"c\">     */</span>","    addClass<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">(</span>element<span class=\"k\">,</span> classNames<span class=\"k\">)</span> <span class=\"k\">{</span>","        <span class=\"k\">if</span> <span class=\"k\">(!</span><span class=\"k\">this</span><span class=\"k\">.</span>hasClass<span class=\"k\">(</span>element<span class=\"k\">,</span> classNames<span class=\"k\">))</span> <span class=\"k\">{</span>","            element<span class=\"k\">.</span>className <span class=\"k\">+=</span> <span class=\"s\">\" \"</span> <span class=\"k\">+</span> classNames<span class=\"k\">;</span>","        <span class=\"k\">}</span>","    <span class=\"k\">}</span><span class=\"k\">,</span>","    <span class=\"c\">/**</span>","<span class=\"c\">     * &#21028;&#26029;&#20803;&#32032;element&#26159;&#21542;&#21253;&#21547;&#26679;&#24335;&#31867;&#21517;className</span>","<span class=\"c\">     * @name hasClass</span>","<span class=\"c\">     * @grammar UE.dom.domUtils.hasClass(element,className)  =&gt;true|false</span>","<span class=\"c\">     */</span>","    hasClass<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">(</span>element<span class=\"k\">,</span> className<span class=\"k\">)</span> <span class=\"k\">{</span>","        <span class=\"k\">return</span> <span class=\"k\">(</span> <span class=\"s\">' '</span> <span class=\"k\">+</span> element<span class=\"k\">.</span>className <span class=\"k\">+</span> <span class=\"s\">' '</span> <span class=\"k\">).</span>indexOf<span class=\"k\">(</span><span class=\"s\">' '</span> <span class=\"k\">+</span> className <span class=\"k\">+</span> <span class=\"s\">' '</span><span class=\"k\">)</span> <span class=\"k\">&gt;</span> <span class=\"k\">-</span><span class=\"s\">1</span><span class=\"k\">;</span>","    <span class=\"k\">}</span><span class=\"k\">,</span>","","    <span class=\"c\">/**</span>","<span class=\"c\">     * &#38459;&#27490;&#20107;&#20214;&#40664;&#35748;&#34892;&#20026;</span>","<span class=\"c\">     * @param {Event} evt    &#38656;&#35201;&#32452;&#32455;&#30340;&#20107;&#20214;&#23545;&#35937;</span>","<span class=\"c\">     */</span>","    preventDefault<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">(</span>evt<span class=\"k\">)</span> <span class=\"k\">{</span>","        evt<span class=\"k\">.</span>preventDefault <span class=\"k\">?</span> evt<span class=\"k\">.</span>preventDefault<span class=\"k\">()</span> <span class=\"k\">:</span> <span class=\"k\">(</span>evt<span class=\"k\">.</span>returnValue <span class=\"k\">=</span> <span class=\"k\">false</span><span class=\"k\">);</span>","    <span class=\"k\">}</span><span class=\"k\">,</span>","    <span class=\"c\">/**</span>","<span class=\"c\">     * &#21024;&#38500;&#20803;&#32032;element&#30340;&#26679;&#24335;</span>","<span class=\"c\">     * @grammar UE.dom.domUtils.removeStyle(element,name)        &#21024;&#38500;&#30340;&#26679;&#24335;&#21517;&#31216;</span>","<span class=\"c\">     */</span>","    removeStyle<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">(</span>element<span class=\"k\">,</span> name<span class=\"k\">)</span> <span class=\"k\">{</span>","        element<span class=\"k\">.</span>style<span class=\"k\">[</span>utils<span class=\"k\">.</span>cssStyleToDomStyle<span class=\"k\">(</span>name<span class=\"k\">)]</span> <span class=\"k\">=</span> <span class=\"s\">''</span><span class=\"k\">;</span>","        <span class=\"k\">if</span> <span class=\"k\">(!</span>element<span class=\"k\">.</span>style<span class=\"k\">.</span>cssText<span class=\"k\">)</span> <span class=\"k\">{</span>","            domUtils<span class=\"k\">.</span>removeAttributes<span class=\"k\">(</span>element<span class=\"k\">,</span> <span class=\"k\">[</span><span class=\"s\">'style'</span><span class=\"k\">]);</span>","        <span class=\"k\">}</span>","    <span class=\"k\">}</span><span class=\"k\">,</span>","    <span class=\"c\">/**</span>","<span class=\"c\">     * &#33719;&#21462;&#20803;&#32032;element&#30340;&#26576;&#20010;&#26679;&#24335;&#20540;</span>","<span class=\"c\">     * @name getStyle</span>","<span class=\"c\">     * @grammar UE.dom.domUtils.getStyle(element,name)  =&gt; String</span>","<span class=\"c\">     */</span>","    getStyle<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">(</span>element<span class=\"k\">,</span> name<span class=\"k\">)</span> <span class=\"k\">{</span>","        <span class=\"k\">var</span> value <span class=\"k\">=</span> element<span class=\"k\">.</span>style<span class=\"k\">[</span> utils<span class=\"k\">.</span>cssStyleToDomStyle<span class=\"k\">(</span>name<span class=\"k\">)</span> <span class=\"k\">];</span>","        <span class=\"k\">return</span> utils<span class=\"k\">.</span>fixColor<span class=\"k\">(</span>name<span class=\"k\">,</span> value<span class=\"k\">);</span>","    <span class=\"k\">}</span><span class=\"k\">,</span>","    <span class=\"c\">/**</span>","<span class=\"c\">     * &#20026;&#20803;&#32032;element&#35774;&#32622;&#26679;&#24335;&#23646;&#24615;&#20540;</span>","<span class=\"c\">     * @name setStyle</span>","<span class=\"c\">     * @grammar UE.dom.domUtils.setStyle(element,name,value)</span>","<span class=\"c\">     */</span>","    setStyle<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">(</span>element<span class=\"k\">,</span> name<span class=\"k\">,</span> value<span class=\"k\">)</span> <span class=\"k\">{</span>","        element<span class=\"k\">.</span>style<span class=\"k\">[</span>utils<span class=\"k\">.</span>cssStyleToDomStyle<span class=\"k\">(</span>name<span class=\"k\">)]</span> <span class=\"k\">=</span> value<span class=\"k\">;</span>","    <span class=\"k\">}</span><span class=\"k\">,</span>","    <span class=\"c\">/**</span>","<span class=\"c\">     * &#20026;&#20803;&#32032;element&#35774;&#32622;&#26679;&#24335;&#23646;&#24615;&#20540;</span>","<span class=\"c\">     * @name setStyles</span>","<span class=\"c\">     * @grammar UE.dom.domUtils.setStyle(element,styles)  //styles&#20026;&#26679;&#24335;&#38190;&#20540;&#23545;</span>","<span class=\"c\">     */</span>","    setStyles<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">(</span>element<span class=\"k\">,</span> styles<span class=\"k\">)</span> <span class=\"k\">{</span>","        <span class=\"k\">for</span> <span class=\"k\">(</span><span class=\"k\">var</span> name <span class=\"k\">in</span> styles<span class=\"k\">)</span> <span class=\"k\">{</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span>styles<span class=\"k\">.</span>hasOwnProperty<span class=\"k\">(</span>name<span class=\"k\">))</span> <span class=\"k\">{</span>","                domUtils<span class=\"k\">.</span>setStyle<span class=\"k\">(</span>element<span class=\"k\">,</span> name<span class=\"k\">,</span> styles<span class=\"k\">[</span>name<span class=\"k\">]);</span>","            <span class=\"k\">}</span>","        <span class=\"k\">}</span>","    <span class=\"k\">}</span><span class=\"k\">,</span>","    <span class=\"c\">/**</span>","<span class=\"c\">     * &#21024;&#38500;_moz_dirty&#23646;&#24615;</span>","<span class=\"c\">     * @function</span>","<span class=\"c\">     */</span>","    removeDirtyAttr<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">(</span>node<span class=\"k\">)</span> <span class=\"k\">{</span>","        <span class=\"k\">for</span> <span class=\"k\">(</span><span class=\"k\">var</span> i <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">,</span> ci<span class=\"k\">,</span> nodes <span class=\"k\">=</span> node<span class=\"k\">.</span>getElementsByTagName<span class=\"k\">(</span><span class=\"s\">'*'</span><span class=\"k\">);</span> ci <span class=\"k\">=</span> nodes<span class=\"k\">[</span>i<span class=\"k\">++];)</span> <span class=\"k\">{</span>","            ci<span class=\"k\">.</span>removeAttribute<span class=\"k\">(</span><span class=\"s\">'_moz_dirty'</span><span class=\"k\">);</span>","        <span class=\"k\">}</span>","        node<span class=\"k\">.</span>removeAttribute<span class=\"k\">(</span><span class=\"s\">'_moz_dirty'</span><span class=\"k\">);</span>","    <span class=\"k\">}</span><span class=\"k\">,</span>","    <span class=\"c\">/**</span>","<span class=\"c\">     * &#36820;&#22238;&#23376;&#33410;&#28857;&#30340;&#25968;&#37327;</span>","<span class=\"c\">     * @function</span>","<span class=\"c\">     * @param {Node}    node    &#29238;&#33410;&#28857;</span>","<span class=\"c\">     * @param  {Function}    fn    &#36807;&#28388;&#23376;&#33410;&#28857;&#30340;&#35268;&#21017;&#65292;&#33509;&#20026;&#31354;&#65292;&#21017;&#24471;&#21040;&#25152;&#26377;&#23376;&#33410;&#28857;&#30340;&#25968;&#37327;</span>","<span class=\"c\">     * @return {Number}    &#31526;&#21512;&#26465;&#20214;&#23376;&#33410;&#28857;&#30340;&#25968;&#37327;</span>","<span class=\"c\">     */</span>","    getChildCount<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">(</span>node<span class=\"k\">,</span> fn<span class=\"k\">)</span> <span class=\"k\">{</span>","        <span class=\"k\">var</span> count <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">,</span> first <span class=\"k\">=</span> node<span class=\"k\">.</span>firstChild<span class=\"k\">;</span>","        fn <span class=\"k\">=</span> fn <span class=\"k\">||</span> <span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","            <span class=\"k\">return</span> <span class=\"s\">1</span><span class=\"k\">;</span>","        <span class=\"k\">}</span><span class=\"k\">;</span>","        <span class=\"k\">while</span> <span class=\"k\">(</span>first<span class=\"k\">)</span> <span class=\"k\">{</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span>fn<span class=\"k\">(</span>first<span class=\"k\">))</span> <span class=\"k\">{</span>","                count<span class=\"k\">++;</span>","            <span class=\"k\">}</span>","            first <span class=\"k\">=</span> first<span class=\"k\">.</span>nextSibling<span class=\"k\">;</span>","        <span class=\"k\">}</span>","        <span class=\"k\">return</span> count<span class=\"k\">;</span>","    <span class=\"k\">}</span><span class=\"k\">,</span>","","    <span class=\"c\">/**</span>","<span class=\"c\">     * &#21028;&#26029;&#26159;&#21542;&#20026;&#31354;&#33410;&#28857;</span>","<span class=\"c\">     * @function</span>","<span class=\"c\">     * @param {Node}    node    &#33410;&#28857;</span>","<span class=\"c\">     * @return {Boolean}    &#26159;&#21542;&#20026;&#31354;&#33410;&#28857;</span>","<span class=\"c\">     */</span>","    isEmptyNode<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">(</span>node<span class=\"k\">)</span> <span class=\"k\">{</span>","        <span class=\"k\">return</span> <span class=\"k\">!</span>node<span class=\"k\">.</span>firstChild <span class=\"k\">||</span> domUtils<span class=\"k\">.</span>getChildCount<span class=\"k\">(</span>node<span class=\"k\">,</span> <span class=\"k\">function</span> <span class=\"k\">(</span>node<span class=\"k\">)</span> <span class=\"k\">{</span>","            <span class=\"k\">return</span>  <span class=\"k\">!</span>domUtils<span class=\"k\">.</span>isBr<span class=\"k\">(</span>node<span class=\"k\">)</span> <span class=\"k\">&amp;&amp;</span> <span class=\"k\">!</span>domUtils<span class=\"k\">.</span>isBookmarkNode<span class=\"k\">(</span>node<span class=\"k\">)</span> <span class=\"k\">&amp;&amp;</span> <span class=\"k\">!</span>domUtils<span class=\"k\">.</span>isWhitespace<span class=\"k\">(</span>node<span class=\"k\">)</span>","        <span class=\"k\">}</span><span class=\"k\">)</span> <span class=\"k\">==</span> <span class=\"s\">0</span>","    <span class=\"k\">}</span><span class=\"k\">,</span>","    <span class=\"c\">/**</span>","<span class=\"c\">     * &#28165;&#31354;&#33410;&#28857;&#25152;&#26377;&#30340;className</span>","<span class=\"c\">     * @function</span>","<span class=\"c\">     * @param {Array}    nodes    &#33410;&#28857;&#25968;&#32452;</span>","<span class=\"c\">     */</span>","    clearSelectedArr<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">(</span>nodes<span class=\"k\">)</span> <span class=\"k\">{</span>","        <span class=\"k\">var</span> node<span class=\"k\">;</span>","        <span class=\"k\">while</span> <span class=\"k\">(</span>node <span class=\"k\">=</span> nodes<span class=\"k\">.</span>pop<span class=\"k\">())</span> <span class=\"k\">{</span>","            domUtils<span class=\"k\">.</span>removeAttributes<span class=\"k\">(</span>node<span class=\"k\">,</span> <span class=\"k\">[</span><span class=\"s\">'class'</span><span class=\"k\">]);</span>","        <span class=\"k\">}</span>","    <span class=\"k\">}</span><span class=\"k\">,</span>","    <span class=\"c\">/**</span>","<span class=\"c\">     * &#23558;&#26174;&#31034;&#21306;&#22495;&#28378;&#21160;&#21040;&#26174;&#31034;&#33410;&#28857;&#30340;&#20301;&#32622;</span>","<span class=\"c\">     * @function</span>","<span class=\"c\">     * @param    {Node}   node    &#33410;&#28857;</span>","<span class=\"c\">     * @param    {window}   win      window&#23545;&#35937;</span>","<span class=\"c\">     * @param    {Number}    offsetTop    &#36317;&#31163;&#19978;&#26041;&#30340;&#20559;&#31227;&#37327;</span>","<span class=\"c\">     */</span>","    scrollToView<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">(</span>node<span class=\"k\">,</span> win<span class=\"k\">,</span> offsetTop<span class=\"k\">)</span> <span class=\"k\">{</span>","        <span class=\"k\">var</span> getViewPaneSize <span class=\"k\">=</span> <span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","                <span class=\"k\">var</span> doc <span class=\"k\">=</span> win<span class=\"k\">.</span>document<span class=\"k\">,</span>","                    mode <span class=\"k\">=</span> doc<span class=\"k\">.</span>compatMode <span class=\"k\">==</span> <span class=\"s\">'CSS1Compat'</span><span class=\"k\">;</span>","                <span class=\"k\">return</span> <span class=\"k\">{</span>","                    width<span class=\"k\">:(</span> mode <span class=\"k\">?</span> doc<span class=\"k\">.</span>documentElement<span class=\"k\">.</span>clientWidth <span class=\"k\">:</span> doc<span class=\"k\">.</span>body<span class=\"k\">.</span>clientWidth <span class=\"k\">)</span> <span class=\"k\">||</span> <span class=\"s\">0</span><span class=\"k\">,</span>","                    height<span class=\"k\">:(</span> mode <span class=\"k\">?</span> doc<span class=\"k\">.</span>documentElement<span class=\"k\">.</span>clientHeight <span class=\"k\">:</span> doc<span class=\"k\">.</span>body<span class=\"k\">.</span>clientHeight <span class=\"k\">)</span> <span class=\"k\">||</span> <span class=\"s\">0</span>","                <span class=\"k\">}</span><span class=\"k\">;</span>","            <span class=\"k\">}</span><span class=\"k\">,</span>","            getScrollPosition <span class=\"k\">=</span> <span class=\"k\">function</span> <span class=\"k\">(</span>win<span class=\"k\">)</span> <span class=\"k\">{</span>","                <span class=\"k\">if</span> <span class=\"k\">(</span><span class=\"s\">'pageXOffset'</span> <span class=\"k\">in</span> win<span class=\"k\">)</span> <span class=\"k\">{</span>","                    <span class=\"k\">return</span> <span class=\"k\">{</span>","                        x<span class=\"k\">:</span>win<span class=\"k\">.</span>pageXOffset <span class=\"k\">||</span> <span class=\"s\">0</span><span class=\"k\">,</span>","                        y<span class=\"k\">:</span>win<span class=\"k\">.</span>pageYOffset <span class=\"k\">||</span> <span class=\"s\">0</span>","                    <span class=\"k\">}</span><span class=\"k\">;</span>","                <span class=\"k\">}</span>","                <span class=\"k\">else</span> <span class=\"k\">{</span>","                    <span class=\"k\">var</span> doc <span class=\"k\">=</span> win<span class=\"k\">.</span>document<span class=\"k\">;</span>","                    <span class=\"k\">return</span> <span class=\"k\">{</span>","                        x<span class=\"k\">:</span>doc<span class=\"k\">.</span>documentElement<span class=\"k\">.</span>scrollLeft <span class=\"k\">||</span> doc<span class=\"k\">.</span>body<span class=\"k\">.</span>scrollLeft <span class=\"k\">||</span> <span class=\"s\">0</span><span class=\"k\">,</span>","                        y<span class=\"k\">:</span>doc<span class=\"k\">.</span>documentElement<span class=\"k\">.</span>scrollTop <span class=\"k\">||</span> doc<span class=\"k\">.</span>body<span class=\"k\">.</span>scrollTop <span class=\"k\">||</span> <span class=\"s\">0</span>","                    <span class=\"k\">}</span><span class=\"k\">;</span>","                <span class=\"k\">}</span>","            <span class=\"k\">}</span><span class=\"k\">;</span>","        <span class=\"k\">var</span> winHeight <span class=\"k\">=</span> getViewPaneSize<span class=\"k\">().</span>height<span class=\"k\">,</span> offset <span class=\"k\">=</span> winHeight <span class=\"k\">*</span> <span class=\"k\">-</span><span class=\"s\">1</span> <span class=\"k\">+</span> offsetTop<span class=\"k\">;</span>","        offset <span class=\"k\">+=</span> <span class=\"k\">(</span>node<span class=\"k\">.</span>offsetHeight <span class=\"k\">||</span> <span class=\"s\">0</span><span class=\"k\">);</span>","        <span class=\"k\">var</span> elementPosition <span class=\"k\">=</span> domUtils<span class=\"k\">.</span>getXY<span class=\"k\">(</span>node<span class=\"k\">);</span>","        offset <span class=\"k\">+=</span> elementPosition<span class=\"k\">.</span>y<span class=\"k\">;</span>","        <span class=\"k\">var</span> currentScroll <span class=\"k\">=</span> getScrollPosition<span class=\"k\">(</span>win<span class=\"k\">).</span>y<span class=\"k\">;</span>","        <span class=\"c\">// offset += 50;</span>","        <span class=\"k\">if</span> <span class=\"k\">(</span>offset <span class=\"k\">&gt;</span> currentScroll <span class=\"k\">||</span> offset <span class=\"k\">&lt;</span> currentScroll <span class=\"k\">-</span> winHeight<span class=\"k\">)</span> <span class=\"k\">{</span>","            win<span class=\"k\">.</span>scrollTo<span class=\"k\">(</span><span class=\"s\">0</span><span class=\"k\">,</span> offset <span class=\"k\">+</span> <span class=\"k\">(</span>offset <span class=\"k\">&lt;</span> <span class=\"s\">0</span> <span class=\"k\">?</span> <span class=\"k\">-</span><span class=\"s\">20</span> <span class=\"k\">:</span> <span class=\"s\">20</span><span class=\"k\">));</span>","        <span class=\"k\">}</span>","    <span class=\"k\">}</span><span class=\"k\">,</span>","    <span class=\"c\">/**</span>","<span class=\"c\">     * &#21028;&#26029;&#33410;&#28857;&#26159;&#21542;&#20026;br</span>","<span class=\"c\">     * @function</span>","<span class=\"c\">     * @param {Node}    node   &#33410;&#28857;</span>","<span class=\"c\">     */</span>","    isBr<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">(</span>node<span class=\"k\">)</span> <span class=\"k\">{</span>","        <span class=\"k\">return</span> node<span class=\"k\">.</span>nodeType <span class=\"k\">==</span> <span class=\"s\">1</span> <span class=\"k\">&amp;&amp;</span> node<span class=\"k\">.</span>tagName <span class=\"k\">==</span> <span class=\"s\">'BR'</span><span class=\"k\">;</span>","    <span class=\"k\">}</span><span class=\"k\">,</span>","    isFillChar<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">(</span>node<span class=\"k\">)</span> <span class=\"k\">{</span>","        <span class=\"k\">return</span> node<span class=\"k\">.</span>nodeType <span class=\"k\">==</span> <span class=\"s\">3</span> <span class=\"k\">&amp;&amp;</span> <span class=\"k\">!</span>node<span class=\"k\">.</span>nodeValue<span class=\"k\">.</span>replace<span class=\"k\">(</span><span class=\"k\">new</span> RegExp<span class=\"k\">(</span>domUtils<span class=\"k\">.</span>fillChar<span class=\"k\">),</span> <span class=\"s\">''</span><span class=\"k\">).</span>length","    <span class=\"k\">}</span><span class=\"k\">,</span>","    isStartInblock<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">(</span>range<span class=\"k\">)</span> <span class=\"k\">{</span>","        <span class=\"k\">var</span> tmpRange <span class=\"k\">=</span> range<span class=\"k\">.</span>cloneRange<span class=\"k\">(),</span>","            flag <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">,</span>","            start <span class=\"k\">=</span> tmpRange<span class=\"k\">.</span>startContainer<span class=\"k\">,</span>","            tmp<span class=\"k\">;</span>","        <span class=\"k\">while</span> <span class=\"k\">(</span>start <span class=\"k\">&amp;&amp;</span> domUtils<span class=\"k\">.</span>isFillChar<span class=\"k\">(</span>start<span class=\"k\">))</span> <span class=\"k\">{</span>","            tmp <span class=\"k\">=</span> start<span class=\"k\">;</span>","            start <span class=\"k\">=</span> start<span class=\"k\">.</span>previousSibling","        <span class=\"k\">}</span>","        <span class=\"k\">if</span> <span class=\"k\">(</span>tmp<span class=\"k\">)</span> <span class=\"k\">{</span>","            tmpRange<span class=\"k\">.</span>setStartBefore<span class=\"k\">(</span>tmp<span class=\"k\">);</span>","            start <span class=\"k\">=</span> tmpRange<span class=\"k\">.</span>startContainer<span class=\"k\">;</span>","        <span class=\"k\">}</span>","        <span class=\"k\">if</span> <span class=\"k\">(</span>start<span class=\"k\">.</span>nodeType <span class=\"k\">==</span> <span class=\"s\">1</span> <span class=\"k\">&amp;&amp;</span> domUtils<span class=\"k\">.</span>isEmptyNode<span class=\"k\">(</span>start<span class=\"k\">)</span> <span class=\"k\">&amp;&amp;</span> tmpRange<span class=\"k\">.</span>startOffset <span class=\"k\">==</span> <span class=\"s\">1</span><span class=\"k\">)</span> <span class=\"k\">{</span>","            tmpRange<span class=\"k\">.</span>setStart<span class=\"k\">(</span>start<span class=\"k\">,</span> <span class=\"s\">0</span><span class=\"k\">).</span>collapse<span class=\"k\">(</span><span class=\"k\">true</span><span class=\"k\">);</span>","        <span class=\"k\">}</span>","        <span class=\"k\">while</span> <span class=\"k\">(!</span>tmpRange<span class=\"k\">.</span>startOffset<span class=\"k\">)</span> <span class=\"k\">{</span>","            start <span class=\"k\">=</span> tmpRange<span class=\"k\">.</span>startContainer<span class=\"k\">;</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span>domUtils<span class=\"k\">.</span>isBlockElm<span class=\"k\">(</span>start<span class=\"k\">)</span> <span class=\"k\">||</span> domUtils<span class=\"k\">.</span>isBody<span class=\"k\">(</span>start<span class=\"k\">))</span> <span class=\"k\">{</span>","                flag <span class=\"k\">=</span> <span class=\"s\">1</span><span class=\"k\">;</span>","                <span class=\"k\">break</span><span class=\"k\">;</span>","            <span class=\"k\">}</span>","            <span class=\"k\">var</span> pre <span class=\"k\">=</span> tmpRange<span class=\"k\">.</span>startContainer<span class=\"k\">.</span>previousSibling<span class=\"k\">,</span>","                tmpNode<span class=\"k\">;</span>","            <span class=\"k\">if</span> <span class=\"k\">(!</span>pre<span class=\"k\">)</span> <span class=\"k\">{</span>","                tmpRange<span class=\"k\">.</span>setStartBefore<span class=\"k\">(</span>tmpRange<span class=\"k\">.</span>startContainer<span class=\"k\">);</span>","            <span class=\"k\">}</span> <span class=\"k\">else</span> <span class=\"k\">{</span>","                <span class=\"k\">while</span> <span class=\"k\">(</span>pre <span class=\"k\">&amp;&amp;</span> domUtils<span class=\"k\">.</span>isFillChar<span class=\"k\">(</span>pre<span class=\"k\">))</span> <span class=\"k\">{</span>","                    tmpNode <span class=\"k\">=</span> pre<span class=\"k\">;</span>","                    pre <span class=\"k\">=</span> pre<span class=\"k\">.</span>previousSibling<span class=\"k\">;</span>","                <span class=\"k\">}</span>","                <span class=\"k\">if</span> <span class=\"k\">(</span>tmpNode<span class=\"k\">)</span> <span class=\"k\">{</span>","                    tmpRange<span class=\"k\">.</span>setStartBefore<span class=\"k\">(</span>tmpNode<span class=\"k\">);</span>","                <span class=\"k\">}</span> <span class=\"k\">else</span> <span class=\"k\">{</span>","                    tmpRange<span class=\"k\">.</span>setStartBefore<span class=\"k\">(</span>tmpRange<span class=\"k\">.</span>startContainer<span class=\"k\">);</span>","                <span class=\"k\">}</span>","            <span class=\"k\">}</span>","        <span class=\"k\">}</span>","        <span class=\"k\">return</span> flag <span class=\"k\">&amp;&amp;</span> <span class=\"k\">!</span>domUtils<span class=\"k\">.</span>isBody<span class=\"k\">(</span>tmpRange<span class=\"k\">.</span>startContainer<span class=\"k\">)</span> <span class=\"k\">?</span> <span class=\"s\">1</span> <span class=\"k\">:</span> <span class=\"s\">0</span><span class=\"k\">;</span>","    <span class=\"k\">}</span><span class=\"k\">,</span>","    isEmptyBlock<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">(</span>node<span class=\"k\">)</span> <span class=\"k\">{</span>","        <span class=\"k\">var</span> reg <span class=\"k\">=</span> <span class=\"k\">new</span> RegExp<span class=\"k\">(</span><span class=\"s\">'[ </span><span class=\"t\">\\t\\r\\n</span><span class=\"s\">'</span> <span class=\"k\">+</span> domUtils<span class=\"k\">.</span>fillChar <span class=\"k\">+</span> <span class=\"s\">']'</span><span class=\"k\">,</span> <span class=\"s\">'g'</span><span class=\"k\">);</span>","        <span class=\"k\">if</span> <span class=\"k\">(</span>node<span class=\"k\">[</span>browser<span class=\"k\">.</span>ie <span class=\"k\">?</span> <span class=\"s\">'innerText'</span> <span class=\"k\">:</span> <span class=\"s\">'textContent'</span><span class=\"k\">].</span>replace<span class=\"k\">(</span>reg<span class=\"k\">,</span> <span class=\"s\">''</span><span class=\"k\">).</span>length <span class=\"k\">&gt;</span> <span class=\"s\">0</span><span class=\"k\">)</span> <span class=\"k\">{</span>","            <span class=\"k\">return</span> <span class=\"s\">0</span><span class=\"k\">;</span>","        <span class=\"k\">}</span>","        <span class=\"k\">for</span> <span class=\"k\">(</span><span class=\"k\">var</span> n <span class=\"k\">in</span> dtd<span class=\"k\">.</span>$isNotEmpty<span class=\"k\">)</span> <span class=\"k\">{</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span>node<span class=\"k\">.</span>getElementsByTagName<span class=\"k\">(</span>n<span class=\"k\">).</span>length<span class=\"k\">)</span> <span class=\"k\">{</span>","                <span class=\"k\">return</span> <span class=\"s\">0</span><span class=\"k\">;</span>","            <span class=\"k\">}</span>","        <span class=\"k\">}</span>","        <span class=\"k\">return</span> <span class=\"s\">1</span><span class=\"k\">;</span>","    <span class=\"k\">}</span><span class=\"k\">,</span>","","    setViewportOffset<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">(</span>element<span class=\"k\">,</span> offset<span class=\"k\">)</span> <span class=\"k\">{</span>","        <span class=\"k\">var</span> left <span class=\"k\">=</span> parseInt<span class=\"k\">(</span>element<span class=\"k\">.</span>style<span class=\"k\">.</span>left<span class=\"k\">)</span> <span class=\"k\">|</span> <span class=\"s\">0</span><span class=\"k\">;</span>","        <span class=\"k\">var</span> top <span class=\"k\">=</span> parseInt<span class=\"k\">(</span>element<span class=\"k\">.</span>style<span class=\"k\">.</span>top<span class=\"k\">)</span> <span class=\"k\">|</span> <span class=\"s\">0</span><span class=\"k\">;</span>","        <span class=\"k\">var</span> rect <span class=\"k\">=</span> element<span class=\"k\">.</span>getBoundingClientRect<span class=\"k\">();</span>","        <span class=\"k\">var</span> offsetLeft <span class=\"k\">=</span> offset<span class=\"k\">.</span>left <span class=\"k\">-</span> rect<span class=\"k\">.</span>left<span class=\"k\">;</span>","        <span class=\"k\">var</span> offsetTop <span class=\"k\">=</span> offset<span class=\"k\">.</span>top <span class=\"k\">-</span> rect<span class=\"k\">.</span>top<span class=\"k\">;</span>","        <span class=\"k\">if</span> <span class=\"k\">(</span>offsetLeft<span class=\"k\">)</span> <span class=\"k\">{</span>","            element<span class=\"k\">.</span>style<span class=\"k\">.</span>left <span class=\"k\">=</span> left <span class=\"k\">+</span> offsetLeft <span class=\"k\">+</span> <span class=\"s\">'px'</span><span class=\"k\">;</span>","        <span class=\"k\">}</span>","        <span class=\"k\">if</span> <span class=\"k\">(</span>offsetTop<span class=\"k\">)</span> <span class=\"k\">{</span>","            element<span class=\"k\">.</span>style<span class=\"k\">.</span>top <span class=\"k\">=</span> top <span class=\"k\">+</span> offsetTop <span class=\"k\">+</span> <span class=\"s\">'px'</span><span class=\"k\">;</span>","        <span class=\"k\">}</span>","    <span class=\"k\">}</span><span class=\"k\">,</span>","    fillNode<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">(</span>doc<span class=\"k\">,</span> node<span class=\"k\">)</span> <span class=\"k\">{</span>","        <span class=\"k\">var</span> tmpNode <span class=\"k\">=</span> browser<span class=\"k\">.</span>ie <span class=\"k\">?</span> doc<span class=\"k\">.</span>createTextNode<span class=\"k\">(</span>domUtils<span class=\"k\">.</span>fillChar<span class=\"k\">)</span> <span class=\"k\">:</span> doc<span class=\"k\">.</span>createElement<span class=\"k\">(</span><span class=\"s\">'br'</span><span class=\"k\">);</span>","        node<span class=\"k\">.</span>innerHTML <span class=\"k\">=</span> <span class=\"s\">''</span><span class=\"k\">;</span>","        node<span class=\"k\">.</span>appendChild<span class=\"k\">(</span>tmpNode<span class=\"k\">);</span>","    <span class=\"k\">}</span><span class=\"k\">,</span>","    moveChild<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">(</span>src<span class=\"k\">,</span> tag<span class=\"k\">,</span> dir<span class=\"k\">)</span> <span class=\"k\">{</span>","        <span class=\"k\">while</span> <span class=\"k\">(</span>src<span class=\"k\">.</span>firstChild<span class=\"k\">)</span> <span class=\"k\">{</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span>dir <span class=\"k\">&amp;&amp;</span> tag<span class=\"k\">.</span>firstChild<span class=\"k\">)</span> <span class=\"k\">{</span>","                tag<span class=\"k\">.</span>insertBefore<span class=\"k\">(</span>src<span class=\"k\">.</span>lastChild<span class=\"k\">,</span> tag<span class=\"k\">.</span>firstChild<span class=\"k\">);</span>","            <span class=\"k\">}</span> <span class=\"k\">else</span> <span class=\"k\">{</span>","                tag<span class=\"k\">.</span>appendChild<span class=\"k\">(</span>src<span class=\"k\">.</span>firstChild<span class=\"k\">);</span>","            <span class=\"k\">}</span>","        <span class=\"k\">}</span>","    <span class=\"k\">}</span><span class=\"k\">,</span>","    <span class=\"c\">//&#21028;&#26029;&#26159;&#21542;&#26377;&#39069;&#22806;&#23646;&#24615;</span>","    hasNoAttributes<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">(</span>node<span class=\"k\">)</span> <span class=\"k\">{</span>","        <span class=\"k\">return</span> browser<span class=\"k\">.</span>ie <span class=\"k\">?</span> <span class=\"s\">/^&lt;\\w+\\s*?&gt;/</span><span class=\"k\">.</span>test<span class=\"k\">(</span>node<span class=\"k\">.</span>outerHTML<span class=\"k\">)</span> <span class=\"k\">:</span> node<span class=\"k\">.</span>attributes<span class=\"k\">.</span>length <span class=\"k\">==</span> <span class=\"s\">0</span><span class=\"k\">;</span>","    <span class=\"k\">}</span><span class=\"k\">,</span>","    <span class=\"c\">//&#21028;&#26029;&#26159;&#21542;&#26159;&#32534;&#36753;&#22120;&#33258;&#23450;&#20041;&#30340;&#21442;&#25968;</span>","    isCustomeNode<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">(</span>node<span class=\"k\">)</span> <span class=\"k\">{</span>","        <span class=\"k\">return</span> node<span class=\"k\">.</span>nodeType <span class=\"k\">==</span> <span class=\"s\">1</span> <span class=\"k\">&amp;&amp;</span> node<span class=\"k\">.</span>getAttribute<span class=\"k\">(</span><span class=\"s\">'_ue_custom_node_'</span><span class=\"k\">);</span>","    <span class=\"k\">}</span><span class=\"k\">,</span>","    isTagNode<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">(</span>node<span class=\"k\">,</span> tagName<span class=\"k\">)</span> <span class=\"k\">{</span>","        <span class=\"k\">return</span> node<span class=\"k\">.</span>nodeType <span class=\"k\">==</span> <span class=\"s\">1</span> <span class=\"k\">&amp;&amp;</span> node<span class=\"k\">.</span>tagName<span class=\"k\">.</span>toLowerCase<span class=\"k\">()</span> <span class=\"k\">==</span> tagName<span class=\"k\">;</span>","    <span class=\"k\">}</span>","<span class=\"k\">}</span><span class=\"k\">;</span>","<span class=\"k\">var</span> fillCharReg <span class=\"k\">=</span> <span class=\"k\">new</span> RegExp<span class=\"k\">(</span>domUtils<span class=\"k\">.</span>fillChar<span class=\"k\">,</span> <span class=\"s\">'g'</span><span class=\"k\">);</span>"]);
_$jscoverage['core/dom/dtd.js'] && (_$jscoverage['core/dom/dtd.js'].source = ["<span class=\"c\">///import editor.js</span>","<span class=\"c\">///import core/dom/dom.js</span>","<span class=\"c\">/**</span>","<span class=\"c\"> * dtd html&#35821;&#20041;&#21270;&#30340;&#20307;&#29616;&#31867;</span>","<span class=\"c\"> * @constructor</span>","<span class=\"c\"> * @namespace dtd</span>","<span class=\"c\"> */</span>","<span class=\"k\">var</span> dtd <span class=\"k\">=</span> dom<span class=\"k\">.</span>dtd <span class=\"k\">=</span> <span class=\"k\">(</span><span class=\"k\">function</span><span class=\"k\">()</span> <span class=\"k\">{</span>","    <span class=\"k\">function</span> _<span class=\"k\">(</span> s <span class=\"k\">)</span> <span class=\"k\">{</span>","        <span class=\"k\">for</span> <span class=\"k\">(</span><span class=\"k\">var</span> k <span class=\"k\">in</span> s<span class=\"k\">)</span> <span class=\"k\">{</span>","            s<span class=\"k\">[</span>k<span class=\"k\">.</span>toUpperCase<span class=\"k\">()]</span> <span class=\"k\">=</span> s<span class=\"k\">[</span>k<span class=\"k\">];</span>","        <span class=\"k\">}</span>","        <span class=\"k\">return</span> s<span class=\"k\">;</span>","    <span class=\"k\">}</span>","    <span class=\"k\">function</span> X<span class=\"k\">(</span> t <span class=\"k\">)</span> <span class=\"k\">{</span>","        <span class=\"k\">var</span> a <span class=\"k\">=</span> arguments<span class=\"k\">;</span>","        <span class=\"k\">for</span> <span class=\"k\">(</span> <span class=\"k\">var</span> i<span class=\"k\">=</span><span class=\"s\">1</span><span class=\"k\">;</span> i<span class=\"k\">&lt;</span>a<span class=\"k\">.</span>length<span class=\"k\">;</span> i<span class=\"k\">++</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","            <span class=\"k\">var</span> x <span class=\"k\">=</span> a<span class=\"k\">[</span>i<span class=\"k\">];</span>","            <span class=\"k\">for</span> <span class=\"k\">(</span> <span class=\"k\">var</span> k <span class=\"k\">in</span> x <span class=\"k\">)</span> <span class=\"k\">{</span>","                <span class=\"k\">if</span> <span class=\"k\">(!</span>t<span class=\"k\">.</span>hasOwnProperty<span class=\"k\">(</span>k<span class=\"k\">))</span> <span class=\"k\">{</span>","                    t<span class=\"k\">[</span>k<span class=\"k\">]</span> <span class=\"k\">=</span> x<span class=\"k\">[</span>k<span class=\"k\">];</span>","                <span class=\"k\">}</span>","            <span class=\"k\">}</span>","        <span class=\"k\">}</span>","        <span class=\"k\">return</span> t<span class=\"k\">;</span>","    <span class=\"k\">}</span>","    <span class=\"k\">var</span> A <span class=\"k\">=</span> _<span class=\"k\">(</span><span class=\"k\">{</span>isindex<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>fieldset<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">}</span><span class=\"k\">),</span>","        B <span class=\"k\">=</span> _<span class=\"k\">(</span><span class=\"k\">{</span>input<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>button<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>select<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>textarea<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>label<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">}</span><span class=\"k\">),</span>","        C <span class=\"k\">=</span> X<span class=\"k\">(</span> _<span class=\"k\">(</span><span class=\"k\">{</span>a<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">}</span><span class=\"k\">),</span> B <span class=\"k\">),</span>","        D <span class=\"k\">=</span> X<span class=\"k\">(</span> <span class=\"k\">{</span>iframe<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">}</span><span class=\"k\">,</span> C <span class=\"k\">),</span>","        E <span class=\"k\">=</span> _<span class=\"k\">(</span><span class=\"k\">{</span>hr<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>ul<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>menu<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>div<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>blockquote<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>noscript<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>table<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>center<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>address<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>dir<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>pre<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>h5<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>dl<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>h4<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>noframes<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>h6<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>ol<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>h1<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>h3<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>h2<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">}</span><span class=\"k\">),</span>","        F <span class=\"k\">=</span> _<span class=\"k\">(</span><span class=\"k\">{</span>ins<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>del<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>script<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>style<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">}</span><span class=\"k\">),</span>","        G <span class=\"k\">=</span> X<span class=\"k\">(</span> _<span class=\"k\">(</span><span class=\"k\">{</span>b<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>acronym<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>bdo<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span><span class=\"s\">'var'</span><span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span><span class=\"s\">'#'</span><span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>abbr<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>code<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>br<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>i<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>cite<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>kbd<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>u<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>strike<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>s<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>tt<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>strong<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>q<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>samp<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>em<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>dfn<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>span<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">}</span><span class=\"k\">),</span> F <span class=\"k\">),</span>","        H <span class=\"k\">=</span> X<span class=\"k\">(</span> _<span class=\"k\">(</span><span class=\"k\">{</span>sub<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>img<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>embed<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>object<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>sup<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>basefont<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>map<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>applet<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>font<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>big<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>small<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">}</span><span class=\"k\">),</span> G <span class=\"k\">),</span>","        I <span class=\"k\">=</span> X<span class=\"k\">(</span> _<span class=\"k\">(</span><span class=\"k\">{</span>p<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">}</span><span class=\"k\">),</span> H <span class=\"k\">),</span>","        J <span class=\"k\">=</span> X<span class=\"k\">(</span> _<span class=\"k\">(</span><span class=\"k\">{</span>iframe<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">}</span><span class=\"k\">),</span> H<span class=\"k\">,</span> B <span class=\"k\">),</span>","        K <span class=\"k\">=</span> _<span class=\"k\">(</span><span class=\"k\">{</span>img<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>embed<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>noscript<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>br<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>kbd<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>center<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>button<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>basefont<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>h5<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>h4<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>samp<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>h6<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>ol<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>h1<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>h3<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>h2<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>form<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>font<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span><span class=\"s\">'#'</span><span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>select<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>menu<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>ins<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>abbr<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>label<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>code<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>table<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>script<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>cite<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>input<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>iframe<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>strong<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>textarea<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>noframes<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>big<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>small<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>span<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>hr<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>sub<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>bdo<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span><span class=\"s\">'var'</span><span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>div<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>object<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>sup<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>strike<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>dir<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>map<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>dl<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>applet<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>del<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>isindex<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>fieldset<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>ul<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>b<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>acronym<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>a<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>blockquote<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>i<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>u<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>s<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>tt<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>address<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>q<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>pre<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>p<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>em<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>dfn<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">}</span><span class=\"k\">),</span>","","        L <span class=\"k\">=</span> X<span class=\"k\">(</span> _<span class=\"k\">(</span><span class=\"k\">{</span>a<span class=\"k\">:</span><span class=\"s\">0</span><span class=\"k\">}</span><span class=\"k\">),</span> J <span class=\"k\">),</span><span class=\"c\">//a&#19981;&#33021;&#34987;&#20999;&#24320;&#65292;&#25152;&#20197;&#25226;&#20182;</span>","        M <span class=\"k\">=</span> _<span class=\"k\">(</span><span class=\"k\">{</span>tr<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">}</span><span class=\"k\">),</span>","        N <span class=\"k\">=</span> _<span class=\"k\">(</span><span class=\"k\">{</span><span class=\"s\">'#'</span><span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">}</span><span class=\"k\">),</span>","        O <span class=\"k\">=</span> X<span class=\"k\">(</span> _<span class=\"k\">(</span><span class=\"k\">{</span>param<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">}</span><span class=\"k\">),</span> K <span class=\"k\">),</span>","        P <span class=\"k\">=</span> X<span class=\"k\">(</span> _<span class=\"k\">(</span><span class=\"k\">{</span>form<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">}</span><span class=\"k\">),</span> A<span class=\"k\">,</span> D<span class=\"k\">,</span> E<span class=\"k\">,</span> I <span class=\"k\">),</span>","        Q <span class=\"k\">=</span> _<span class=\"k\">(</span><span class=\"k\">{</span>li<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">}</span><span class=\"k\">),</span>","        R <span class=\"k\">=</span> _<span class=\"k\">(</span><span class=\"k\">{</span>style<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>script<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">}</span><span class=\"k\">),</span>","        S <span class=\"k\">=</span> _<span class=\"k\">(</span><span class=\"k\">{</span>base<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>link<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>meta<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>title<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">}</span><span class=\"k\">),</span>","        T <span class=\"k\">=</span> X<span class=\"k\">(</span> S<span class=\"k\">,</span> R <span class=\"k\">),</span>","        U <span class=\"k\">=</span> _<span class=\"k\">(</span><span class=\"k\">{</span>head<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>body<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">}</span><span class=\"k\">),</span>","        V <span class=\"k\">=</span> _<span class=\"k\">(</span><span class=\"k\">{</span>html<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">}</span><span class=\"k\">);</span>","","    <span class=\"k\">var</span> block <span class=\"k\">=</span> _<span class=\"k\">(</span><span class=\"k\">{</span>address<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>blockquote<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>center<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>dir<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>div<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>dl<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>fieldset<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>form<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>h1<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>h2<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>h3<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>h4<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>h5<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>h6<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>hr<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>isindex<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>menu<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>noframes<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>ol<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>p<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>pre<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>table<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>ul<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">}</span><span class=\"k\">),</span>","        <span class=\"c\">//&#38024;&#23545;&#20248;&#37239;&#30340;embed&#20182;&#28155;&#21152;&#20102;&#32467;&#26463;&#26631;&#35782;&#65292;&#23548;&#33268;&#31896;&#36148;&#36827;&#26469;&#20250;&#21464;&#25104;&#20004;&#20010;&#65292;&#26242;&#26102;&#21435;&#25481; ,embed:1</span>","        empty <span class=\"k\">=</span>  _<span class=\"k\">(</span><span class=\"k\">{</span>area<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>base<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>br<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>col<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>hr<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>img<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>input<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>link<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>meta<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>param<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>embed<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">}</span><span class=\"k\">);</span>","","    <span class=\"k\">return</span>  _<span class=\"k\">(</span><span class=\"k\">{</span>","","        <span class=\"c\">// $ &#34920;&#31034;&#33258;&#23450;&#30340;&#23646;&#24615;</span>","","        <span class=\"c\">// body&#22806;&#30340;&#20803;&#32032;&#21015;&#34920;.</span>","        $nonBodyContent<span class=\"k\">:</span> X<span class=\"k\">(</span> V<span class=\"k\">,</span> U<span class=\"k\">,</span> S <span class=\"k\">),</span>","","        <span class=\"c\">//&#22359;&#32467;&#26500;&#20803;&#32032;&#21015;&#34920;</span>","        $block <span class=\"k\">:</span> block<span class=\"k\">,</span>","","        <span class=\"c\">//&#20869;&#32852;&#20803;&#32032;&#21015;&#34920;</span>","        $inline <span class=\"k\">:</span> L<span class=\"k\">,</span>","","        $body <span class=\"k\">:</span> X<span class=\"k\">(</span> _<span class=\"k\">(</span><span class=\"k\">{</span>script<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>style<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">}</span><span class=\"k\">),</span> block <span class=\"k\">),</span>","","        $cdata <span class=\"k\">:</span> _<span class=\"k\">(</span><span class=\"k\">{</span>script<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>style<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">}</span><span class=\"k\">),</span>","","        <span class=\"c\">//&#33258;&#38381;&#21644;&#20803;&#32032;</span>","        $empty <span class=\"k\">:</span> empty<span class=\"k\">,</span>","","        <span class=\"c\">//&#19981;&#26159;&#33258;&#38381;&#21512;&#65292;&#20294;&#19981;&#33021;&#35753;range&#36873;&#20013;&#37324;&#36793;</span>","        $nonChild <span class=\"k\">:</span> _<span class=\"k\">(</span><span class=\"k\">{</span>iframe<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>textarea<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">}</span><span class=\"k\">),</span>","        <span class=\"c\">//&#21015;&#34920;&#20803;&#32032;&#21015;&#34920;</span>","        $listItem <span class=\"k\">:</span> _<span class=\"k\">(</span><span class=\"k\">{</span>dd<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>dt<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>li<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">}</span><span class=\"k\">),</span>","","        <span class=\"c\">//&#21015;&#34920;&#26681;&#20803;&#32032;&#21015;&#34920;</span>","        $list<span class=\"k\">:</span> _<span class=\"k\">(</span><span class=\"k\">{</span>ul<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>ol<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>dl<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">}</span><span class=\"k\">),</span>","","        <span class=\"c\">//&#19981;&#33021;&#35748;&#20026;&#26159;&#31354;&#30340;&#20803;&#32032;</span>","        $isNotEmpty <span class=\"k\">:</span> _<span class=\"k\">(</span><span class=\"k\">{</span>table<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>ul<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>ol<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>dl<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>iframe<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>area<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>base<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>col<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>hr<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>img<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>embed<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>input<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>link<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>meta<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>param<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">}</span><span class=\"k\">),</span>","","        <span class=\"c\">//&#22914;&#26524;&#27809;&#26377;&#23376;&#33410;&#28857;&#23601;&#21487;&#20197;&#21024;&#38500;&#30340;&#20803;&#32032;&#21015;&#34920;&#65292;&#20687;span,a</span>","        $removeEmpty <span class=\"k\">:</span> _<span class=\"k\">(</span><span class=\"k\">{</span>a<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>abbr<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>acronym<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>address<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>b<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>bdo<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>big<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>cite<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>code<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>del<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>dfn<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>em<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>font<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>i<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>ins<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>label<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>kbd<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>q<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>s<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>samp<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>small<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>span<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>strike<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>strong<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>sub<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>sup<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>tt<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>u<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span><span class=\"s\">'var'</span><span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">}</span><span class=\"k\">),</span>","","        $removeEmptyBlock <span class=\"k\">:</span> _<span class=\"k\">(</span><span class=\"k\">{</span><span class=\"s\">'p'</span><span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span><span class=\"s\">'div'</span><span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">}</span><span class=\"k\">),</span>","","        <span class=\"c\">//&#22312;table&#20803;&#32032;&#37324;&#30340;&#20803;&#32032;&#21015;&#34920;</span>","        $tableContent <span class=\"k\">:</span> _<span class=\"k\">(</span><span class=\"k\">{</span>caption<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>col<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>colgroup<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>tbody<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>td<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>tfoot<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>th<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>thead<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>tr<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>table<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">}</span><span class=\"k\">),</span>","        <span class=\"c\">//&#19981;&#36716;&#25442;&#30340;&#26631;&#31614;</span>","        $notTransContent <span class=\"k\">:</span> _<span class=\"k\">(</span><span class=\"k\">{</span>pre<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>script<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>style<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>textarea<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">}</span><span class=\"k\">),</span>","        html<span class=\"k\">:</span> U<span class=\"k\">,</span>","        head<span class=\"k\">:</span> T<span class=\"k\">,</span>","        style<span class=\"k\">:</span> N<span class=\"k\">,</span>","        script<span class=\"k\">:</span> N<span class=\"k\">,</span>","        body<span class=\"k\">:</span> P<span class=\"k\">,</span>","        base<span class=\"k\">:</span> <span class=\"k\">{}</span><span class=\"k\">,</span>","        link<span class=\"k\">:</span> <span class=\"k\">{}</span><span class=\"k\">,</span>","        meta<span class=\"k\">:</span> <span class=\"k\">{}</span><span class=\"k\">,</span>","        title<span class=\"k\">:</span> N<span class=\"k\">,</span>","        col <span class=\"k\">:</span> <span class=\"k\">{}</span><span class=\"k\">,</span>","        tr <span class=\"k\">:</span> _<span class=\"k\">(</span><span class=\"k\">{</span>td<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>th<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">}</span><span class=\"k\">),</span>","        img <span class=\"k\">:</span> <span class=\"k\">{}</span><span class=\"k\">,</span>","        embed<span class=\"k\">:</span> <span class=\"k\">{}</span><span class=\"k\">,</span>","        colgroup <span class=\"k\">:</span> _<span class=\"k\">(</span><span class=\"k\">{</span>thead<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>col<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>tbody<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>tr<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>tfoot<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">}</span><span class=\"k\">),</span>","        noscript <span class=\"k\">:</span> P<span class=\"k\">,</span>","        td <span class=\"k\">:</span> P<span class=\"k\">,</span>","        br <span class=\"k\">:</span> <span class=\"k\">{}</span><span class=\"k\">,</span>","        th <span class=\"k\">:</span> P<span class=\"k\">,</span>","        center <span class=\"k\">:</span> P<span class=\"k\">,</span>","        kbd <span class=\"k\">:</span> L<span class=\"k\">,</span>","        button <span class=\"k\">:</span> X<span class=\"k\">(</span> I<span class=\"k\">,</span> E <span class=\"k\">),</span>","        basefont <span class=\"k\">:</span> <span class=\"k\">{}</span><span class=\"k\">,</span>","        h5 <span class=\"k\">:</span> L<span class=\"k\">,</span>","        h4 <span class=\"k\">:</span> L<span class=\"k\">,</span>","        samp <span class=\"k\">:</span> L<span class=\"k\">,</span>","        h6 <span class=\"k\">:</span> L<span class=\"k\">,</span>","        ol <span class=\"k\">:</span> Q<span class=\"k\">,</span>","        h1 <span class=\"k\">:</span> L<span class=\"k\">,</span>","        h3 <span class=\"k\">:</span> L<span class=\"k\">,</span>","        option <span class=\"k\">:</span> N<span class=\"k\">,</span>","        h2 <span class=\"k\">:</span> L<span class=\"k\">,</span>","        form <span class=\"k\">:</span> X<span class=\"k\">(</span> A<span class=\"k\">,</span> D<span class=\"k\">,</span> E<span class=\"k\">,</span> I <span class=\"k\">),</span>","        select <span class=\"k\">:</span> _<span class=\"k\">(</span><span class=\"k\">{</span>optgroup<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>option<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">}</span><span class=\"k\">),</span>","        font <span class=\"k\">:</span> L<span class=\"k\">,</span>","        ins <span class=\"k\">:</span> L<span class=\"k\">,</span>","        menu <span class=\"k\">:</span> Q<span class=\"k\">,</span>","        abbr <span class=\"k\">:</span> L<span class=\"k\">,</span>","        label <span class=\"k\">:</span> L<span class=\"k\">,</span>","        table <span class=\"k\">:</span> _<span class=\"k\">(</span><span class=\"k\">{</span>thead<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>col<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>tbody<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>tr<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>colgroup<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>caption<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>tfoot<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">}</span><span class=\"k\">),</span>","        code <span class=\"k\">:</span> L<span class=\"k\">,</span>","        tfoot <span class=\"k\">:</span> M<span class=\"k\">,</span>","        cite <span class=\"k\">:</span> L<span class=\"k\">,</span>","        li <span class=\"k\">:</span> P<span class=\"k\">,</span>","        input <span class=\"k\">:</span> <span class=\"k\">{}</span><span class=\"k\">,</span>","        iframe <span class=\"k\">:</span> P<span class=\"k\">,</span>","        strong <span class=\"k\">:</span> L<span class=\"k\">,</span>","        textarea <span class=\"k\">:</span> N<span class=\"k\">,</span>","        noframes <span class=\"k\">:</span> P<span class=\"k\">,</span>","        big <span class=\"k\">:</span> L<span class=\"k\">,</span>","        small <span class=\"k\">:</span> L<span class=\"k\">,</span>","        span <span class=\"k\">:</span>_<span class=\"k\">(</span><span class=\"k\">{</span><span class=\"s\">'#'</span><span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>br<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">}</span><span class=\"k\">),</span>","        hr <span class=\"k\">:</span> L<span class=\"k\">,</span>","        dt <span class=\"k\">:</span> L<span class=\"k\">,</span>","        sub <span class=\"k\">:</span> L<span class=\"k\">,</span>","        optgroup <span class=\"k\">:</span> _<span class=\"k\">(</span><span class=\"k\">{</span>option<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">}</span><span class=\"k\">),</span>","        param <span class=\"k\">:</span> <span class=\"k\">{}</span><span class=\"k\">,</span>","        bdo <span class=\"k\">:</span> L<span class=\"k\">,</span>","        <span class=\"s\">'var'</span> <span class=\"k\">:</span> L<span class=\"k\">,</span>","        div <span class=\"k\">:</span> P<span class=\"k\">,</span>","        object <span class=\"k\">:</span> O<span class=\"k\">,</span>","        sup <span class=\"k\">:</span> L<span class=\"k\">,</span>","        dd <span class=\"k\">:</span> P<span class=\"k\">,</span>","        strike <span class=\"k\">:</span> L<span class=\"k\">,</span>","        area <span class=\"k\">:</span> <span class=\"k\">{}</span><span class=\"k\">,</span>","        dir <span class=\"k\">:</span> Q<span class=\"k\">,</span>","        map <span class=\"k\">:</span> X<span class=\"k\">(</span> _<span class=\"k\">(</span><span class=\"k\">{</span>area<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>form<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>p<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">}</span><span class=\"k\">),</span> A<span class=\"k\">,</span> F<span class=\"k\">,</span> E <span class=\"k\">),</span>","        applet <span class=\"k\">:</span> O<span class=\"k\">,</span>","        dl <span class=\"k\">:</span> _<span class=\"k\">(</span><span class=\"k\">{</span>dt<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>dd<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">}</span><span class=\"k\">),</span>","        del <span class=\"k\">:</span> L<span class=\"k\">,</span>","        isindex <span class=\"k\">:</span> <span class=\"k\">{}</span><span class=\"k\">,</span>","        fieldset <span class=\"k\">:</span> X<span class=\"k\">(</span> _<span class=\"k\">(</span><span class=\"k\">{</span>legend<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">}</span><span class=\"k\">),</span> K <span class=\"k\">),</span>","        thead <span class=\"k\">:</span> M<span class=\"k\">,</span>","        ul <span class=\"k\">:</span> Q<span class=\"k\">,</span>","        acronym <span class=\"k\">:</span> L<span class=\"k\">,</span>","        b <span class=\"k\">:</span> L<span class=\"k\">,</span>","        a <span class=\"k\">:</span> X<span class=\"k\">(</span> _<span class=\"k\">(</span><span class=\"k\">{</span>a<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">}</span><span class=\"k\">),</span> J <span class=\"k\">),</span>","        blockquote <span class=\"k\">:</span>X<span class=\"k\">(</span>_<span class=\"k\">(</span><span class=\"k\">{</span>td<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>tr<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>tbody<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>li<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">}</span><span class=\"k\">),</span>P<span class=\"k\">),</span>","        caption <span class=\"k\">:</span> L<span class=\"k\">,</span>","        i <span class=\"k\">:</span> L<span class=\"k\">,</span>","        u <span class=\"k\">:</span> L<span class=\"k\">,</span>","        tbody <span class=\"k\">:</span> M<span class=\"k\">,</span>","        s <span class=\"k\">:</span> L<span class=\"k\">,</span>","        address <span class=\"k\">:</span> X<span class=\"k\">(</span> D<span class=\"k\">,</span> I <span class=\"k\">),</span>","        tt <span class=\"k\">:</span> L<span class=\"k\">,</span>","        legend <span class=\"k\">:</span> L<span class=\"k\">,</span>","        q <span class=\"k\">:</span> L<span class=\"k\">,</span>","        pre <span class=\"k\">:</span> X<span class=\"k\">(</span> G<span class=\"k\">,</span> C <span class=\"k\">),</span>","        p <span class=\"k\">:</span> X<span class=\"k\">(</span>_<span class=\"k\">(</span><span class=\"k\">{</span><span class=\"s\">'a'</span><span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">}</span><span class=\"k\">),</span>L<span class=\"k\">),</span>","        em <span class=\"k\">:</span>L<span class=\"k\">,</span>","        dfn <span class=\"k\">:</span> L","    <span class=\"k\">}</span><span class=\"k\">);</span>","<span class=\"k\">}</span><span class=\"k\">)();</span>"]);
_$jscoverage['core/filterword.js'] && (_$jscoverage['core/filterword.js'].source = ["<span class=\"c\">/**</span>","<span class=\"c\"> * @file</span>","<span class=\"c\"> * @name UE.filterWord</span>","<span class=\"c\"> * @short filterWord</span>","<span class=\"c\"> * @desc &#29992;&#26469;&#36807;&#28388;word&#31896;&#36148;&#36807;&#26469;&#30340;&#23383;&#31526;&#20018;</span>","<span class=\"c\"> * @import editor.js,core/utils.js</span>","<span class=\"c\"> * @anthor zhanyi</span>","<span class=\"c\"> */</span>","<span class=\"k\">var</span> filterWord <span class=\"k\">=</span> UE<span class=\"k\">.</span>filterWord <span class=\"k\">=</span> <span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","","    <span class=\"c\">//&#26159;&#21542;&#26159;word&#36807;&#26469;&#30340;&#20869;&#23481;</span>","    <span class=\"k\">function</span> isWordDocument<span class=\"k\">(</span> str <span class=\"k\">)</span> <span class=\"k\">{</span>","        <span class=\"k\">return</span> <span class=\"s\">/(class=\"?Mso|style=\"[^\"]*\\bmso\\-|w:WordDocument|&lt;v:)/ig</span><span class=\"k\">.</span>test<span class=\"k\">(</span> str <span class=\"k\">);</span>","    <span class=\"k\">}</span>","    <span class=\"c\">//&#21435;&#25481;&#23567;&#25968;</span>","    <span class=\"k\">function</span> transUnit<span class=\"k\">(</span> v <span class=\"k\">)</span> <span class=\"k\">{</span>","        v <span class=\"k\">=</span> v<span class=\"k\">.</span>replace<span class=\"k\">(</span> <span class=\"s\">/[\\d.]+\\w+/g</span><span class=\"k\">,</span> <span class=\"k\">function</span> <span class=\"k\">(</span> m <span class=\"k\">)</span> <span class=\"k\">{</span>","            <span class=\"k\">return</span> utils<span class=\"k\">.</span>transUnitToPx<span class=\"k\">(</span>m<span class=\"k\">);</span>","        <span class=\"k\">}</span> <span class=\"k\">);</span>","        <span class=\"k\">return</span> v<span class=\"k\">;</span>","    <span class=\"k\">}</span>","","    <span class=\"k\">function</span> filterPasteWord<span class=\"k\">(</span> str <span class=\"k\">)</span> <span class=\"k\">{</span>","        <span class=\"k\">return</span> str<span class=\"k\">.</span>replace<span class=\"k\">(</span> <span class=\"s\">/[\\t\\r\\n]+/g</span><span class=\"k\">,</span> <span class=\"s\">\"\"</span> <span class=\"k\">)</span>","                <span class=\"k\">.</span>replace<span class=\"k\">(</span> <span class=\"s\">/&lt;!--[\\s\\S]*?--&gt;/ig</span><span class=\"k\">,</span> <span class=\"s\">\"\"</span> <span class=\"k\">)</span>","                <span class=\"c\">//&#36716;&#25442;&#22270;&#29255;</span>","                <span class=\"k\">.</span>replace<span class=\"k\">(</span><span class=\"s\">/&lt;v:shape [^&gt;]*&gt;[\\s\\S]*?.&lt;\\/v:shape&gt;/gi</span><span class=\"k\">,</span><span class=\"k\">function</span><span class=\"k\">(</span>str<span class=\"k\">)</span><span class=\"k\">{</span>","                    <span class=\"c\">//opera&#33021;&#33258;&#24049;&#35299;&#26512;&#20986;image&#25152;&#36825;&#37324;&#30452;&#25509;&#36820;&#22238;&#31354;</span>","                    <span class=\"k\">if</span><span class=\"k\">(</span>browser<span class=\"k\">.</span>opera<span class=\"k\">)</span><span class=\"k\">{</span>","                        <span class=\"k\">return</span> <span class=\"s\">''</span><span class=\"k\">;</span>","                    <span class=\"k\">}</span>","                    <span class=\"k\">try</span><span class=\"k\">{</span>","                        <span class=\"k\">var</span> width <span class=\"k\">=</span> str<span class=\"k\">.</span>match<span class=\"k\">(</span><span class=\"s\">/width:([ \\d.]*p[tx])/i</span><span class=\"k\">)[</span><span class=\"s\">1</span><span class=\"k\">],</span>","                            height <span class=\"k\">=</span> str<span class=\"k\">.</span>match<span class=\"k\">(</span><span class=\"s\">/height:([ \\d.]*p[tx])/i</span><span class=\"k\">)[</span><span class=\"s\">1</span><span class=\"k\">],</span>","                            src <span class=\"k\">=</span>  str<span class=\"k\">.</span>match<span class=\"k\">(</span><span class=\"s\">/src=\\s*\"([^\"]*)\"/i</span><span class=\"k\">)[</span><span class=\"s\">1</span><span class=\"k\">];</span>","                        <span class=\"k\">return</span> <span class=\"s\">'&lt;img width=\"'</span><span class=\"k\">+</span>ptToPx<span class=\"k\">(</span>width<span class=\"k\">)+</span><span class=\"s\">'\" height=\"'</span><span class=\"k\">+</span>ptToPx<span class=\"k\">(</span>height<span class=\"k\">)+</span><span class=\"s\">'\" src=\"'</span> <span class=\"k\">+</span> src <span class=\"k\">+</span> <span class=\"s\">'\" /&gt;'</span>","                    <span class=\"k\">}</span> <span class=\"k\">catch</span><span class=\"k\">(</span>e<span class=\"k\">)</span><span class=\"k\">{</span>","                        <span class=\"k\">return</span> <span class=\"s\">''</span><span class=\"k\">;</span>","                    <span class=\"k\">}</span>","                <span class=\"k\">}</span><span class=\"k\">)</span>","                <span class=\"c\">//&#38024;&#23545;wps&#28155;&#21152;&#30340;&#22810;&#20313;&#26631;&#31614;&#22788;&#29702;</span>","                <span class=\"k\">.</span>replace<span class=\"k\">(</span><span class=\"s\">/&lt;\\/?div[^&gt;]*&gt;/g</span><span class=\"k\">,</span><span class=\"s\">''</span><span class=\"k\">)</span>","                <span class=\"c\">//&#21435;&#25481;&#22810;&#20313;&#30340;&#23646;&#24615;</span>","                <span class=\"k\">.</span>replace<span class=\"k\">(</span> <span class=\"s\">/v:\\w+=([\"']?)[^'\"]+\\1/g</span><span class=\"k\">,</span> <span class=\"s\">''</span> <span class=\"k\">)</span>","                <span class=\"k\">.</span>replace<span class=\"k\">(</span> <span class=\"s\">/&lt;(!|script[^&gt;]*&gt;.*?&lt;\\/script(?=[&gt;\\s])|\\/?(\\?xml(:\\w+)?|xml|meta|link|style|\\w+:\\w+)(?=[\\s\\/&gt;]))[^&gt;]*&gt;/gi</span><span class=\"k\">,</span> <span class=\"s\">\"\"</span> <span class=\"k\">)</span>","<span class=\"c\">//                .replace( /&lt;p [^&gt;]*class=\"?MsoHeading\"?[^&gt;]*&gt;(.*?)&lt;\\/p&gt;/gi, \"&lt;p&gt;&lt;strong&gt;$1&lt;/strong&gt;&lt;/p&gt;\" )</span>","                <span class=\"c\">//&#21435;&#25481;&#22810;&#20313;&#30340;&#23646;&#24615;</span>","                <span class=\"k\">.</span>replace<span class=\"k\">(</span> <span class=\"s\">/\\s+(class|lang|align)\\s*=\\s*(['\"]?)[\\w-]+\\2/ig</span><span class=\"k\">,</span> <span class=\"s\">\"\"</span> <span class=\"k\">)</span>","                <span class=\"c\">//&#28165;&#38500;&#22810;&#20313;&#30340;font/span&#19981;&#33021;&#21305;&#37197;&amp;nbsp;&#26377;&#21487;&#33021;&#26159;&#31354;&#26684;</span>","                <span class=\"k\">.</span>replace<span class=\"k\">(</span> <span class=\"s\">/&lt;(font|span)[^&gt;]*&gt;\\s*&lt;\\/\\1&gt;/gi</span><span class=\"k\">,</span> <span class=\"s\">''</span> <span class=\"k\">)</span>","                <span class=\"c\">//&#22788;&#29702;style&#30340;&#38382;&#39064;</span>","                <span class=\"k\">.</span>replace<span class=\"k\">(</span> <span class=\"s\">/(&lt;[a-z][^&gt;]*)\\sstyle=([\"'])([^\\2]*?)\\2/gi</span><span class=\"k\">,</span> <span class=\"k\">function</span><span class=\"k\">(</span> str<span class=\"k\">,</span> tag<span class=\"k\">,</span> tmp<span class=\"k\">,</span> style <span class=\"k\">)</span> <span class=\"k\">{</span>","                    <span class=\"k\">var</span> n <span class=\"k\">=</span> <span class=\"k\">[],</span>","                        s <span class=\"k\">=</span> style<span class=\"k\">.</span>replace<span class=\"k\">(</span> <span class=\"s\">/^\\s+|\\s+$/</span><span class=\"k\">,</span> <span class=\"s\">''</span> <span class=\"k\">)</span>","                            <span class=\"k\">.</span>replace<span class=\"k\">(</span><span class=\"s\">/&amp;#39;/g</span><span class=\"k\">,</span><span class=\"s\">'</span><span class=\"t\">\\'</span><span class=\"s\">'</span><span class=\"k\">)</span>","                            <span class=\"k\">.</span>replace<span class=\"k\">(</span> <span class=\"s\">/&amp;quot;/gi</span><span class=\"k\">,</span> <span class=\"s\">\"'\"</span> <span class=\"k\">)</span>","                            <span class=\"k\">.</span>split<span class=\"k\">(</span> <span class=\"s\">/;\\s*/g</span> <span class=\"k\">);</span>","","                    <span class=\"k\">for</span> <span class=\"k\">(</span> <span class=\"k\">var</span> i <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">,</span>v<span class=\"k\">;</span> v <span class=\"k\">=</span> s<span class=\"k\">[</span>i<span class=\"k\">];</span>i<span class=\"k\">++</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","","                        <span class=\"k\">var</span> name<span class=\"k\">,</span> value<span class=\"k\">,</span>","                            parts <span class=\"k\">=</span> v<span class=\"k\">.</span>split<span class=\"k\">(</span> <span class=\"s\">\":\"</span> <span class=\"k\">);</span>","","                        <span class=\"k\">if</span> <span class=\"k\">(</span> parts<span class=\"k\">.</span>length <span class=\"k\">==</span> <span class=\"s\">2</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                            name <span class=\"k\">=</span> parts<span class=\"k\">[</span><span class=\"s\">0</span><span class=\"k\">].</span>toLowerCase<span class=\"k\">();</span>","                            value <span class=\"k\">=</span> parts<span class=\"k\">[</span><span class=\"s\">1</span><span class=\"k\">].</span>toLowerCase<span class=\"k\">();</span>","                            <span class=\"k\">switch</span> <span class=\"k\">(</span> name <span class=\"k\">)</span> <span class=\"k\">{</span>","                                <span class=\"k\">case</span> <span class=\"s\">\"mso-padding-alt\"</span><span class=\"k\">:</span>","                                <span class=\"k\">case</span> <span class=\"s\">\"mso-padding-top-alt\"</span><span class=\"k\">:</span>","                                <span class=\"k\">case</span> <span class=\"s\">\"mso-padding-right-alt\"</span><span class=\"k\">:</span>","                                <span class=\"k\">case</span> <span class=\"s\">\"mso-padding-bottom-alt\"</span><span class=\"k\">:</span>","                                <span class=\"k\">case</span> <span class=\"s\">\"mso-padding-left-alt\"</span><span class=\"k\">:</span>","                                <span class=\"k\">case</span> <span class=\"s\">\"mso-margin-alt\"</span><span class=\"k\">:</span>","                                <span class=\"k\">case</span> <span class=\"s\">\"mso-margin-top-alt\"</span><span class=\"k\">:</span>","                                <span class=\"k\">case</span> <span class=\"s\">\"mso-margin-right-alt\"</span><span class=\"k\">:</span>","                                <span class=\"k\">case</span> <span class=\"s\">\"mso-margin-bottom-alt\"</span><span class=\"k\">:</span>","                                <span class=\"k\">case</span> <span class=\"s\">\"mso-margin-left-alt\"</span><span class=\"k\">:</span>","                                <span class=\"c\">//ie&#19979;&#20250;&#20986;&#29616;&#25380;&#21040;&#19968;&#36215;&#30340;&#24773;&#20917;</span>","        <span class=\"c\">//                      case \"mso-table-layout-alt\":</span>","                                <span class=\"k\">case</span> <span class=\"s\">\"mso-height\"</span><span class=\"k\">:</span>","                                <span class=\"k\">case</span> <span class=\"s\">\"mso-width\"</span><span class=\"k\">:</span>","                                <span class=\"k\">case</span> <span class=\"s\">\"mso-vertical-align-alt\"</span><span class=\"k\">:</span>","                                    <span class=\"c\">//trace:1819 ff&#19979;&#20250;&#35299;&#26512;&#20986;padding&#22312;table&#19978;</span>","                                    <span class=\"k\">if</span><span class=\"k\">(!</span><span class=\"s\">/&lt;table/</span><span class=\"k\">.</span>test<span class=\"k\">(</span>tag<span class=\"k\">))</span>","                                        n<span class=\"k\">[</span>i<span class=\"k\">]</span> <span class=\"k\">=</span> name<span class=\"k\">.</span>replace<span class=\"k\">(</span> <span class=\"s\">/^mso-|-alt$/g</span><span class=\"k\">,</span> <span class=\"s\">\"\"</span> <span class=\"k\">)</span> <span class=\"k\">+</span> <span class=\"s\">\":\"</span> <span class=\"k\">+</span> transUnit<span class=\"k\">(</span> value <span class=\"k\">);</span>","                                    <span class=\"k\">continue</span><span class=\"k\">;</span>","                                <span class=\"k\">case</span> <span class=\"s\">\"horiz-align\"</span><span class=\"k\">:</span>","                                    n<span class=\"k\">[</span>i<span class=\"k\">]</span> <span class=\"k\">=</span> <span class=\"s\">\"text-align:\"</span> <span class=\"k\">+</span> value<span class=\"k\">;</span>","                                    <span class=\"k\">continue</span><span class=\"k\">;</span>","","                                <span class=\"k\">case</span> <span class=\"s\">\"vert-align\"</span><span class=\"k\">:</span>","                                    n<span class=\"k\">[</span>i<span class=\"k\">]</span> <span class=\"k\">=</span> <span class=\"s\">\"vertical-align:\"</span> <span class=\"k\">+</span> value<span class=\"k\">;</span>","                                    <span class=\"k\">continue</span><span class=\"k\">;</span>","","                                <span class=\"k\">case</span> <span class=\"s\">\"font-color\"</span><span class=\"k\">:</span>","                                <span class=\"k\">case</span> <span class=\"s\">\"mso-foreground\"</span><span class=\"k\">:</span>","                                    n<span class=\"k\">[</span>i<span class=\"k\">]</span> <span class=\"k\">=</span> <span class=\"s\">\"color:\"</span> <span class=\"k\">+</span> value<span class=\"k\">;</span>","                                    <span class=\"k\">continue</span><span class=\"k\">;</span>","","                                <span class=\"k\">case</span> <span class=\"s\">\"mso-background\"</span><span class=\"k\">:</span>","                                <span class=\"k\">case</span> <span class=\"s\">\"mso-highlight\"</span><span class=\"k\">:</span>","                                    n<span class=\"k\">[</span>i<span class=\"k\">]</span> <span class=\"k\">=</span> <span class=\"s\">\"background:\"</span> <span class=\"k\">+</span> value<span class=\"k\">;</span>","                                    <span class=\"k\">continue</span><span class=\"k\">;</span>","","                                <span class=\"k\">case</span> <span class=\"s\">\"mso-default-height\"</span><span class=\"k\">:</span>","                                    n<span class=\"k\">[</span>i<span class=\"k\">]</span> <span class=\"k\">=</span> <span class=\"s\">\"min-height:\"</span> <span class=\"k\">+</span> transUnit<span class=\"k\">(</span> value <span class=\"k\">);</span>","                                    <span class=\"k\">continue</span><span class=\"k\">;</span>","","                                <span class=\"k\">case</span> <span class=\"s\">\"mso-default-width\"</span><span class=\"k\">:</span>","                                    n<span class=\"k\">[</span>i<span class=\"k\">]</span> <span class=\"k\">=</span> <span class=\"s\">\"min-width:\"</span> <span class=\"k\">+</span> transUnit<span class=\"k\">(</span> value <span class=\"k\">);</span>","                                    <span class=\"k\">continue</span><span class=\"k\">;</span>","","                                <span class=\"k\">case</span> <span class=\"s\">\"mso-padding-between-alt\"</span><span class=\"k\">:</span>","                                    n<span class=\"k\">[</span>i<span class=\"k\">]</span> <span class=\"k\">=</span> <span class=\"s\">\"border-collapse:separate;border-spacing:\"</span> <span class=\"k\">+</span> transUnit<span class=\"k\">(</span> value <span class=\"k\">);</span>","                                    <span class=\"k\">continue</span><span class=\"k\">;</span>","","                                <span class=\"k\">case</span> <span class=\"s\">\"text-line-through\"</span><span class=\"k\">:</span>","                                    <span class=\"k\">if</span> <span class=\"k\">(</span> <span class=\"k\">(</span>value <span class=\"k\">==</span> <span class=\"s\">\"single\"</span><span class=\"k\">)</span> <span class=\"k\">||</span> <span class=\"k\">(</span>value <span class=\"k\">==</span> <span class=\"s\">\"double\"</span><span class=\"k\">)</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                                        n<span class=\"k\">[</span>i<span class=\"k\">]</span> <span class=\"k\">=</span> <span class=\"s\">\"text-decoration:line-through\"</span><span class=\"k\">;</span>","                                    <span class=\"k\">}</span>","                                    <span class=\"k\">continue</span><span class=\"k\">;</span>","","","                                <span class=\"c\">//trace:1870</span>","        <span class=\"c\">//                            //word&#37324;&#36793;&#30340;&#23383;&#20307;&#32479;&#19968;&#24178;&#25481;</span>","        <span class=\"c\">//                            case 'font-family':</span>","        <span class=\"c\">//                                continue;</span>","                                <span class=\"k\">case</span> <span class=\"s\">\"mso-zero-height\"</span><span class=\"k\">:</span>","                                    <span class=\"k\">if</span> <span class=\"k\">(</span> value <span class=\"k\">==</span> <span class=\"s\">\"yes\"</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                                        n<span class=\"k\">[</span>i<span class=\"k\">]</span> <span class=\"k\">=</span> <span class=\"s\">\"display:none\"</span><span class=\"k\">;</span>","                                    <span class=\"k\">}</span>","                                    <span class=\"k\">continue</span><span class=\"k\">;</span>","                                <span class=\"k\">case</span> <span class=\"s\">'margin'</span><span class=\"k\">:</span>","                                    <span class=\"k\">if</span> <span class=\"k\">(</span> <span class=\"k\">!</span><span class=\"s\">/[1-9]/</span><span class=\"k\">.</span>test<span class=\"k\">(</span> value <span class=\"k\">)</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                                        <span class=\"k\">continue</span><span class=\"k\">;</span>","                                    <span class=\"k\">}</span>","","                            <span class=\"k\">}</span>","","                            <span class=\"k\">if</span> <span class=\"k\">(</span> <span class=\"s\">/^(mso|column|font-emph|lang|layout|line-break|list-image|nav|panose|punct|row|ruby|sep|size|src|tab-|table-border|text-(?:decor|trans)|top-bar|version|vnd|word-break)/</span><span class=\"k\">.</span>test<span class=\"k\">(</span> name <span class=\"k\">)</span>","                                <span class=\"k\">||</span>","                                <span class=\"s\">/text\\-indent|padding|margin/</span><span class=\"k\">.</span>test<span class=\"k\">(</span>name<span class=\"k\">)</span> <span class=\"k\">&amp;&amp;</span> <span class=\"s\">/\\-[\\d.]+/</span><span class=\"k\">.</span>test<span class=\"k\">(</span>value<span class=\"k\">)</span>","                            <span class=\"k\">)</span> <span class=\"k\">{</span>","                                <span class=\"k\">continue</span><span class=\"k\">;</span>","                            <span class=\"k\">}</span>","","                            n<span class=\"k\">[</span>i<span class=\"k\">]</span> <span class=\"k\">=</span> name <span class=\"k\">+</span> <span class=\"s\">\":\"</span> <span class=\"k\">+</span> parts<span class=\"k\">[</span><span class=\"s\">1</span><span class=\"k\">];</span>","                        <span class=\"k\">}</span>","                    <span class=\"k\">}</span>","                    <span class=\"k\">return</span> tag <span class=\"k\">+</span> <span class=\"k\">(</span>n<span class=\"k\">.</span>length <span class=\"k\">?</span> <span class=\"s\">' style=\"'</span> <span class=\"k\">+</span> n<span class=\"k\">.</span>join<span class=\"k\">(</span> <span class=\"s\">';'</span><span class=\"k\">).</span>replace<span class=\"k\">(</span><span class=\"s\">/;{2,}/g</span><span class=\"k\">,</span><span class=\"s\">';'</span><span class=\"k\">)</span> <span class=\"k\">+</span> <span class=\"s\">'\"'</span> <span class=\"k\">:</span> <span class=\"s\">''</span><span class=\"k\">);</span>","                <span class=\"k\">}</span><span class=\"k\">)</span>","            <span class=\"k\">.</span>replace<span class=\"k\">(</span><span class=\"s\">/[\\d.]+(cm|pt)/g</span><span class=\"k\">,</span><span class=\"k\">function</span><span class=\"k\">(</span>str<span class=\"k\">)</span><span class=\"k\">{</span>","                <span class=\"k\">return</span> utils<span class=\"k\">.</span>transUnitToPx<span class=\"k\">(</span>str<span class=\"k\">)</span>","            <span class=\"k\">}</span><span class=\"k\">)</span>","","    <span class=\"k\">}</span>","","    <span class=\"k\">return</span> <span class=\"k\">function</span> <span class=\"k\">(</span> html <span class=\"k\">)</span> <span class=\"k\">{</span>","        <span class=\"k\">return</span> <span class=\"k\">(</span>isWordDocument<span class=\"k\">(</span> html <span class=\"k\">)</span> <span class=\"k\">?</span> filterPasteWord<span class=\"k\">(</span> html <span class=\"k\">)</span> <span class=\"k\">:</span> html<span class=\"k\">).</span>replace<span class=\"k\">(</span> <span class=\"s\">/&gt;[ \\t\\r\\n]*&lt;/g</span><span class=\"k\">,</span> <span class=\"s\">'&gt;&lt;'</span> <span class=\"k\">);</span>","    <span class=\"k\">}</span><span class=\"k\">;</span>","<span class=\"k\">}</span><span class=\"k\">();</span>"]);
_$jscoverage['core/utils.js'] && (_$jscoverage['core/utils.js'].source = ["<span class=\"c\">/**</span>","<span class=\"c\"> * @file</span>","<span class=\"c\"> * @name UE.Utils</span>","<span class=\"c\"> * @short Utils</span>","<span class=\"c\"> * @desc UEditor&#23553;&#35013;&#20351;&#29992;&#30340;&#38745;&#24577;&#24037;&#20855;&#20989;&#25968;</span>","<span class=\"c\"> * @import editor.js</span>","<span class=\"c\"> */</span>","<span class=\"k\">var</span> utils <span class=\"k\">=</span> UE<span class=\"k\">.</span>utils <span class=\"k\">=</span> <span class=\"k\">{</span>","    <span class=\"c\">/**</span>","<span class=\"c\">     * &#20197;obj&#20026;&#21407;&#22411;&#21019;&#24314;&#23454;&#20363;</span>","<span class=\"c\">     * @name makeInstance</span>","<span class=\"c\">     * @grammar UE.utils.makeInstance(obj) =&gt; Object</span>","<span class=\"c\">     */</span>","    makeInstance<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">(</span>obj<span class=\"k\">)</span> <span class=\"k\">{</span>","        <span class=\"k\">var</span> noop <span class=\"k\">=</span> <span class=\"k\">new</span> Function<span class=\"k\">();</span>","        noop<span class=\"k\">.</span>prototype <span class=\"k\">=</span> obj<span class=\"k\">;</span>","        obj <span class=\"k\">=</span> <span class=\"k\">new</span> noop<span class=\"k\">;</span>","        noop<span class=\"k\">.</span>prototype <span class=\"k\">=</span> <span class=\"k\">null</span><span class=\"k\">;</span>","        <span class=\"k\">return</span> obj<span class=\"k\">;</span>","    <span class=\"k\">}</span><span class=\"k\">,</span>","    <span class=\"c\">/**</span>","<span class=\"c\">     * &#23558;source&#23545;&#35937;&#20013;&#30340;&#23646;&#24615;&#25193;&#23637;&#21040;target&#23545;&#35937;&#19978;</span>","<span class=\"c\">     * @name extend</span>","<span class=\"c\">     * @grammar UE.utils.extend(target,source)  =&gt; Object  //&#35206;&#30422;&#25193;&#23637;</span>","<span class=\"c\">     * @grammar UE.utils.extend(target,source,true)  ==&gt; Object  //&#20445;&#30041;&#25193;&#23637;</span>","<span class=\"c\">     */</span>","    extend<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">(</span>t<span class=\"k\">,</span> s<span class=\"k\">,</span> b<span class=\"k\">)</span> <span class=\"k\">{</span>","        <span class=\"k\">if</span> <span class=\"k\">(</span>s<span class=\"k\">)</span> <span class=\"k\">{</span>","            <span class=\"k\">for</span> <span class=\"k\">(</span><span class=\"k\">var</span> k <span class=\"k\">in</span> s<span class=\"k\">)</span> <span class=\"k\">{</span>","                <span class=\"k\">if</span> <span class=\"k\">(!</span>b <span class=\"k\">||</span> <span class=\"k\">!</span>t<span class=\"k\">.</span>hasOwnProperty<span class=\"k\">(</span>k<span class=\"k\">))</span> <span class=\"k\">{</span>","                    t<span class=\"k\">[</span>k<span class=\"k\">]</span> <span class=\"k\">=</span> s<span class=\"k\">[</span>k<span class=\"k\">];</span>","                <span class=\"k\">}</span>","            <span class=\"k\">}</span>","        <span class=\"k\">}</span>","        <span class=\"k\">return</span> t<span class=\"k\">;</span>","    <span class=\"k\">}</span><span class=\"k\">,</span>","    <span class=\"c\">/**</span>","<span class=\"c\">     * &#21028;&#26029;array&#26159;&#21542;&#20026;&#25968;&#32452;</span>","<span class=\"c\">     * @name isArray</span>","<span class=\"c\">     * @grammar UE.utils.isArray(obj) =&gt; true|false</span>","<span class=\"c\">     */</span>","    isArray<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">(</span>array<span class=\"k\">)</span> <span class=\"k\">{</span>","        <span class=\"k\">return</span> Object<span class=\"k\">.</span>prototype<span class=\"k\">.</span>toString<span class=\"k\">.</span>apply<span class=\"k\">(</span>array<span class=\"k\">)</span> <span class=\"k\">===</span> <span class=\"s\">'[object Array]'</span><span class=\"k\">;</span>","    <span class=\"k\">}</span><span class=\"k\">,</span>","    <span class=\"c\">/**</span>","<span class=\"c\">     * &#21028;&#26029;str&#26159;&#21542;&#20026;&#23383;&#31526;&#20018;</span>","<span class=\"c\">     * @name isString</span>","<span class=\"c\">     * @grammar UE.utils.isString(str) =&gt; true|false</span>","<span class=\"c\">     */</span>","    isString<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">(</span>str<span class=\"k\">)</span> <span class=\"k\">{</span>","        <span class=\"k\">return</span> <span class=\"k\">typeof</span> str <span class=\"k\">==</span> <span class=\"s\">'string'</span> <span class=\"k\">||</span> str<span class=\"k\">.</span>constructor <span class=\"k\">==</span> String<span class=\"k\">;</span>","    <span class=\"k\">}</span><span class=\"k\">,</span>","    <span class=\"c\">/**</span>","<span class=\"c\">     * &#27169;&#25311;&#32487;&#25215;&#26426;&#21046;&#65292;subClass&#32487;&#25215;superClass</span>","<span class=\"c\">     * @name inherits</span>","<span class=\"c\">     * @grammar UE.utils.inherits(subClass,superClass) =&gt; subClass</span>","<span class=\"c\">     * @example</span>","<span class=\"c\">     * function SuperClass(){</span>","<span class=\"c\">     *     this.name = \"&#23567;&#26446;\";</span>","<span class=\"c\">     * }</span>","<span class=\"c\">     * SuperClass.prototype = {</span>","<span class=\"c\">     *     hello:function(str){</span>","<span class=\"c\">     *         console.log(this.name + str);</span>","<span class=\"c\">     *     }</span>","<span class=\"c\">     * }</span>","<span class=\"c\">     * function SubClass(){</span>","<span class=\"c\">     *     this.name = \"&#23567;&#24352;\";</span>","<span class=\"c\">     * }</span>","<span class=\"c\">     * UE.utils.inherits(SubClass,SuperClass);</span>","<span class=\"c\">     * var sub = new SubClass();</span>","<span class=\"c\">     * sub.hello(\"&#26089;&#19978;&#22909;!\"); ==&gt; \"&#23567;&#24352;&#26089;&#19978;&#22909;&#65281;\"</span>","<span class=\"c\">     */</span>","    inherits<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">(</span>subClass<span class=\"k\">,</span> superClass<span class=\"k\">)</span> <span class=\"k\">{</span>","        <span class=\"k\">var</span> oldP <span class=\"k\">=</span> subClass<span class=\"k\">.</span>prototype<span class=\"k\">,</span>","            newP <span class=\"k\">=</span> utils<span class=\"k\">.</span>makeInstance<span class=\"k\">(</span>superClass<span class=\"k\">.</span>prototype<span class=\"k\">);</span>","        utils<span class=\"k\">.</span>extend<span class=\"k\">(</span>newP<span class=\"k\">,</span> oldP<span class=\"k\">,</span> <span class=\"k\">true</span><span class=\"k\">);</span>","        subClass<span class=\"k\">.</span>prototype <span class=\"k\">=</span> newP<span class=\"k\">;</span>","        <span class=\"k\">return</span> <span class=\"k\">(</span>newP<span class=\"k\">.</span>constructor <span class=\"k\">=</span> subClass<span class=\"k\">);</span>","    <span class=\"k\">}</span><span class=\"k\">,</span>","","    <span class=\"c\">/**</span>","<span class=\"c\">     * &#20026;&#23545;&#35937;obj&#32465;&#23450;&#20989;&#25968;fn</span>","<span class=\"c\">     * @name bind</span>","<span class=\"c\">     * @grammar UE.utils.bind(fn,obj)  =&gt;  fn</span>","<span class=\"c\">     */</span>","    bind<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">(</span>fn<span class=\"k\">,</span> obj<span class=\"k\">)</span> <span class=\"k\">{</span>","        <span class=\"k\">return</span> <span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","            <span class=\"k\">return</span> fn<span class=\"k\">.</span>apply<span class=\"k\">(</span>obj<span class=\"k\">,</span> arguments<span class=\"k\">);</span>","        <span class=\"k\">}</span><span class=\"k\">;</span>","    <span class=\"k\">}</span><span class=\"k\">,</span>","","    <span class=\"c\">/**</span>","<span class=\"c\">     * &#21019;&#24314;&#24310;&#36831;delay&#25191;&#34892;&#30340;&#20989;&#25968;fn</span>","<span class=\"c\">     * @name defer</span>","<span class=\"c\">     * @grammar UE.utils.defer(fn,delay)  =&gt;fn   //&#24310;&#36831;delay&#27627;&#31186;&#25191;&#34892;fn&#65292;&#36820;&#22238;fn</span>","<span class=\"c\">     * @grammar UE.utils.defer(fn,delay,exclusion)  =&gt;fn   //&#24310;&#36831;delay&#27627;&#31186;&#25191;&#34892;fn&#65292;&#33509;exclusion&#20026;&#30495;&#65292;&#21017;&#20114;&#26021;&#25191;&#34892;fn</span>","<span class=\"c\">     * @example</span>","<span class=\"c\">     * function test(){</span>","<span class=\"c\">     *     console.log(\"&#24310;&#36831;&#36755;&#20986;&#65281;\");</span>","<span class=\"c\">     * }</span>","<span class=\"c\">     * //&#38750;&#20114;&#26021;&#24310;&#36831;&#25191;&#34892;</span>","<span class=\"c\">     * var testDefer = UE.utils.defer(test,1000);</span>","<span class=\"c\">     * testDefer();   =&gt;  \"&#24310;&#36831;&#36755;&#20986;&#65281;\";</span>","<span class=\"c\">     * testDefer();   =&gt;  \"&#24310;&#36831;&#36755;&#20986;&#65281;\";</span>","<span class=\"c\">     * //&#20114;&#26021;&#24310;&#36831;&#25191;&#34892;</span>","<span class=\"c\">     * var testDefer1 = UE.utils.defer(test,1000,true);</span>","<span class=\"c\">     * testDefer1();   =&gt;  //&#26412;&#27425;&#19981;&#25191;&#34892;</span>","<span class=\"c\">     * testDefer1();   =&gt;  \"&#24310;&#36831;&#36755;&#20986;&#65281;\";</span>","<span class=\"c\">     */</span>","    defer<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">(</span>fn<span class=\"k\">,</span> delay<span class=\"k\">,</span> exclusion<span class=\"k\">)</span> <span class=\"k\">{</span>","        <span class=\"k\">var</span> timerID<span class=\"k\">;</span>","        <span class=\"k\">return</span> <span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span>exclusion<span class=\"k\">)</span> <span class=\"k\">{</span>","                clearTimeout<span class=\"k\">(</span>timerID<span class=\"k\">);</span>","            <span class=\"k\">}</span>","            timerID <span class=\"k\">=</span> setTimeout<span class=\"k\">(</span>fn<span class=\"k\">,</span> delay<span class=\"k\">);</span>","        <span class=\"k\">}</span><span class=\"k\">;</span>","    <span class=\"k\">}</span><span class=\"k\">,</span>","","    <span class=\"c\">/**</span>","<span class=\"c\">     * &#26597;&#25214;&#20803;&#32032;item&#22312;&#25968;&#32452;array&#20013;&#30340;&#32034;&#24341;, &#33509;&#25214;&#19981;&#21040;&#36820;&#22238;-1</span>","<span class=\"c\">     * @name indexOf</span>","<span class=\"c\">     * @grammar UE.utils.indexOf(array,item)  =&gt; index|-1  //&#40664;&#35748;&#20174;&#25968;&#32452;&#24320;&#22836;&#37096;&#24320;&#22987;&#25628;&#32034;</span>","<span class=\"c\">     * @grammar UE.utils.indexOf(array,item,start)  =&gt; index|-1  //&#25351;&#23450;&#24320;&#22987;&#26597;&#25214;&#30340;&#20301;&#32622;</span>","<span class=\"c\">     */</span>","    indexOf<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">(</span>array<span class=\"k\">,</span> item<span class=\"k\">,</span> start<span class=\"k\">)</span> <span class=\"k\">{</span>","        <span class=\"k\">for</span> <span class=\"k\">(</span><span class=\"k\">var</span> i <span class=\"k\">=</span> start <span class=\"k\">||</span> <span class=\"s\">0</span><span class=\"k\">,</span> l <span class=\"k\">=</span> array<span class=\"k\">.</span>length<span class=\"k\">;</span> i <span class=\"k\">&lt;</span> l<span class=\"k\">;</span> i<span class=\"k\">++)</span> <span class=\"k\">{</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span>array<span class=\"k\">[</span>i<span class=\"k\">]</span> <span class=\"k\">===</span> item<span class=\"k\">)</span> <span class=\"k\">{</span>","                <span class=\"k\">return</span> i<span class=\"k\">;</span>","            <span class=\"k\">}</span>","        <span class=\"k\">}</span>","        <span class=\"k\">return</span> <span class=\"k\">-</span><span class=\"s\">1</span><span class=\"k\">;</span>","    <span class=\"k\">}</span><span class=\"k\">,</span>","    findNode<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">(</span>nodes<span class=\"k\">,</span> tagNames<span class=\"k\">,</span> fn<span class=\"k\">)</span> <span class=\"k\">{</span>","        <span class=\"k\">for</span> <span class=\"k\">(</span><span class=\"k\">var</span> i <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">,</span> ci<span class=\"k\">;</span> ci <span class=\"k\">=</span> nodes<span class=\"k\">[</span>i<span class=\"k\">++];)</span> <span class=\"k\">{</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span>fn <span class=\"k\">?</span> fn<span class=\"k\">(</span>ci<span class=\"k\">)</span> <span class=\"k\">:</span> <span class=\"k\">this</span><span class=\"k\">.</span>indexOf<span class=\"k\">(</span>tagNames<span class=\"k\">,</span> ci<span class=\"k\">.</span>tagName<span class=\"k\">.</span>toLowerCase<span class=\"k\">())</span> <span class=\"k\">!=</span> <span class=\"k\">-</span><span class=\"s\">1</span><span class=\"k\">)</span> <span class=\"k\">{</span>","                <span class=\"k\">return</span> ci<span class=\"k\">;</span>","            <span class=\"k\">}</span>","        <span class=\"k\">}</span>","    <span class=\"k\">}</span><span class=\"k\">,</span>","    <span class=\"c\">/**</span>","<span class=\"c\">     * &#31227;&#38500;&#25968;&#32452;array&#20013;&#30340;&#20803;&#32032;item</span>","<span class=\"c\">     * @name removeItem</span>","<span class=\"c\">     * @grammar UE.utils.removeItem(array,item)</span>","<span class=\"c\">     */</span>","    removeItem<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">(</span>array<span class=\"k\">,</span> item<span class=\"k\">)</span> <span class=\"k\">{</span>","        <span class=\"k\">for</span> <span class=\"k\">(</span><span class=\"k\">var</span> i <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">,</span> l <span class=\"k\">=</span> array<span class=\"k\">.</span>length<span class=\"k\">;</span> i <span class=\"k\">&lt;</span> l<span class=\"k\">;</span> i<span class=\"k\">++)</span> <span class=\"k\">{</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span>array<span class=\"k\">[</span>i<span class=\"k\">]</span> <span class=\"k\">===</span> item<span class=\"k\">)</span> <span class=\"k\">{</span>","                array<span class=\"k\">.</span>splice<span class=\"k\">(</span>i<span class=\"k\">,</span> <span class=\"s\">1</span><span class=\"k\">);</span>","                i<span class=\"k\">--;</span>","            <span class=\"k\">}</span>","        <span class=\"k\">}</span>","    <span class=\"k\">}</span><span class=\"k\">,</span>","","    <span class=\"c\">/**</span>","<span class=\"c\">     * &#21024;&#38500;&#23383;&#31526;&#20018;str&#30340;&#39318;&#23614;&#31354;&#26684;</span>","<span class=\"c\">     * @name trim</span>","<span class=\"c\">     * @grammar UE.utils.trim(str) =&gt; String</span>","<span class=\"c\">     */</span>","    trim<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">(</span>str<span class=\"k\">)</span> <span class=\"k\">{</span>","        <span class=\"k\">return</span> str<span class=\"k\">.</span>replace<span class=\"k\">(</span><span class=\"s\">/(^[ \\t\\n\\r]+)|([ \\t\\n\\r]+$)/g</span><span class=\"k\">,</span> <span class=\"s\">''</span><span class=\"k\">);</span>","    <span class=\"k\">}</span><span class=\"k\">,</span>","","    <span class=\"c\">/**</span>","<span class=\"c\">     * &#23558;&#23383;&#31526;&#20018;list(&#20197;','&#20998;&#38548;)&#25110;&#32773;&#25968;&#32452;list&#36716;&#25104;&#21704;&#24076;&#23545;&#35937;</span>","<span class=\"c\">     * @name listToMap</span>","<span class=\"c\">     * @grammar UE.utils.listToMap(list)  =&gt; Object  //Object&#24418;&#22914;{test:1,br:1,textarea:1}</span>","<span class=\"c\">     */</span>","    listToMap<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">(</span>list<span class=\"k\">)</span> <span class=\"k\">{</span>","        <span class=\"k\">if</span> <span class=\"k\">(!</span>list<span class=\"k\">)</span><span class=\"k\">return</span> <span class=\"k\">{}</span><span class=\"k\">;</span>","        list <span class=\"k\">=</span> utils<span class=\"k\">.</span>isArray<span class=\"k\">(</span>list<span class=\"k\">)</span> <span class=\"k\">?</span> list <span class=\"k\">:</span> list<span class=\"k\">.</span>split<span class=\"k\">(</span><span class=\"s\">','</span><span class=\"k\">);</span>","        <span class=\"k\">for</span> <span class=\"k\">(</span><span class=\"k\">var</span> i <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">,</span> ci<span class=\"k\">,</span> obj <span class=\"k\">=</span> <span class=\"k\">{}</span><span class=\"k\">;</span> ci <span class=\"k\">=</span> list<span class=\"k\">[</span>i<span class=\"k\">++];)</span> <span class=\"k\">{</span>","            obj<span class=\"k\">[</span>ci<span class=\"k\">.</span>toUpperCase<span class=\"k\">()]</span> <span class=\"k\">=</span> obj<span class=\"k\">[</span>ci<span class=\"k\">]</span> <span class=\"k\">=</span> <span class=\"s\">1</span><span class=\"k\">;</span>","        <span class=\"k\">}</span>","        <span class=\"k\">return</span> obj<span class=\"k\">;</span>","    <span class=\"k\">}</span><span class=\"k\">,</span>","","    <span class=\"c\">/**</span>","<span class=\"c\">     * &#23558;str&#20013;&#30340;html&#31526;&#21495;&#36716;&#20041;,&#40664;&#35748;&#23558;&#36716;&#20041;&amp;&lt;\"&gt;&#22235;&#20010;&#23383;&#31526;&#65292;&#21487;&#33258;&#23450;&#20041;reg&#26469;&#30830;&#23450;&#38656;&#35201;&#36716;&#20041;&#30340;&#23383;&#31526;</span>","<span class=\"c\">     * @name unhtml</span>","<span class=\"c\">     * @grammar UE.utils.unhtml(str);  =&gt; String</span>","<span class=\"c\">     * @grammar UE.utils.unhtml(str,reg)  =&gt; String</span>","<span class=\"c\">     * @example</span>","<span class=\"c\">     * var html = '&lt;body&gt;You say:\"&#20320;&#22909;&#65281;Baidu &amp; UEditor!\"&lt;/body&gt;';</span>","<span class=\"c\">     * UE.utils.unhtml(html);   ==&gt;  &amp;lt;body&amp;gt;You say:&amp;quot;&#20320;&#22909;&#65281;Baidu &amp;amp; UEditor!&amp;quot;&amp;lt;/body&amp;gt;</span>","<span class=\"c\">     * UE.utils.unhtml(html,/[&lt;&gt;]/g)  ==&gt;  &amp;lt;body&amp;gt;You say:\"&#20320;&#22909;&#65281;Baidu &amp; UEditor!\"&amp;lt;/body&amp;gt;</span>","<span class=\"c\">     */</span>","    unhtml<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">(</span>str<span class=\"k\">,</span> reg<span class=\"k\">)</span> <span class=\"k\">{</span>","        <span class=\"k\">return</span> str <span class=\"k\">?</span> str<span class=\"k\">.</span>replace<span class=\"k\">(</span>reg <span class=\"k\">||</span> <span class=\"s\">/[&amp;&lt;\"&gt;]/g</span><span class=\"k\">,</span> <span class=\"k\">function</span> <span class=\"k\">(</span>m<span class=\"k\">)</span> <span class=\"k\">{</span>","            <span class=\"k\">return</span> <span class=\"k\">{</span>","                <span class=\"s\">'&lt;'</span><span class=\"k\">:</span><span class=\"s\">'&amp;lt;'</span><span class=\"k\">,</span>","                <span class=\"s\">'&amp;'</span><span class=\"k\">:</span><span class=\"s\">'&amp;amp;'</span><span class=\"k\">,</span>","                <span class=\"s\">'\"'</span><span class=\"k\">:</span><span class=\"s\">'&amp;quot;'</span><span class=\"k\">,</span>","                <span class=\"s\">'&gt;'</span><span class=\"k\">:</span><span class=\"s\">'&amp;gt;'</span>","            <span class=\"k\">}</span><span class=\"k\">[</span>m<span class=\"k\">]</span>","        <span class=\"k\">}</span><span class=\"k\">)</span> <span class=\"k\">:</span> <span class=\"s\">''</span><span class=\"k\">;</span>","    <span class=\"k\">}</span><span class=\"k\">,</span>","    <span class=\"c\">/**</span>","<span class=\"c\">     * &#23558;str&#20013;&#30340;&#36716;&#20041;&#23383;&#31526;&#36824;&#21407;&#25104;html&#23383;&#31526;</span>","<span class=\"c\">     * @name html</span>","<span class=\"c\">     * @grammar UE.utils.html(str)  =&gt; String   //&#35814;&#32454;&#21442;&#35265;&lt;code&gt;&lt;a href = '#unhtml'&gt;unhtml&lt;/a&gt;&lt;/code&gt;</span>","<span class=\"c\">     */</span>","    html<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">(</span>str<span class=\"k\">)</span> <span class=\"k\">{</span>","        <span class=\"k\">return</span> str <span class=\"k\">?</span> str<span class=\"k\">.</span>replace<span class=\"k\">(</span><span class=\"s\">/&amp;((g|l|quo)t|amp);/g</span><span class=\"k\">,</span> <span class=\"k\">function</span> <span class=\"k\">(</span>m<span class=\"k\">)</span> <span class=\"k\">{</span>","            <span class=\"k\">return</span> <span class=\"k\">{</span>","                <span class=\"s\">'&amp;lt;'</span><span class=\"k\">:</span><span class=\"s\">'&lt;'</span><span class=\"k\">,</span>","                <span class=\"s\">'&amp;amp;'</span><span class=\"k\">:</span><span class=\"s\">'&amp;'</span><span class=\"k\">,</span>","                <span class=\"s\">'&amp;quot;'</span><span class=\"k\">:</span><span class=\"s\">'\"'</span><span class=\"k\">,</span>","                <span class=\"s\">'&amp;gt;'</span><span class=\"k\">:</span><span class=\"s\">'&gt;'</span>","            <span class=\"k\">}</span><span class=\"k\">[</span>m<span class=\"k\">]</span>","        <span class=\"k\">}</span><span class=\"k\">)</span> <span class=\"k\">:</span> <span class=\"s\">''</span><span class=\"k\">;</span>","    <span class=\"k\">}</span><span class=\"k\">,</span>","    <span class=\"c\">/**</span>","<span class=\"c\">     * &#23558;css&#26679;&#24335;&#36716;&#25442;&#20026;&#39548;&#23792;&#30340;&#24418;&#24335;&#12290;&#22914;font-size =&gt; fontSize</span>","<span class=\"c\">     * @name cssStyleToDomStyle</span>","<span class=\"c\">     * @grammar UE.utils.cssStyleToDomStyle(cssName)  =&gt; String</span>","<span class=\"c\">     */</span>","    cssStyleToDomStyle<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","        <span class=\"k\">var</span> test <span class=\"k\">=</span> document<span class=\"k\">.</span>createElement<span class=\"k\">(</span><span class=\"s\">'div'</span><span class=\"k\">).</span>style<span class=\"k\">,</span>","            cache <span class=\"k\">=</span> <span class=\"k\">{</span>","                <span class=\"s\">'float'</span><span class=\"k\">:</span>test<span class=\"k\">.</span>cssFloat <span class=\"k\">!=</span> undefined <span class=\"k\">?</span> <span class=\"s\">'cssFloat'</span> <span class=\"k\">:</span> test<span class=\"k\">.</span>styleFloat <span class=\"k\">!=</span> undefined <span class=\"k\">?</span> <span class=\"s\">'styleFloat'</span> <span class=\"k\">:</span> <span class=\"s\">'float'</span>","            <span class=\"k\">}</span><span class=\"k\">;</span>","","        <span class=\"k\">return</span> <span class=\"k\">function</span> <span class=\"k\">(</span>cssName<span class=\"k\">)</span> <span class=\"k\">{</span>","            <span class=\"k\">return</span> cache<span class=\"k\">[</span>cssName<span class=\"k\">]</span> <span class=\"k\">||</span> <span class=\"k\">(</span>cache<span class=\"k\">[</span>cssName<span class=\"k\">]</span> <span class=\"k\">=</span> cssName<span class=\"k\">.</span>toLowerCase<span class=\"k\">().</span>replace<span class=\"k\">(</span><span class=\"s\">/-./g</span><span class=\"k\">,</span> <span class=\"k\">function</span> <span class=\"k\">(</span>match<span class=\"k\">)</span> <span class=\"k\">{</span>","                <span class=\"k\">return</span> match<span class=\"k\">.</span>charAt<span class=\"k\">(</span><span class=\"s\">1</span><span class=\"k\">).</span>toUpperCase<span class=\"k\">();</span>","            <span class=\"k\">}</span><span class=\"k\">));</span>","        <span class=\"k\">}</span><span class=\"k\">;</span>","    <span class=\"k\">}</span><span class=\"k\">(),</span>","    <span class=\"c\">/**</span>","<span class=\"c\">     * &#21160;&#24577;&#21152;&#36733;&#25991;&#20214;&#21040;doc&#20013;&#65292;&#24182;&#20381;&#25454;obj&#26469;&#35774;&#32622;&#23646;&#24615;&#65292;&#21152;&#36733;&#25104;&#21151;&#21518;&#25191;&#34892;&#22238;&#35843;&#20989;&#25968;fn</span>","<span class=\"c\">     * @name loadFile</span>","<span class=\"c\">     * @grammar UE.utils.loadFile(doc,obj)</span>","<span class=\"c\">     * @grammar UE.utils.loadFile(doc,obj,fn)</span>","<span class=\"c\">     * @example</span>","<span class=\"c\">     * //&#25351;&#23450;&#21152;&#36733;&#21040;&#24403;&#21069;document&#20013;&#19968;&#20010;script&#25991;&#20214;&#65292;&#21152;&#36733;&#25104;&#21151;&#21518;&#25191;&#34892;function</span>","<span class=\"c\">     * utils.loadFile( document, {</span>","<span class=\"c\">     *     src:\"test.js\",</span>","<span class=\"c\">     *     tag:\"script\",</span>","<span class=\"c\">     *     type:\"text/javascript\",</span>","<span class=\"c\">     *     defer:\"defer\"</span>","<span class=\"c\">     * }, function () {</span>","<span class=\"c\">     *     console.log('&#21152;&#36733;&#25104;&#21151;&#65281;')</span>","<span class=\"c\">     * });</span>","<span class=\"c\">     */</span>","    loadFile<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","        <span class=\"k\">var</span> tmpList <span class=\"k\">=</span> <span class=\"k\">{}</span><span class=\"k\">;</span>","        <span class=\"k\">return</span> <span class=\"k\">function</span> <span class=\"k\">(</span>doc<span class=\"k\">,</span> obj<span class=\"k\">,</span> fn<span class=\"k\">)</span> <span class=\"k\">{</span>","            <span class=\"k\">var</span> item <span class=\"k\">=</span> tmpList<span class=\"k\">[</span>obj<span class=\"k\">.</span>src <span class=\"k\">||</span> obj<span class=\"k\">.</span>href<span class=\"k\">];</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span>item<span class=\"k\">)</span> <span class=\"k\">{</span>","                <span class=\"k\">if</span> <span class=\"k\">(</span>utils<span class=\"k\">.</span>isArray<span class=\"k\">(</span>item<span class=\"k\">.</span>funs<span class=\"k\">))</span> <span class=\"k\">{</span>","                    item<span class=\"k\">.</span>ready <span class=\"k\">?</span> fn<span class=\"k\">()</span> <span class=\"k\">:</span> tmpList<span class=\"k\">[</span>obj<span class=\"k\">.</span>src <span class=\"k\">||</span> obj<span class=\"k\">.</span>href<span class=\"k\">].</span>funs<span class=\"k\">.</span>push<span class=\"k\">(</span>fn<span class=\"k\">);</span>","                <span class=\"k\">}</span>","                <span class=\"k\">return</span><span class=\"k\">;</span>","            <span class=\"k\">}</span>","            tmpList<span class=\"k\">[</span>obj<span class=\"k\">.</span>src <span class=\"k\">||</span> obj<span class=\"k\">.</span>href<span class=\"k\">]</span> <span class=\"k\">=</span> fn <span class=\"k\">?</span> <span class=\"k\">{</span><span class=\"s\">'funs'</span><span class=\"k\">:[</span>fn<span class=\"k\">]</span><span class=\"k\">}</span> <span class=\"k\">:</span> <span class=\"s\">1</span><span class=\"k\">;</span>","","            <span class=\"k\">if</span> <span class=\"k\">(!</span>doc<span class=\"k\">.</span>body<span class=\"k\">)</span> <span class=\"k\">{</span>","                <span class=\"k\">var</span> html <span class=\"k\">=</span> <span class=\"k\">[];</span>","                <span class=\"k\">for</span><span class=\"k\">(</span><span class=\"k\">var</span> p <span class=\"k\">in</span> obj<span class=\"k\">)</span><span class=\"k\">{</span>","                    <span class=\"k\">if</span><span class=\"k\">(</span>p <span class=\"k\">==</span> <span class=\"s\">'tag'</span><span class=\"k\">)</span><span class=\"k\">continue</span><span class=\"k\">;</span>","                    html<span class=\"k\">.</span>push<span class=\"k\">(</span>p <span class=\"k\">+</span> <span class=\"s\">'=\"'</span> <span class=\"k\">+</span> obj<span class=\"k\">[</span>p<span class=\"k\">]</span> <span class=\"k\">+</span> <span class=\"s\">'\"'</span><span class=\"k\">)</span>","                <span class=\"k\">}</span>","                doc<span class=\"k\">.</span>write<span class=\"k\">(</span><span class=\"s\">'&lt;'</span> <span class=\"k\">+</span> obj<span class=\"k\">.</span>tag <span class=\"k\">+</span> <span class=\"s\">' '</span> <span class=\"k\">+</span> html<span class=\"k\">.</span>join<span class=\"k\">(</span><span class=\"s\">' '</span><span class=\"k\">)</span> <span class=\"k\">+</span> <span class=\"s\">' &gt;&lt;/'</span><span class=\"k\">+</span>obj<span class=\"k\">.</span>tag<span class=\"k\">+</span><span class=\"s\">'&gt;'</span><span class=\"k\">);</span>","                <span class=\"k\">return</span><span class=\"k\">;</span>","            <span class=\"k\">}</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span>obj<span class=\"k\">.</span>id <span class=\"k\">&amp;&amp;</span> doc<span class=\"k\">.</span>getElementById<span class=\"k\">(</span>obj<span class=\"k\">.</span>id<span class=\"k\">))</span> <span class=\"k\">{</span>","                <span class=\"k\">return</span><span class=\"k\">;</span>","            <span class=\"k\">}</span>","            <span class=\"k\">var</span> element <span class=\"k\">=</span> doc<span class=\"k\">.</span>createElement<span class=\"k\">(</span>obj<span class=\"k\">.</span>tag<span class=\"k\">);</span>","            <span class=\"k\">delete</span> obj<span class=\"k\">.</span>tag<span class=\"k\">;</span>","            <span class=\"k\">for</span> <span class=\"k\">(</span><span class=\"k\">var</span> p <span class=\"k\">in</span> obj<span class=\"k\">)</span> <span class=\"k\">{</span>","                element<span class=\"k\">.</span>setAttribute<span class=\"k\">(</span>p<span class=\"k\">,</span> obj<span class=\"k\">[</span>p<span class=\"k\">]);</span>","            <span class=\"k\">}</span>","            element<span class=\"k\">.</span>onload <span class=\"k\">=</span> element<span class=\"k\">.</span>onreadystatechange <span class=\"k\">=</span> <span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","                <span class=\"k\">if</span> <span class=\"k\">(!</span><span class=\"k\">this</span><span class=\"k\">.</span>readyState <span class=\"k\">||</span> <span class=\"s\">/loaded|complete/</span><span class=\"k\">.</span>test<span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>readyState<span class=\"k\">))</span> <span class=\"k\">{</span>","                    item <span class=\"k\">=</span> tmpList<span class=\"k\">[</span>obj<span class=\"k\">.</span>src <span class=\"k\">||</span> obj<span class=\"k\">.</span>href<span class=\"k\">];</span>","                    <span class=\"k\">if</span> <span class=\"k\">(</span>item<span class=\"k\">.</span>funs<span class=\"k\">)</span> <span class=\"k\">{</span>","                        item<span class=\"k\">.</span>ready <span class=\"k\">=</span> <span class=\"s\">1</span><span class=\"k\">;</span>","                        <span class=\"k\">for</span> <span class=\"k\">(</span><span class=\"k\">var</span> fi<span class=\"k\">;</span> fi <span class=\"k\">=</span> item<span class=\"k\">.</span>funs<span class=\"k\">.</span>pop<span class=\"k\">();)</span> <span class=\"k\">{</span>","                            fi<span class=\"k\">();</span>","                        <span class=\"k\">}</span>","                    <span class=\"k\">}</span>","                    element<span class=\"k\">.</span>onload <span class=\"k\">=</span> element<span class=\"k\">.</span>onreadystatechange <span class=\"k\">=</span> <span class=\"k\">null</span><span class=\"k\">;</span>","                <span class=\"k\">}</span>","            <span class=\"k\">}</span><span class=\"k\">;</span>","            doc<span class=\"k\">.</span>getElementsByTagName<span class=\"k\">(</span><span class=\"s\">\"head\"</span><span class=\"k\">)[</span><span class=\"s\">0</span><span class=\"k\">].</span>appendChild<span class=\"k\">(</span>element<span class=\"k\">);</span>","        <span class=\"k\">}</span>","    <span class=\"k\">}</span><span class=\"k\">(),</span>","    <span class=\"c\">/**</span>","<span class=\"c\">     * &#21028;&#26029;obj&#23545;&#35937;&#26159;&#21542;&#20026;&#31354;</span>","<span class=\"c\">     * @name isEmptyObject</span>","<span class=\"c\">     * @grammar UE.utils.isEmptyObject(obj)  =&gt; true|false</span>","<span class=\"c\">     */</span>","    isEmptyObject<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">(</span>obj<span class=\"k\">)</span> <span class=\"k\">{</span>","        <span class=\"k\">for</span> <span class=\"k\">(</span><span class=\"k\">var</span> p <span class=\"k\">in</span> obj<span class=\"k\">)</span> <span class=\"k\">{</span>","            <span class=\"k\">return</span> <span class=\"k\">false</span><span class=\"k\">;</span>","        <span class=\"k\">}</span>","        <span class=\"k\">return</span> <span class=\"k\">true</span><span class=\"k\">;</span>","    <span class=\"k\">}</span><span class=\"k\">,</span>","    <span class=\"c\">/**</span>","<span class=\"c\">     * &#21028;&#26029;obj&#23545;&#35937;&#26159;&#21542;&#20026;&#26041;&#27861;</span>","<span class=\"c\">     * @name isFunction</span>","<span class=\"c\">     * @grammar UE.utils.isFunction(obj)  =&gt; true|false</span>","<span class=\"c\">     */</span>","    isFunction<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">(</span>obj<span class=\"k\">)</span> <span class=\"k\">{</span>","        <span class=\"c\">// chrome&#19979;,'function' == typeof /a/ &#20026;true.</span>","        <span class=\"k\">return</span> <span class=\"s\">'[object Function]'</span> <span class=\"k\">==</span> Object<span class=\"k\">.</span>prototype<span class=\"k\">.</span>toString<span class=\"k\">.</span>call<span class=\"k\">(</span>obj<span class=\"k\">);</span>","    <span class=\"k\">}</span><span class=\"k\">,</span>","    <span class=\"c\">/**</span>","<span class=\"c\">     * &#32479;&#19968;&#23558;&#39068;&#33394;&#20540;&#20351;&#29992;16&#36827;&#21046;&#24418;&#24335;&#34920;&#31034;</span>","<span class=\"c\">     * @name fixColor</span>","<span class=\"c\">     * @grammar UE.utils.fixColor(name,value) =&gt; value</span>","<span class=\"c\">     * @example</span>","<span class=\"c\">     * rgb(255,255,255)  =&gt; \"#ffffff\"</span>","<span class=\"c\">     */</span>","    fixColor<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">(</span>name<span class=\"k\">,</span> value<span class=\"k\">)</span> <span class=\"k\">{</span>","        <span class=\"k\">if</span> <span class=\"k\">(</span><span class=\"s\">/color/i</span><span class=\"k\">.</span>test<span class=\"k\">(</span>name<span class=\"k\">)</span> <span class=\"k\">&amp;&amp;</span> <span class=\"s\">/rgba?/</span><span class=\"k\">.</span>test<span class=\"k\">(</span>value<span class=\"k\">))</span> <span class=\"k\">{</span>","            <span class=\"k\">var</span> array <span class=\"k\">=</span> value<span class=\"k\">.</span>split<span class=\"k\">(</span><span class=\"s\">\",\"</span><span class=\"k\">);</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span>array<span class=\"k\">.</span>length <span class=\"k\">&gt;</span> <span class=\"s\">3</span><span class=\"k\">)</span>","                <span class=\"k\">return</span> <span class=\"s\">\"\"</span><span class=\"k\">;</span>","            value <span class=\"k\">=</span> <span class=\"s\">\"#\"</span><span class=\"k\">;</span>","            <span class=\"k\">for</span> <span class=\"k\">(</span><span class=\"k\">var</span> i <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">,</span> color<span class=\"k\">;</span> color <span class=\"k\">=</span> array<span class=\"k\">[</span>i<span class=\"k\">++];)</span> <span class=\"k\">{</span>","                color <span class=\"k\">=</span> parseInt<span class=\"k\">(</span>color<span class=\"k\">.</span>replace<span class=\"k\">(</span><span class=\"s\">/[^\\d]/gi</span><span class=\"k\">,</span> <span class=\"s\">''</span><span class=\"k\">),</span> <span class=\"s\">10</span><span class=\"k\">).</span>toString<span class=\"k\">(</span><span class=\"s\">16</span><span class=\"k\">);</span>","                value <span class=\"k\">+=</span> color<span class=\"k\">.</span>length <span class=\"k\">==</span> <span class=\"s\">1</span> <span class=\"k\">?</span> <span class=\"s\">\"0\"</span> <span class=\"k\">+</span> color <span class=\"k\">:</span> color<span class=\"k\">;</span>","            <span class=\"k\">}</span>","            value <span class=\"k\">=</span> value<span class=\"k\">.</span>toUpperCase<span class=\"k\">();</span>","        <span class=\"k\">}</span>","        <span class=\"k\">return</span>  value<span class=\"k\">;</span>","    <span class=\"k\">}</span><span class=\"k\">,</span>","    <span class=\"c\">/**</span>","<span class=\"c\">     * &#21482;&#38024;&#23545;border,padding,margin&#20570;&#20102;&#22788;&#29702;&#65292;&#22240;&#20026;&#24615;&#33021;&#38382;&#39064;</span>","<span class=\"c\">     * @public</span>","<span class=\"c\">     * @function</span>","<span class=\"c\">     * @param {String}    val style&#23383;&#31526;&#20018;</span>","<span class=\"c\">     */</span>","    optCss<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">(</span>val<span class=\"k\">)</span> <span class=\"k\">{</span>","        <span class=\"k\">var</span> padding<span class=\"k\">,</span> margin<span class=\"k\">,</span> border<span class=\"k\">;</span>","        val <span class=\"k\">=</span> val<span class=\"k\">.</span>replace<span class=\"k\">(</span><span class=\"s\">/(padding|margin|border)\\-([^:]+):([^;]+);?/gi</span><span class=\"k\">,</span> <span class=\"k\">function</span> <span class=\"k\">(</span>str<span class=\"k\">,</span> key<span class=\"k\">,</span> name<span class=\"k\">,</span> val<span class=\"k\">)</span> <span class=\"k\">{</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span>val<span class=\"k\">.</span>split<span class=\"k\">(</span><span class=\"s\">' '</span><span class=\"k\">).</span>length <span class=\"k\">==</span> <span class=\"s\">1</span><span class=\"k\">)</span> <span class=\"k\">{</span>","                <span class=\"k\">switch</span> <span class=\"k\">(</span>key<span class=\"k\">)</span> <span class=\"k\">{</span>","                    <span class=\"k\">case</span> <span class=\"s\">'padding'</span><span class=\"k\">:</span>","                        <span class=\"k\">!</span>padding <span class=\"k\">&amp;&amp;</span> <span class=\"k\">(</span>padding <span class=\"k\">=</span> <span class=\"k\">{}</span><span class=\"k\">);</span>","                        padding<span class=\"k\">[</span>name<span class=\"k\">]</span> <span class=\"k\">=</span> val<span class=\"k\">;</span>","                        <span class=\"k\">return</span> <span class=\"s\">''</span><span class=\"k\">;</span>","                    <span class=\"k\">case</span> <span class=\"s\">'margin'</span><span class=\"k\">:</span>","                        <span class=\"k\">!</span>margin <span class=\"k\">&amp;&amp;</span> <span class=\"k\">(</span>margin <span class=\"k\">=</span> <span class=\"k\">{}</span><span class=\"k\">);</span>","                        margin<span class=\"k\">[</span>name<span class=\"k\">]</span> <span class=\"k\">=</span> val<span class=\"k\">;</span>","                        <span class=\"k\">return</span> <span class=\"s\">''</span><span class=\"k\">;</span>","                    <span class=\"k\">case</span> <span class=\"s\">'border'</span><span class=\"k\">:</span>","                        <span class=\"k\">return</span> val <span class=\"k\">==</span> <span class=\"s\">'initial'</span> <span class=\"k\">?</span> <span class=\"s\">''</span> <span class=\"k\">:</span> str<span class=\"k\">;</span>","                <span class=\"k\">}</span>","            <span class=\"k\">}</span>","            <span class=\"k\">return</span> str<span class=\"k\">;</span>","        <span class=\"k\">}</span><span class=\"k\">);</span>","","        <span class=\"k\">function</span> opt<span class=\"k\">(</span>obj<span class=\"k\">,</span> name<span class=\"k\">)</span> <span class=\"k\">{</span>","            <span class=\"k\">if</span> <span class=\"k\">(!</span>obj<span class=\"k\">)</span> <span class=\"k\">{</span>","                <span class=\"k\">return</span> <span class=\"s\">''</span><span class=\"k\">;</span>","            <span class=\"k\">}</span>","            <span class=\"k\">var</span> t <span class=\"k\">=</span> obj<span class=\"k\">.</span>top <span class=\"k\">,</span> b <span class=\"k\">=</span> obj<span class=\"k\">.</span>bottom<span class=\"k\">,</span> l <span class=\"k\">=</span> obj<span class=\"k\">.</span>left<span class=\"k\">,</span> r <span class=\"k\">=</span> obj<span class=\"k\">.</span>right<span class=\"k\">,</span> val <span class=\"k\">=</span> <span class=\"s\">''</span><span class=\"k\">;</span>","            <span class=\"k\">if</span> <span class=\"k\">(!</span>t <span class=\"k\">||</span> <span class=\"k\">!</span>l <span class=\"k\">||</span> <span class=\"k\">!</span>b <span class=\"k\">||</span> <span class=\"k\">!</span>r<span class=\"k\">)</span> <span class=\"k\">{</span>","                <span class=\"k\">for</span> <span class=\"k\">(</span><span class=\"k\">var</span> p <span class=\"k\">in</span> obj<span class=\"k\">)</span> <span class=\"k\">{</span>","                    val <span class=\"k\">+=</span> <span class=\"s\">';'</span> <span class=\"k\">+</span> name <span class=\"k\">+</span> <span class=\"s\">'-'</span> <span class=\"k\">+</span> p <span class=\"k\">+</span> <span class=\"s\">':'</span> <span class=\"k\">+</span> obj<span class=\"k\">[</span>p<span class=\"k\">]</span> <span class=\"k\">+</span> <span class=\"s\">';'</span><span class=\"k\">;</span>","                <span class=\"k\">}</span>","            <span class=\"k\">}</span> <span class=\"k\">else</span> <span class=\"k\">{</span>","                val <span class=\"k\">+=</span> <span class=\"s\">';'</span> <span class=\"k\">+</span> name <span class=\"k\">+</span> <span class=\"s\">':'</span> <span class=\"k\">+</span>","                    <span class=\"k\">(</span>t <span class=\"k\">==</span> b <span class=\"k\">&amp;&amp;</span> b <span class=\"k\">==</span> l <span class=\"k\">&amp;&amp;</span> l <span class=\"k\">==</span> r <span class=\"k\">?</span> t <span class=\"k\">:</span>","                        t <span class=\"k\">==</span> b <span class=\"k\">&amp;&amp;</span> l <span class=\"k\">==</span> r <span class=\"k\">?</span> <span class=\"k\">(</span>t <span class=\"k\">+</span> <span class=\"s\">' '</span> <span class=\"k\">+</span> l<span class=\"k\">)</span> <span class=\"k\">:</span>","                            l <span class=\"k\">==</span> r <span class=\"k\">?</span> <span class=\"k\">(</span>t <span class=\"k\">+</span> <span class=\"s\">' '</span> <span class=\"k\">+</span> l <span class=\"k\">+</span> <span class=\"s\">' '</span> <span class=\"k\">+</span> b<span class=\"k\">)</span> <span class=\"k\">:</span> <span class=\"k\">(</span>t <span class=\"k\">+</span> <span class=\"s\">' '</span> <span class=\"k\">+</span> r <span class=\"k\">+</span> <span class=\"s\">' '</span> <span class=\"k\">+</span> b <span class=\"k\">+</span> <span class=\"s\">' '</span> <span class=\"k\">+</span> l<span class=\"k\">))</span> <span class=\"k\">+</span> <span class=\"s\">';'</span>","            <span class=\"k\">}</span>","            <span class=\"k\">return</span> val<span class=\"k\">;</span>","        <span class=\"k\">}</span>","","        val <span class=\"k\">+=</span> opt<span class=\"k\">(</span>padding<span class=\"k\">,</span> <span class=\"s\">'padding'</span><span class=\"k\">)</span> <span class=\"k\">+</span> opt<span class=\"k\">(</span>margin<span class=\"k\">,</span> <span class=\"s\">'margin'</span><span class=\"k\">);</span>","        <span class=\"k\">return</span> val<span class=\"k\">.</span>replace<span class=\"k\">(</span><span class=\"s\">/^[ \\n\\r\\t;]*|[ \\n\\r\\t]*$/</span><span class=\"k\">,</span> <span class=\"s\">''</span><span class=\"k\">).</span>replace<span class=\"k\">(</span><span class=\"s\">/;([ \\n\\r\\t]+)|\\1;/g</span><span class=\"k\">,</span> <span class=\"s\">';'</span><span class=\"k\">)</span>","            <span class=\"k\">.</span>replace<span class=\"k\">(</span><span class=\"s\">/(&amp;((l|g)t|quot|#39))?;{2,}/g</span><span class=\"k\">,</span> <span class=\"k\">function</span> <span class=\"k\">(</span>a<span class=\"k\">,</span> b<span class=\"k\">)</span> <span class=\"k\">{</span>","                <span class=\"k\">return</span> b <span class=\"k\">?</span> b <span class=\"k\">+</span> <span class=\"s\">\";;\"</span> <span class=\"k\">:</span> <span class=\"s\">';'</span>","            <span class=\"k\">}</span><span class=\"k\">);</span>","    <span class=\"k\">}</span><span class=\"k\">,</span>","    <span class=\"c\">/**</span>","<span class=\"c\">     * &#28145;&#24230;&#20811;&#38534;&#23545;&#35937;&#65292;&#20174;source&#21040;target</span>","<span class=\"c\">     * @name clone</span>","<span class=\"c\">     * @grammar UE.utils.clone(source,target) =&gt; Object  //&#23558;source&#23545;&#35937;&#28145;&#24230;&#20811;&#38534;&#21040;target&#23545;&#35937;&#20013;</span>","<span class=\"c\">     */</span>","    clone<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">(</span>source<span class=\"k\">,</span> target<span class=\"k\">)</span> <span class=\"k\">{</span>","        <span class=\"k\">var</span> tmp<span class=\"k\">;</span>","        target <span class=\"k\">=</span> target <span class=\"k\">||</span> <span class=\"k\">{}</span><span class=\"k\">;</span>","        <span class=\"k\">for</span> <span class=\"k\">(</span><span class=\"k\">var</span> i <span class=\"k\">in</span> source<span class=\"k\">)</span> <span class=\"k\">{</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span>source<span class=\"k\">.</span>hasOwnProperty<span class=\"k\">(</span>i<span class=\"k\">))</span> <span class=\"k\">{</span>","                tmp <span class=\"k\">=</span> source<span class=\"k\">[</span>i<span class=\"k\">];</span>","                <span class=\"k\">if</span> <span class=\"k\">(</span><span class=\"k\">typeof</span> tmp <span class=\"k\">==</span> <span class=\"s\">'object'</span><span class=\"k\">)</span> <span class=\"k\">{</span>","                    target<span class=\"k\">[</span>i<span class=\"k\">]</span> <span class=\"k\">=</span> utils<span class=\"k\">.</span>isArray<span class=\"k\">(</span>tmp<span class=\"k\">)</span> <span class=\"k\">?</span> <span class=\"k\">[]</span> <span class=\"k\">:</span> <span class=\"k\">{}</span><span class=\"k\">;</span>","                    utils<span class=\"k\">.</span>clone<span class=\"k\">(</span>source<span class=\"k\">[</span>i<span class=\"k\">],</span> target<span class=\"k\">[</span>i<span class=\"k\">])</span>","                <span class=\"k\">}</span> <span class=\"k\">else</span> <span class=\"k\">{</span>","                    target<span class=\"k\">[</span>i<span class=\"k\">]</span> <span class=\"k\">=</span> tmp<span class=\"k\">;</span>","                <span class=\"k\">}</span>","            <span class=\"k\">}</span>","        <span class=\"k\">}</span>","        <span class=\"k\">return</span> target<span class=\"k\">;</span>","    <span class=\"k\">}</span><span class=\"k\">,</span>","    <span class=\"c\">/**</span>","<span class=\"c\">     * &#36716;&#25442;cm/pt&#21040;px</span>","<span class=\"c\">     * @name transUnitToPx</span>","<span class=\"c\">     * @grammar UE.utils.clone('20pt') =&gt; '20px'</span>","<span class=\"c\">     * @grammar UE.utils.clone('0pt') =&gt; '0'</span>","<span class=\"c\">     */</span>","    transUnitToPx <span class=\"k\">:</span> <span class=\"k\">function</span><span class=\"k\">(</span>val<span class=\"k\">)</span><span class=\"k\">{</span>","        <span class=\"k\">var</span> unit<span class=\"k\">;</span>","        val<span class=\"k\">.</span>replace<span class=\"k\">(</span><span class=\"s\">/([\\d.]+)(\\w+)/</span><span class=\"k\">,</span><span class=\"k\">function</span><span class=\"k\">(</span>str<span class=\"k\">,</span>v<span class=\"k\">,</span>u<span class=\"k\">)</span><span class=\"k\">{</span>","            val <span class=\"k\">=</span> v<span class=\"k\">;</span>","            unit <span class=\"k\">=</span> u<span class=\"k\">;</span>","        <span class=\"k\">}</span><span class=\"k\">);</span>","        <span class=\"k\">switch</span><span class=\"k\">(</span>unit<span class=\"k\">)</span><span class=\"k\">{</span>","            <span class=\"k\">case</span> <span class=\"s\">'cm'</span><span class=\"k\">:</span>","                val <span class=\"k\">=</span> parseFloat<span class=\"k\">(</span>val<span class=\"k\">)</span> <span class=\"k\">*</span> <span class=\"s\">25</span><span class=\"k\">;</span>","                <span class=\"k\">break</span><span class=\"k\">;</span>","            <span class=\"k\">case</span> <span class=\"s\">'pt'</span><span class=\"k\">:</span>","                val <span class=\"k\">=</span> Math<span class=\"k\">.</span>round<span class=\"k\">(</span>parseFloat<span class=\"k\">(</span>val<span class=\"k\">)</span> <span class=\"k\">*</span> <span class=\"s\">96</span> <span class=\"k\">/</span> <span class=\"s\">72</span><span class=\"k\">);</span>","        <span class=\"k\">}</span>","        <span class=\"k\">return</span> val <span class=\"k\">+</span> <span class=\"k\">(</span>val<span class=\"k\">?</span>unit<span class=\"k\">:</span><span class=\"s\">''</span><span class=\"k\">);</span>","    <span class=\"k\">}</span><span class=\"k\">,</span>","    <span class=\"c\">/**</span>","<span class=\"c\">     * DomReady&#26041;&#27861;&#65292;&#22238;&#35843;&#20989;&#25968;&#23558;&#22312;dom&#26641;ready&#23436;&#25104;&#21518;&#25191;&#34892;</span>","<span class=\"c\">     * @name domReady</span>","<span class=\"c\">     * @grammar UE.utils.domReady(fn)  =&gt; fn  //&#36820;&#22238;&#19968;&#20010;&#24310;&#36831;&#25191;&#34892;&#30340;&#26041;&#27861;</span>","<span class=\"c\">     */</span>","    domReady<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","","        <span class=\"k\">var</span> fnArr <span class=\"k\">=</span> <span class=\"k\">[];</span>","","        <span class=\"k\">function</span> doReady<span class=\"k\">(</span>doc<span class=\"k\">)</span> <span class=\"k\">{</span>","            <span class=\"c\">//&#30830;&#20445;onready&#21482;&#25191;&#34892;&#19968;&#27425;</span>","            doc<span class=\"k\">.</span>isReady <span class=\"k\">=</span> <span class=\"k\">true</span><span class=\"k\">;</span>","            <span class=\"k\">for</span> <span class=\"k\">(</span><span class=\"k\">var</span> ci<span class=\"k\">;</span> ci <span class=\"k\">=</span> fnArr<span class=\"k\">.</span>pop<span class=\"k\">();</span>ci<span class=\"k\">())</span><span class=\"k\">{}</span>","        <span class=\"k\">}</span>","","        <span class=\"k\">return</span> <span class=\"k\">function</span> <span class=\"k\">(</span>onready<span class=\"k\">,</span>win<span class=\"k\">)</span> <span class=\"k\">{</span>","            win <span class=\"k\">=</span> win <span class=\"k\">||</span> window<span class=\"k\">;</span>","            <span class=\"k\">var</span> doc <span class=\"k\">=</span> win<span class=\"k\">.</span>document<span class=\"k\">;</span>","            onready <span class=\"k\">&amp;&amp;</span> fnArr<span class=\"k\">.</span>push<span class=\"k\">(</span>onready<span class=\"k\">);</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span>doc<span class=\"k\">.</span>readyState <span class=\"k\">===</span> <span class=\"s\">\"complete\"</span><span class=\"k\">)</span> <span class=\"k\">{</span>","                doReady<span class=\"k\">(</span>doc<span class=\"k\">);</span>","            <span class=\"k\">}</span><span class=\"k\">else</span><span class=\"k\">{</span>","                doc<span class=\"k\">.</span>isReady <span class=\"k\">&amp;&amp;</span> doReady<span class=\"k\">(</span>doc<span class=\"k\">);</span>","                <span class=\"k\">if</span> <span class=\"k\">(</span>browser<span class=\"k\">.</span>ie<span class=\"k\">)</span> <span class=\"k\">{</span>","                    <span class=\"k\">(</span><span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","                        <span class=\"k\">if</span> <span class=\"k\">(</span>doc<span class=\"k\">.</span>isReady<span class=\"k\">)</span> <span class=\"k\">return</span><span class=\"k\">;</span>","                        <span class=\"k\">try</span> <span class=\"k\">{</span>","                            doc<span class=\"k\">.</span>documentElement<span class=\"k\">.</span>doScroll<span class=\"k\">(</span><span class=\"s\">\"left\"</span><span class=\"k\">);</span>","                        <span class=\"k\">}</span> <span class=\"k\">catch</span> <span class=\"k\">(</span>error<span class=\"k\">)</span> <span class=\"k\">{</span>","                            setTimeout<span class=\"k\">(</span>arguments<span class=\"k\">.</span>callee<span class=\"k\">,</span> <span class=\"s\">0</span><span class=\"k\">);</span>","                            <span class=\"k\">return</span><span class=\"k\">;</span>","                        <span class=\"k\">}</span>","                        doReady<span class=\"k\">(</span>doc<span class=\"k\">);</span>","                    <span class=\"k\">}</span><span class=\"k\">)();</span>","                    win<span class=\"k\">.</span>attachEvent<span class=\"k\">(</span><span class=\"s\">'onload'</span><span class=\"k\">,</span> <span class=\"k\">function</span><span class=\"k\">()</span><span class=\"k\">{</span>","                        doReady<span class=\"k\">(</span>doc<span class=\"k\">)</span>","                    <span class=\"k\">}</span><span class=\"k\">);</span>","                <span class=\"k\">}</span> <span class=\"k\">else</span> <span class=\"k\">{</span>","                    doc<span class=\"k\">.</span>addEventListener<span class=\"k\">(</span><span class=\"s\">\"DOMContentLoaded\"</span><span class=\"k\">,</span> <span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","                        doc<span class=\"k\">.</span>removeEventListener<span class=\"k\">(</span><span class=\"s\">\"DOMContentLoaded\"</span><span class=\"k\">,</span> arguments<span class=\"k\">.</span>callee<span class=\"k\">,</span> <span class=\"k\">false</span><span class=\"k\">);</span>","                        doReady<span class=\"k\">(</span>doc<span class=\"k\">);</span>","                    <span class=\"k\">}</span><span class=\"k\">,</span> <span class=\"k\">false</span><span class=\"k\">);</span>","                    win<span class=\"k\">.</span>addEventListener<span class=\"k\">(</span><span class=\"s\">'load'</span><span class=\"k\">,</span> <span class=\"k\">function</span><span class=\"k\">()</span><span class=\"k\">{</span>doReady<span class=\"k\">(</span>doc<span class=\"k\">)</span><span class=\"k\">}</span><span class=\"k\">,</span> <span class=\"k\">false</span><span class=\"k\">);</span>","                <span class=\"k\">}</span>","            <span class=\"k\">}</span>","","        <span class=\"k\">}</span>","    <span class=\"k\">}</span><span class=\"k\">(),</span>","    <span class=\"c\">/**</span>","<span class=\"c\">     * &#21160;&#24577;&#28155;&#21152;css&#26679;&#24335;</span>","<span class=\"c\">     * @name cssRule</span>","<span class=\"c\">     * @grammar UE.utils.cssRule('&#28155;&#21152;&#30340;&#26679;&#24335;&#30340;&#33410;&#28857;&#21517;&#31216;',['&#26679;&#24335;'&#65292;'&#25918;&#21040;&#21738;&#20010;document&#19978;'])</span>","<span class=\"c\">     * @grammar UE.utils.cssRule('body','body{background:#ccc}') =&gt; null  //&#32473;body&#28155;&#21152;&#32972;&#26223;&#39068;&#33394;</span>","<span class=\"c\">     * @grammar UE.utils.cssRule('body') =&gt;&#26679;&#24335;&#30340;&#23383;&#31526;&#20018;  //&#21462;&#24471;key&#20540;&#20026;body&#30340;&#26679;&#24335;&#30340;&#20869;&#23481;,&#22914;&#26524;&#27809;&#26377;&#25214;&#21040;key&#20540;&#20808;&#20851;&#30340;&#26679;&#24335;&#23558;&#36820;&#22238;&#31354;&#65292;&#20363;&#22914;&#21018;&#25165;&#37027;&#20010;&#32972;&#26223;&#39068;&#33394;&#65292;&#23558;&#36820;&#22238; body{background:#ccc}</span>","<span class=\"c\">     * @grammar UE.utils.cssRule('body','') =&gt;null //&#28165;&#31354;&#32473;&#23450;&#30340;key&#20540;&#30340;&#32972;&#26223;&#39068;&#33394;</span>","<span class=\"c\">     */</span>","    cssRule <span class=\"k\">:</span> browser<span class=\"k\">.</span>ie <span class=\"k\">?</span> <span class=\"k\">function</span><span class=\"k\">(</span>key<span class=\"k\">,</span>style<span class=\"k\">,</span>doc<span class=\"k\">)</span><span class=\"k\">{</span>","            <span class=\"k\">var</span> indexList<span class=\"k\">,</span>index<span class=\"k\">;</span>","            doc <span class=\"k\">=</span> doc <span class=\"k\">||</span> document<span class=\"k\">;</span>","            <span class=\"k\">if</span><span class=\"k\">(</span>doc<span class=\"k\">.</span>indexList<span class=\"k\">)</span><span class=\"k\">{</span>","                indexList <span class=\"k\">=</span> doc<span class=\"k\">.</span>indexList<span class=\"k\">;</span>","            <span class=\"k\">}</span><span class=\"k\">else</span><span class=\"k\">{</span>","                indexList <span class=\"k\">=</span> doc<span class=\"k\">.</span>indexList <span class=\"k\">=</span>  <span class=\"k\">{}</span><span class=\"k\">;</span>","            <span class=\"k\">}</span>","            <span class=\"k\">var</span> sheetStyle<span class=\"k\">;</span>","            <span class=\"k\">if</span><span class=\"k\">(!</span>indexList<span class=\"k\">[</span>key<span class=\"k\">])</span><span class=\"k\">{</span>","                <span class=\"k\">if</span><span class=\"k\">(</span>style <span class=\"k\">===</span> undefined<span class=\"k\">)</span><span class=\"k\">{</span>","                    <span class=\"k\">return</span> <span class=\"s\">''</span>","                <span class=\"k\">}</span>","                sheetStyle <span class=\"k\">=</span> doc<span class=\"k\">.</span>createStyleSheet<span class=\"k\">(</span><span class=\"s\">''</span><span class=\"k\">,</span>index <span class=\"k\">=</span> doc<span class=\"k\">.</span>styleSheets<span class=\"k\">.</span>length<span class=\"k\">);</span>","                indexList<span class=\"k\">[</span>key<span class=\"k\">]</span> <span class=\"k\">=</span> index<span class=\"k\">;</span>","            <span class=\"k\">}</span><span class=\"k\">else</span><span class=\"k\">{</span>","                sheetStyle <span class=\"k\">=</span> doc<span class=\"k\">.</span>styleSheets<span class=\"k\">[</span>indexList<span class=\"k\">[</span>key<span class=\"k\">]];</span>","            <span class=\"k\">}</span>","            <span class=\"k\">if</span><span class=\"k\">(</span>style <span class=\"k\">===</span> undefined<span class=\"k\">)</span><span class=\"k\">{</span>","                <span class=\"k\">return</span> sheetStyle<span class=\"k\">.</span>cssText","            <span class=\"k\">}</span>","            sheetStyle<span class=\"k\">.</span>cssText <span class=\"k\">=</span> style <span class=\"k\">||</span> <span class=\"s\">''</span>","        <span class=\"k\">}</span><span class=\"k\">:</span><span class=\"k\">function</span><span class=\"k\">(</span>key<span class=\"k\">,</span>style<span class=\"k\">,</span>doc<span class=\"k\">)</span><span class=\"k\">{</span>","            doc <span class=\"k\">=</span> doc <span class=\"k\">||</span> document<span class=\"k\">;</span>","            <span class=\"k\">var</span> head <span class=\"k\">=</span> doc<span class=\"k\">.</span>getElementsByTagName<span class=\"k\">(</span><span class=\"s\">'head'</span><span class=\"k\">)[</span><span class=\"s\">0</span><span class=\"k\">],</span>node<span class=\"k\">;</span>","            <span class=\"k\">if</span><span class=\"k\">(!(</span>node <span class=\"k\">=</span> doc<span class=\"k\">.</span>getElementById<span class=\"k\">(</span>key<span class=\"k\">)))</span><span class=\"k\">{</span>","                <span class=\"k\">if</span><span class=\"k\">(</span>style <span class=\"k\">===</span> undefined<span class=\"k\">)</span><span class=\"k\">{</span>","                    <span class=\"k\">return</span> <span class=\"s\">''</span>","                <span class=\"k\">}</span>","                node <span class=\"k\">=</span> doc<span class=\"k\">.</span>createElement<span class=\"k\">(</span><span class=\"s\">'style'</span><span class=\"k\">);</span>","                node<span class=\"k\">.</span>id <span class=\"k\">=</span> key<span class=\"k\">;</span>","                head<span class=\"k\">.</span>appendChild<span class=\"k\">(</span>node<span class=\"k\">)</span>","            <span class=\"k\">}</span>","            <span class=\"k\">if</span><span class=\"k\">(</span>style <span class=\"k\">===</span> undefined<span class=\"k\">)</span><span class=\"k\">{</span>","                <span class=\"k\">return</span> node<span class=\"k\">.</span>innerHTML","            <span class=\"k\">}</span>","            <span class=\"k\">if</span><span class=\"k\">(</span>style <span class=\"k\">!==</span> <span class=\"s\">''</span><span class=\"k\">)</span><span class=\"k\">{</span>","                node<span class=\"k\">.</span>innerHTML <span class=\"k\">=</span> style<span class=\"k\">;</span>","            <span class=\"k\">}</span><span class=\"k\">else</span><span class=\"k\">{</span>","                head<span class=\"k\">.</span>removeChild<span class=\"k\">(</span>node<span class=\"k\">)</span>","            <span class=\"k\">}</span>","        <span class=\"k\">}</span>","","<span class=\"k\">}</span><span class=\"k\">;</span>"]);
_$jscoverage['customEvent.js'] && (_$jscoverage['customEvent.js'].source = ["<span class=\"c\">/**</span>","<span class=\"c\"> * @file</span>","<span class=\"c\"> * @name &#32534;&#36753;&#22120;&#20107;&#20214;&#25509;&#21475;</span>","<span class=\"c\"> * @short Custom events</span>","<span class=\"c\"> * @des &#26412;&#25991;&#20214;&#38750;&#32534;&#36753;&#22120;&#26680;&#24515;&#25991;&#20214;&#65292;&#20165;&#36866;&#29992;&#20110;&#29983;&#25104;&#23545;&#24212;&#30340;&#20107;&#20214;&#25509;&#21475;&#25991;&#26723;</span>","<span class=\"c\"> * UEditor&#32534;&#36753;&#22120;&#20013;&#30340;&#25152;&#26377;&#20107;&#20214;&#30417;&#21548;&#21644;&#35302;&#21457;&#37117;&#32479;&#19968;&#37319;&#29992;</span>","<span class=\"c\"> * editor.addListener(\"eventName\",handler) &#21644; editor.fireEvent(\"eventName\")&#26041;&#24335;&#35843;&#29992;&#65292;&#25903;&#25345;&#27983;&#35272;&#22120;&#21407;&#29983;&#20107;&#20214;&#65292;&#22914;keydown,keyup,mousedown,mouseup&#31561;</span>","<span class=\"c\"> */</span>","<span class=\"c\">/**</span>","<span class=\"c\"> * &#32534;&#36753;&#22120;&#21152;&#36733;&#23436;&#25104;&#20107;&#20214;&#65288;&#26680;&#24515;&#65289;&#65292;&#22312;&#32534;&#36753;&#22120;&#20934;&#22791;&#22909;&#25152;&#26377;&#36816;&#34892;&#26465;&#20214;&#26102;&#35302;&#21457;&#65292;&#22823;&#37096;&#20998;&#22330;&#26223;&#21487;&#20197;&#20351;&#29992;editor.ready(fn)&#21462;&#20195;&#12290;</span>","<span class=\"c\"> * @name ready</span>","<span class=\"c\"> * @grammar editor.addListener(\"ready\",fn)</span>","<span class=\"c\"> * @example</span>","<span class=\"c\"> * editor.addListener(\"ready\",function(){</span>","<span class=\"c\"> *     //this&#20026;editor&#23454;&#20363;</span>","<span class=\"c\"> *     this.setContent(\"&#27426;&#36814;&#20351;&#29992;UEditor&#65281;\");</span>","<span class=\"c\"> * })</span>","<span class=\"c\"> * //&#21516;&#22914;&#19979;&#25509;&#21475;&#26041;&#24335;&#35843;&#29992;</span>","<span class=\"c\"> * editor.ready(function(){</span>","<span class=\"c\"> *     this.setContent(\"&#27426;&#36814;&#20351;&#29992;UEditor&#65281;\");</span>","<span class=\"c\"> * })</span>","<span class=\"c\"> */</span>","<span class=\"c\">/**</span>","<span class=\"c\"> * &#36873;&#21306;&#21464;&#21270;&#20107;&#20214;&#65288;&#26680;&#24515;&#65289;&#65292;&#24403;&#36873;&#21306;&#20986;&#29616;&#21464;&#21270;&#26102;&#35302;&#21457;&#12290;</span>","<span class=\"c\"> * &#22312;UEditor&#20013;&#65292;&#20219;&#20309;&#28041;&#21450;&#21040;&#20809;&#26631;&#25913;&#21464;&#30340;&#25805;&#20316;&#37117;&#20250;&#35302;&#21457;&#36873;&#21306;&#21464;&#21270;&#20107;&#20214;&#65292;&#35813;&#20107;&#20214;&#20027;&#35201;&#29992;&#26469;&#23454;&#29616;&#24037;&#20855;&#26639;&#29366;&#24577;&#21453;&#23556;&#12290;</span>","<span class=\"c\"> * @name selectionChange</span>","<span class=\"c\"> * @grammar editor.addListener(\"selectionChange\",fn)</span>","<span class=\"c\"> * @grammar editor.fireEvent(\"selectionChange\")</span>","<span class=\"c\"> * @example</span>","<span class=\"c\"> * editor.addListener(\"selectionChange\",function(){</span>","<span class=\"c\"> *     //this&#20026;editor&#23454;&#20363;</span>","<span class=\"c\"> * })</span>","<span class=\"c\"> */</span>","","<span class=\"c\">/**</span>","<span class=\"c\"> * &#20869;&#23481;&#21464;&#21270;&#20107;&#20214;&#65288;&#26680;&#24515;&#65289;&#65292;&#24403;&#32534;&#36753;&#21306;&#22495;&#20013;&#30340;&#25991;&#26412;&#20869;&#23481;&#20986;&#29616;&#21464;&#21270;&#26102;&#35302;&#21457;</span>","<span class=\"c\"> * @name contentChange</span>","<span class=\"c\"> * @grammar editor.addListener(\"contentChange\",fn)</span>","<span class=\"c\"> * @grammar editor.fireEvent(\"contentChange\")</span>","<span class=\"c\"> */</span>","","<span class=\"c\">/**</span>","<span class=\"c\"> * &#31896;&#36148;&#20107;&#20214;&#65288;&#26680;&#24515;&#65289;&#65292;&#24403;&#20351;&#29992;ctr+v&#24555;&#25463;&#38190;&#31896;&#36148;(&#21253;&#25324;Chrome&#12289;FF&#27983;&#35272;&#22120;&#30340;&#21491;&#38190;&#31896;&#36148;)&#26102;&#20250;&#35302;&#21457;&#26412;&#20107;&#20214;</span>","<span class=\"c\"> * @name (before|after)Paste</span>","<span class=\"c\"> * @grammar editor.addListener(\"beforePaste\",fn)</span>","<span class=\"c\"> * @example</span>","<span class=\"c\"> * editor.addListener(\"beforePaste\",function(type,data){</span>","<span class=\"c\"> *     //beforePaste&#20107;&#20214;&#30417;&#21548;&#21306;&#21035;&#20110;afterPaste&#20107;&#20214;&#30417;&#21548;&#26368;&#20027;&#35201;&#30340;&#19968;&#20010;&#26041;&#38754;&#26159;&#23384;&#22312;&#19968;&#20010;data&#21442;&#25968;&#65292;</span>","<span class=\"c\"> *     //&#35813;data&#21442;&#25968;&#26159;&#19968;&#20010;&#23545;&#35937;&#65292;&#21253;&#21547;&#23646;&#24615;html&#12290;</span>","<span class=\"c\"> *     //&#33509;&#29992;&#25143;&#22312;&#27492;&#22788;&#26356;&#25913;&#35813;html&#30340;&#20540;&#26102;&#65292;&#23558;&#20250;&#24433;&#21709;&#31896;&#36148;&#21040;&#32534;&#36753;&#22120;&#20013;&#30340;&#20869;&#23481;,&#20027;&#35201;&#29992;&#20110;&#31896;&#36148;&#26102;&#38656;&#35201;&#29305;&#27530;&#22788;&#29702;&#30340;&#19968;&#20123;&#22330;&#26223;&#12290;</span>","<span class=\"c\"> *     data.html = \"&#25105;&#25226;&#31896;&#36148;&#20869;&#23481;&#25913;&#25104;&#20102;&#36825;&#21477;&#35805;\";</span>","<span class=\"c\"> * })</span>","<span class=\"c\"> */</span>","","<span class=\"c\">/**</span>","<span class=\"c\"> * &#35774;&#32622;&#20869;&#23481;&#20107;&#20214;&#65288;&#26680;&#24515;&#65289;&#65292;&#24403;&#35843;&#29992;setContent&#26041;&#27861;&#26102;&#35302;&#21457;</span>","<span class=\"c\"> * @name (before|after)SetContent</span>","<span class=\"c\"> * @grammar editor.addListener(\"beforeSetContent\",fn)</span>","<span class=\"c\"> * @example</span>","<span class=\"c\"> * editor.addListener(\"beforeSetContent\",function(type,data){</span>","<span class=\"c\"> *     //beforeSetContent&#20107;&#20214;&#30417;&#21548;&#21306;&#21035;&#20110;afterSetContent&#20107;&#20214;&#30417;&#21548;&#26368;&#20027;&#35201;&#30340;&#19968;&#20010;&#26041;&#38754;&#26159;&#23384;&#22312;&#19968;&#20010;data&#21442;&#25968;&#65292;</span>","<span class=\"c\"> *     //&#35813;data&#21442;&#25968;&#26159;&#19968;&#20010;&#23545;&#35937;&#65292;&#21253;&#21547;&#23646;&#24615;html&#12290;</span>","<span class=\"c\"> *     //&#33509;&#29992;&#25143;&#22312;&#27492;&#22788;&#26356;&#25913;&#35813;html&#30340;&#20540;&#26102;&#65292;&#23558;&#20250;&#24433;&#21709;&#35774;&#32622;&#21040;&#32534;&#36753;&#22120;&#20013;&#30340;&#20869;&#23481;,&#20027;&#35201;&#29992;&#20110;&#35774;&#32622;&#20869;&#23481;&#26102;&#38656;&#35201;&#29305;&#27530;&#22788;&#29702;&#30340;&#19968;&#20123;&#22330;&#26223;&#12290;</span>","<span class=\"c\"> *     data.html = \"&#25105;&#25226;&#35774;&#32622;&#20869;&#23481;&#25913;&#25104;&#20102;&#36825;&#21477;&#35805;\";</span>","<span class=\"c\"> * })</span>","<span class=\"c\"> */</span>","","<span class=\"c\">/**</span>","<span class=\"c\"> * getAllHtml&#20107;&#20214;&#65292;&#24403;&#35843;&#29992;getAllHtml&#26041;&#27861;&#26102;&#35302;&#21457;</span>","<span class=\"c\"> * @name getAllHtml</span>","<span class=\"c\"> * @grammar editor.addListener(\"getAllHtml\",fn)</span>","<span class=\"c\"> * @example</span>","<span class=\"c\"> * editor.addListener(\"getAllHtml\",function(type,data){</span>","<span class=\"c\"> *     //data&#26159;document&#20013;head&#37096;&#20998;html&#30340;&#23553;&#35013;&#65292;&#21487;&#36890;&#36807;data.html&#26469;&#33719;&#21462;&#23545;&#24212;&#23383;&#31526;&#20018;&#12290;</span>","<span class=\"c\"> *     //&#38656;&#35201;&#20462;&#25913;&#30340;&#35805;&#24471;&#37325;&#26032;&#36171;&#20540;data.html = '&lt;style type=\"text/css\"&gt; body{margin:0;}&lt;/style&gt;';</span>","<span class=\"c\"> * })</span>","<span class=\"c\"> */</span>","","<span class=\"c\">/**</span>","<span class=\"c\"> * &#20869;&#23481;&#25552;&#20132;&#20107;&#20214;(&#25554;&#20214;)&#65292;&#24403;&#20869;&#23481;&#25552;&#20132;&#25554;&#20214;&#21152;&#36733;&#24182;&#35843;&#29992;&#20102;autosubmit&#21629;&#20196;&#26102;&#35302;&#21457;&#65292;&#22810;&#29992;&#20110;&#25552;&#20132;&#20043;&#21069;&#30340;&#39564;&#35777;</span>","<span class=\"c\"> * @name beforeSubmit</span>","<span class=\"c\"> * @grammar editor.addListener(\"beforeSubmit\",fn)   //&#33509;fn&#36820;&#22238;false&#65292;&#21017;&#38459;&#27490;&#26412;&#27425;&#25552;&#20132;</span>","<span class=\"c\"> * @example</span>","<span class=\"c\"> * editor.addListener(\"beforeSubmit\",function(){</span>","<span class=\"c\"> *     if(content is null){</span>","<span class=\"c\"> *         return false;</span>","<span class=\"c\"> *     }</span>","<span class=\"c\"> * })</span>","<span class=\"c\"> */</span>","","<span class=\"c\">/**</span>","<span class=\"c\"> * &#36828;&#31243;&#22270;&#29255;&#25235;&#21462;&#20107;&#20214;&#65288;&#25554;&#20214;&#65289;&#65292;&#24403;&#38656;&#35201;&#36827;&#34892;&#36828;&#31243;&#22270;&#29255;&#25235;&#21462;&#26102;&#35302;&#21457;</span>","<span class=\"c\"> * @name catchRemoteImage</span>","<span class=\"c\"> * @grammar editor.fireEvent(\"catchRemoteImage\")</span>","<span class=\"c\"> * @example</span>","<span class=\"c\"> * //&#24403;&#20174;&#22806;&#37096;&#31896;&#36148;&#20869;&#23481;&#21040;&#32534;&#36753;&#22120;&#21518;&#65292;&#35302;&#21457;&#36828;&#31243;&#22270;&#29255;&#25235;&#21462;</span>","<span class=\"c\"> * editor.addListener(\"afterPaste\", function () {</span>","<span class=\"c\"> *     me.fireEvent(\"catchRemoteImage\");</span>","<span class=\"c\"> * });</span>","<span class=\"c\"> * //&#36824;&#26377;&#19968;&#20010;catchRemoteError&#20107;&#20214;&#65292;&#29992;&#20110;&#22788;&#29702;&#26412;&#27425;&#25235;&#21462;&#22833;&#36133;&#21518;&#30340;&#22788;&#29702;</span>","<span class=\"c\"> * editor.addListener(\"catchRemoteError\",function(){</span>","<span class=\"c\"> *     console.log(\"&#25235;&#21462;&#22833;&#36133;&#20102;&#65281;\")</span>","<span class=\"c\"> * })</span>","<span class=\"c\"> */</span>","","<span class=\"c\">/**</span>","<span class=\"c\"> * &#32534;&#36753;&#27169;&#24335;&#20999;&#25442;&#20107;&#20214;&#65288;&#25554;&#20214;&#65289;&#65292;&#24403;&#28304;&#30721;&#27169;&#24335;&#21644;&#23500;&#25991;&#26412;&#27169;&#24335;&#21457;&#29983;&#20999;&#25442;&#26102;&#35302;&#21457;&#20107;&#20214;</span>","<span class=\"c\"> * @name sourceModeChanged</span>","<span class=\"c\"> * @grammar  editor.addListener(\"sourceModeChanged\",fn)</span>","<span class=\"c\"> * @example</span>","<span class=\"c\"> * editor.addListener(\"sourceModeChanged\",function(type,mode){</span>","<span class=\"c\"> *     //mode&#20195;&#34920;&#20102;&#24403;&#21069;&#30340;&#32534;&#36753;&#27169;&#24335;&#65292;true&#20195;&#34920;&#20999;&#25442;&#21040;&#20102;&#28304;&#30721;&#27169;&#24335;&#65292;false&#20195;&#34920;&#20999;&#25442;&#21040;&#20102;&#23500;&#25991;&#26412;&#27169;&#24335;</span>","<span class=\"c\"> * })</span>","<span class=\"c\"> */</span>","","<span class=\"c\">/**</span>","<span class=\"c\"> * &#20840;&#23631;&#20999;&#25442;&#20107;&#20214;&#65288;&#25554;&#20214;&#65289;&#65292;&#24403;&#25191;&#34892;&#20840;&#23631;&#20999;&#25442;&#30340;&#26102;&#20505;&#35302;&#21457;&#20107;&#20214;</span>","<span class=\"c\"> * @name fullScreenChanged</span>","<span class=\"c\"> * @grammar  editor.addListener(\"fullScreenChanged\",fn)</span>","<span class=\"c\"> * @example</span>","<span class=\"c\"> * editor.addListener(\"fullScreenChanged\",function(type,mode){</span>","<span class=\"c\"> *     //mode&#20195;&#34920;&#24403;&#21069;&#26159;&#21542;&#20840;&#23631;&#65292;true&#20195;&#34920;&#20999;&#25442;&#21040;&#20102;&#20840;&#23631;&#27169;&#24335;&#65292;false&#20195;&#34920;&#20999;&#25442;&#21040;&#20102;&#26222;&#36890;&#27169;&#24335;</span>","<span class=\"c\"> * })</span>","<span class=\"c\"> */</span>","","<span class=\"c\">/**</span>","<span class=\"c\"> * &#23383;&#25968;&#36229;&#20986;&#38480;&#21046;&#20107;&#20214;&#65288;&#25554;&#20214;&#65289;&#65292;&#24403;&#36755;&#20837;&#30340;&#23383;&#31526;&#25968;&#36229;&#20986;&#37197;&#32622;&#39033;&#37197;&#32622;&#26102;&#35302;&#21457;</span>","<span class=\"c\"> * @name wordCountOverflow</span>","<span class=\"c\"> * @grammar editor.addListener(\"wordCountOverflow\",fn)</span>","<span class=\"c\"> * @example</span>","<span class=\"c\"> * editor.addListener(\"wordCountOverflow\",function(){</span>","<span class=\"c\"> *     console.log(\"&#24744;&#36755;&#20837;&#30340;&#23383;&#31526;&#25968;&#24050;&#32463;&#36229;&#20986;&#38480;&#21046;&#65281;\")</span>","<span class=\"c\"> * })</span>","<span class=\"c\"> */</span>",""]);
_$jscoverage['editor.js'] && (_$jscoverage['editor.js'].source = ["UEDITOR_CONFIG <span class=\"k\">=</span> window<span class=\"k\">.</span>UEDITOR_CONFIG <span class=\"k\">||</span> <span class=\"k\">{}</span><span class=\"k\">;</span>","","<span class=\"k\">var</span> baidu <span class=\"k\">=</span> window<span class=\"k\">.</span>baidu <span class=\"k\">||</span> <span class=\"k\">{}</span><span class=\"k\">;</span>","","window<span class=\"k\">.</span>baidu <span class=\"k\">=</span> baidu<span class=\"k\">;</span>","","window<span class=\"k\">.</span>UE <span class=\"k\">=</span> baidu<span class=\"k\">.</span>editor <span class=\"k\">=</span>  <span class=\"k\">{}</span><span class=\"k\">;</span>","","UE<span class=\"k\">.</span>plugins <span class=\"k\">=</span> <span class=\"k\">{}</span><span class=\"k\">;</span>","","UE<span class=\"k\">.</span>commands <span class=\"k\">=</span> <span class=\"k\">{}</span><span class=\"k\">;</span>","","UE<span class=\"k\">.</span>instants <span class=\"k\">=</span> <span class=\"k\">{}</span><span class=\"k\">;</span>","","UE<span class=\"k\">.</span>I18N <span class=\"k\">=</span> <span class=\"k\">{}</span><span class=\"k\">;</span>","","<span class=\"c\">//UE.defaultplugins = {};</span>","<span class=\"c\">//</span>","<span class=\"c\">//UE.commands = function(){</span>","<span class=\"c\">//    var commandList = {},tmpList= {};</span>","<span class=\"c\">//    return {</span>","<span class=\"c\">//</span>","<span class=\"c\">//        register : function(commandsName,pluginName){</span>","<span class=\"c\">//            commandsName = commandsName.split(',');</span>","<span class=\"c\">//            for(var i= 0,ci;ci=commandsName[i++];){</span>","<span class=\"c\">//                commandList[ci] = pluginName;</span>","<span class=\"c\">//            }</span>","<span class=\"c\">//</span>","<span class=\"c\">//        },</span>","<span class=\"c\">//        get : function(commandName){</span>","<span class=\"c\">//            return commandList[commandName];</span>","<span class=\"c\">//        },</span>","<span class=\"c\">//        getList : function(){</span>","<span class=\"c\">//            return commandList;</span>","<span class=\"c\">//        }</span>","<span class=\"c\">//    }</span>","<span class=\"c\">//}();</span>","","UE<span class=\"k\">.</span>version <span class=\"k\">=</span> <span class=\"s\">\"1.2.3.0\"</span><span class=\"k\">;</span>","","<span class=\"k\">var</span> dom <span class=\"k\">=</span> UE<span class=\"k\">.</span>dom <span class=\"k\">=</span> <span class=\"k\">{}</span><span class=\"k\">;</span>"]);
_$jscoverage['plugins/_table.js'] && (_$jscoverage['plugins/_table.js'].source = ["<span class=\"c\">/**</span>","<span class=\"c\"> * Created with JetBrains PhpStorm.</span>","<span class=\"c\"> * User: taoqili</span>","<span class=\"c\"> * Date: 12-10-12</span>","<span class=\"c\"> * Time: &#19978;&#21320;10:05</span>","<span class=\"c\"> * To change this template use File | Settings | File Templates.</span>","","<span class=\"c\"> */</span>","UE<span class=\"k\">.</span>plugins<span class=\"k\">[</span><span class=\"s\">'table'</span><span class=\"k\">]</span> <span class=\"k\">=</span> <span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","    <span class=\"k\">var</span> me <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">,</span>","        findParent <span class=\"k\">=</span> domUtils<span class=\"k\">.</span>findParentByTagName<span class=\"k\">,</span>","        allTables <span class=\"k\">=[],</span>","        ueTables <span class=\"k\">=[];</span>","    me<span class=\"k\">.</span>ready<span class=\"k\">(</span><span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","        utils<span class=\"k\">.</span>cssRule<span class=\"k\">(</span><span class=\"s\">'table'</span><span class=\"k\">,</span>","            <span class=\"c\">//&#36873;&#20013;&#30340;td&#19978;&#30340;&#26679;&#24335;</span>","            <span class=\"s\">'.selectTdClass{background-color:#3399FF !important;}'</span> <span class=\"k\">+</span>","            <span class=\"s\">'table.noBorderTable td{border:1px dashed #ddd !important}'</span> <span class=\"k\">+</span>","            <span class=\"c\">//&#25554;&#20837;&#30340;&#34920;&#26684;&#30340;&#40664;&#35748;&#26679;&#24335;</span>","            <span class=\"s\">'table{ margin-bottom:10px;border-collapse:collapse;word-break:break-all;border:1px solid #000;}'</span> <span class=\"k\">+</span>","            <span class=\"s\">'td{ border:1px solid #000;}'</span><span class=\"k\">,</span> me<span class=\"k\">.</span>document<span class=\"k\">);</span>","","    <span class=\"k\">}</span><span class=\"k\">);</span>","    <span class=\"c\">//&#22788;&#29702;&#25302;&#21160;&#21450;&#26694;&#36873;&#30456;&#20851;&#26041;&#27861;</span>","    <span class=\"k\">var</span> startTd <span class=\"k\">=</span> <span class=\"k\">null</span><span class=\"k\">,</span> <span class=\"c\">//&#40736;&#26631;&#25353;&#19979;&#26102;&#30340;&#38170;&#28857;td</span>","        currentTd <span class=\"k\">=</span> <span class=\"k\">null</span><span class=\"k\">;</span>         <span class=\"c\">//&#24403;&#21069;&#40736;&#26631;&#32463;&#36807;&#26102;&#30340;td</span>","    me<span class=\"k\">.</span>ready<span class=\"k\">(</span><span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","        me<span class=\"k\">.</span>addListener<span class=\"k\">(</span><span class=\"s\">\"contentchange\"</span><span class=\"k\">,</span><span class=\"k\">function</span><span class=\"k\">()</span><span class=\"k\">{</span>","            <span class=\"k\">if</span><span class=\"k\">(</span>getUETableBySelected<span class=\"k\">())</span><span class=\"k\">return</span><span class=\"k\">;</span>","            allTables <span class=\"k\">=</span> domUtils<span class=\"k\">.</span>getElementsByTagName<span class=\"k\">(</span>me<span class=\"k\">.</span>document<span class=\"k\">,</span><span class=\"s\">\"table\"</span><span class=\"k\">);</span>","            ueTables <span class=\"k\">=[];</span>","            <span class=\"k\">for</span><span class=\"k\">(</span><span class=\"k\">var</span> i <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">,</span>table<span class=\"k\">;</span>table <span class=\"k\">=</span> allTables<span class=\"k\">[</span>i<span class=\"k\">++];)</span><span class=\"k\">{</span>","                ueTables<span class=\"k\">.</span>push<span class=\"k\">(</span><span class=\"k\">new</span> UETable<span class=\"k\">(</span>table<span class=\"k\">));</span>","            <span class=\"k\">}</span>","        <span class=\"k\">}</span><span class=\"k\">);</span>","        me<span class=\"k\">.</span>addListener<span class=\"k\">(</span><span class=\"s\">\"mousedown\"</span><span class=\"k\">,</span> mouseDownEvent<span class=\"k\">);</span>","        me<span class=\"k\">.</span>addListener<span class=\"k\">(</span><span class=\"s\">\"mouseup\"</span><span class=\"k\">,</span> mouseUpEvent<span class=\"k\">);</span>","        me<span class=\"k\">.</span>addListener<span class=\"k\">(</span><span class=\"s\">\"keydown\"</span><span class=\"k\">,</span> <span class=\"k\">function</span> <span class=\"k\">(</span>type<span class=\"k\">,</span> evt<span class=\"k\">)</span> <span class=\"k\">{</span>","            <span class=\"k\">var</span> ut <span class=\"k\">=</span> getUETableBySelected<span class=\"k\">();</span>","            <span class=\"k\">if</span><span class=\"k\">(!</span>ut<span class=\"k\">)</span> <span class=\"k\">return</span><span class=\"k\">;</span>","            <span class=\"k\">if</span> <span class=\"k\">(!</span>evt<span class=\"k\">.</span>ctrlKey <span class=\"k\">&amp;&amp;</span> <span class=\"k\">!</span>evt<span class=\"k\">.</span>metaKey <span class=\"k\">&amp;&amp;</span> <span class=\"k\">!</span>evt<span class=\"k\">.</span>shiftKey <span class=\"k\">&amp;&amp;</span> <span class=\"k\">!</span>evt<span class=\"k\">.</span>altKey<span class=\"k\">)</span> <span class=\"k\">{</span>","                ut<span class=\"k\">.</span>clearSelected<span class=\"k\">();</span>","            <span class=\"k\">}</span>","        <span class=\"k\">}</span><span class=\"k\">);</span>","    <span class=\"k\">}</span><span class=\"k\">);</span>","    <span class=\"k\">function</span> mouseDownEvent<span class=\"k\">(</span>type<span class=\"k\">,</span> evt<span class=\"k\">)</span> <span class=\"k\">{</span>","        <span class=\"k\">if</span> <span class=\"k\">(</span>evt<span class=\"k\">.</span>button <span class=\"k\">==</span> <span class=\"s\">2</span><span class=\"k\">)</span> <span class=\"k\">return</span><span class=\"k\">;</span>","        <span class=\"k\">for</span><span class=\"k\">(</span><span class=\"k\">var</span> i <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">,</span>ci<span class=\"k\">;</span>ci<span class=\"k\">=</span>ueTables<span class=\"k\">[</span>i<span class=\"k\">++];)</span><span class=\"k\">{</span>","            ci<span class=\"k\">.</span>clearSelected<span class=\"k\">();</span>","        <span class=\"k\">}</span>","        startTd <span class=\"k\">=</span> getTargetTd<span class=\"k\">(</span>evt<span class=\"k\">);</span>","        <span class=\"k\">if</span> <span class=\"k\">(!</span>startTd<span class=\"k\">)</span> <span class=\"k\">return</span><span class=\"k\">;</span>","        me<span class=\"k\">.</span>document<span class=\"k\">.</span>body<span class=\"k\">.</span>style<span class=\"k\">.</span>webkitUserSelect <span class=\"k\">=</span> <span class=\"s\">''</span><span class=\"k\">;</span>","        me<span class=\"k\">.</span>addListener<span class=\"k\">(</span><span class=\"s\">'mouseover'</span><span class=\"k\">,</span> mouseOverEvent<span class=\"k\">);</span>","    <span class=\"k\">}</span>","    <span class=\"k\">function</span> mouseUpEvent<span class=\"k\">(</span>type<span class=\"k\">,</span> evt<span class=\"k\">)</span> <span class=\"k\">{</span>","        <span class=\"k\">if</span><span class=\"k\">(!</span>startTd<span class=\"k\">)</span> <span class=\"k\">return</span><span class=\"k\">;</span>","        <span class=\"k\">var</span> ut <span class=\"k\">=</span> getUETable<span class=\"k\">(</span>startTd<span class=\"k\">),</span>","            cell <span class=\"k\">=</span> ut<span class=\"k\">?</span> ut<span class=\"k\">.</span>selectedTds<span class=\"k\">[</span><span class=\"s\">0</span><span class=\"k\">]</span> <span class=\"k\">:</span> <span class=\"k\">null</span><span class=\"k\">,</span>","            range<span class=\"k\">;</span>","        <span class=\"k\">if</span> <span class=\"k\">(</span>cell<span class=\"k\">)</span> <span class=\"k\">{</span>","            me<span class=\"k\">.</span>document<span class=\"k\">.</span>body<span class=\"k\">.</span>style<span class=\"k\">.</span>webkitUserSelect <span class=\"k\">=</span> <span class=\"s\">''</span><span class=\"k\">;</span>","            range <span class=\"k\">=</span> <span class=\"k\">new</span> dom<span class=\"k\">.</span>Range<span class=\"k\">(</span>me<span class=\"k\">.</span>document<span class=\"k\">);</span>","            range<span class=\"k\">.</span>setStart<span class=\"k\">(</span>cell<span class=\"k\">,</span> <span class=\"s\">0</span><span class=\"k\">).</span>setCursor<span class=\"k\">(</span><span class=\"k\">false</span><span class=\"k\">,</span><span class=\"k\">true</span><span class=\"k\">);</span>","        <span class=\"k\">}</span> <span class=\"k\">else</span> <span class=\"k\">{</span>","            range <span class=\"k\">=</span> me<span class=\"k\">.</span>selection<span class=\"k\">.</span>getRange<span class=\"k\">().</span>shrinkBoundary<span class=\"k\">();</span>","            <span class=\"k\">if</span> <span class=\"k\">(!</span>range<span class=\"k\">.</span>collapsed<span class=\"k\">)</span> <span class=\"k\">{</span>","                <span class=\"k\">var</span> start <span class=\"k\">=</span> findParent<span class=\"k\">(</span>range<span class=\"k\">.</span>startContainer<span class=\"k\">,</span> <span class=\"k\">[</span><span class=\"s\">'td'</span><span class=\"k\">,</span> <span class=\"s\">'th'</span><span class=\"k\">],</span> <span class=\"k\">true</span><span class=\"k\">),</span>","                    end <span class=\"k\">=</span> findParent<span class=\"k\">(</span>range<span class=\"k\">.</span>endContainer<span class=\"k\">,</span> <span class=\"k\">[</span><span class=\"s\">'td'</span><span class=\"k\">,</span> <span class=\"s\">'th'</span><span class=\"k\">],</span> <span class=\"k\">true</span><span class=\"k\">);</span>","                <span class=\"c\">//&#22312;table&#37324;&#36793;&#30340;&#19981;&#33021;&#28165;&#38500;</span>","                <span class=\"k\">if</span> <span class=\"k\">(</span>start <span class=\"k\">&amp;&amp;</span> <span class=\"k\">!</span>end <span class=\"k\">||</span> <span class=\"k\">!</span>start <span class=\"k\">&amp;&amp;</span> end <span class=\"k\">||</span> start <span class=\"k\">&amp;&amp;</span> end <span class=\"k\">&amp;&amp;</span> start <span class=\"k\">!==</span> end<span class=\"k\">)</span> <span class=\"k\">{</span>","                    range<span class=\"k\">.</span>setCursor<span class=\"k\">(</span><span class=\"k\">false</span><span class=\"k\">,</span><span class=\"k\">true</span><span class=\"k\">);</span>","                <span class=\"k\">}</span>","            <span class=\"k\">}</span>","        <span class=\"k\">}</span>","        startTd <span class=\"k\">=</span> <span class=\"k\">null</span><span class=\"k\">;</span>","        me<span class=\"k\">.</span>removeListener<span class=\"k\">(</span><span class=\"s\">'mouseover'</span><span class=\"k\">,</span> mouseOverEvent<span class=\"k\">);</span>","    <span class=\"k\">}</span>","    <span class=\"k\">function</span> mouseOverEvent<span class=\"k\">(</span>type<span class=\"k\">,</span> evt<span class=\"k\">)</span> <span class=\"k\">{</span>","        currentTd <span class=\"k\">=</span> evt<span class=\"k\">.</span>target <span class=\"k\">||</span> evt<span class=\"k\">.</span>srcElement<span class=\"k\">;</span>","        <span class=\"c\">//&#38656;&#35201;&#21028;&#26029;&#20004;&#20010;TD&#26159;&#21542;&#20301;&#20110;&#21516;&#19968;&#20010;&#34920;&#26684;&#20869;</span>","        <span class=\"k\">if</span> <span class=\"k\">(</span>startTd <span class=\"k\">&amp;&amp;</span> currentTd<span class=\"k\">.</span>tagName <span class=\"k\">==</span> <span class=\"s\">\"TD\"</span> <span class=\"k\">&amp;&amp;</span> findParent<span class=\"k\">(</span>startTd<span class=\"k\">,</span> <span class=\"s\">'table'</span><span class=\"k\">)</span> <span class=\"k\">==</span> findParent<span class=\"k\">(</span>currentTd<span class=\"k\">,</span> <span class=\"s\">'table'</span><span class=\"k\">))</span> <span class=\"k\">{</span>","            me<span class=\"k\">.</span>document<span class=\"k\">.</span>body<span class=\"k\">.</span>style<span class=\"k\">.</span>webkitUserSelect <span class=\"k\">=</span> <span class=\"s\">'none'</span><span class=\"k\">;</span>","            me<span class=\"k\">.</span>selection<span class=\"k\">.</span>getNative<span class=\"k\">()[</span>browser<span class=\"k\">.</span>ie <span class=\"k\">?</span> <span class=\"s\">'empty'</span> <span class=\"k\">:</span> <span class=\"s\">'removeAllRanges'</span><span class=\"k\">]();</span>","            <span class=\"k\">var</span> ut <span class=\"k\">=</span> getUETable<span class=\"k\">(</span>currentTd<span class=\"k\">),</span>","                range <span class=\"k\">=</span> ut<span class=\"k\">.</span>getCellsRange<span class=\"k\">(</span>startTd<span class=\"k\">,</span> currentTd<span class=\"k\">);</span>","            ut<span class=\"k\">.</span>setSelected<span class=\"k\">(</span>range<span class=\"k\">);</span>","        <span class=\"k\">}</span>","        evt<span class=\"k\">.</span>preventDefault <span class=\"k\">?</span> evt<span class=\"k\">.</span>preventDefault<span class=\"k\">()</span> <span class=\"k\">:</span> <span class=\"k\">(</span>evt<span class=\"k\">.</span>returnValue <span class=\"k\">=</span> <span class=\"k\">false</span><span class=\"k\">);</span>","    <span class=\"k\">}</span>","    <span class=\"c\">/**</span>","<span class=\"c\">     * &#26681;&#25454;&#24403;&#21069;&#28857;&#20987;&#30340;td&#25110;&#32773;table&#33719;&#21462;&#32034;&#24341;&#23545;&#35937;</span>","<span class=\"c\">     * @param tdOrTable</span>","<span class=\"c\">     * @return {*}</span>","<span class=\"c\">     */</span>","    <span class=\"k\">function</span> getUETable<span class=\"k\">(</span>tdOrTable<span class=\"k\">)</span><span class=\"k\">{</span>","        <span class=\"k\">var</span> tag <span class=\"k\">=</span> tdOrTable<span class=\"k\">.</span>tagName<span class=\"k\">.</span>toLowerCase<span class=\"k\">();</span>","        tdOrTable <span class=\"k\">=</span> <span class=\"k\">(</span>tag<span class=\"k\">==</span><span class=\"s\">\"td\"</span><span class=\"k\">||</span>tag<span class=\"k\">==</span><span class=\"s\">\"th\"</span><span class=\"k\">)?</span>findParent<span class=\"k\">(</span>tdOrTable<span class=\"k\">,</span><span class=\"s\">\"table\"</span><span class=\"k\">,</span><span class=\"k\">true</span><span class=\"k\">):</span>tdOrTable<span class=\"k\">;</span>","        <span class=\"k\">for</span><span class=\"k\">(</span><span class=\"k\">var</span> i<span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">,</span>ci<span class=\"k\">;</span>ci <span class=\"k\">=</span> allTables<span class=\"k\">[</span>i<span class=\"k\">];</span>i<span class=\"k\">++)</span><span class=\"k\">{</span>","            <span class=\"k\">if</span><span class=\"k\">(</span>ci <span class=\"k\">==</span> tdOrTable<span class=\"k\">)</span><span class=\"k\">{</span>","                <span class=\"k\">return</span> ueTables<span class=\"k\">[</span>i<span class=\"k\">];</span>","            <span class=\"k\">}</span>","        <span class=\"k\">}</span>","        <span class=\"k\">return</span> <span class=\"k\">null</span><span class=\"k\">;</span>","    <span class=\"k\">}</span>","    <span class=\"c\">/**</span>","<span class=\"c\">     * &#26681;&#25454;&#24403;&#21069;&#26694;&#36873;&#30340;td&#26469;&#33719;&#21462;ueTable&#23545;&#35937;</span>","<span class=\"c\">     */</span>","    <span class=\"k\">function</span> getUETableBySelected<span class=\"k\">()</span><span class=\"k\">{</span>","        <span class=\"k\">for</span><span class=\"k\">(</span><span class=\"k\">var</span> i<span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">,</span>ut<span class=\"k\">;</span>ut<span class=\"k\">=</span>ueTables<span class=\"k\">[</span>i<span class=\"k\">++];)</span><span class=\"k\">{</span>","            <span class=\"k\">if</span><span class=\"k\">(</span>ut<span class=\"k\">.</span>selectedTds<span class=\"k\">.</span>length<span class=\"k\">&gt;</span><span class=\"s\">0</span><span class=\"k\">)</span><span class=\"k\">{</span>","                <span class=\"k\">return</span> ut<span class=\"k\">;</span>","            <span class=\"k\">}</span>","        <span class=\"k\">}</span>","        <span class=\"k\">return</span> <span class=\"k\">null</span><span class=\"k\">;</span>","    <span class=\"k\">}</span>","    UE<span class=\"k\">.</span>commands<span class=\"k\">[</span><span class=\"s\">'inserttable'</span><span class=\"k\">]</span> <span class=\"k\">=</span> <span class=\"k\">{</span>","        queryCommandState<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","            <span class=\"k\">return</span> getTableItemsByRange<span class=\"k\">().</span>cell<span class=\"k\">?-</span><span class=\"s\">1</span><span class=\"k\">:</span><span class=\"s\">0</span><span class=\"k\">;</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        execCommand<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">(</span>cmd<span class=\"k\">,</span> opt<span class=\"k\">)</span> <span class=\"k\">{</span>","            <span class=\"k\">var</span> me <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">;</span>","            <span class=\"k\">var</span> div <span class=\"k\">=</span> document<span class=\"k\">.</span>createElement<span class=\"k\">(</span><span class=\"s\">\"div\"</span><span class=\"k\">);</span>","            div<span class=\"k\">.</span>innerHTML <span class=\"k\">=</span> createTable<span class=\"k\">(</span>opt<span class=\"k\">.</span>numRows<span class=\"k\">,</span>opt<span class=\"k\">.</span>numCols<span class=\"k\">);</span>","            <span class=\"k\">var</span> table <span class=\"k\">=</span> div<span class=\"k\">.</span>firstChild<span class=\"k\">,</span>","                tds <span class=\"k\">=</span> table<span class=\"k\">.</span>getElementsByTagName<span class=\"k\">(</span><span class=\"s\">\"td\"</span><span class=\"k\">),</span>","                width <span class=\"k\">=</span> me<span class=\"k\">.</span>body<span class=\"k\">.</span>offsetWidth <span class=\"k\">-</span> <span class=\"s\">10</span><span class=\"k\">,</span>","                tdWidth <span class=\"k\">=</span> parseInt<span class=\"k\">(</span>width<span class=\"k\">/</span>opt<span class=\"k\">.</span>numCols<span class=\"k\">,</span><span class=\"s\">10</span><span class=\"k\">);</span>","            table<span class=\"k\">.</span>style<span class=\"k\">.</span>width <span class=\"k\">=</span> width <span class=\"k\">+</span> <span class=\"s\">\"px\"</span><span class=\"k\">;</span>","            <span class=\"k\">for</span><span class=\"k\">(</span><span class=\"k\">var</span> i <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">,</span>td<span class=\"k\">;</span>td<span class=\"k\">=</span>tds<span class=\"k\">[</span>i<span class=\"k\">++];)</span><span class=\"k\">{</span>","                td<span class=\"k\">.</span>style<span class=\"k\">.</span>width <span class=\"k\">=</span> tdWidth <span class=\"k\">+</span> <span class=\"s\">\"px\"</span><span class=\"k\">;</span>","            <span class=\"k\">}</span>","            me<span class=\"k\">.</span>execCommand<span class=\"k\">(</span><span class=\"s\">\"inserthtml\"</span><span class=\"k\">,</span> div<span class=\"k\">.</span>innerHTML<span class=\"k\">);</span>","","            <span class=\"k\">function</span> createTable<span class=\"k\">(</span>rowsNum<span class=\"k\">,</span>colsNum<span class=\"k\">)</span> <span class=\"k\">{</span>","                <span class=\"k\">var</span> rows <span class=\"k\">=</span> <span class=\"k\">[];</span>","                <span class=\"k\">while</span> <span class=\"k\">(</span>rowsNum<span class=\"k\">--)</span> <span class=\"k\">{</span>","                    <span class=\"k\">var</span> row <span class=\"k\">=</span> <span class=\"k\">[],</span>i <span class=\"k\">=</span> colsNum<span class=\"k\">;</span>","                    <span class=\"k\">while</span> <span class=\"k\">(</span>i<span class=\"k\">--)</span> <span class=\"k\">{</span>","<span class=\"c\">//                        row[i] = \"&lt;p&gt;\" + (browser.ie ?\" \":\"&lt;br /&gt;\") + \"&lt;/p&gt;\";// colChars.charAt(j) + rowChars.charAt(k);</span>","                        row<span class=\"k\">[</span>i<span class=\"k\">]</span> <span class=\"k\">=</span> browser<span class=\"k\">.</span>ie <span class=\"k\">?</span><span class=\"s\">\" \"</span><span class=\"k\">:</span> <span class=\"s\">\"&lt;br /&gt;\"</span><span class=\"k\">;</span>","                    <span class=\"k\">}</span>","                    rows<span class=\"k\">[</span>rowsNum<span class=\"k\">]</span> <span class=\"k\">=</span> <span class=\"s\">'&lt;td&gt;'</span> <span class=\"k\">+</span> row<span class=\"k\">.</span>join<span class=\"k\">(</span><span class=\"s\">'&lt;/td&gt;&lt;td&gt;'</span><span class=\"k\">)</span> <span class=\"k\">+</span> <span class=\"s\">'&lt;/td&gt;'</span>","                <span class=\"k\">}</span>","                <span class=\"k\">return</span> <span class=\"s\">'&lt;table&gt;&lt;tr&gt;'</span> <span class=\"k\">+</span> rows<span class=\"k\">.</span>join<span class=\"k\">(</span><span class=\"s\">'&lt;/tr&gt;&lt;tr&gt;'</span><span class=\"k\">)</span> <span class=\"k\">+</span> <span class=\"s\">'&lt;/tr&gt;&lt;/table&gt;'</span><span class=\"k\">;</span>","            <span class=\"k\">}</span>","","","<span class=\"c\">//            opt = opt || {numRows:5, numCols:5,border:1};</span>","<span class=\"c\">//            var html = ['&lt;table ' + (opt.border == \"0\"  ? ' class=\"noBorderTable\"' : '') + ' _innerCreateTable = \"true\" '];</span>","<span class=\"c\">//            if ( opt.cellSpacing &amp;&amp; opt.cellSpacing != '0' || opt.cellPadding &amp;&amp; opt.cellPadding != '0' ) {</span>","<span class=\"c\">//                html.push( ' style=\"border-collapse:separate;\" ' );</span>","<span class=\"c\">//            }</span>","<span class=\"c\">//            opt.cellSpacing &amp;&amp; opt.cellSpacing != '0' &amp;&amp; html.push( ' cellSpacing=\"' + opt.cellSpacing + '\" ' );</span>","<span class=\"c\">//            opt.cellPadding &amp;&amp; opt.cellPadding != '0' &amp;&amp; html.push( ' cellPadding=\"' + opt.cellPadding + '\" ' );</span>","<span class=\"c\">//            html.push( ' width=\"' + (opt.width || 100) + (typeof opt.widthUnit == \"undefined\" ? '%' : opt.widthUnit) + '\" ' );</span>","<span class=\"c\">//            opt.height &amp;&amp; html.push( ' height=\"' + opt.height + (typeof opt.heightUnit == \"undefined\" ? '%' : opt.heightUnit) + '\" ' );</span>","<span class=\"c\">//            opt.align &amp;&amp; (html.push( ' align=\"' + opt.align + '\" ' ));</span>","<span class=\"c\">//            html.push( ' border=\"' + (opt.border || 0) + '\" borderColor=\"' + (opt.borderColor || '#000000') + '\"' );</span>","<span class=\"c\">//            opt.borderType == \"1\" &amp;&amp; html.push( ' borderType=\"1\" ' );</span>","<span class=\"c\">//            opt.bgColor &amp;&amp; html.push( ' bgColor=\"' + opt.bgColor + '\"' );</span>","<span class=\"c\">//            html.push( ' &gt;&lt;tbody&gt;' );</span>","<span class=\"c\">//            opt.width = Math.floor( (opt.width || '100') / opt.numCols );</span>","<span class=\"c\">//            for ( var i = 0; i &lt; opt.numRows; i++ ) {</span>","<span class=\"c\">//                html.push( '&lt;tr&gt;' );</span>","<span class=\"c\">//                for ( var j = 0; j &lt; opt.numCols; j++ ) {</span>","<span class=\"c\">//                    html.push( '&lt;td style=\"width:' + opt.width + (typeof opt.widthUnit == \"undefined\" ? '%' : opt.widthUnit) + ';'</span>","<span class=\"c\">//                        + (opt.borderType == '1' ? 'border:' + opt.border + 'px solid ' + (opt.borderColor || '#000000') : '')</span>","<span class=\"c\">//                        + '\"&gt;'</span>","<span class=\"c\">//                        + (browser.ie ? domUtils.fillChar : '&lt;br/&gt;') + '&lt;/td&gt;' );</span>","<span class=\"c\">//                }</span>","<span class=\"c\">//                html.push( '&lt;/tr&gt;' );</span>","<span class=\"c\">//            }</span>","<span class=\"c\">//            me.execCommand( 'insertHtml', html.join( '' ) + '&lt;/tbody&gt;&lt;/table&gt;' );</span>","<span class=\"c\">////            reset();</span>","<span class=\"c\">//            //&#22914;&#26524;&#34920;&#26684;&#30340;align&#19981;&#26159;&#40664;&#35748;&#65292;&#23558;&#19981;&#21344;&#20301;,&#32473;&#21518;&#36793;&#30340;block&#20803;&#32032;&#35774;&#32622;clear:both</span>","<span class=\"c\">//            if ( opt.align ) {</span>","<span class=\"c\">//                var range = me.selection.getRange(),</span>","<span class=\"c\">//                    bk = range.createBookmark(),</span>","<span class=\"c\">//                    start = range.startContainer;</span>","<span class=\"c\">//                while ( start &amp;&amp; !domUtils.isBody( start ) ) {</span>","<span class=\"c\">//                    if ( domUtils.isBlockElm( start ) ) {</span>","<span class=\"c\">//                        start.style.clear = 'both';</span>","<span class=\"c\">//                        range.moveToBookmark( bk ).select();</span>","<span class=\"c\">//                        break;</span>","<span class=\"c\">//                    }</span>","<span class=\"c\">//                    start = start.parentNode;</span>","<span class=\"c\">//                }</span>","<span class=\"c\">//            }</span>","        <span class=\"k\">}</span>","    <span class=\"k\">}</span><span class=\"k\">;</span>","    UE<span class=\"k\">.</span>commands<span class=\"k\">[</span><span class=\"s\">\"mergeright\"</span><span class=\"k\">]</span> <span class=\"k\">=</span> <span class=\"k\">{</span>","        queryCommandState<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">(</span>cmd<span class=\"k\">)</span> <span class=\"k\">{</span>","            <span class=\"k\">var</span> tableItems <span class=\"k\">=</span> getTableItemsByRange<span class=\"k\">();</span>","            <span class=\"k\">if</span> <span class=\"k\">(!</span>tableItems<span class=\"k\">.</span>cell<span class=\"k\">)</span> <span class=\"k\">return</span> <span class=\"k\">-</span><span class=\"s\">1</span><span class=\"k\">;</span>","            <span class=\"k\">var</span> ut <span class=\"k\">=</span> getUETable<span class=\"k\">(</span>tableItems<span class=\"k\">.</span>table<span class=\"k\">);</span>","            <span class=\"k\">if</span><span class=\"k\">(</span>ut<span class=\"k\">.</span>selectedTds<span class=\"k\">.</span>length<span class=\"k\">&gt;</span><span class=\"s\">0</span><span class=\"k\">)</span><span class=\"k\">return</span> <span class=\"k\">-</span><span class=\"s\">1</span><span class=\"k\">;</span>","            <span class=\"k\">var</span> cellInfo <span class=\"k\">=</span> ut<span class=\"k\">.</span>getCellInfo<span class=\"k\">(</span>tableItems<span class=\"k\">.</span>cell<span class=\"k\">),</span>","                rightColIndex <span class=\"k\">=</span> cellInfo<span class=\"k\">.</span>colIndex <span class=\"k\">+</span> cellInfo<span class=\"k\">.</span>colSpan<span class=\"k\">;</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span>rightColIndex <span class=\"k\">&gt;=</span> ut<span class=\"k\">.</span>colsNum<span class=\"k\">)</span> <span class=\"k\">return</span> <span class=\"k\">-</span><span class=\"s\">1</span><span class=\"k\">;</span>","            <span class=\"k\">var</span> rightCellInfo <span class=\"k\">=</span> ut<span class=\"k\">.</span>indexTable<span class=\"k\">[</span>cellInfo<span class=\"k\">.</span>rowIndex<span class=\"k\">][</span>rightColIndex<span class=\"k\">];</span>","            <span class=\"k\">return</span> <span class=\"k\">(</span>rightCellInfo<span class=\"k\">.</span>rowIndex <span class=\"k\">==</span> cellInfo<span class=\"k\">.</span>rowIndex","                <span class=\"k\">&amp;&amp;</span> rightCellInfo<span class=\"k\">.</span>rowSpan <span class=\"k\">==</span> cellInfo<span class=\"k\">.</span>rowSpan<span class=\"k\">)</span> <span class=\"k\">?</span> <span class=\"s\">0</span> <span class=\"k\">:</span> <span class=\"k\">-</span><span class=\"s\">1</span><span class=\"k\">;</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        execCommand<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">(</span>cmd<span class=\"k\">)</span> <span class=\"k\">{</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>queryCommandState<span class=\"k\">(</span><span class=\"s\">\"mergeright\"</span><span class=\"k\">)</span> <span class=\"k\">==</span> <span class=\"k\">-</span><span class=\"s\">1</span><span class=\"k\">)</span><span class=\"k\">return</span><span class=\"k\">;</span>","            <span class=\"k\">var</span> cell <span class=\"k\">=</span> getTableItemsByRange<span class=\"k\">().</span>cell<span class=\"k\">,</span>","                ut <span class=\"k\">=</span> getUETable<span class=\"k\">(</span>cell<span class=\"k\">);</span>","            ut<span class=\"k\">.</span>mergeRight<span class=\"k\">(</span>cell<span class=\"k\">);</span>","        <span class=\"k\">}</span>","    <span class=\"k\">}</span><span class=\"k\">;</span>","    UE<span class=\"k\">.</span>commands<span class=\"k\">[</span><span class=\"s\">\"mergedown\"</span><span class=\"k\">]</span> <span class=\"k\">=</span> <span class=\"k\">{</span>","        queryCommandState<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">(</span>cmd<span class=\"k\">)</span> <span class=\"k\">{</span>","            <span class=\"k\">var</span> tableItems <span class=\"k\">=</span> getTableItemsByRange<span class=\"k\">();</span>","            <span class=\"k\">if</span> <span class=\"k\">(!</span>tableItems<span class=\"k\">.</span>cell<span class=\"k\">)</span> <span class=\"k\">return</span> <span class=\"k\">-</span><span class=\"s\">1</span><span class=\"k\">;</span>","            <span class=\"k\">var</span> ut <span class=\"k\">=</span> getUETable<span class=\"k\">(</span>tableItems<span class=\"k\">.</span>table<span class=\"k\">);</span>","            <span class=\"k\">if</span><span class=\"k\">(</span>ut<span class=\"k\">.</span>selectedTds<span class=\"k\">.</span>length<span class=\"k\">&gt;</span><span class=\"s\">0</span><span class=\"k\">)</span><span class=\"k\">return</span> <span class=\"k\">-</span><span class=\"s\">1</span><span class=\"k\">;</span>","            <span class=\"k\">var</span> cellInfo <span class=\"k\">=</span> ut<span class=\"k\">.</span>getCellInfo<span class=\"k\">(</span>tableItems<span class=\"k\">.</span>cell<span class=\"k\">),</span>","                downRowIndex <span class=\"k\">=</span> cellInfo<span class=\"k\">.</span>rowIndex <span class=\"k\">+</span> cellInfo<span class=\"k\">.</span>rowSpan<span class=\"k\">;</span>","            <span class=\"c\">// &#22914;&#26524;&#22788;&#20110;&#26368;&#19979;&#36793;&#21017;&#19981;&#33021;&#21521;&#21491;&#21512;&#24182;</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span>downRowIndex <span class=\"k\">&gt;=</span> ut<span class=\"k\">.</span>rowsNum<span class=\"k\">)</span> <span class=\"k\">return</span> <span class=\"k\">-</span><span class=\"s\">1</span><span class=\"k\">;</span>","            <span class=\"k\">var</span> downCellInfo <span class=\"k\">=</span> ut<span class=\"k\">.</span>indexTable<span class=\"k\">[</span>downRowIndex<span class=\"k\">][</span>cellInfo<span class=\"k\">.</span>colIndex<span class=\"k\">];</span>","            <span class=\"c\">// &#24403;&#19988;&#20165;&#24403;&#20004;&#20010;Cell&#30340;&#24320;&#22987;&#21015;&#21495;&#21644;&#32467;&#26463;&#21015;&#21495;&#19968;&#33268;&#26102;&#33021;&#36827;&#34892;&#21512;&#24182;</span>","            <span class=\"k\">return</span> <span class=\"k\">(</span>downCellInfo<span class=\"k\">.</span>colIndex <span class=\"k\">==</span> cellInfo<span class=\"k\">.</span>colIndex","                <span class=\"k\">&amp;&amp;</span> downCellInfo<span class=\"k\">.</span>colSpan <span class=\"k\">==</span> cellInfo<span class=\"k\">.</span>colSpan<span class=\"k\">)</span> <span class=\"k\">?</span> <span class=\"s\">0</span> <span class=\"k\">:</span> <span class=\"k\">-</span><span class=\"s\">1</span><span class=\"k\">;</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        execCommand<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">(</span>cmd<span class=\"k\">)</span> <span class=\"k\">{</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>queryCommandState<span class=\"k\">(</span><span class=\"s\">\"mergedown\"</span><span class=\"k\">)</span> <span class=\"k\">==</span> <span class=\"k\">-</span><span class=\"s\">1</span><span class=\"k\">)</span><span class=\"k\">return</span><span class=\"k\">;</span>","            <span class=\"k\">var</span> cell <span class=\"k\">=</span> getTableItemsByRange<span class=\"k\">().</span>cell<span class=\"k\">,</span>","                ut <span class=\"k\">=</span> getUETable<span class=\"k\">(</span>cell<span class=\"k\">);</span>","            ut<span class=\"k\">.</span>mergeDown<span class=\"k\">(</span>cell<span class=\"k\">);</span>","","        <span class=\"k\">}</span>","    <span class=\"k\">}</span><span class=\"k\">;</span>","    UE<span class=\"k\">.</span>commands<span class=\"k\">[</span><span class=\"s\">\"mergecells\"</span><span class=\"k\">]</span> <span class=\"k\">=</span> <span class=\"k\">{</span>","        queryCommandState<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">(</span>cmd<span class=\"k\">)</span> <span class=\"k\">{</span>","            <span class=\"k\">return</span> getUETableBySelected<span class=\"k\">()</span> <span class=\"k\">?</span> <span class=\"s\">0</span><span class=\"k\">:-</span><span class=\"s\">1</span><span class=\"k\">;</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        execCommand<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">(</span>cmd<span class=\"k\">)</span> <span class=\"k\">{</span>","            <span class=\"k\">if</span><span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>queryCommandState<span class=\"k\">(</span><span class=\"s\">\"mergecells\"</span><span class=\"k\">)==-</span><span class=\"s\">1</span><span class=\"k\">)</span><span class=\"k\">return</span><span class=\"k\">;</span>","            getUETableBySelected<span class=\"k\">().</span>mergeRange<span class=\"k\">();</span>","        <span class=\"k\">}</span>","    <span class=\"k\">}</span><span class=\"k\">;</span>","    UE<span class=\"k\">.</span>commands<span class=\"k\">[</span><span class=\"s\">\"insertrow\"</span><span class=\"k\">]</span> <span class=\"k\">=</span><span class=\"k\">{</span>","        queryCommandState<span class=\"k\">:</span><span class=\"k\">function</span><span class=\"k\">(</span>cmd<span class=\"k\">)</span><span class=\"k\">{</span>","            <span class=\"k\">return</span> getTableItemsByRange<span class=\"k\">().</span>cell<span class=\"k\">?</span><span class=\"s\">0</span><span class=\"k\">:-</span><span class=\"s\">1</span><span class=\"k\">;</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        execCommand<span class=\"k\">:</span><span class=\"k\">function</span><span class=\"k\">(</span>cmd<span class=\"k\">)</span><span class=\"k\">{</span>","            <span class=\"k\">if</span><span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>queryCommandState<span class=\"k\">(</span><span class=\"s\">\"insertrow\"</span><span class=\"k\">)==-</span><span class=\"s\">1</span><span class=\"k\">)</span><span class=\"k\">return</span><span class=\"k\">;</span>","            <span class=\"k\">var</span> cell <span class=\"k\">=</span> getTableItemsByRange<span class=\"k\">().</span>cell<span class=\"k\">,</span>","                ut <span class=\"k\">=</span> getUETable<span class=\"k\">(</span>cell<span class=\"k\">),</span>","                cellInfo <span class=\"k\">=</span> ut<span class=\"k\">.</span>getCellInfo<span class=\"k\">(</span>cell<span class=\"k\">);</span>","            ut<span class=\"k\">.</span>insertRow<span class=\"k\">(</span>cellInfo<span class=\"k\">.</span>rowIndex<span class=\"k\">);</span>","        <span class=\"k\">}</span>","    <span class=\"k\">}</span><span class=\"k\">;</span>","    UE<span class=\"k\">.</span>commands<span class=\"k\">[</span><span class=\"s\">\"deleterow\"</span><span class=\"k\">]</span> <span class=\"k\">=</span> <span class=\"k\">{</span>","        queryCommandState<span class=\"k\">:</span><span class=\"k\">function</span><span class=\"k\">(</span>cmd<span class=\"k\">)</span><span class=\"k\">{</span>","            <span class=\"k\">var</span> tableItems <span class=\"k\">=</span> getTableItemsByRange<span class=\"k\">();</span>","            <span class=\"k\">if</span><span class=\"k\">(!</span>tableItems<span class=\"k\">.</span>cell<span class=\"k\">)</span> <span class=\"k\">{</span><span class=\"k\">return</span> <span class=\"k\">-</span><span class=\"s\">1</span><span class=\"k\">;</span><span class=\"k\">}</span>","            <span class=\"k\">var</span> ut <span class=\"k\">=</span> getUETable<span class=\"k\">(</span>tableItems<span class=\"k\">.</span>cell<span class=\"k\">);</span>","            <span class=\"k\">if</span><span class=\"k\">(</span>ut<span class=\"k\">.</span>selectedTds<span class=\"k\">.</span>length<span class=\"k\">&gt;</span><span class=\"s\">0</span><span class=\"k\">)</span><span class=\"k\">{</span><span class=\"k\">return</span> <span class=\"k\">-</span><span class=\"s\">1</span><span class=\"k\">;</span><span class=\"k\">}</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        execCommand<span class=\"k\">:</span><span class=\"k\">function</span><span class=\"k\">()</span><span class=\"k\">{</span>","            <span class=\"k\">if</span><span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>queryCommandState<span class=\"k\">(</span><span class=\"s\">\"deleterow\"</span><span class=\"k\">)==-</span><span class=\"s\">1</span><span class=\"k\">)</span><span class=\"k\">return</span><span class=\"k\">;</span>","            <span class=\"k\">var</span> cell <span class=\"k\">=</span> getTableItemsByRange<span class=\"k\">().</span>cell<span class=\"k\">,</span>","                ut <span class=\"k\">=</span> getUETable<span class=\"k\">(</span>cell<span class=\"k\">),</span>","                cellInfo <span class=\"k\">=</span> ut<span class=\"k\">.</span>getCellInfo<span class=\"k\">(</span>cell<span class=\"k\">);</span>","            ut<span class=\"k\">.</span>deleteRow<span class=\"k\">(</span>cellInfo<span class=\"k\">.</span>rowIndex<span class=\"k\">);</span>","        <span class=\"k\">}</span>","    <span class=\"k\">}</span><span class=\"k\">;</span>","    UE<span class=\"k\">.</span>commands<span class=\"k\">[</span><span class=\"s\">\"insertcol\"</span><span class=\"k\">]</span> <span class=\"k\">=</span> <span class=\"k\">{</span>","        queryCommandState<span class=\"k\">:</span><span class=\"k\">function</span><span class=\"k\">(</span>cmd<span class=\"k\">)</span><span class=\"k\">{</span>","            <span class=\"k\">return</span> getTableItemsByRange<span class=\"k\">().</span>cell<span class=\"k\">?</span><span class=\"s\">0</span><span class=\"k\">:-</span><span class=\"s\">1</span><span class=\"k\">;</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        execCommand<span class=\"k\">:</span><span class=\"k\">function</span><span class=\"k\">(</span>cmd<span class=\"k\">)</span><span class=\"k\">{</span>","            <span class=\"k\">if</span><span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>queryCommandState<span class=\"k\">(</span><span class=\"s\">\"insertcol\"</span><span class=\"k\">)==-</span><span class=\"s\">1</span><span class=\"k\">)</span><span class=\"k\">return</span><span class=\"k\">;</span>","            <span class=\"k\">var</span> cell <span class=\"k\">=</span> getTableItemsByRange<span class=\"k\">().</span>cell<span class=\"k\">,</span>","                ut <span class=\"k\">=</span> getUETable<span class=\"k\">(</span>cell<span class=\"k\">),</span>","                cellInfo <span class=\"k\">=</span> ut<span class=\"k\">.</span>getCellInfo<span class=\"k\">(</span>cell<span class=\"k\">);</span>","            ut<span class=\"k\">.</span>insertCol<span class=\"k\">(</span>cellInfo<span class=\"k\">.</span>colIndex<span class=\"k\">);</span>","        <span class=\"k\">}</span>","    <span class=\"k\">}</span><span class=\"k\">;</span>","    UE<span class=\"k\">.</span>commands<span class=\"k\">[</span><span class=\"s\">\"deletecol\"</span><span class=\"k\">]</span> <span class=\"k\">=</span> <span class=\"k\">{</span>","        queryCommandState<span class=\"k\">:</span><span class=\"k\">function</span><span class=\"k\">(</span>cmd<span class=\"k\">)</span><span class=\"k\">{</span>","            <span class=\"k\">var</span> tableItems <span class=\"k\">=</span> getTableItemsByRange<span class=\"k\">();</span>","            <span class=\"k\">if</span><span class=\"k\">(!</span>tableItems<span class=\"k\">.</span>cell<span class=\"k\">)</span> <span class=\"k\">return</span> <span class=\"k\">-</span><span class=\"s\">1</span><span class=\"k\">;</span>","            <span class=\"k\">var</span> ut <span class=\"k\">=</span> getUETable<span class=\"k\">(</span>tableItems<span class=\"k\">.</span>cell<span class=\"k\">);</span>","            <span class=\"k\">if</span><span class=\"k\">(</span>ut<span class=\"k\">.</span>selectedTds<span class=\"k\">.</span>length<span class=\"k\">&gt;</span><span class=\"s\">0</span><span class=\"k\">)</span><span class=\"k\">return</span> <span class=\"k\">-</span><span class=\"s\">1</span><span class=\"k\">;</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        execCommand<span class=\"k\">:</span><span class=\"k\">function</span><span class=\"k\">()</span><span class=\"k\">{</span>","            <span class=\"k\">if</span><span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>queryCommandState<span class=\"k\">(</span><span class=\"s\">\"deletecol\"</span><span class=\"k\">)==-</span><span class=\"s\">1</span><span class=\"k\">)</span><span class=\"k\">return</span><span class=\"k\">;</span>","            <span class=\"k\">var</span> cell <span class=\"k\">=</span> getTableItemsByRange<span class=\"k\">().</span>cell<span class=\"k\">,</span>","                ut <span class=\"k\">=</span> getUETable<span class=\"k\">(</span>cell<span class=\"k\">),</span>","                cellInfo <span class=\"k\">=</span> ut<span class=\"k\">.</span>getCellInfo<span class=\"k\">(</span>cell<span class=\"k\">);</span>","            ut<span class=\"k\">.</span>deleteCol<span class=\"k\">(</span>cellInfo<span class=\"k\">.</span>colIndex<span class=\"k\">);</span>","        <span class=\"k\">}</span>","    <span class=\"k\">}</span><span class=\"k\">;</span>","    UE<span class=\"k\">.</span>commands<span class=\"k\">[</span><span class=\"s\">\"splittocells\"</span><span class=\"k\">]</span> <span class=\"k\">=</span> <span class=\"k\">{</span>","        queryCommandState<span class=\"k\">:</span><span class=\"k\">function</span><span class=\"k\">(</span>cmd<span class=\"k\">)</span><span class=\"k\">{</span>","            <span class=\"k\">var</span> tableItems <span class=\"k\">=</span> getTableItemsByRange<span class=\"k\">(),</span>","                cell <span class=\"k\">=</span> tableItems<span class=\"k\">.</span>cell<span class=\"k\">;</span>","            <span class=\"k\">if</span> <span class=\"k\">(!</span>cell<span class=\"k\">)</span> <span class=\"k\">return</span> <span class=\"k\">-</span><span class=\"s\">1</span><span class=\"k\">;</span>","            <span class=\"k\">var</span> ut <span class=\"k\">=</span> getUETable<span class=\"k\">(</span>tableItems<span class=\"k\">.</span>table<span class=\"k\">);</span>","            <span class=\"k\">if</span><span class=\"k\">(</span>ut<span class=\"k\">.</span>selectedTds<span class=\"k\">.</span>length<span class=\"k\">&gt;</span><span class=\"s\">0</span><span class=\"k\">)</span> <span class=\"k\">return</span> <span class=\"k\">-</span><span class=\"s\">1</span><span class=\"k\">;</span>","            <span class=\"k\">return</span> cell <span class=\"k\">&amp;&amp;</span> <span class=\"k\">(</span>cell<span class=\"k\">.</span>colSpan<span class=\"k\">&gt;</span><span class=\"s\">1</span> <span class=\"k\">||</span> cell<span class=\"k\">.</span>rowSpan<span class=\"k\">&gt;</span><span class=\"s\">1</span><span class=\"k\">)?</span><span class=\"s\">0</span><span class=\"k\">:-</span><span class=\"s\">1</span><span class=\"k\">;</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        execCommand<span class=\"k\">:</span><span class=\"k\">function</span><span class=\"k\">(</span>cmd<span class=\"k\">)</span><span class=\"k\">{</span>","            <span class=\"k\">if</span><span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>queryCommandState<span class=\"k\">(</span>cmd<span class=\"k\">)==-</span><span class=\"s\">1</span><span class=\"k\">)</span><span class=\"k\">return</span><span class=\"k\">;</span>","            <span class=\"k\">var</span> cell <span class=\"k\">=</span> getTableItemsByRange<span class=\"k\">().</span>cell<span class=\"k\">,</span>","                ut <span class=\"k\">=</span> getUETable<span class=\"k\">(</span>cell<span class=\"k\">);</span>","            ut<span class=\"k\">.</span>splitToCells<span class=\"k\">(</span>cell<span class=\"k\">);</span>","        <span class=\"k\">}</span>","    <span class=\"k\">}</span><span class=\"k\">;</span>","    UE<span class=\"k\">.</span>commands<span class=\"k\">[</span><span class=\"s\">\"splittorows\"</span><span class=\"k\">]</span> <span class=\"k\">=</span> <span class=\"k\">{</span>","        queryCommandState<span class=\"k\">:</span><span class=\"k\">function</span><span class=\"k\">(</span>cmd<span class=\"k\">)</span><span class=\"k\">{</span>","            <span class=\"k\">var</span> tableItems <span class=\"k\">=</span> getTableItemsByRange<span class=\"k\">(),</span>","                cell <span class=\"k\">=</span> tableItems<span class=\"k\">.</span>cell<span class=\"k\">;</span>","            <span class=\"k\">if</span> <span class=\"k\">(!</span>cell<span class=\"k\">)</span> <span class=\"k\">return</span> <span class=\"k\">-</span><span class=\"s\">1</span><span class=\"k\">;</span>","            <span class=\"k\">var</span> ut <span class=\"k\">=</span> getUETable<span class=\"k\">(</span>tableItems<span class=\"k\">.</span>table<span class=\"k\">);</span>","            <span class=\"k\">if</span><span class=\"k\">(</span>ut<span class=\"k\">.</span>selectedTds<span class=\"k\">.</span>length<span class=\"k\">&gt;</span><span class=\"s\">0</span><span class=\"k\">)</span> <span class=\"k\">return</span> <span class=\"k\">-</span><span class=\"s\">1</span><span class=\"k\">;</span>","            <span class=\"k\">return</span> cell <span class=\"k\">&amp;&amp;</span> cell<span class=\"k\">.</span>rowSpan <span class=\"k\">&gt;</span> <span class=\"s\">1</span> <span class=\"k\">?</span> <span class=\"s\">0</span><span class=\"k\">:-</span><span class=\"s\">1</span><span class=\"k\">;</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        execCommand<span class=\"k\">:</span><span class=\"k\">function</span><span class=\"k\">(</span>cmd<span class=\"k\">)</span><span class=\"k\">{</span>","            <span class=\"k\">if</span><span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>queryCommandState<span class=\"k\">(</span>cmd<span class=\"k\">)==-</span><span class=\"s\">1</span><span class=\"k\">)</span><span class=\"k\">return</span><span class=\"k\">;</span>","            <span class=\"k\">var</span> cell <span class=\"k\">=</span> getTableItemsByRange<span class=\"k\">().</span>cell<span class=\"k\">,</span>","                ut <span class=\"k\">=</span> getUETable<span class=\"k\">(</span>cell<span class=\"k\">);</span>","            ut<span class=\"k\">.</span>splitToRows<span class=\"k\">(</span>cell<span class=\"k\">);</span>","        <span class=\"k\">}</span>","    <span class=\"k\">}</span><span class=\"k\">;</span>","    UE<span class=\"k\">.</span>commands<span class=\"k\">[</span><span class=\"s\">\"splittocols\"</span><span class=\"k\">]</span> <span class=\"k\">=</span> <span class=\"k\">{</span>","        queryCommandState<span class=\"k\">:</span><span class=\"k\">function</span><span class=\"k\">(</span>cmd<span class=\"k\">)</span><span class=\"k\">{</span>","            <span class=\"k\">var</span> tableItems <span class=\"k\">=</span> getTableItemsByRange<span class=\"k\">(),</span>","                cell <span class=\"k\">=</span> tableItems<span class=\"k\">.</span>cell<span class=\"k\">;</span>","            <span class=\"k\">if</span> <span class=\"k\">(!</span>cell<span class=\"k\">)</span> <span class=\"k\">return</span> <span class=\"k\">-</span><span class=\"s\">1</span><span class=\"k\">;</span>","            <span class=\"k\">var</span> ut <span class=\"k\">=</span> getUETable<span class=\"k\">(</span>tableItems<span class=\"k\">.</span>table<span class=\"k\">);</span>","            <span class=\"k\">if</span><span class=\"k\">(</span>ut<span class=\"k\">.</span>selectedTds<span class=\"k\">.</span>length<span class=\"k\">&gt;</span><span class=\"s\">0</span><span class=\"k\">)</span> <span class=\"k\">return</span> <span class=\"k\">-</span><span class=\"s\">1</span><span class=\"k\">;</span>","            <span class=\"k\">return</span> cell <span class=\"k\">&amp;&amp;</span> cell<span class=\"k\">.</span>colSpan <span class=\"k\">&gt;</span> <span class=\"s\">1</span> <span class=\"k\">?</span> <span class=\"s\">0</span><span class=\"k\">:-</span><span class=\"s\">1</span><span class=\"k\">;</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        execCommand<span class=\"k\">:</span><span class=\"k\">function</span><span class=\"k\">(</span>cmd<span class=\"k\">)</span><span class=\"k\">{</span>","            <span class=\"k\">if</span><span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>queryCommandState<span class=\"k\">(</span>cmd<span class=\"k\">)==-</span><span class=\"s\">1</span><span class=\"k\">)</span><span class=\"k\">return</span><span class=\"k\">;</span>","            <span class=\"k\">var</span> cell <span class=\"k\">=</span> getTableItemsByRange<span class=\"k\">().</span>cell<span class=\"k\">,</span>","                ut <span class=\"k\">=</span> getUETable<span class=\"k\">(</span>cell<span class=\"k\">);</span>","            ut<span class=\"k\">.</span>splitToCols<span class=\"k\">(</span>cell<span class=\"k\">);</span>","        <span class=\"k\">}</span>","    <span class=\"k\">}</span>","","    <span class=\"c\">/**</span>","<span class=\"c\">     * UE&#34920;&#26684;&#25805;&#20316;&#31867;</span>","<span class=\"c\">     * @param table</span>","<span class=\"c\">     * @constructor</span>","<span class=\"c\">     */</span>","    <span class=\"k\">function</span> UETable<span class=\"k\">(</span>table<span class=\"k\">)</span> <span class=\"k\">{</span>","        <span class=\"k\">this</span><span class=\"k\">.</span>table <span class=\"k\">=</span> table<span class=\"k\">;</span>","        <span class=\"k\">this</span><span class=\"k\">.</span>indexTable <span class=\"k\">=</span> <span class=\"k\">[];</span>","        <span class=\"k\">this</span><span class=\"k\">.</span>selectedTds <span class=\"k\">=</span> <span class=\"k\">[];</span>","        <span class=\"k\">this</span><span class=\"k\">.</span>cellsRange <span class=\"k\">=</span> <span class=\"k\">{}</span><span class=\"k\">;</span>","        <span class=\"k\">this</span><span class=\"k\">.</span>update<span class=\"k\">();</span>","    <span class=\"k\">}</span>","    <span class=\"c\">/**</span>","<span class=\"c\">     *</span>","<span class=\"c\">     * @type {Object}</span>","<span class=\"c\">     */</span>","    UETable<span class=\"k\">.</span>prototype <span class=\"k\">=</span> <span class=\"k\">{</span>","        <span class=\"c\">/**</span>","<span class=\"c\">         * &#33719;&#21462;&#27599;&#34892;&#34920;&#26684;&#20013;&#23384;&#22312;&#30340;&#21333;&#20301;td&#25110;&#32773;th&#20010;&#25968;</span>","<span class=\"c\">         * @param row</span>","<span class=\"c\">         */</span>","        getCellsNumPerRow<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">(</span>row<span class=\"k\">)</span> <span class=\"k\">{</span>","            <span class=\"k\">var</span> cellsNum <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">;</span>","            <span class=\"k\">for</span> <span class=\"k\">(</span><span class=\"k\">var</span> i <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">,</span> ci<span class=\"k\">;</span> ci <span class=\"k\">=</span> row<span class=\"k\">.</span>cells<span class=\"k\">[</span>i<span class=\"k\">++];)</span> <span class=\"k\">{</span>","                cellsNum <span class=\"k\">+=</span> <span class=\"k\">(</span>ci<span class=\"k\">.</span>colSpan <span class=\"k\">||</span> <span class=\"s\">1</span><span class=\"k\">);</span>","            <span class=\"k\">}</span>","            <span class=\"k\">return</span> cellsNum<span class=\"k\">;</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        <span class=\"c\">/**</span>","<span class=\"c\">         * &#33719;&#21462;&#34920;&#26684;&#30340;&#26368;&#22823;&#21015;&#25968;</span>","<span class=\"c\">         */</span>","        getMaxCols<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","            <span class=\"k\">var</span> rows <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>table<span class=\"k\">.</span>rows<span class=\"k\">,</span> maxLen <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">;</span>","            <span class=\"k\">for</span> <span class=\"k\">(</span><span class=\"k\">var</span> i <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">,</span> row<span class=\"k\">;</span> row <span class=\"k\">=</span> rows<span class=\"k\">[</span>i<span class=\"k\">++];)</span> <span class=\"k\">{</span>","                <span class=\"k\">var</span> len <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>getCellsNumPerRow<span class=\"k\">(</span>row<span class=\"k\">);</span>","                maxLen <span class=\"k\">=</span> len <span class=\"k\">&gt;</span> maxLen <span class=\"k\">?</span> len <span class=\"k\">:</span> maxLen<span class=\"k\">;</span>","            <span class=\"k\">}</span>","            <span class=\"k\">return</span> maxLen<span class=\"k\">;</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        <span class=\"c\">/**</span>","<span class=\"c\">         * &#26356;&#26032;table&#23545;&#24212;&#30340;&#32034;&#24341;&#34920;</span>","<span class=\"c\">         * @param table</span>","<span class=\"c\">         */</span>","        update<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">(</span>table<span class=\"k\">)</span> <span class=\"k\">{</span>","            <span class=\"k\">this</span><span class=\"k\">.</span>table <span class=\"k\">=</span> table <span class=\"k\">||</span> <span class=\"k\">this</span><span class=\"k\">.</span>table<span class=\"k\">;</span>","            <span class=\"k\">var</span> rows <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>table<span class=\"k\">.</span>rows<span class=\"k\">,</span>","                rowsNum <span class=\"k\">=</span> rows<span class=\"k\">.</span>length<span class=\"k\">,</span>","                colsNum <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>getMaxCols<span class=\"k\">();</span>","            <span class=\"k\">this</span><span class=\"k\">.</span>rowsNum <span class=\"k\">=</span> rowsNum<span class=\"k\">;</span>","            <span class=\"k\">this</span><span class=\"k\">.</span>colsNum <span class=\"k\">=</span> colsNum<span class=\"k\">;</span>","            <span class=\"k\">for</span> <span class=\"k\">(</span><span class=\"k\">var</span> i <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">,</span> len <span class=\"k\">=</span> rows<span class=\"k\">.</span>length<span class=\"k\">;</span> i <span class=\"k\">&lt;</span> len<span class=\"k\">;</span> i<span class=\"k\">++)</span> <span class=\"k\">{</span>","                <span class=\"k\">this</span><span class=\"k\">.</span>indexTable<span class=\"k\">[</span>i<span class=\"k\">]</span> <span class=\"k\">=</span> <span class=\"k\">new</span> Array<span class=\"k\">(</span>colsNum<span class=\"k\">);</span>","            <span class=\"k\">}</span>","            <span class=\"c\">//&#22635;&#20805;&#32034;&#24341;&#34920;</span>","            <span class=\"k\">for</span> <span class=\"k\">(</span><span class=\"k\">var</span> rowIndex <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">,</span> row<span class=\"k\">;</span> row <span class=\"k\">=</span> rows<span class=\"k\">[</span>rowIndex<span class=\"k\">];</span> rowIndex<span class=\"k\">++)</span> <span class=\"k\">{</span>","                <span class=\"k\">for</span> <span class=\"k\">(</span><span class=\"k\">var</span> cellIndex <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">,</span> cell<span class=\"k\">;</span> cell <span class=\"k\">=</span> row<span class=\"k\">.</span>cells<span class=\"k\">[</span>cellIndex<span class=\"k\">];</span> cellIndex<span class=\"k\">++)</span> <span class=\"k\">{</span>","                    <span class=\"c\">//&#20462;&#27491;&#25972;&#34892;&#34987;rowSpan&#26102;&#23548;&#33268;&#30340;&#34892;&#25968;&#35745;&#31639;&#38169;&#35823;</span>","                    <span class=\"k\">if</span> <span class=\"k\">(</span>cell<span class=\"k\">.</span>rowSpan <span class=\"k\">&gt;</span> rowsNum<span class=\"k\">)</span> <span class=\"k\">{</span>","                        cell<span class=\"k\">.</span>rowSpan <span class=\"k\">=</span> rowsNum<span class=\"k\">;</span>","                    <span class=\"k\">}</span>","                    <span class=\"k\">var</span> colIndex <span class=\"k\">=</span> cellIndex<span class=\"k\">,</span>","                        rowSpan <span class=\"k\">=</span> cell<span class=\"k\">.</span>rowSpan <span class=\"k\">||</span> <span class=\"s\">1</span><span class=\"k\">,</span>","                        colSpan <span class=\"k\">=</span> cell<span class=\"k\">.</span>colSpan <span class=\"k\">||</span> <span class=\"s\">1</span><span class=\"k\">;</span>","                    <span class=\"c\">//&#24403;&#24050;&#32463;&#34987;&#19978;&#19968;&#34892;rowSpan&#25110;&#32773;&#34987;&#21069;&#19968;&#21015;colSpan&#20102;&#65292;&#21017;&#36339;&#21040;&#19979;&#19968;&#20010;&#21333;&#20803;&#26684;&#36827;&#34892;</span>","                    <span class=\"k\">while</span> <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>indexTable<span class=\"k\">[</span>rowIndex<span class=\"k\">][</span>colIndex<span class=\"k\">])</span> colIndex<span class=\"k\">++;</span>","                    <span class=\"k\">for</span> <span class=\"k\">(</span><span class=\"k\">var</span> j <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">;</span> j <span class=\"k\">&lt;</span> rowSpan<span class=\"k\">;</span> j<span class=\"k\">++)</span> <span class=\"k\">{</span>","                        <span class=\"k\">for</span> <span class=\"k\">(</span><span class=\"k\">var</span> k <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">;</span> k <span class=\"k\">&lt;</span> colSpan<span class=\"k\">;</span> k<span class=\"k\">++)</span> <span class=\"k\">{</span>","                            <span class=\"k\">this</span><span class=\"k\">.</span>indexTable<span class=\"k\">[</span>rowIndex <span class=\"k\">+</span> j<span class=\"k\">][</span>colIndex <span class=\"k\">+</span> k<span class=\"k\">]</span> <span class=\"k\">=</span> <span class=\"k\">{</span>","                                rowIndex<span class=\"k\">:</span>rowIndex<span class=\"k\">,</span>","                                cellIndex<span class=\"k\">:</span>cellIndex<span class=\"k\">,</span>","                                colIndex<span class=\"k\">:</span>colIndex<span class=\"k\">,</span>","                                rowSpan<span class=\"k\">:</span>rowSpan<span class=\"k\">,</span>","                                colSpan<span class=\"k\">:</span>colSpan","                            <span class=\"k\">}</span>","                        <span class=\"k\">}</span>","                    <span class=\"k\">}</span>","                <span class=\"k\">}</span>","            <span class=\"k\">}</span>","            <span class=\"c\">//&#20462;&#22797;&#27531;&#32570;td</span>","            <span class=\"k\">for</span> <span class=\"k\">(</span>j <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">;</span> j <span class=\"k\">&lt;</span> rowsNum<span class=\"k\">;</span> j<span class=\"k\">++)</span> <span class=\"k\">{</span>","                <span class=\"k\">for</span> <span class=\"k\">(</span>k <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">;</span> k <span class=\"k\">&lt;</span> colsNum<span class=\"k\">;</span> k<span class=\"k\">++)</span> <span class=\"k\">{</span>","                    <span class=\"k\">if</span> <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>indexTable<span class=\"k\">[</span>j<span class=\"k\">][</span>k<span class=\"k\">]</span> <span class=\"k\">===</span> undefined<span class=\"k\">)</span> <span class=\"k\">{</span>","                        row <span class=\"k\">=</span> rows<span class=\"k\">[</span>j<span class=\"k\">];</span>","                        cell <span class=\"k\">=</span> row<span class=\"k\">.</span>cells<span class=\"k\">[</span>row<span class=\"k\">.</span>cells<span class=\"k\">.</span>length <span class=\"k\">-</span> <span class=\"s\">1</span><span class=\"k\">];</span>","                        cell <span class=\"k\">=</span> cell <span class=\"k\">?</span> cell<span class=\"k\">.</span>cloneNode<span class=\"k\">(</span><span class=\"k\">true</span><span class=\"k\">)</span> <span class=\"k\">:</span> document<span class=\"k\">.</span>createElement<span class=\"k\">(</span><span class=\"s\">\"cell\"</span><span class=\"k\">);</span>","                        cell<span class=\"k\">.</span>innerHTML <span class=\"k\">=</span> <span class=\"s\">\"1\"</span><span class=\"k\">;</span>","                        <span class=\"k\">if</span> <span class=\"k\">(</span>cell<span class=\"k\">.</span>colSpan <span class=\"k\">!==</span> <span class=\"s\">1</span><span class=\"k\">)</span>cell<span class=\"k\">.</span>colSpan <span class=\"k\">=</span> <span class=\"s\">1</span><span class=\"k\">;</span>","                        <span class=\"k\">if</span> <span class=\"k\">(</span>cell<span class=\"k\">.</span>rowSpan <span class=\"k\">!==</span> <span class=\"s\">1</span><span class=\"k\">)</span>cell<span class=\"k\">.</span>rowSpan <span class=\"k\">=</span> <span class=\"s\">1</span><span class=\"k\">;</span>","                        row<span class=\"k\">.</span>appendChild<span class=\"k\">(</span>cell<span class=\"k\">);</span>","                        <span class=\"k\">this</span><span class=\"k\">.</span>indexTable<span class=\"k\">[</span>j<span class=\"k\">][</span>k<span class=\"k\">]</span> <span class=\"k\">=</span> <span class=\"k\">{</span>","                            rowIndex<span class=\"k\">:</span>j<span class=\"k\">,</span>","                            cellIndex<span class=\"k\">:</span>cell<span class=\"k\">.</span>cellIndex<span class=\"k\">,</span>","                            colIndex<span class=\"k\">:</span>k<span class=\"k\">,</span>","                            rowSpan<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>","                            colSpan<span class=\"k\">:</span><span class=\"s\">1</span>","                        <span class=\"k\">}</span>","                    <span class=\"k\">}</span>","                <span class=\"k\">}</span>","            <span class=\"k\">}</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        <span class=\"c\">/**</span>","<span class=\"c\">         * &#33719;&#21462;&#21333;&#20803;&#26684;&#30340;&#34892;&#21495;</span>","<span class=\"c\">         * @param cell</span>","<span class=\"c\">         * @return {*}</span>","<span class=\"c\">         */</span>","        getCellRowIndex<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">(</span>cell<span class=\"k\">)</span> <span class=\"k\">{</span>","            <span class=\"k\">var</span> cellIndex <span class=\"k\">=</span> cell<span class=\"k\">.</span>cellIndex<span class=\"k\">,</span>","                rows <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>table<span class=\"k\">.</span>rows<span class=\"k\">,</span>","                rowLen <span class=\"k\">=</span> rows<span class=\"k\">.</span>length<span class=\"k\">;</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span>rowLen<span class=\"k\">)</span> <span class=\"k\">while</span> <span class=\"k\">(</span>rowLen<span class=\"k\">--)</span> <span class=\"k\">{</span>","                <span class=\"k\">if</span> <span class=\"k\">(</span>rows<span class=\"k\">[</span>rowLen<span class=\"k\">].</span>cells<span class=\"k\">[</span>cellIndex<span class=\"k\">]</span> <span class=\"k\">===</span> cell<span class=\"k\">)</span> <span class=\"k\">{</span>","                    <span class=\"k\">return</span> rowLen<span class=\"k\">;</span>","                <span class=\"k\">}</span>","            <span class=\"k\">}</span>","            <span class=\"k\">return</span> <span class=\"k\">-</span><span class=\"s\">1</span><span class=\"k\">;</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        getCellInfo<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">(</span>cell<span class=\"k\">)</span> <span class=\"k\">{</span>","            <span class=\"k\">if</span> <span class=\"k\">(!</span>cell<span class=\"k\">)</span> <span class=\"k\">return</span><span class=\"k\">;</span>","            <span class=\"k\">var</span> cellIndex <span class=\"k\">=</span> cell<span class=\"k\">.</span>cellIndex<span class=\"k\">,</span>","                rowIndex <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>getCellRowIndex<span class=\"k\">(</span>cell<span class=\"k\">),</span>","                rowInfo <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>indexTable<span class=\"k\">[</span>rowIndex<span class=\"k\">],</span>","                numCols <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>colsNum<span class=\"k\">;</span>","            <span class=\"k\">for</span> <span class=\"k\">(</span><span class=\"k\">var</span> colIndex <span class=\"k\">=</span> cellIndex<span class=\"k\">;</span> colIndex <span class=\"k\">&lt;</span> numCols<span class=\"k\">;</span> colIndex<span class=\"k\">++)</span> <span class=\"k\">{</span>","                <span class=\"k\">var</span> cellInfo <span class=\"k\">=</span> rowInfo<span class=\"k\">[</span>colIndex<span class=\"k\">];</span>","                <span class=\"k\">if</span> <span class=\"k\">(</span>cellInfo<span class=\"k\">.</span>rowIndex <span class=\"k\">===</span> rowIndex <span class=\"k\">&amp;&amp;</span> cellInfo<span class=\"k\">.</span>cellIndex <span class=\"k\">===</span> cellIndex<span class=\"k\">)</span> <span class=\"k\">{</span>","                    <span class=\"k\">return</span> cellInfo<span class=\"k\">;</span>","                <span class=\"k\">}</span>","            <span class=\"k\">}</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        getCell<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">(</span>rowIndex<span class=\"k\">,</span> cellIndex<span class=\"k\">)</span> <span class=\"k\">{</span>","            <span class=\"k\">return</span> rowIndex <span class=\"k\">&lt;</span> <span class=\"k\">this</span><span class=\"k\">.</span>rowsNum <span class=\"k\">&amp;&amp;</span> <span class=\"k\">this</span><span class=\"k\">.</span>table<span class=\"k\">.</span>rows<span class=\"k\">[</span>rowIndex<span class=\"k\">].</span>cells<span class=\"k\">[</span>cellIndex<span class=\"k\">]</span> <span class=\"k\">||</span> <span class=\"k\">null</span><span class=\"k\">;</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        deleteCell<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">(</span>cell<span class=\"k\">,</span> rowIndex<span class=\"k\">)</span> <span class=\"k\">{</span>","            rowIndex <span class=\"k\">=</span> <span class=\"k\">typeof</span> rowIndex <span class=\"k\">==</span> <span class=\"s\">'number'</span> <span class=\"k\">?</span> rowIndex <span class=\"k\">:</span> <span class=\"k\">this</span><span class=\"k\">.</span>getCellRowIndex<span class=\"k\">(</span>cell<span class=\"k\">);</span>","            <span class=\"k\">var</span> row <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>table<span class=\"k\">.</span>rows<span class=\"k\">[</span>rowIndex<span class=\"k\">];</span>","            row<span class=\"k\">.</span>deleteCell<span class=\"k\">(</span>cell<span class=\"k\">.</span>cellIndex<span class=\"k\">);</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        <span class=\"c\">/**</span>","<span class=\"c\">         * &#26681;&#25454;&#36215;&#22987;&#20004;&#20010;td&#33719;&#21462;&#34987;&#26694;&#36873;&#30340;&#25152;&#26377;td&#33539;&#22260;</span>","<span class=\"c\">         * @param cellA</span>","<span class=\"c\">         * @param cellB</span>","<span class=\"c\">         * @return {*}</span>","<span class=\"c\">         */</span>","        getCellsRange<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">(</span>cellA<span class=\"k\">,</span> cellB<span class=\"k\">)</span> <span class=\"k\">{</span>","            <span class=\"k\">var</span> me <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">,</span>","                cellAInfo <span class=\"k\">=</span> me<span class=\"k\">.</span>getCellInfo<span class=\"k\">(</span>cellA<span class=\"k\">);</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span>cellA <span class=\"k\">===</span> cellB<span class=\"k\">)</span> <span class=\"k\">{</span>","                <span class=\"k\">return</span> <span class=\"k\">{</span>","                    beginRowIndex<span class=\"k\">:</span>cellAInfo<span class=\"k\">.</span>rowIndex<span class=\"k\">,</span>","                    beginColIndex<span class=\"k\">:</span>cellAInfo<span class=\"k\">.</span>colIndex<span class=\"k\">,</span>","                    endRowIndex<span class=\"k\">:</span>cellAInfo<span class=\"k\">.</span>rowIndex <span class=\"k\">+</span> cellAInfo<span class=\"k\">.</span>rowSpan<span class=\"k\">,</span>","                    endColIndex<span class=\"k\">:</span>cellAInfo<span class=\"k\">.</span>colIndex <span class=\"k\">+</span> cellAInfo<span class=\"k\">.</span>colSpan","                <span class=\"k\">}</span><span class=\"k\">;</span>","            <span class=\"k\">}</span>","            <span class=\"k\">var</span> cellBInfo <span class=\"k\">=</span> me<span class=\"k\">.</span>getCellInfo<span class=\"k\">(</span>cellB<span class=\"k\">);</span>","            <span class=\"c\">// &#35745;&#31639;TableRange&#30340;&#22235;&#20010;&#36793;</span>","            <span class=\"k\">var</span> beginRowIndex <span class=\"k\">=</span> Math<span class=\"k\">.</span>min<span class=\"k\">(</span>cellAInfo<span class=\"k\">.</span>rowIndex<span class=\"k\">,</span> cellBInfo<span class=\"k\">.</span>rowIndex<span class=\"k\">),</span>","                beginColIndex <span class=\"k\">=</span> Math<span class=\"k\">.</span>min<span class=\"k\">(</span>cellAInfo<span class=\"k\">.</span>colIndex<span class=\"k\">,</span> cellBInfo<span class=\"k\">.</span>colIndex<span class=\"k\">),</span>","                endRowIndex <span class=\"k\">=</span> Math<span class=\"k\">.</span>max<span class=\"k\">(</span>cellAInfo<span class=\"k\">.</span>rowIndex <span class=\"k\">+</span> cellAInfo<span class=\"k\">.</span>rowSpan <span class=\"k\">-</span> <span class=\"s\">1</span><span class=\"k\">,</span> cellBInfo<span class=\"k\">.</span>rowIndex <span class=\"k\">+</span> cellBInfo<span class=\"k\">.</span>rowSpan <span class=\"k\">-</span> <span class=\"s\">1</span><span class=\"k\">),</span>","                endColIndex <span class=\"k\">=</span> Math<span class=\"k\">.</span>max<span class=\"k\">(</span>cellAInfo<span class=\"k\">.</span>colIndex <span class=\"k\">+</span> cellAInfo<span class=\"k\">.</span>colSpan <span class=\"k\">-</span> <span class=\"s\">1</span><span class=\"k\">,</span> cellBInfo<span class=\"k\">.</span>colIndex <span class=\"k\">+</span> cellBInfo<span class=\"k\">.</span>colSpan <span class=\"k\">-</span> <span class=\"s\">1</span><span class=\"k\">);</span>","","            <span class=\"k\">return</span> checkRange<span class=\"k\">(</span>beginRowIndex<span class=\"k\">,</span> beginColIndex<span class=\"k\">,</span> endRowIndex<span class=\"k\">,</span> endColIndex<span class=\"k\">);</span>","","            <span class=\"k\">function</span> checkRange<span class=\"k\">(</span>beginRowIndex<span class=\"k\">,</span> beginColIndex<span class=\"k\">,</span> endRowIndex<span class=\"k\">,</span> endColIndex<span class=\"k\">)</span> <span class=\"k\">{</span>","                <span class=\"k\">var</span> tmpBeginRowIndex <span class=\"k\">=</span> beginRowIndex<span class=\"k\">,</span>","                    tmpBeginColIndex <span class=\"k\">=</span> beginColIndex<span class=\"k\">,</span>","                    tmpEndRowIndex <span class=\"k\">=</span> endRowIndex<span class=\"k\">,</span>","                    tmpEndColIndex <span class=\"k\">=</span> endColIndex<span class=\"k\">,</span>","                    cellInfo<span class=\"k\">,</span> colIndex<span class=\"k\">,</span> rowIndex<span class=\"k\">;</span>","                <span class=\"c\">// &#36890;&#36807;indexTable&#26816;&#26597;&#26159;&#21542;&#23384;&#22312;&#36229;&#20986;TableRange&#19978;&#36793;&#30028;&#30340;&#24773;&#20917;</span>","                <span class=\"k\">if</span> <span class=\"k\">(</span>beginRowIndex <span class=\"k\">&gt;</span> <span class=\"s\">0</span><span class=\"k\">)</span> <span class=\"k\">{</span>","                    <span class=\"k\">for</span> <span class=\"k\">(</span>colIndex <span class=\"k\">=</span> beginColIndex<span class=\"k\">;</span> colIndex <span class=\"k\">&lt;</span> endColIndex<span class=\"k\">;</span> colIndex<span class=\"k\">++)</span> <span class=\"k\">{</span>","                        cellInfo <span class=\"k\">=</span> me<span class=\"k\">.</span>indexTable<span class=\"k\">[</span>beginRowIndex<span class=\"k\">][</span>colIndex<span class=\"k\">];</span>","                        rowIndex <span class=\"k\">=</span> cellInfo<span class=\"k\">.</span>rowIndex<span class=\"k\">;</span>","                        <span class=\"k\">if</span> <span class=\"k\">(</span>rowIndex <span class=\"k\">&lt;</span> beginRowIndex<span class=\"k\">)</span> <span class=\"k\">{</span>","                            tmpBeginRowIndex <span class=\"k\">=</span> Math<span class=\"k\">.</span>min<span class=\"k\">(</span>rowIndex<span class=\"k\">,</span> tmpBeginRowIndex<span class=\"k\">);</span>","                        <span class=\"k\">}</span>","                    <span class=\"k\">}</span>","                <span class=\"k\">}</span>","                <span class=\"c\">// &#36890;&#36807;indexTable&#26816;&#26597;&#26159;&#21542;&#23384;&#22312;&#36229;&#20986;TableRange&#21491;&#36793;&#30028;&#30340;&#24773;&#20917;</span>","                <span class=\"k\">if</span> <span class=\"k\">(</span>endColIndex <span class=\"k\">&lt;</span> me<span class=\"k\">.</span>colsNum<span class=\"k\">)</span> <span class=\"k\">{</span>","                    <span class=\"k\">for</span> <span class=\"k\">(</span>rowIndex <span class=\"k\">=</span> beginRowIndex<span class=\"k\">;</span> rowIndex <span class=\"k\">&lt;</span> endRowIndex<span class=\"k\">;</span> rowIndex<span class=\"k\">++)</span> <span class=\"k\">{</span>","                        cellInfo <span class=\"k\">=</span> me<span class=\"k\">.</span>indexTable<span class=\"k\">[</span>rowIndex<span class=\"k\">][</span>endColIndex<span class=\"k\">];</span>","                        colIndex <span class=\"k\">=</span> cellInfo<span class=\"k\">.</span>colIndex <span class=\"k\">+</span> cellInfo<span class=\"k\">.</span>colSpan <span class=\"k\">-</span> <span class=\"s\">1</span><span class=\"k\">;</span>","                        <span class=\"k\">if</span> <span class=\"k\">(</span>colIndex <span class=\"k\">&gt;</span> endColIndex<span class=\"k\">)</span> <span class=\"k\">{</span>","                            tmpEndColIndex <span class=\"k\">=</span> Math<span class=\"k\">.</span>max<span class=\"k\">(</span>colIndex<span class=\"k\">,</span> tmpEndColIndex<span class=\"k\">);</span>","                        <span class=\"k\">}</span>","                    <span class=\"k\">}</span>","                <span class=\"k\">}</span>","                <span class=\"c\">// &#26816;&#26597;&#26159;&#21542;&#26377;&#36229;&#20986;TableRange&#19979;&#36793;&#30028;&#30340;&#24773;&#20917;</span>","                <span class=\"k\">if</span> <span class=\"k\">(</span>endRowIndex <span class=\"k\">&lt;</span> me<span class=\"k\">.</span>rowsNum<span class=\"k\">)</span> <span class=\"k\">{</span>","                    <span class=\"k\">for</span> <span class=\"k\">(</span>colIndex <span class=\"k\">=</span> beginColIndex<span class=\"k\">;</span> colIndex <span class=\"k\">&lt;</span> endColIndex<span class=\"k\">;</span> colIndex<span class=\"k\">++)</span> <span class=\"k\">{</span>","                        cellInfo <span class=\"k\">=</span> me<span class=\"k\">.</span>indexTable<span class=\"k\">[</span>endRowIndex<span class=\"k\">][</span>colIndex<span class=\"k\">];</span>","                        rowIndex <span class=\"k\">=</span> cellInfo<span class=\"k\">.</span>rowIndex <span class=\"k\">+</span> cellInfo<span class=\"k\">.</span>rowSpan <span class=\"k\">-</span> <span class=\"s\">1</span><span class=\"k\">;</span>","                        <span class=\"k\">if</span> <span class=\"k\">(</span>rowIndex <span class=\"k\">&gt;</span> endRowIndex<span class=\"k\">)</span> <span class=\"k\">{</span>","                            tmpEndRowIndex <span class=\"k\">=</span> Math<span class=\"k\">.</span>max<span class=\"k\">(</span>rowIndex<span class=\"k\">,</span> tmpEndRowIndex<span class=\"k\">);</span>","                        <span class=\"k\">}</span>","                    <span class=\"k\">}</span>","                <span class=\"k\">}</span>","                <span class=\"c\">// &#26816;&#26597;&#26159;&#21542;&#26377;&#36229;&#20986;TableRange&#24038;&#36793;&#30028;&#30340;&#24773;&#20917;</span>","                <span class=\"k\">if</span> <span class=\"k\">(</span>beginColIndex <span class=\"k\">&gt;</span> <span class=\"s\">0</span><span class=\"k\">)</span> <span class=\"k\">{</span>","                    <span class=\"k\">for</span> <span class=\"k\">(</span>rowIndex <span class=\"k\">=</span> beginRowIndex<span class=\"k\">;</span> rowIndex <span class=\"k\">&lt;</span> endRowIndex<span class=\"k\">;</span> rowIndex<span class=\"k\">++)</span> <span class=\"k\">{</span>","                        cellInfo <span class=\"k\">=</span> me<span class=\"k\">.</span>indexTable<span class=\"k\">[</span>rowIndex<span class=\"k\">][</span>beginColIndex<span class=\"k\">];</span>","                        colIndex <span class=\"k\">=</span> cellInfo<span class=\"k\">.</span>colIndex<span class=\"k\">;</span>","                        <span class=\"k\">if</span> <span class=\"k\">(</span>colIndex <span class=\"k\">&lt;</span> beginColIndex<span class=\"k\">)</span> <span class=\"k\">{</span>","                            tmpBeginColIndex <span class=\"k\">=</span> Math<span class=\"k\">.</span>min<span class=\"k\">(</span>cellInfo<span class=\"k\">.</span>colIndex<span class=\"k\">,</span> tmpBeginColIndex<span class=\"k\">);</span>","                        <span class=\"k\">}</span>","                    <span class=\"k\">}</span>","                <span class=\"k\">}</span>","                <span class=\"c\">//&#36882;&#24402;&#35843;&#29992;&#30452;&#33267;&#25152;&#26377;&#23436;&#25104;&#25152;&#26377;&#26694;&#36873;&#21333;&#20803;&#26684;&#30340;&#25193;&#23637;</span>","                <span class=\"k\">if</span> <span class=\"k\">(</span>tmpBeginRowIndex <span class=\"k\">!=</span> beginRowIndex <span class=\"k\">||</span> tmpBeginColIndex <span class=\"k\">!=</span> beginColIndex <span class=\"k\">||</span> tmpEndRowIndex <span class=\"k\">!=</span> endRowIndex <span class=\"k\">||</span> tmpEndColIndex <span class=\"k\">!=</span> endColIndex<span class=\"k\">)</span> <span class=\"k\">{</span>","                    <span class=\"k\">return</span> checkRange<span class=\"k\">(</span>tmpBeginRowIndex<span class=\"k\">,</span> tmpBeginColIndex<span class=\"k\">,</span> tmpEndRowIndex<span class=\"k\">,</span> tmpEndColIndex<span class=\"k\">);</span>","                <span class=\"k\">}</span> <span class=\"k\">else</span> <span class=\"k\">{</span>","                    <span class=\"c\">// &#19981;&#38656;&#35201;&#25193;&#23637;TableRange&#30340;&#24773;&#20917;</span>","                    <span class=\"k\">return</span> <span class=\"k\">{</span>","                        beginRowIndex<span class=\"k\">:</span>beginRowIndex<span class=\"k\">,</span>","                        beginColIndex<span class=\"k\">:</span>beginColIndex<span class=\"k\">,</span>","                        endRowIndex<span class=\"k\">:</span>endRowIndex<span class=\"k\">,</span>","                        endColIndex<span class=\"k\">:</span>endColIndex","                    <span class=\"k\">}</span><span class=\"k\">;</span>","                <span class=\"k\">}</span>","            <span class=\"k\">}</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        clearSelected<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","            <span class=\"k\">var</span> tds <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>selectedTds<span class=\"k\">,</span> td<span class=\"k\">;</span>","            <span class=\"k\">while</span> <span class=\"k\">(</span>td <span class=\"k\">=</span> tds<span class=\"k\">.</span>pop<span class=\"k\">())</span> <span class=\"k\">{</span>","                td<span class=\"k\">.</span>className <span class=\"k\">=</span> <span class=\"s\">\"\"</span><span class=\"k\">;</span>","                td<span class=\"k\">.</span>removeAttribute <span class=\"k\">&amp;&amp;</span> td<span class=\"k\">.</span>removeAttribute<span class=\"k\">(</span><span class=\"s\">\"class\"</span><span class=\"k\">);</span>","            <span class=\"k\">}</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        setSelected<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">(</span>range<span class=\"k\">,</span>editor<span class=\"k\">)</span> <span class=\"k\">{</span>","            <span class=\"k\">var</span> cells <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>getCells<span class=\"k\">(</span>range<span class=\"k\">);</span>","            <span class=\"k\">for</span> <span class=\"k\">(</span><span class=\"k\">var</span> i <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">,</span> cell<span class=\"k\">;</span> cell <span class=\"k\">=</span> cells<span class=\"k\">[</span>i<span class=\"k\">++];)</span> <span class=\"k\">{</span>","                cell<span class=\"k\">.</span>className <span class=\"k\">=</span> <span class=\"s\">\"selectTdClass\"</span><span class=\"k\">;</span>","            <span class=\"k\">}</span>","            <span class=\"k\">this</span><span class=\"k\">.</span>selectedTds <span class=\"k\">=</span> cells<span class=\"k\">;</span>","            <span class=\"k\">this</span><span class=\"k\">.</span>cellsRange <span class=\"k\">=</span> range<span class=\"k\">;</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        <span class=\"c\">/**</span>","<span class=\"c\">         * &#20381;&#25454;cellsRange&#33719;&#21462;&#23545;&#24212;&#30340;td</span>","<span class=\"c\">         */</span>","        getCells<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">(</span>range<span class=\"k\">)</span> <span class=\"k\">{</span>","            <span class=\"k\">this</span><span class=\"k\">.</span>clearSelected<span class=\"k\">();</span>","            <span class=\"k\">var</span> beginRowIndex <span class=\"k\">=</span> range<span class=\"k\">.</span>beginRowIndex<span class=\"k\">,</span>","                beginColIndex <span class=\"k\">=</span> range<span class=\"k\">.</span>beginColIndex<span class=\"k\">,</span>","                endRowIndex <span class=\"k\">=</span> range<span class=\"k\">.</span>endRowIndex<span class=\"k\">,</span>","                endColIndex <span class=\"k\">=</span> range<span class=\"k\">.</span>endColIndex<span class=\"k\">,</span>","                cellInfo<span class=\"k\">,</span> rowIndex<span class=\"k\">,</span> colIndex<span class=\"k\">,</span> tdHash <span class=\"k\">=</span> <span class=\"k\">{}</span><span class=\"k\">,</span> returnTds <span class=\"k\">=</span> <span class=\"k\">[];</span>","            <span class=\"k\">for</span> <span class=\"k\">(</span><span class=\"k\">var</span> i <span class=\"k\">=</span> beginRowIndex<span class=\"k\">;</span> i <span class=\"k\">&lt;=</span> endRowIndex<span class=\"k\">;</span> i<span class=\"k\">++)</span> <span class=\"k\">{</span>","                <span class=\"k\">for</span> <span class=\"k\">(</span><span class=\"k\">var</span> j <span class=\"k\">=</span> beginColIndex<span class=\"k\">;</span> j <span class=\"k\">&lt;=</span> endColIndex<span class=\"k\">;</span> j<span class=\"k\">++)</span> <span class=\"k\">{</span>","                    cellInfo <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>indexTable<span class=\"k\">[</span>i<span class=\"k\">][</span>j<span class=\"k\">];</span>","                    rowIndex <span class=\"k\">=</span> cellInfo<span class=\"k\">.</span>rowIndex<span class=\"k\">;</span>","                    colIndex <span class=\"k\">=</span> cellInfo<span class=\"k\">.</span>colIndex<span class=\"k\">;</span>","                    <span class=\"c\">// &#22914;&#26524;Cells&#37324;&#24050;&#32463;&#21253;&#21547;&#20102;&#27492;Cell&#21017;&#36339;&#36807;</span>","                    <span class=\"k\">var</span> key <span class=\"k\">=</span> rowIndex <span class=\"k\">+</span> <span class=\"s\">'|'</span> <span class=\"k\">+</span> colIndex<span class=\"k\">;</span>","                    <span class=\"k\">if</span> <span class=\"k\">(</span>tdHash<span class=\"k\">[</span>key<span class=\"k\">])</span> <span class=\"k\">continue</span><span class=\"k\">;</span>","                    tdHash<span class=\"k\">[</span>key<span class=\"k\">]</span> <span class=\"k\">=</span> <span class=\"s\">1</span><span class=\"k\">;</span>","                    <span class=\"k\">if</span> <span class=\"k\">(</span>rowIndex <span class=\"k\">&lt;</span> i <span class=\"k\">||</span> colIndex <span class=\"k\">&lt;</span> j <span class=\"k\">||</span> rowIndex <span class=\"k\">+</span> cellInfo<span class=\"k\">.</span>rowSpan <span class=\"k\">-</span> <span class=\"s\">1</span> <span class=\"k\">&gt;</span> endRowIndex <span class=\"k\">||</span> colIndex <span class=\"k\">+</span> cellInfo<span class=\"k\">.</span>colSpan <span class=\"k\">-</span> <span class=\"s\">1</span> <span class=\"k\">&gt;</span> endColIndex<span class=\"k\">)</span> <span class=\"k\">{</span>","                        <span class=\"k\">return</span> <span class=\"k\">null</span><span class=\"k\">;</span>","                    <span class=\"k\">}</span>","                    returnTds<span class=\"k\">.</span>push<span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>getCell<span class=\"k\">(</span>rowIndex<span class=\"k\">,</span> cellInfo<span class=\"k\">.</span>cellIndex<span class=\"k\">));</span>","                <span class=\"k\">}</span>","            <span class=\"k\">}</span>","            <span class=\"k\">return</span> returnTds<span class=\"k\">;</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        <span class=\"c\">/**</span>","<span class=\"c\">         * &#31227;&#21160;&#21333;&#20803;&#26684;&#20013;&#30340;&#20869;&#23481;</span>","<span class=\"c\">         * @param cellTo</span>","<span class=\"c\">         * @param cellFrom</span>","<span class=\"c\">         */</span>","        moveContent<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">(</span>cellTo<span class=\"k\">,</span> cellFrom<span class=\"k\">)</span> <span class=\"k\">{</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span>domUtils<span class=\"k\">.</span>isEmptyNode<span class=\"k\">(</span>cellFrom<span class=\"k\">))</span> <span class=\"k\">return</span><span class=\"k\">;</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span>domUtils<span class=\"k\">.</span>isEmptyNode<span class=\"k\">(</span>cellTo<span class=\"k\">))</span> <span class=\"k\">{</span>","                cellTo<span class=\"k\">.</span>innerHTML <span class=\"k\">=</span> cellFrom<span class=\"k\">.</span>innerHTML<span class=\"k\">;</span>","                <span class=\"k\">return</span><span class=\"k\">;</span>","            <span class=\"k\">}</span>","            <span class=\"k\">var</span> child <span class=\"k\">=</span> cellTo<span class=\"k\">.</span>lastChild<span class=\"k\">;</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span>child<span class=\"k\">.</span>nodeType <span class=\"k\">!=</span> <span class=\"s\">1</span> <span class=\"k\">||</span> child<span class=\"k\">.</span>tagName <span class=\"k\">!=</span> <span class=\"s\">'BR'</span><span class=\"k\">)</span> <span class=\"k\">{</span>","                cellTo<span class=\"k\">.</span>appendChild<span class=\"k\">(</span>cellTo<span class=\"k\">.</span>ownerDocument<span class=\"k\">.</span>createElement<span class=\"k\">(</span><span class=\"s\">'br'</span><span class=\"k\">))</span>","            <span class=\"k\">}</span>","            <span class=\"c\">//&#20381;&#27425;&#31227;&#21160;&#20869;&#23481;</span>","            <span class=\"k\">while</span> <span class=\"k\">(</span>child <span class=\"k\">=</span> cellFrom<span class=\"k\">.</span>firstChild<span class=\"k\">)</span> <span class=\"k\">{</span>","                cellTo<span class=\"k\">.</span>appendChild<span class=\"k\">(</span>child<span class=\"k\">);</span>","            <span class=\"k\">}</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        mergeRight<span class=\"k\">:</span><span class=\"k\">function</span><span class=\"k\">(</span>cell<span class=\"k\">)</span><span class=\"k\">{</span>","            <span class=\"k\">var</span> cellInfo <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>getCellInfo<span class=\"k\">(</span>cell<span class=\"k\">),</span>","                <span class=\"c\">//&#25214;&#21040;&#20301;&#20110;&#21491;&#26041;&#30340;&#37027;&#20010;Cell</span>","                rightColIndex <span class=\"k\">=</span> cellInfo<span class=\"k\">.</span>colIndex <span class=\"k\">+</span> cellInfo<span class=\"k\">.</span>colSpan<span class=\"k\">,</span>","                rightCellInfo <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>indexTable<span class=\"k\">[</span>cellInfo<span class=\"k\">.</span>rowIndex<span class=\"k\">][</span>rightColIndex<span class=\"k\">],</span>","                rightCell <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>getCell<span class=\"k\">(</span>rightCellInfo<span class=\"k\">.</span>rowIndex<span class=\"k\">,</span> rightCellInfo<span class=\"k\">.</span>cellIndex<span class=\"k\">);</span>","            <span class=\"c\">//&#21512;&#24182;</span>","            cell<span class=\"k\">.</span>colSpan <span class=\"k\">=</span> cellInfo<span class=\"k\">.</span>colSpan <span class=\"k\">+</span> rightCellInfo<span class=\"k\">.</span>colSpan<span class=\"k\">;</span>","            <span class=\"k\">this</span><span class=\"k\">.</span>moveContent<span class=\"k\">(</span>cell<span class=\"k\">,</span> rightCell<span class=\"k\">);</span>","            <span class=\"c\">//&#21024;&#25481;&#34987;&#21512;&#24182;&#30340;Cell</span>","            <span class=\"k\">this</span><span class=\"k\">.</span>deleteCell<span class=\"k\">(</span>rightCell<span class=\"k\">,</span> rightCellInfo<span class=\"k\">.</span>rowIndex<span class=\"k\">);</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        mergeDown<span class=\"k\">:</span><span class=\"k\">function</span><span class=\"k\">(</span>cell<span class=\"k\">)</span><span class=\"k\">{</span>","            <span class=\"k\">var</span> cellInfo <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>getCellInfo<span class=\"k\">(</span>cell<span class=\"k\">),</span>","                <span class=\"c\">// &#25214;&#21040;&#20301;&#20110;&#19979;&#26041;&#30340;&#37027;&#20010;Cell</span>","                downRowIndex <span class=\"k\">=</span> cellInfo<span class=\"k\">.</span>rowIndex <span class=\"k\">+</span> cellInfo<span class=\"k\">.</span>rowSpan<span class=\"k\">,</span>","                downCellInfo <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>indexTable<span class=\"k\">[</span>downRowIndex<span class=\"k\">][</span>cellInfo<span class=\"k\">.</span>colIndex<span class=\"k\">],</span>","                downCell <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>getCell<span class=\"k\">(</span>downCellInfo<span class=\"k\">.</span>rowIndex<span class=\"k\">,</span> downCellInfo<span class=\"k\">.</span>cellIndex<span class=\"k\">);</span>","            <span class=\"c\">// &#21512;&#24182;</span>","            cell<span class=\"k\">.</span>rowSpan <span class=\"k\">=</span> cellInfo<span class=\"k\">.</span>rowSpan <span class=\"k\">+</span> downCellInfo<span class=\"k\">.</span>rowSpan<span class=\"k\">;</span>","            <span class=\"k\">this</span><span class=\"k\">.</span>moveContent<span class=\"k\">(</span>cell<span class=\"k\">,</span> downCell<span class=\"k\">);</span>","            <span class=\"c\">// &#21024;&#25481;&#34987;&#21512;&#24182;&#30340;Cell</span>","            <span class=\"k\">this</span><span class=\"k\">.</span>deleteCell<span class=\"k\">(</span>downCell<span class=\"k\">,</span> downCellInfo<span class=\"k\">.</span>rowIndex<span class=\"k\">);</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        mergeRange<span class=\"k\">:</span><span class=\"k\">function</span><span class=\"k\">()</span><span class=\"k\">{</span>","            <span class=\"k\">var</span> range <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>cellsRange<span class=\"k\">,</span>","                leftTopCell <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>getCell<span class=\"k\">(</span>range<span class=\"k\">.</span>beginRowIndex<span class=\"k\">,</span><span class=\"k\">this</span><span class=\"k\">.</span>indexTable<span class=\"k\">[</span>range<span class=\"k\">.</span>beginRowIndex<span class=\"k\">][</span>range<span class=\"k\">.</span>beginColIndex<span class=\"k\">].</span>cellIndex<span class=\"k\">);</span>","            <span class=\"c\">// &#21024;&#38500;&#21097;&#20313;&#30340;Cells</span>","            <span class=\"k\">var</span> cells <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>getCells<span class=\"k\">(</span>range<span class=\"k\">),</span>","                len <span class=\"k\">=</span> cells<span class=\"k\">.</span>length<span class=\"k\">,</span>cell<span class=\"k\">;</span>","            <span class=\"k\">while</span> <span class=\"k\">(</span>len<span class=\"k\">--)</span> <span class=\"k\">{</span>","                cell <span class=\"k\">=</span> cells<span class=\"k\">[</span>len<span class=\"k\">];</span>","                <span class=\"k\">if</span> <span class=\"k\">(</span>cell <span class=\"k\">!==</span> leftTopCell<span class=\"k\">)</span> <span class=\"k\">{</span>","                    <span class=\"k\">this</span><span class=\"k\">.</span>moveContent<span class=\"k\">(</span>leftTopCell<span class=\"k\">,</span> cell<span class=\"k\">);</span>","                    <span class=\"k\">this</span><span class=\"k\">.</span>deleteCell<span class=\"k\">(</span>cell<span class=\"k\">);</span>","                <span class=\"k\">}</span>","            <span class=\"k\">}</span>","            <span class=\"c\">// &#20462;&#25913;&#24038;&#19978;&#35282;Cell&#30340;rowSpan&#21644;colSpan</span>","            leftTopCell<span class=\"k\">.</span>rowSpan <span class=\"k\">=</span> range<span class=\"k\">.</span>endRowIndex <span class=\"k\">-</span> range<span class=\"k\">.</span>beginRowIndex <span class=\"k\">+</span> <span class=\"s\">1</span><span class=\"k\">;</span>","            leftTopCell<span class=\"k\">.</span>colSpan <span class=\"k\">=</span> range<span class=\"k\">.</span>endColIndex <span class=\"k\">-</span> range<span class=\"k\">.</span>beginColIndex <span class=\"k\">+</span> <span class=\"s\">1</span><span class=\"k\">;</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        insertRow<span class=\"k\">:</span><span class=\"k\">function</span><span class=\"k\">(</span>rowIndex<span class=\"k\">)</span><span class=\"k\">{</span>","            <span class=\"k\">var</span> colIndex <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">,</span>","                numCols <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>colsNum<span class=\"k\">,</span>","                row <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>table<span class=\"k\">.</span>insertRow<span class=\"k\">(</span>rowIndex<span class=\"k\">),</span>cell<span class=\"k\">;</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span>rowIndex <span class=\"k\">==</span> <span class=\"s\">0</span> <span class=\"k\">||</span> rowIndex <span class=\"k\">==</span> <span class=\"k\">this</span><span class=\"k\">.</span>rowsNum<span class=\"k\">)</span> <span class=\"k\">{</span>","                <span class=\"k\">for</span> <span class=\"k\">(;</span> colIndex <span class=\"k\">&lt;</span> numCols<span class=\"k\">;</span> colIndex <span class=\"k\">++)</span> <span class=\"k\">{</span>","                    cell <span class=\"k\">=</span>  row<span class=\"k\">.</span>insertCell<span class=\"k\">(</span>colIndex<span class=\"k\">);</span>","                    cell<span class=\"k\">.</span>innerHTML <span class=\"k\">=</span> browser<span class=\"k\">.</span>ie <span class=\"k\">?</span> <span class=\"s\">' '</span> <span class=\"k\">:</span> <span class=\"s\">\"&lt;br /&gt;\"</span><span class=\"k\">;</span>","                <span class=\"k\">}</span>","            <span class=\"k\">}</span> <span class=\"k\">else</span> <span class=\"k\">{</span>","                <span class=\"k\">var</span> cellIndex <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">,</span>","                    infoRow <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>indexTable<span class=\"k\">[</span>rowIndex<span class=\"k\">];</span>","                <span class=\"k\">for</span> <span class=\"k\">(;</span> colIndex <span class=\"k\">&lt;</span> numCols<span class=\"k\">;</span> colIndex <span class=\"k\">++)</span> <span class=\"k\">{</span>","                    <span class=\"k\">var</span> cellInfo <span class=\"k\">=</span> infoRow<span class=\"k\">[</span>colIndex<span class=\"k\">];</span>","                    <span class=\"k\">if</span> <span class=\"k\">(</span>cellInfo<span class=\"k\">.</span>rowIndex <span class=\"k\">&lt;</span> rowIndex<span class=\"k\">)</span> <span class=\"k\">{</span>","                        cell <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>getCell<span class=\"k\">(</span>cellInfo<span class=\"k\">.</span>rowIndex<span class=\"k\">,</span> cellInfo<span class=\"k\">.</span>cellIndex<span class=\"k\">);</span>","                        cell<span class=\"k\">.</span>rowSpan <span class=\"k\">=</span> cellInfo<span class=\"k\">.</span>rowSpan <span class=\"k\">+</span> <span class=\"s\">1</span><span class=\"k\">;</span>","                    <span class=\"k\">}</span> <span class=\"k\">else</span> <span class=\"k\">{</span>","                        cell <span class=\"k\">=</span> row<span class=\"k\">.</span>insertCell<span class=\"k\">(</span>cellIndex <span class=\"k\">++);</span>","                        cell<span class=\"k\">.</span>innerHTML <span class=\"k\">=</span> browser<span class=\"k\">.</span>ie <span class=\"k\">?</span> <span class=\"s\">''</span> <span class=\"k\">:</span> <span class=\"s\">\"&lt;br/&gt;\"</span><span class=\"k\">;</span>","                    <span class=\"k\">}</span>","                <span class=\"k\">}</span>","            <span class=\"k\">}</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        deleteRow<span class=\"k\">:</span><span class=\"k\">function</span><span class=\"k\">(</span>rowIndex<span class=\"k\">)</span><span class=\"k\">{</span>","            <span class=\"k\">var</span> infoRow <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>indexTable<span class=\"k\">[</span>rowIndex<span class=\"k\">],</span>","                colsNum <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>colsNum<span class=\"k\">,</span>","                hash <span class=\"k\">=</span> <span class=\"k\">{}</span><span class=\"k\">,</span>","                moveDownCount <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">;</span>","            <span class=\"k\">for</span> <span class=\"k\">(</span><span class=\"k\">var</span> colIndex <span class=\"k\">=</span><span class=\"s\">0</span><span class=\"k\">;</span> colIndex<span class=\"k\">&lt;</span>colsNum<span class=\"k\">;</span> colIndex<span class=\"k\">++)</span> <span class=\"k\">{</span>","                <span class=\"k\">var</span> cellInfo <span class=\"k\">=</span> infoRow<span class=\"k\">[</span>colIndex<span class=\"k\">],</span>","                    key <span class=\"k\">=</span> cellInfo<span class=\"k\">.</span>rowIndex <span class=\"k\">+</span> <span class=\"s\">'|'</span> <span class=\"k\">+</span> cellInfo<span class=\"k\">.</span>colIndex<span class=\"k\">;</span>","                <span class=\"c\">// &#36339;&#36807;&#24050;&#32463;&#22788;&#29702;&#36807;&#30340;Cell</span>","                <span class=\"k\">if</span><span class=\"k\">(</span> hash<span class=\"k\">[</span>key<span class=\"k\">]</span> <span class=\"k\">)</span> <span class=\"k\">continue</span><span class=\"k\">;</span>","                hash<span class=\"k\">[</span>key<span class=\"k\">]</span> <span class=\"k\">=</span> <span class=\"s\">1</span><span class=\"k\">;</span>","                <span class=\"k\">var</span> cell <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>getCell<span class=\"k\">(</span>cellInfo<span class=\"k\">.</span>rowIndex<span class=\"k\">,</span> cellInfo<span class=\"k\">.</span>cellIndex <span class=\"k\">-</span> moveDownCount<span class=\"k\">);</span>","                <span class=\"c\">// &#22914;&#26524;Cell&#30340;rowSpan&#22823;&#20110;1, &#34920;&#26126;&#23427;&#26159;&#20174;&#21035;&#30340;&#34892;rowSpan&#36807;&#26469;&#30340;, &#20462;&#25913;&#23427;&#30340;rowSpan</span>","                <span class=\"k\">if</span> <span class=\"k\">(</span>cell<span class=\"k\">.</span>rowSpan <span class=\"k\">&gt;</span> <span class=\"s\">1</span><span class=\"k\">)</span> <span class=\"k\">{</span>","                    cell<span class=\"k\">.</span>rowSpan <span class=\"k\">=</span> <span class=\"k\">--</span>cellInfo<span class=\"k\">.</span>rowSpan<span class=\"k\">;</span>","                    <span class=\"c\">// &#22914;&#26524;&#26159;Cell&#25152;&#22312;&#34892;&#65292;&#38656;&#35201;&#23558;&#20854;&#25644;&#21040;&#19979;&#19968;&#34892;,&#25644;&#21160;&#20043;&#21518;&#20250;&#24433;&#21709;&#21040;&#24403;&#21069;&#34892;&#30340;cellIndex&#35745;&#25968;&#65292;&#25925;&#38656;&#35201;&#36890;&#36807;moveDownCount&#35745;&#25968;</span>","                    <span class=\"k\">if</span> <span class=\"k\">(</span>cellInfo<span class=\"k\">.</span>rowIndex <span class=\"k\">==</span> rowIndex<span class=\"k\">)</span> <span class=\"k\">{</span>","                        <span class=\"k\">var</span> nextRowIndex <span class=\"k\">=</span> rowIndex <span class=\"k\">+</span> <span class=\"s\">1</span><span class=\"k\">,</span>","                            nextRowLeftCellIndex <span class=\"k\">=</span> colIndex <span class=\"k\">==</span> <span class=\"s\">0</span> <span class=\"k\">?</span> <span class=\"s\">0</span> <span class=\"k\">:</span> <span class=\"k\">this</span><span class=\"k\">.</span>indexTable<span class=\"k\">[</span>nextRowIndex<span class=\"k\">][</span>colIndex <span class=\"k\">-</span> <span class=\"s\">1</span><span class=\"k\">].</span>cellIndex<span class=\"k\">,</span>","                            nextRowLeftCell <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>getCell<span class=\"k\">(</span>nextRowIndex<span class=\"k\">,</span> nextRowLeftCellIndex <span class=\"k\">+</span> moveDownCount<span class=\"k\">);</span>","                        moveDownCount<span class=\"k\">++;</span>","                        colsNum<span class=\"k\">--;</span>","                        <span class=\"k\">this</span><span class=\"k\">.</span>table<span class=\"k\">.</span>rows<span class=\"k\">[</span>nextRowIndex<span class=\"k\">].</span>insertBefore<span class=\"k\">(</span>cell<span class=\"k\">,</span> nextRowLeftCell<span class=\"k\">.</span>nextSibling<span class=\"k\">);</span>","                    <span class=\"k\">}</span>","                <span class=\"k\">}</span>","            <span class=\"k\">}</span>","            <span class=\"k\">this</span><span class=\"k\">.</span>table<span class=\"k\">.</span>deleteRow<span class=\"k\">(</span>rowIndex<span class=\"k\">);</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        insertCol<span class=\"k\">:</span><span class=\"k\">function</span><span class=\"k\">(</span>colIndex<span class=\"k\">)</span><span class=\"k\">{</span>","            <span class=\"k\">var</span> rowsNum <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>rowsNum<span class=\"k\">,</span>","                rowIndex <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">,</span>","                tableRow<span class=\"k\">,</span>cell<span class=\"k\">;</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span>colIndex <span class=\"k\">==</span> <span class=\"s\">0</span> <span class=\"k\">||</span> colIndex <span class=\"k\">==</span> <span class=\"k\">this</span><span class=\"k\">.</span>colsNum<span class=\"k\">)</span> <span class=\"k\">{</span>","                <span class=\"k\">for</span> <span class=\"k\">(;</span> rowIndex <span class=\"k\">&lt;</span> rowsNum<span class=\"k\">;</span> rowIndex <span class=\"k\">++)</span> <span class=\"k\">{</span>","                    tableRow <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>table<span class=\"k\">.</span>rows<span class=\"k\">[</span>rowIndex<span class=\"k\">];</span>","                    cell <span class=\"k\">=</span> tableRow<span class=\"k\">.</span>insertCell<span class=\"k\">(</span>colIndex<span class=\"k\">==</span><span class=\"s\">0</span> <span class=\"k\">?</span> colIndex<span class=\"k\">:</span>tableRow<span class=\"k\">.</span>cells<span class=\"k\">.</span>length<span class=\"k\">);</span>","                    cell<span class=\"k\">.</span>innerHTML <span class=\"k\">=</span> browser<span class=\"k\">.</span>ie <span class=\"k\">?</span> <span class=\"s\">' '</span> <span class=\"k\">:</span> <span class=\"s\">\"&lt;br /&gt;\"</span><span class=\"k\">;</span>","                <span class=\"k\">}</span>","            <span class=\"k\">}</span>  <span class=\"k\">else</span> <span class=\"k\">{</span>","                <span class=\"k\">for</span> <span class=\"k\">(;</span> rowIndex <span class=\"k\">&lt;</span> rowsNum<span class=\"k\">;</span> rowIndex <span class=\"k\">++)</span> <span class=\"k\">{</span>","                    <span class=\"k\">var</span> cellInfo <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>indexTable<span class=\"k\">[</span>rowIndex<span class=\"k\">][</span>colIndex<span class=\"k\">];</span>","                    <span class=\"k\">if</span> <span class=\"k\">(</span>cellInfo<span class=\"k\">.</span>colIndex <span class=\"k\">&lt;</span> colIndex<span class=\"k\">)</span> <span class=\"k\">{</span>","                        cell <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>getCell<span class=\"k\">(</span>cellInfo<span class=\"k\">.</span>rowIndex<span class=\"k\">,</span> cellInfo<span class=\"k\">.</span>cellIndex<span class=\"k\">);</span>","                        cell<span class=\"k\">.</span>colSpan <span class=\"k\">=</span> cellInfo<span class=\"k\">.</span>colSpan <span class=\"k\">+</span> <span class=\"s\">1</span><span class=\"k\">;</span>","                    <span class=\"k\">}</span> <span class=\"k\">else</span> <span class=\"k\">{</span>","                        tableRow <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>table<span class=\"k\">.</span>rows<span class=\"k\">[</span>rowIndex<span class=\"k\">];</span>","                        cell <span class=\"k\">=</span> tableRow<span class=\"k\">.</span>insertCell<span class=\"k\">(</span>cellInfo<span class=\"k\">.</span>cellIndex<span class=\"k\">);</span>","                        cell<span class=\"k\">.</span>innerHTML <span class=\"k\">=</span> browser<span class=\"k\">.</span>ie <span class=\"k\">?</span> <span class=\"s\">' '</span> <span class=\"k\">:</span> <span class=\"s\">\"&lt;br /&gt;\"</span><span class=\"k\">;</span>","                    <span class=\"k\">}</span>","                <span class=\"k\">}</span>","            <span class=\"k\">}</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        deleteCol<span class=\"k\">:</span><span class=\"k\">function</span><span class=\"k\">(</span>colIndex<span class=\"k\">)</span><span class=\"k\">{</span>","            <span class=\"k\">var</span> indexTable <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>indexTable<span class=\"k\">,</span>","                tableRows <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>table<span class=\"k\">.</span>rows<span class=\"k\">,</span>","                rowsNum <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>rowsNum<span class=\"k\">,</span>","                hash<span class=\"k\">=</span><span class=\"k\">{}</span><span class=\"k\">;</span>","            <span class=\"k\">for</span> <span class=\"k\">(</span><span class=\"k\">var</span> rowIndex<span class=\"k\">=</span><span class=\"s\">0</span><span class=\"k\">;</span> rowIndex<span class=\"k\">&lt;</span>rowsNum<span class=\"k\">;</span> rowIndex<span class=\"k\">++)</span> <span class=\"k\">{</span>","                <span class=\"k\">var</span> infoRow <span class=\"k\">=</span> indexTable<span class=\"k\">[</span>rowIndex<span class=\"k\">],</span>","                    cellInfo <span class=\"k\">=</span> infoRow<span class=\"k\">[</span>colIndex<span class=\"k\">],</span>","                    key <span class=\"k\">=</span> cellInfo<span class=\"k\">.</span>rowIndex<span class=\"k\">+</span><span class=\"s\">'|'</span><span class=\"k\">+</span>cellInfo<span class=\"k\">.</span>colIndex<span class=\"k\">;</span>","                <span class=\"c\">// &#36339;&#36807;&#24050;&#32463;&#22788;&#29702;&#36807;&#30340;Cell</span>","                <span class=\"k\">if</span><span class=\"k\">(</span>hash<span class=\"k\">[</span>key<span class=\"k\">])</span><span class=\"k\">continue</span><span class=\"k\">;</span>","                hash<span class=\"k\">[</span>key<span class=\"k\">]</span> <span class=\"k\">=</span> <span class=\"s\">1</span><span class=\"k\">;</span>","                <span class=\"k\">var</span> cell <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>getCell<span class=\"k\">(</span>cellInfo<span class=\"k\">.</span>rowIndex<span class=\"k\">,</span> cellInfo<span class=\"k\">.</span>cellIndex<span class=\"k\">);</span>","                <span class=\"c\">// &#22914;&#26524;Cell&#30340;colSpan&#22823;&#20110;1, &#23601;&#20462;&#25913;colSpan, &#21542;&#21017;&#23601;&#21024;&#25481;&#36825;&#20010;Cell</span>","                <span class=\"k\">if</span> <span class=\"k\">(</span>cell<span class=\"k\">.</span>colSpan <span class=\"k\">&gt;</span> <span class=\"s\">1</span><span class=\"k\">)</span> <span class=\"k\">{</span>","                    cell<span class=\"k\">.</span>colSpan<span class=\"k\">--;</span>","                <span class=\"k\">}</span> <span class=\"k\">else</span> <span class=\"k\">{</span>","                    tableRows<span class=\"k\">[</span>rowIndex<span class=\"k\">].</span>deleteCell<span class=\"k\">(</span>cellInfo<span class=\"k\">.</span>cellIndex<span class=\"k\">);</span>","                <span class=\"k\">}</span>","            <span class=\"k\">}</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        splitToCells<span class=\"k\">:</span><span class=\"k\">function</span><span class=\"k\">(</span>cell<span class=\"k\">)</span><span class=\"k\">{</span>","            <span class=\"k\">var</span> cellInfo <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>getCellInfo<span class=\"k\">(</span>cell<span class=\"k\">),</span>","                rowIndex <span class=\"k\">=</span> cellInfo<span class=\"k\">.</span>rowIndex<span class=\"k\">,</span>","                colIndex <span class=\"k\">=</span> cellInfo<span class=\"k\">.</span>colIndex<span class=\"k\">;</span>","            <span class=\"c\">// &#20462;&#25913;Cell&#30340;rowSpan&#21644;colSpan</span>","            cell<span class=\"k\">.</span>rowSpan <span class=\"k\">=</span> <span class=\"s\">1</span><span class=\"k\">;</span>","            cell<span class=\"k\">.</span>colSpan <span class=\"k\">=</span> <span class=\"s\">1</span><span class=\"k\">;</span>","            <span class=\"c\">// &#34917;&#40784;&#21333;&#20803;&#26684;</span>","            <span class=\"k\">for</span><span class=\"k\">(</span><span class=\"k\">var</span> i <span class=\"k\">=</span> rowIndex<span class=\"k\">,</span>endRow <span class=\"k\">=</span> rowIndex <span class=\"k\">+</span> cellInfo<span class=\"k\">.</span>rowSpan <span class=\"k\">;</span>i <span class=\"k\">&lt;</span> endRow<span class=\"k\">;</span>i<span class=\"k\">++)</span><span class=\"k\">{</span>","                <span class=\"k\">for</span><span class=\"k\">(</span><span class=\"k\">var</span> j <span class=\"k\">=</span> colIndex<span class=\"k\">,</span>endCol<span class=\"k\">=</span> colIndex <span class=\"k\">+</span> cellInfo<span class=\"k\">.</span>colSpan<span class=\"k\">;</span>j<span class=\"k\">&lt;</span>endCol<span class=\"k\">;</span>j<span class=\"k\">++)</span><span class=\"k\">{</span>","                    <span class=\"k\">if</span><span class=\"k\">(</span>i<span class=\"k\">==</span>rowIndex <span class=\"k\">&amp;&amp;</span> j<span class=\"k\">==</span>colIndex<span class=\"k\">)</span><span class=\"k\">continue</span><span class=\"k\">;</span>","                    <span class=\"k\">var</span> tableRow <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>table<span class=\"k\">.</span>rows<span class=\"k\">[</span>i<span class=\"k\">],</span>","                        index <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>indexTable<span class=\"k\">[</span>i<span class=\"k\">][</span>j<span class=\"k\">],</span>","                        tmpCell <span class=\"k\">=</span> tableRow<span class=\"k\">.</span>insertCell<span class=\"k\">(</span> i<span class=\"k\">==</span>rowIndex <span class=\"k\">?</span> index<span class=\"k\">.</span>cellIndex <span class=\"k\">+</span> <span class=\"s\">1</span><span class=\"k\">:</span>index<span class=\"k\">.</span>cellIndex<span class=\"k\">);</span>","                    tmpCell<span class=\"k\">.</span>innerHTML <span class=\"k\">=</span>  browser<span class=\"k\">.</span>ie <span class=\"k\">?</span> <span class=\"s\">' '</span> <span class=\"k\">:</span> <span class=\"s\">\"&lt;br /&gt;\"</span><span class=\"k\">;</span>","                <span class=\"k\">}</span>","            <span class=\"k\">}</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        splitToRows<span class=\"k\">:</span><span class=\"k\">function</span><span class=\"k\">(</span>cell<span class=\"k\">)</span><span class=\"k\">{</span>","            <span class=\"k\">var</span> cellInfo <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>getCellInfo<span class=\"k\">(</span>cell<span class=\"k\">),</span>","                rowIndex <span class=\"k\">=</span> cellInfo<span class=\"k\">.</span>rowIndex<span class=\"k\">,</span>","                colIndex <span class=\"k\">=</span> cellInfo<span class=\"k\">.</span>colIndex<span class=\"k\">;</span>","            <span class=\"c\">// &#20462;&#25913;Cell&#30340;rowSpan</span>","            cell<span class=\"k\">.</span>rowSpan <span class=\"k\">=</span> <span class=\"s\">1</span><span class=\"k\">;</span>","            <span class=\"c\">// &#34917;&#40784;&#21333;&#20803;&#26684;</span>","            <span class=\"k\">for</span><span class=\"k\">(</span><span class=\"k\">var</span> i <span class=\"k\">=</span> rowIndex<span class=\"k\">,</span>endRow <span class=\"k\">=</span> rowIndex <span class=\"k\">+</span> cellInfo<span class=\"k\">.</span>rowSpan <span class=\"k\">;</span>i <span class=\"k\">&lt;</span> endRow<span class=\"k\">;</span>i<span class=\"k\">++)</span><span class=\"k\">{</span>","                <span class=\"k\">if</span><span class=\"k\">(</span>i<span class=\"k\">==</span>rowIndex<span class=\"k\">)</span><span class=\"k\">continue</span><span class=\"k\">;</span>","                <span class=\"k\">var</span> tableRow <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>table<span class=\"k\">.</span>rows<span class=\"k\">[</span>i<span class=\"k\">],</span>","                    tmpCell <span class=\"k\">=</span> tableRow<span class=\"k\">.</span>insertCell<span class=\"k\">(</span> <span class=\"k\">this</span><span class=\"k\">.</span>indexTable<span class=\"k\">[</span>i<span class=\"k\">][</span>colIndex<span class=\"k\">].</span>cellIndex<span class=\"k\">);</span>","                tmpCell<span class=\"k\">.</span>colSpan <span class=\"k\">=</span> cellInfo<span class=\"k\">.</span>colSpan<span class=\"k\">;</span>","                tmpCell<span class=\"k\">.</span>innerHTML <span class=\"k\">=</span>  browser<span class=\"k\">.</span>ie <span class=\"k\">?</span> <span class=\"s\">' '</span> <span class=\"k\">:</span> <span class=\"s\">\"&lt;br /&gt;\"</span><span class=\"k\">;</span>","            <span class=\"k\">}</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        splitToCols<span class=\"k\">:</span><span class=\"k\">function</span><span class=\"k\">(</span>cell<span class=\"k\">)</span><span class=\"k\">{</span>","            <span class=\"k\">var</span> cellInfo <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>getCellInfo<span class=\"k\">(</span>cell<span class=\"k\">),</span>","                rowIndex <span class=\"k\">=</span> cellInfo<span class=\"k\">.</span>rowIndex<span class=\"k\">,</span>","                colIndex <span class=\"k\">=</span> cellInfo<span class=\"k\">.</span>colIndex<span class=\"k\">;</span>","            <span class=\"c\">// &#20462;&#25913;Cell&#30340;rowSpan</span>","            cell<span class=\"k\">.</span>colSpan <span class=\"k\">=</span> <span class=\"s\">1</span><span class=\"k\">;</span>","            <span class=\"c\">// &#34917;&#40784;&#21333;&#20803;&#26684;</span>","            <span class=\"k\">for</span><span class=\"k\">(</span><span class=\"k\">var</span> j <span class=\"k\">=</span> colIndex<span class=\"k\">,</span>endCol<span class=\"k\">=</span> colIndex <span class=\"k\">+</span> cellInfo<span class=\"k\">.</span>colSpan<span class=\"k\">;</span>j<span class=\"k\">&lt;</span>endCol<span class=\"k\">;</span>j<span class=\"k\">++)</span><span class=\"k\">{</span>","                <span class=\"k\">if</span><span class=\"k\">(</span>j<span class=\"k\">==</span>colIndex<span class=\"k\">)</span><span class=\"k\">continue</span><span class=\"k\">;</span>","                <span class=\"k\">var</span> tableRow <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>table<span class=\"k\">.</span>rows<span class=\"k\">[</span>rowIndex<span class=\"k\">],</span>","                    tmpCell <span class=\"k\">=</span> tableRow<span class=\"k\">.</span>insertCell<span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>indexTable<span class=\"k\">[</span>rowIndex<span class=\"k\">][</span>j<span class=\"k\">].</span>cellIndex <span class=\"k\">+</span> <span class=\"s\">1</span><span class=\"k\">);</span>","                tmpCell<span class=\"k\">.</span>rowSpan <span class=\"k\">=</span> cellInfo<span class=\"k\">.</span>rowSpan<span class=\"k\">;</span>","                tmpCell<span class=\"k\">.</span>innerHTML <span class=\"k\">=</span>  browser<span class=\"k\">.</span>ie <span class=\"k\">?</span> <span class=\"s\">' '</span> <span class=\"k\">:</span> <span class=\"s\">\"&lt;br /&gt;\"</span><span class=\"k\">;</span>","            <span class=\"k\">}</span>","        <span class=\"k\">}</span>","","    <span class=\"k\">}</span><span class=\"k\">;</span>","","","    <span class=\"c\">/**</span>","<span class=\"c\">     * &#26681;&#25454;&#24403;&#21069;&#36873;&#21306;&#33719;&#21462;&#30456;&#20851;&#30340;table&#20449;&#24687;</span>","<span class=\"c\">     * @return {Object}</span>","<span class=\"c\">     */</span>","    <span class=\"k\">function</span> getTableItemsByRange<span class=\"k\">()</span> <span class=\"k\">{</span>","        <span class=\"k\">var</span> range <span class=\"k\">=</span> me<span class=\"k\">.</span>selection<span class=\"k\">.</span>getRange<span class=\"k\">(),</span>","            start <span class=\"k\">=</span> range<span class=\"k\">.</span>startContainer<span class=\"k\">,</span>","            cell<span class=\"k\">=</span> findParent<span class=\"k\">(</span>start<span class=\"k\">,</span> <span class=\"k\">[</span><span class=\"s\">\"td\"</span><span class=\"k\">,</span> <span class=\"s\">\"th\"</span><span class=\"k\">],</span><span class=\"k\">true</span><span class=\"k\">),</span>","            tr <span class=\"k\">=</span> cell <span class=\"k\">&amp;&amp;</span> cell<span class=\"k\">.</span>parentNode<span class=\"k\">,</span>","            table <span class=\"k\">=</span> tr <span class=\"k\">&amp;&amp;</span> tr<span class=\"k\">.</span>parentNode<span class=\"k\">.</span>parentNode<span class=\"k\">;</span>","        <span class=\"k\">return</span> <span class=\"k\">{</span>","            cell<span class=\"k\">:</span>cell<span class=\"k\">,</span>","            tr<span class=\"k\">:</span>tr<span class=\"k\">,</span>","            table<span class=\"k\">:</span>table","        <span class=\"k\">}</span>","    <span class=\"k\">}</span>","    <span class=\"c\">/**</span>","<span class=\"c\">     * &#33719;&#21462;&#38656;&#35201;&#35302;&#21457;&#23545;&#24212;&#28857;&#20987;&#25110;&#32773;move&#20107;&#20214;&#30340;td&#23545;&#35937;</span>","<span class=\"c\">     * @param evt</span>","<span class=\"c\">     */</span>","    <span class=\"k\">function</span> getTargetTd<span class=\"k\">(</span>evt<span class=\"k\">)</span> <span class=\"k\">{</span>","        <span class=\"k\">var</span> target <span class=\"k\">=</span> findParent<span class=\"k\">(</span>evt<span class=\"k\">.</span>target <span class=\"k\">||</span> evt<span class=\"k\">.</span>srcElement<span class=\"k\">,</span> <span class=\"k\">[</span><span class=\"s\">\"td\"</span><span class=\"k\">,</span> <span class=\"s\">\"th\"</span><span class=\"k\">],</span> <span class=\"k\">true</span><span class=\"k\">);</span>","        <span class=\"c\">//&#25490;&#38500;&#20102;&#38750;td&#20869;&#37096;&#20197;&#21450;&#29992;&#20110;&#20195;&#30721;&#39640;&#20142;&#37096;&#20998;&#30340;td</span>","        <span class=\"k\">return</span> target <span class=\"k\">&amp;&amp;</span> <span class=\"k\">!</span>domUtils<span class=\"k\">.</span>findParent<span class=\"k\">(</span>target<span class=\"k\">,</span> <span class=\"k\">function</span> <span class=\"k\">(</span>node<span class=\"k\">)</span> <span class=\"k\">{</span>","            <span class=\"k\">return</span> node<span class=\"k\">.</span>tagName <span class=\"k\">==</span> <span class=\"s\">\"DIV\"</span> <span class=\"k\">&amp;&amp;</span> <span class=\"s\">/highlighter/</span><span class=\"k\">.</span>test<span class=\"k\">(</span>node<span class=\"k\">.</span>id<span class=\"k\">);</span>","        <span class=\"k\">}</span><span class=\"k\">)</span> <span class=\"k\">?</span> target <span class=\"k\">:</span> <span class=\"k\">null</span><span class=\"k\">;</span>","    <span class=\"k\">}</span>","<span class=\"k\">}</span><span class=\"k\">;</span>"]);
_$jscoverage['plugins/anchor.js'] && (_$jscoverage['plugins/anchor.js'].source = ["<span class=\"c\">///import core</span>","<span class=\"c\">///commands &#38170;&#28857;</span>","<span class=\"c\">///commandsName  Anchor</span>","<span class=\"c\">///commandsTitle  &#38170;&#28857;</span>","<span class=\"c\">///commandsDialog  dialogs\\anchor\\anchor.html</span>","<span class=\"c\">/**</span>","<span class=\"c\"> * &#38170;&#28857;</span>","<span class=\"c\"> * @function</span>","<span class=\"c\"> * @name baidu.editor.execCommands</span>","<span class=\"c\"> * @param {String} cmdName     cmdName=\"anchor\"&#25554;&#20837;&#38170;&#28857;</span>","<span class=\"c\"> */</span>","UE<span class=\"k\">.</span>plugins<span class=\"k\">[</span><span class=\"s\">'anchor'</span><span class=\"k\">]</span> <span class=\"k\">=</span> <span class=\"k\">function</span> <span class=\"k\">()</span><span class=\"k\">{</span>","    <span class=\"k\">var</span> me <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">;</span>","","    me<span class=\"k\">.</span>ready<span class=\"k\">(</span><span class=\"k\">function</span><span class=\"k\">()</span><span class=\"k\">{</span>","        utils<span class=\"k\">.</span>cssRule<span class=\"k\">(</span><span class=\"s\">'anchor'</span><span class=\"k\">,</span>","            <span class=\"s\">'.anchorclass{background: url(</span><span class=\"t\">\\'</span><span class=\"s\">'</span> <span class=\"k\">+</span> me<span class=\"k\">.</span>options<span class=\"k\">.</span>UEDITOR_HOME_URL <span class=\"k\">+</span> <span class=\"s\">'themes/default/images/anchor.gif</span><span class=\"t\">\\'</span><span class=\"s\">) no-repeat scroll left center transparent;border: 1px dotted #0000FF;cursor: auto;display: inline-block;height: 16px;width: 15px;}'</span><span class=\"k\">,</span>me<span class=\"k\">.</span>document<span class=\"k\">)</span>","    <span class=\"k\">}</span><span class=\"k\">);</span>","","    me<span class=\"k\">.</span>commands<span class=\"k\">[</span><span class=\"s\">'anchor'</span><span class=\"k\">]</span> <span class=\"k\">=</span> <span class=\"k\">{</span>","        execCommand<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">(</span>cmd<span class=\"k\">,</span> name<span class=\"k\">)</span> <span class=\"k\">{</span>","            <span class=\"k\">var</span> range <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>selection<span class=\"k\">.</span>getRange<span class=\"k\">(),</span>img <span class=\"k\">=</span> range<span class=\"k\">.</span>getClosedNode<span class=\"k\">();</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span>img <span class=\"k\">&amp;&amp;</span> img<span class=\"k\">.</span>getAttribute<span class=\"k\">(</span><span class=\"s\">'anchorname'</span><span class=\"k\">))</span> <span class=\"k\">{</span>","                <span class=\"k\">if</span> <span class=\"k\">(</span>name<span class=\"k\">)</span> <span class=\"k\">{</span>","                    img<span class=\"k\">.</span>setAttribute<span class=\"k\">(</span><span class=\"s\">'anchorname'</span><span class=\"k\">,</span> name<span class=\"k\">);</span>","                <span class=\"k\">}</span> <span class=\"k\">else</span> <span class=\"k\">{</span>","                    range<span class=\"k\">.</span>setStartBefore<span class=\"k\">(</span>img<span class=\"k\">).</span>setCursor<span class=\"k\">();</span>","                    domUtils<span class=\"k\">.</span>remove<span class=\"k\">(</span>img<span class=\"k\">);</span>","                <span class=\"k\">}</span>","            <span class=\"k\">}</span> <span class=\"k\">else</span> <span class=\"k\">{</span>","                <span class=\"k\">if</span> <span class=\"k\">(</span>name<span class=\"k\">)</span> <span class=\"k\">{</span>","                    <span class=\"c\">//&#21482;&#22312;&#36873;&#21306;&#30340;&#24320;&#22987;&#25554;&#20837;</span>","                    <span class=\"k\">var</span> anchor <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>document<span class=\"k\">.</span>createElement<span class=\"k\">(</span><span class=\"s\">'img'</span><span class=\"k\">);</span>","                    range<span class=\"k\">.</span>collapse<span class=\"k\">(</span><span class=\"k\">true</span><span class=\"k\">);</span>","                    domUtils<span class=\"k\">.</span>setAttributes<span class=\"k\">(</span>anchor<span class=\"k\">,</span><span class=\"k\">{</span>","                        <span class=\"s\">'anchorname'</span><span class=\"k\">:</span>name<span class=\"k\">,</span>","                        <span class=\"s\">'class'</span><span class=\"k\">:</span><span class=\"s\">'anchorclass'</span>","                    <span class=\"k\">}</span><span class=\"k\">);</span>","                    range<span class=\"k\">.</span>insertNode<span class=\"k\">(</span>anchor<span class=\"k\">).</span>setStartAfter<span class=\"k\">(</span>anchor<span class=\"k\">).</span>setCursor<span class=\"k\">(</span><span class=\"k\">false</span><span class=\"k\">,</span><span class=\"k\">true</span><span class=\"k\">);</span>","                <span class=\"k\">}</span>","            <span class=\"k\">}</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        queryCommandState<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","            <span class=\"k\">return</span> <span class=\"k\">this</span><span class=\"k\">.</span>highlight <span class=\"k\">?</span> <span class=\"k\">-</span><span class=\"s\">1</span> <span class=\"k\">:</span> <span class=\"s\">0</span><span class=\"k\">;</span>","        <span class=\"k\">}</span>","","    <span class=\"k\">}</span><span class=\"k\">;</span>","","","<span class=\"k\">}</span><span class=\"k\">;</span>"]);
_$jscoverage['plugins/attachment.js'] && (_$jscoverage['plugins/attachment.js'].source = ["<span class=\"c\">///import core</span>","<span class=\"c\">///commandsName  attachment</span>","<span class=\"c\">///commandsTitle  &#38468;&#20214;&#19978;&#20256;</span>","UE<span class=\"k\">.</span>commands<span class=\"k\">[</span><span class=\"s\">\"attachment\"</span><span class=\"k\">]</span> <span class=\"k\">=</span> <span class=\"k\">{</span>","    queryCommandState<span class=\"k\">:</span><span class=\"k\">function</span><span class=\"k\">()</span><span class=\"k\">{</span>","        <span class=\"k\">return</span> <span class=\"k\">this</span><span class=\"k\">.</span>highlight <span class=\"k\">?</span> <span class=\"k\">-</span><span class=\"s\">1</span> <span class=\"k\">:</span><span class=\"s\">0</span><span class=\"k\">;</span>","    <span class=\"k\">}</span>","<span class=\"k\">}</span><span class=\"k\">;</span>"]);
_$jscoverage['plugins/autofloat.js'] && (_$jscoverage['plugins/autofloat.js'].source = ["<span class=\"c\">///import core</span>","<span class=\"c\">///commands &#24748;&#28014;&#24037;&#20855;&#26639;</span>","<span class=\"c\">///commandsName  AutoFloat,autoFloatEnabled</span>","<span class=\"c\">///commandsTitle  &#24748;&#28014;&#24037;&#20855;&#26639;</span>","<span class=\"c\">/*</span>","<span class=\"c\"> *  modified by chengchao01</span>","<span class=\"c\"> *</span>","<span class=\"c\"> *  &#27880;&#24847;&#65306; &#24341;&#20837;&#27492;&#21151;&#33021;&#21518;&#65292;&#22312;IE6&#19979;&#20250;&#23558;body&#30340;&#32972;&#26223;&#22270;&#29255;&#35206;&#30422;&#25481;&#65281;</span>","<span class=\"c\"> */</span>","    UE<span class=\"k\">.</span>plugins<span class=\"k\">[</span><span class=\"s\">'autofloat'</span><span class=\"k\">]</span> <span class=\"k\">=</span> <span class=\"k\">function</span><span class=\"k\">()</span> <span class=\"k\">{</span>","        <span class=\"k\">var</span> me <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">,</span>","                lang <span class=\"k\">=</span> me<span class=\"k\">.</span>getLang<span class=\"k\">();</span>","        me<span class=\"k\">.</span>setOpt<span class=\"k\">(</span><span class=\"k\">{</span>","            topOffset<span class=\"k\">:</span><span class=\"s\">0</span>","        <span class=\"k\">}</span><span class=\"k\">);</span>","        <span class=\"k\">var</span> optsAutoFloatEnabled <span class=\"k\">=</span> me<span class=\"k\">.</span>options<span class=\"k\">.</span>autoFloatEnabled <span class=\"k\">!==</span> <span class=\"k\">false</span><span class=\"k\">,</span>","        topOffset <span class=\"k\">=</span> me<span class=\"k\">.</span>options<span class=\"k\">.</span>topOffset<span class=\"k\">;</span>","","","        <span class=\"c\">//&#22914;&#26524;&#19981;&#22266;&#23450;toolbar&#30340;&#20301;&#32622;&#65292;&#21017;&#30452;&#25509;&#36864;&#20986;</span>","        <span class=\"k\">if</span><span class=\"k\">(!</span>optsAutoFloatEnabled<span class=\"k\">)</span><span class=\"k\">{</span>","            <span class=\"k\">return</span><span class=\"k\">;</span>","        <span class=\"k\">}</span>","        <span class=\"k\">var</span> uiUtils <span class=\"k\">=</span> UE<span class=\"k\">.</span>ui<span class=\"k\">.</span>uiUtils<span class=\"k\">,</span>","       \t\tLteIE6 <span class=\"k\">=</span> browser<span class=\"k\">.</span>ie <span class=\"k\">&amp;&amp;</span> browser<span class=\"k\">.</span>version <span class=\"k\">&lt;=</span> <span class=\"s\">6</span><span class=\"k\">,</span>","            quirks <span class=\"k\">=</span> browser<span class=\"k\">.</span>quirks<span class=\"k\">;</span>","","        <span class=\"k\">function</span> checkHasUI<span class=\"k\">(</span>editor<span class=\"k\">)</span><span class=\"k\">{</span>","           <span class=\"k\">if</span><span class=\"k\">(!</span>editor<span class=\"k\">.</span>ui<span class=\"k\">)</span><span class=\"k\">{</span>","              alert<span class=\"k\">(</span>lang<span class=\"k\">.</span>autofloatMsg<span class=\"k\">);</span>","               <span class=\"k\">return</span> <span class=\"s\">0</span><span class=\"k\">;</span>","           <span class=\"k\">}</span>","           <span class=\"k\">return</span> <span class=\"s\">1</span><span class=\"k\">;</span>","       <span class=\"k\">}</span>","        <span class=\"k\">function</span> fixIE6FixedPos<span class=\"k\">()</span><span class=\"k\">{</span>","            <span class=\"k\">var</span> docStyle <span class=\"k\">=</span> document<span class=\"k\">.</span>body<span class=\"k\">.</span>style<span class=\"k\">;</span>","           docStyle<span class=\"k\">.</span>backgroundImage <span class=\"k\">=</span> <span class=\"s\">'url(\"about:blank\")'</span><span class=\"k\">;</span>","           docStyle<span class=\"k\">.</span>backgroundAttachment <span class=\"k\">=</span> <span class=\"s\">'fixed'</span><span class=\"k\">;</span>","        <span class=\"k\">}</span>","\t\t<span class=\"k\">var</span>\tbakCssText<span class=\"k\">,</span>","\t\t\tplaceHolder <span class=\"k\">=</span> document<span class=\"k\">.</span>createElement<span class=\"k\">(</span><span class=\"s\">'div'</span><span class=\"k\">),</span>","            toolbarBox<span class=\"k\">,</span>orgTop<span class=\"k\">,</span>","            getPosition<span class=\"k\">,</span>","            flag <span class=\"k\">=</span><span class=\"k\">true</span><span class=\"k\">;</span>   <span class=\"c\">//ie7&#27169;&#24335;&#19979;&#38656;&#35201;&#20559;&#31227;</span>","\t\t<span class=\"k\">function</span> setFloating<span class=\"k\">()</span><span class=\"k\">{</span>","\t\t\t<span class=\"k\">var</span> toobarBoxPos <span class=\"k\">=</span> domUtils<span class=\"k\">.</span>getXY<span class=\"k\">(</span>toolbarBox<span class=\"k\">),</span>","\t\t\t\torigalFloat <span class=\"k\">=</span> domUtils<span class=\"k\">.</span>getComputedStyle<span class=\"k\">(</span>toolbarBox<span class=\"k\">,</span><span class=\"s\">'position'</span><span class=\"k\">),</span>","                origalLeft <span class=\"k\">=</span> domUtils<span class=\"k\">.</span>getComputedStyle<span class=\"k\">(</span>toolbarBox<span class=\"k\">,</span><span class=\"s\">'left'</span><span class=\"k\">);</span>","\t\t\ttoolbarBox<span class=\"k\">.</span>style<span class=\"k\">.</span>width <span class=\"k\">=</span> toolbarBox<span class=\"k\">.</span>offsetWidth <span class=\"k\">+</span> <span class=\"s\">'px'</span><span class=\"k\">;</span>","            toolbarBox<span class=\"k\">.</span>style<span class=\"k\">.</span>zIndex <span class=\"k\">=</span> me<span class=\"k\">.</span>options<span class=\"k\">.</span>zIndex <span class=\"k\">*</span> <span class=\"s\">1</span> <span class=\"k\">+</span> <span class=\"s\">1</span><span class=\"k\">;</span>","\t\t\ttoolbarBox<span class=\"k\">.</span>parentNode<span class=\"k\">.</span>insertBefore<span class=\"k\">(</span>placeHolder<span class=\"k\">,</span> toolbarBox<span class=\"k\">);</span>","\t\t\t<span class=\"k\">if</span> <span class=\"k\">(</span>LteIE6 <span class=\"k\">||</span> <span class=\"k\">(</span>quirks <span class=\"k\">&amp;&amp;</span> browser<span class=\"k\">.</span>ie<span class=\"k\">))</span> <span class=\"k\">{</span>","                <span class=\"k\">if</span><span class=\"k\">(</span>toolbarBox<span class=\"k\">.</span>style<span class=\"k\">.</span>position <span class=\"k\">!=</span> <span class=\"s\">'absolute'</span><span class=\"k\">)</span><span class=\"k\">{</span>","                    toolbarBox<span class=\"k\">.</span>style<span class=\"k\">.</span>position <span class=\"k\">=</span> <span class=\"s\">'absolute'</span><span class=\"k\">;</span>","                <span class=\"k\">}</span>","                toolbarBox<span class=\"k\">.</span>style<span class=\"k\">.</span>top <span class=\"k\">=</span> <span class=\"k\">(</span>document<span class=\"k\">.</span>body<span class=\"k\">.</span>scrollTop<span class=\"k\">||</span>document<span class=\"k\">.</span>documentElement<span class=\"k\">.</span>scrollTop<span class=\"k\">)</span> <span class=\"k\">-</span> orgTop <span class=\"k\">+</span> topOffset  <span class=\"k\">+</span> <span class=\"s\">'px'</span><span class=\"k\">;</span>","\t\t\t<span class=\"k\">}</span> <span class=\"k\">else</span> <span class=\"k\">{</span>","                <span class=\"k\">if</span> <span class=\"k\">(</span>browser<span class=\"k\">.</span>ie7Compat <span class=\"k\">&amp;&amp;</span> flag<span class=\"k\">)</span> <span class=\"k\">{</span>","                    flag <span class=\"k\">=</span> <span class=\"k\">false</span><span class=\"k\">;</span>","                    toolbarBox<span class=\"k\">.</span>style<span class=\"k\">.</span>left <span class=\"k\">=</span>  domUtils<span class=\"k\">.</span>getXY<span class=\"k\">(</span>toolbarBox<span class=\"k\">).</span>x <span class=\"k\">-</span> document<span class=\"k\">.</span>documentElement<span class=\"k\">.</span>getBoundingClientRect<span class=\"k\">().</span>left<span class=\"k\">+</span><span class=\"s\">2</span>  <span class=\"k\">+</span> <span class=\"s\">'px'</span><span class=\"k\">;</span>","                <span class=\"k\">}</span>","                <span class=\"k\">if</span><span class=\"k\">(</span>toolbarBox<span class=\"k\">.</span>style<span class=\"k\">.</span>position <span class=\"k\">!=</span> <span class=\"s\">'fixed'</span><span class=\"k\">)</span><span class=\"k\">{</span>","                    toolbarBox<span class=\"k\">.</span>style<span class=\"k\">.</span>position <span class=\"k\">=</span> <span class=\"s\">'fixed'</span><span class=\"k\">;</span>","                    toolbarBox<span class=\"k\">.</span>style<span class=\"k\">.</span>top <span class=\"k\">=</span> topOffset <span class=\"k\">+</span><span class=\"s\">\"px\"</span><span class=\"k\">;</span>","                    <span class=\"k\">((</span>origalFloat <span class=\"k\">==</span> <span class=\"s\">'absolute'</span> <span class=\"k\">||</span> origalFloat <span class=\"k\">==</span> <span class=\"s\">'relative'</span><span class=\"k\">)</span> <span class=\"k\">&amp;&amp;</span> parseFloat<span class=\"k\">(</span>origalLeft<span class=\"k\">))</span> <span class=\"k\">&amp;&amp;</span> <span class=\"k\">(</span>toolbarBox<span class=\"k\">.</span>style<span class=\"k\">.</span>left <span class=\"k\">=</span> toobarBoxPos<span class=\"k\">.</span>x <span class=\"k\">+</span> <span class=\"s\">'px'</span><span class=\"k\">);</span>","                <span class=\"k\">}</span>","\t\t\t<span class=\"k\">}</span>","\t\t<span class=\"k\">}</span>","\t\t<span class=\"k\">function</span> unsetFloating<span class=\"k\">()</span><span class=\"k\">{</span>","            flag <span class=\"k\">=</span> <span class=\"k\">true</span><span class=\"k\">;</span>","            <span class=\"k\">if</span><span class=\"k\">(</span>placeHolder<span class=\"k\">.</span>parentNode<span class=\"k\">)</span><span class=\"k\">{</span>","                placeHolder<span class=\"k\">.</span>parentNode<span class=\"k\">.</span>removeChild<span class=\"k\">(</span>placeHolder<span class=\"k\">);</span>","            <span class=\"k\">}</span>","\t\t\ttoolbarBox<span class=\"k\">.</span>style<span class=\"k\">.</span>cssText <span class=\"k\">=</span> bakCssText<span class=\"k\">;</span>","\t\t<span class=\"k\">}</span>","","        <span class=\"k\">function</span> updateFloating<span class=\"k\">()</span><span class=\"k\">{</span>","            <span class=\"k\">var</span> rect3 <span class=\"k\">=</span> getPosition<span class=\"k\">(</span>me<span class=\"k\">.</span>container<span class=\"k\">);</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span>rect3<span class=\"k\">.</span>top <span class=\"k\">&lt;</span> <span class=\"s\">0</span> <span class=\"k\">&amp;&amp;</span> rect3<span class=\"k\">.</span>bottom <span class=\"k\">-</span> toolbarBox<span class=\"k\">.</span>offsetHeight <span class=\"k\">&gt;</span> <span class=\"s\">0</span><span class=\"k\">)</span> <span class=\"k\">{</span>","                setFloating<span class=\"k\">();</span>","            <span class=\"k\">}</span><span class=\"k\">else</span><span class=\"k\">{</span>","                unsetFloating<span class=\"k\">();</span>","            <span class=\"k\">}</span>","        <span class=\"k\">}</span>","        <span class=\"k\">var</span> defer_updateFloating <span class=\"k\">=</span> utils<span class=\"k\">.</span>defer<span class=\"k\">(</span><span class=\"k\">function</span><span class=\"k\">()</span><span class=\"k\">{</span>","            updateFloating<span class=\"k\">();</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>browser<span class=\"k\">.</span>ie <span class=\"k\">?</span> <span class=\"s\">200</span> <span class=\"k\">:</span> <span class=\"s\">100</span><span class=\"k\">,</span><span class=\"k\">true</span><span class=\"k\">);</span>","","        me<span class=\"k\">.</span>addListener<span class=\"k\">(</span><span class=\"s\">'destroy'</span><span class=\"k\">,</span><span class=\"k\">function</span><span class=\"k\">()</span><span class=\"k\">{</span>","            domUtils<span class=\"k\">.</span>un<span class=\"k\">(</span>window<span class=\"k\">,</span> <span class=\"k\">[</span><span class=\"s\">'scroll'</span><span class=\"k\">,</span><span class=\"s\">'resize'</span><span class=\"k\">],</span> updateFloating<span class=\"k\">);</span>","            me<span class=\"k\">.</span>removeListener<span class=\"k\">(</span><span class=\"s\">'keydown'</span><span class=\"k\">,</span> defer_updateFloating<span class=\"k\">);</span>","        <span class=\"k\">}</span><span class=\"k\">);</span>","        me<span class=\"k\">.</span>addListener<span class=\"k\">(</span><span class=\"s\">'ready'</span><span class=\"k\">,</span> <span class=\"k\">function</span><span class=\"k\">()</span><span class=\"k\">{</span>","            <span class=\"k\">if</span><span class=\"k\">(</span>checkHasUI<span class=\"k\">(</span>me<span class=\"k\">))</span><span class=\"k\">{</span>","","                getPosition <span class=\"k\">=</span> uiUtils<span class=\"k\">.</span>getClientRect<span class=\"k\">;</span>","                toolbarBox <span class=\"k\">=</span> me<span class=\"k\">.</span>ui<span class=\"k\">.</span>getDom<span class=\"k\">(</span><span class=\"s\">'toolbarbox'</span><span class=\"k\">);</span>","                orgTop <span class=\"k\">=</span> getPosition<span class=\"k\">(</span>toolbarBox<span class=\"k\">).</span>top<span class=\"k\">;</span>","                bakCssText <span class=\"k\">=</span> toolbarBox<span class=\"k\">.</span>style<span class=\"k\">.</span>cssText<span class=\"k\">;</span>","                placeHolder<span class=\"k\">.</span>style<span class=\"k\">.</span>height <span class=\"k\">=</span> toolbarBox<span class=\"k\">.</span>offsetHeight <span class=\"k\">+</span> <span class=\"s\">'px'</span><span class=\"k\">;</span>","                <span class=\"k\">if</span><span class=\"k\">(</span>LteIE6<span class=\"k\">)</span><span class=\"k\">{</span>","                    fixIE6FixedPos<span class=\"k\">();</span>","                <span class=\"k\">}</span>","                me<span class=\"k\">.</span>addListener<span class=\"k\">(</span><span class=\"s\">'autoheightchanged'</span><span class=\"k\">,</span> <span class=\"k\">function</span> <span class=\"k\">(</span>t<span class=\"k\">,</span> enabled<span class=\"k\">)</span><span class=\"k\">{</span>","                    <span class=\"k\">if</span> <span class=\"k\">(</span>enabled<span class=\"k\">)</span> <span class=\"k\">{</span>","                        domUtils<span class=\"k\">.</span>on<span class=\"k\">(</span>window<span class=\"k\">,</span> <span class=\"k\">[</span><span class=\"s\">'scroll'</span><span class=\"k\">,</span><span class=\"s\">'resize'</span><span class=\"k\">],</span> updateFloating<span class=\"k\">);</span>","                        me<span class=\"k\">.</span>addListener<span class=\"k\">(</span><span class=\"s\">'keydown'</span><span class=\"k\">,</span> defer_updateFloating<span class=\"k\">);</span>","                    <span class=\"k\">}</span> <span class=\"k\">else</span> <span class=\"k\">{</span>","                        domUtils<span class=\"k\">.</span>un<span class=\"k\">(</span>window<span class=\"k\">,</span> <span class=\"k\">[</span><span class=\"s\">'scroll'</span><span class=\"k\">,</span><span class=\"s\">'resize'</span><span class=\"k\">],</span> updateFloating<span class=\"k\">);</span>","                        me<span class=\"k\">.</span>removeListener<span class=\"k\">(</span><span class=\"s\">'keydown'</span><span class=\"k\">,</span> defer_updateFloating<span class=\"k\">);</span>","                    <span class=\"k\">}</span>","                <span class=\"k\">}</span><span class=\"k\">);</span>","","                me<span class=\"k\">.</span>addListener<span class=\"k\">(</span><span class=\"s\">'beforefullscreenchange'</span><span class=\"k\">,</span> <span class=\"k\">function</span> <span class=\"k\">(</span>t<span class=\"k\">,</span> enabled<span class=\"k\">)</span><span class=\"k\">{</span>","                    <span class=\"k\">if</span> <span class=\"k\">(</span>enabled<span class=\"k\">)</span> <span class=\"k\">{</span>","                        unsetFloating<span class=\"k\">();</span>","                    <span class=\"k\">}</span>","                <span class=\"k\">}</span><span class=\"k\">);</span>","                me<span class=\"k\">.</span>addListener<span class=\"k\">(</span><span class=\"s\">'fullscreenchanged'</span><span class=\"k\">,</span> <span class=\"k\">function</span> <span class=\"k\">(</span>t<span class=\"k\">,</span> enabled<span class=\"k\">)</span><span class=\"k\">{</span>","                    <span class=\"k\">if</span> <span class=\"k\">(!</span>enabled<span class=\"k\">)</span> <span class=\"k\">{</span>","                        updateFloating<span class=\"k\">();</span>","                    <span class=\"k\">}</span>","                <span class=\"k\">}</span><span class=\"k\">);</span>","                me<span class=\"k\">.</span>addListener<span class=\"k\">(</span><span class=\"s\">'sourcemodechanged'</span><span class=\"k\">,</span> <span class=\"k\">function</span> <span class=\"k\">(</span>t<span class=\"k\">,</span> enabled<span class=\"k\">)</span><span class=\"k\">{</span>","                    setTimeout<span class=\"k\">(</span><span class=\"k\">function</span> <span class=\"k\">()</span><span class=\"k\">{</span>","                        updateFloating<span class=\"k\">();</span>","                    <span class=\"k\">}</span><span class=\"k\">,</span><span class=\"s\">0</span><span class=\"k\">);</span>","                <span class=\"k\">}</span><span class=\"k\">);</span>","            <span class=\"k\">}</span>","        <span class=\"k\">}</span><span class=\"k\">);</span>","\t<span class=\"k\">}</span><span class=\"k\">;</span>"]);
_$jscoverage['plugins/autoheight.js'] && (_$jscoverage['plugins/autoheight.js'].source = ["<span class=\"c\">///import core</span>","<span class=\"c\">///commands &#24403;&#36755;&#20837;&#20869;&#23481;&#36229;&#36807;&#32534;&#36753;&#22120;&#39640;&#24230;&#26102;&#65292;&#32534;&#36753;&#22120;&#33258;&#21160;&#22686;&#39640;</span>","<span class=\"c\">///commandsName  AutoHeight,autoHeightEnabled</span>","<span class=\"c\">///commandsTitle  &#33258;&#21160;&#22686;&#39640;</span>","<span class=\"c\">/**</span>","<span class=\"c\"> * @description &#33258;&#21160;&#20280;&#23637;</span>","<span class=\"c\"> * @author zhanyi</span>","<span class=\"c\"> */</span>","UE<span class=\"k\">.</span>plugins<span class=\"k\">[</span><span class=\"s\">'autoheight'</span><span class=\"k\">]</span> <span class=\"k\">=</span> <span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","    <span class=\"k\">var</span> me <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">;</span>","    <span class=\"c\">//&#25552;&#20379;&#24320;&#20851;&#65292;&#23601;&#31639;&#21152;&#36733;&#20063;&#21487;&#20197;&#20851;&#38381;</span>","    me<span class=\"k\">.</span>autoHeightEnabled <span class=\"k\">=</span> me<span class=\"k\">.</span>options<span class=\"k\">.</span>autoHeightEnabled <span class=\"k\">!==</span> <span class=\"k\">false</span> <span class=\"k\">;</span>","    <span class=\"k\">if</span> <span class=\"k\">(!</span>me<span class=\"k\">.</span>autoHeightEnabled<span class=\"k\">)</span><span class=\"k\">{</span>","        <span class=\"k\">return</span><span class=\"k\">;</span>","    <span class=\"k\">}</span>","","    <span class=\"k\">var</span> bakOverflow<span class=\"k\">,</span>","        span<span class=\"k\">,</span> tmpNode<span class=\"k\">,</span>","        lastHeight <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">,</span>","        currentHeight<span class=\"k\">,</span>","        timer<span class=\"k\">;</span>","    <span class=\"k\">function</span> adjustHeight<span class=\"k\">()</span> <span class=\"k\">{</span>","        clearTimeout<span class=\"k\">(</span>timer<span class=\"k\">);</span>","        timer <span class=\"k\">=</span> setTimeout<span class=\"k\">(</span><span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span>me<span class=\"k\">.</span>queryCommandState<span class=\"k\">(</span><span class=\"s\">'source'</span><span class=\"k\">)</span> <span class=\"k\">!=</span> <span class=\"s\">1</span><span class=\"k\">)</span> <span class=\"k\">{</span>","                <span class=\"k\">if</span> <span class=\"k\">(!</span>span<span class=\"k\">)</span> <span class=\"k\">{</span>","                    span <span class=\"k\">=</span> me<span class=\"k\">.</span>document<span class=\"k\">.</span>createElement<span class=\"k\">(</span><span class=\"s\">'span'</span><span class=\"k\">);</span>","                    <span class=\"c\">//trace:1764</span>","                    span<span class=\"k\">.</span>style<span class=\"k\">.</span>cssText <span class=\"k\">=</span> <span class=\"s\">'display:block;width:0;margin:0;padding:0;border:0;clear:both;'</span><span class=\"k\">;</span>","                    span<span class=\"k\">.</span>innerHTML <span class=\"k\">=</span> <span class=\"s\">'.'</span><span class=\"k\">;</span>","                <span class=\"k\">}</span>","                tmpNode <span class=\"k\">=</span> span<span class=\"k\">.</span>cloneNode<span class=\"k\">(</span><span class=\"k\">true</span><span class=\"k\">);</span>","                me<span class=\"k\">.</span>body<span class=\"k\">.</span>appendChild<span class=\"k\">(</span>tmpNode<span class=\"k\">);</span>","","                currentHeight <span class=\"k\">=</span> Math<span class=\"k\">.</span>max<span class=\"k\">(</span>domUtils<span class=\"k\">.</span>getXY<span class=\"k\">(</span>tmpNode<span class=\"k\">).</span>y <span class=\"k\">+</span> tmpNode<span class=\"k\">.</span>offsetHeight<span class=\"k\">,</span> me<span class=\"k\">.</span>options<span class=\"k\">.</span>initialFrameHeight<span class=\"k\">);</span>","","                <span class=\"k\">if</span> <span class=\"k\">(</span>currentHeight <span class=\"k\">!=</span> lastHeight<span class=\"k\">)</span> <span class=\"k\">{</span>","","                    me<span class=\"k\">.</span>setHeight<span class=\"k\">(</span>currentHeight<span class=\"k\">);</span>","","                    lastHeight <span class=\"k\">=</span> currentHeight<span class=\"k\">;</span>","                <span class=\"k\">}</span>","","                domUtils<span class=\"k\">.</span>remove<span class=\"k\">(</span>tmpNode<span class=\"k\">);</span>","","            <span class=\"k\">}</span>","        <span class=\"k\">}</span><span class=\"k\">,</span> <span class=\"s\">50</span><span class=\"k\">);</span>","    <span class=\"k\">}</span>","    me<span class=\"k\">.</span>addListener<span class=\"k\">(</span><span class=\"s\">'destroy'</span><span class=\"k\">,</span> <span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","        me<span class=\"k\">.</span>removeListener<span class=\"k\">(</span><span class=\"s\">'contentchange'</span><span class=\"k\">,</span> adjustHeight<span class=\"k\">);</span>","        me<span class=\"k\">.</span>removeListener<span class=\"k\">(</span><span class=\"s\">'keyup'</span><span class=\"k\">,</span> adjustHeight<span class=\"k\">);</span>","        me<span class=\"k\">.</span>removeListener<span class=\"k\">(</span><span class=\"s\">'mouseup'</span><span class=\"k\">,</span> adjustHeight<span class=\"k\">);</span>","    <span class=\"k\">}</span><span class=\"k\">);</span>","    me<span class=\"k\">.</span>enableAutoHeight <span class=\"k\">=</span> <span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","        <span class=\"k\">if</span><span class=\"k\">(!</span>me<span class=\"k\">.</span>autoHeightEnabled<span class=\"k\">)</span><span class=\"k\">{</span>","            <span class=\"k\">return</span><span class=\"k\">;</span>","        <span class=\"k\">}</span>","        <span class=\"k\">var</span> doc <span class=\"k\">=</span> me<span class=\"k\">.</span>document<span class=\"k\">;</span>","        me<span class=\"k\">.</span>autoHeightEnabled <span class=\"k\">=</span> <span class=\"k\">true</span><span class=\"k\">;</span>","        bakOverflow <span class=\"k\">=</span> doc<span class=\"k\">.</span>body<span class=\"k\">.</span>style<span class=\"k\">.</span>overflowY<span class=\"k\">;</span>","        doc<span class=\"k\">.</span>body<span class=\"k\">.</span>style<span class=\"k\">.</span>overflowY <span class=\"k\">=</span> <span class=\"s\">'hidden'</span><span class=\"k\">;</span>","        me<span class=\"k\">.</span>addListener<span class=\"k\">(</span><span class=\"s\">'contentchange'</span><span class=\"k\">,</span> adjustHeight<span class=\"k\">);</span>","        me<span class=\"k\">.</span>addListener<span class=\"k\">(</span><span class=\"s\">'keyup'</span><span class=\"k\">,</span> adjustHeight<span class=\"k\">);</span>","        me<span class=\"k\">.</span>addListener<span class=\"k\">(</span><span class=\"s\">'mouseup'</span><span class=\"k\">,</span> adjustHeight<span class=\"k\">);</span>","        <span class=\"c\">//ff&#19981;&#32473;&#20107;&#20214;&#31639;&#24471;&#19981;&#23545;</span>","        setTimeout<span class=\"k\">(</span><span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","            adjustHeight<span class=\"k\">();</span>","        <span class=\"k\">}</span><span class=\"k\">,</span> browser<span class=\"k\">.</span>gecko <span class=\"k\">?</span> <span class=\"s\">100</span> <span class=\"k\">:</span> <span class=\"s\">0</span><span class=\"k\">);</span>","        me<span class=\"k\">.</span>fireEvent<span class=\"k\">(</span><span class=\"s\">'autoheightchanged'</span><span class=\"k\">,</span> me<span class=\"k\">.</span>autoHeightEnabled<span class=\"k\">);</span>","    <span class=\"k\">}</span><span class=\"k\">;</span>","    me<span class=\"k\">.</span>disableAutoHeight <span class=\"k\">=</span> <span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","","        me<span class=\"k\">.</span>body<span class=\"k\">.</span>style<span class=\"k\">.</span>overflowY <span class=\"k\">=</span> bakOverflow <span class=\"k\">||</span> <span class=\"s\">''</span><span class=\"k\">;</span>","","        me<span class=\"k\">.</span>removeListener<span class=\"k\">(</span><span class=\"s\">'contentchange'</span><span class=\"k\">,</span> adjustHeight<span class=\"k\">);</span>","        me<span class=\"k\">.</span>removeListener<span class=\"k\">(</span><span class=\"s\">'keyup'</span><span class=\"k\">,</span> adjustHeight<span class=\"k\">);</span>","        me<span class=\"k\">.</span>removeListener<span class=\"k\">(</span><span class=\"s\">'mouseup'</span><span class=\"k\">,</span> adjustHeight<span class=\"k\">);</span>","        me<span class=\"k\">.</span>autoHeightEnabled <span class=\"k\">=</span> <span class=\"k\">false</span><span class=\"k\">;</span>","        me<span class=\"k\">.</span>fireEvent<span class=\"k\">(</span><span class=\"s\">'autoheightchanged'</span><span class=\"k\">,</span> me<span class=\"k\">.</span>autoHeightEnabled<span class=\"k\">);</span>","    <span class=\"k\">}</span><span class=\"k\">;</span>","    me<span class=\"k\">.</span>addListener<span class=\"k\">(</span><span class=\"s\">'ready'</span><span class=\"k\">,</span> <span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","        me<span class=\"k\">.</span>enableAutoHeight<span class=\"k\">();</span>","        <span class=\"c\">//trace:1764</span>","        <span class=\"k\">var</span> timer<span class=\"k\">;</span>","        domUtils<span class=\"k\">.</span>on<span class=\"k\">(</span>browser<span class=\"k\">.</span>ie <span class=\"k\">?</span> me<span class=\"k\">.</span>body <span class=\"k\">:</span> me<span class=\"k\">.</span>document<span class=\"k\">,</span>browser<span class=\"k\">.</span>webkit <span class=\"k\">?</span> <span class=\"s\">'dragover'</span> <span class=\"k\">:</span> <span class=\"s\">'drop'</span><span class=\"k\">,</span><span class=\"k\">function</span><span class=\"k\">()</span><span class=\"k\">{</span>","            clearTimeout<span class=\"k\">(</span>timer<span class=\"k\">);</span>","            timer <span class=\"k\">=</span> setTimeout<span class=\"k\">(</span><span class=\"k\">function</span><span class=\"k\">()</span><span class=\"k\">{</span>","                adjustHeight<span class=\"k\">();</span>","            <span class=\"k\">}</span><span class=\"k\">,</span><span class=\"s\">100</span><span class=\"k\">);</span>","","        <span class=\"k\">}</span><span class=\"k\">);</span>","    <span class=\"k\">}</span><span class=\"k\">);</span>","","","","","","","<span class=\"k\">}</span><span class=\"k\">;</span>",""]);
_$jscoverage['plugins/autolink.js'] && (_$jscoverage['plugins/autolink.js'].source = ["<span class=\"c\">///import core</span>","<span class=\"c\">///commands &#20026;&#38750;ie&#27983;&#35272;&#22120;&#33258;&#21160;&#28155;&#21152;a&#26631;&#31614;</span>","<span class=\"c\">///commandsName  AutoLink</span>","<span class=\"c\">///commandsTitle  &#33258;&#21160;&#22686;&#21152;&#38142;&#25509;</span>","<span class=\"c\">/**</span>","<span class=\"c\"> * @description &#20026;&#38750;ie&#27983;&#35272;&#22120;&#33258;&#21160;&#28155;&#21152;a&#26631;&#31614;</span>","<span class=\"c\"> * @author zhanyi</span>","<span class=\"c\"> */</span>","    UE<span class=\"k\">.</span>plugins<span class=\"k\">[</span><span class=\"s\">'autolink'</span><span class=\"k\">]</span> <span class=\"k\">=</span> <span class=\"k\">function</span><span class=\"k\">()</span> <span class=\"k\">{</span>","        <span class=\"k\">var</span> cont <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">;</span>","        <span class=\"k\">if</span> <span class=\"k\">(</span>browser<span class=\"k\">.</span>ie<span class=\"k\">)</span> <span class=\"k\">{</span>","            <span class=\"k\">return</span><span class=\"k\">;</span>","        <span class=\"k\">}</span>","        <span class=\"k\">var</span> me <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">;</span>","        me<span class=\"k\">.</span>addListener<span class=\"k\">(</span><span class=\"s\">'reset'</span><span class=\"k\">,</span><span class=\"k\">function</span><span class=\"k\">()</span><span class=\"k\">{</span>","           cont <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">;</span>","        <span class=\"k\">}</span><span class=\"k\">);</span>","        me<span class=\"k\">.</span>addListener<span class=\"k\">(</span><span class=\"s\">'keydown'</span><span class=\"k\">,</span> <span class=\"k\">function</span><span class=\"k\">(</span>type<span class=\"k\">,</span> evt<span class=\"k\">)</span> <span class=\"k\">{</span>","            <span class=\"k\">var</span> keyCode <span class=\"k\">=</span> evt<span class=\"k\">.</span>keyCode <span class=\"k\">||</span> evt<span class=\"k\">.</span>which<span class=\"k\">;</span>","","            <span class=\"k\">if</span> <span class=\"k\">(</span>keyCode <span class=\"k\">==</span> <span class=\"s\">32</span> <span class=\"k\">||</span> keyCode <span class=\"k\">==</span> <span class=\"s\">13</span><span class=\"k\">)</span> <span class=\"k\">{</span>","","                <span class=\"k\">var</span> sel <span class=\"k\">=</span> me<span class=\"k\">.</span>selection<span class=\"k\">.</span>getNative<span class=\"k\">(),</span>","                    range <span class=\"k\">=</span> sel<span class=\"k\">.</span>getRangeAt<span class=\"k\">(</span><span class=\"s\">0</span><span class=\"k\">).</span>cloneRange<span class=\"k\">(),</span>","                    offset<span class=\"k\">,</span>","                    charCode<span class=\"k\">;</span>","","                <span class=\"k\">var</span> start <span class=\"k\">=</span> range<span class=\"k\">.</span>startContainer<span class=\"k\">;</span>","                <span class=\"k\">while</span> <span class=\"k\">(</span>start<span class=\"k\">.</span>nodeType <span class=\"k\">==</span> <span class=\"s\">1</span> <span class=\"k\">&amp;&amp;</span> range<span class=\"k\">.</span>startOffset <span class=\"k\">&gt;</span> <span class=\"s\">0</span><span class=\"k\">)</span> <span class=\"k\">{</span>","                    start <span class=\"k\">=</span> range<span class=\"k\">.</span>startContainer<span class=\"k\">.</span>childNodes<span class=\"k\">[</span>range<span class=\"k\">.</span>startOffset <span class=\"k\">-</span> <span class=\"s\">1</span><span class=\"k\">];</span>","                    <span class=\"k\">if</span> <span class=\"k\">(!</span>start<span class=\"k\">)</span><span class=\"k\">{</span>","                        <span class=\"k\">break</span><span class=\"k\">;</span>","                    <span class=\"k\">}</span>","                    range<span class=\"k\">.</span>setStart<span class=\"k\">(</span>start<span class=\"k\">,</span> start<span class=\"k\">.</span>nodeType <span class=\"k\">==</span> <span class=\"s\">1</span> <span class=\"k\">?</span> start<span class=\"k\">.</span>childNodes<span class=\"k\">.</span>length <span class=\"k\">:</span> start<span class=\"k\">.</span>nodeValue<span class=\"k\">.</span>length<span class=\"k\">);</span>","                    range<span class=\"k\">.</span>collapse<span class=\"k\">(</span><span class=\"k\">true</span><span class=\"k\">);</span>","                    start <span class=\"k\">=</span> range<span class=\"k\">.</span>startContainer<span class=\"k\">;</span>","                <span class=\"k\">}</span>","","                <span class=\"k\">do</span><span class=\"k\">{</span>","                    <span class=\"k\">if</span> <span class=\"k\">(</span>range<span class=\"k\">.</span>startOffset <span class=\"k\">==</span> <span class=\"s\">0</span><span class=\"k\">)</span> <span class=\"k\">{</span>","                        start <span class=\"k\">=</span> range<span class=\"k\">.</span>startContainer<span class=\"k\">.</span>previousSibling<span class=\"k\">;</span>","","                        <span class=\"k\">while</span> <span class=\"k\">(</span>start <span class=\"k\">&amp;&amp;</span> start<span class=\"k\">.</span>nodeType <span class=\"k\">==</span> <span class=\"s\">1</span><span class=\"k\">)</span> <span class=\"k\">{</span>","                            start <span class=\"k\">=</span> start<span class=\"k\">.</span>lastChild<span class=\"k\">;</span>","                        <span class=\"k\">}</span>","                        <span class=\"k\">if</span> <span class=\"k\">(!</span>start <span class=\"k\">||</span> domUtils<span class=\"k\">.</span>isFillChar<span class=\"k\">(</span>start<span class=\"k\">))</span><span class=\"k\">{</span>","                            <span class=\"k\">break</span><span class=\"k\">;</span>","                        <span class=\"k\">}</span>","                        offset <span class=\"k\">=</span> start<span class=\"k\">.</span>nodeValue<span class=\"k\">.</span>length<span class=\"k\">;</span>","                    <span class=\"k\">}</span> <span class=\"k\">else</span> <span class=\"k\">{</span>","                        start <span class=\"k\">=</span> range<span class=\"k\">.</span>startContainer<span class=\"k\">;</span>","                        offset <span class=\"k\">=</span> range<span class=\"k\">.</span>startOffset<span class=\"k\">;</span>","                    <span class=\"k\">}</span>","                    range<span class=\"k\">.</span>setStart<span class=\"k\">(</span>start<span class=\"k\">,</span> offset <span class=\"k\">-</span> <span class=\"s\">1</span><span class=\"k\">);</span>","                    charCode <span class=\"k\">=</span> range<span class=\"k\">.</span>toString<span class=\"k\">().</span>charCodeAt<span class=\"k\">(</span><span class=\"s\">0</span><span class=\"k\">);</span>","                <span class=\"k\">}</span> <span class=\"k\">while</span> <span class=\"k\">(</span>charCode <span class=\"k\">!=</span> <span class=\"s\">160</span> <span class=\"k\">&amp;&amp;</span> charCode <span class=\"k\">!=</span> <span class=\"s\">32</span><span class=\"k\">);</span>","","                <span class=\"k\">if</span> <span class=\"k\">(</span>range<span class=\"k\">.</span>toString<span class=\"k\">().</span>replace<span class=\"k\">(</span><span class=\"k\">new</span> RegExp<span class=\"k\">(</span>domUtils<span class=\"k\">.</span>fillChar<span class=\"k\">,</span> <span class=\"s\">'g'</span><span class=\"k\">),</span> <span class=\"s\">''</span><span class=\"k\">).</span>match<span class=\"k\">(</span><span class=\"s\">/(?:https?:\\/\\/|ssh:\\/\\/|ftp:\\/\\/|file:\\/|www\\.)/i</span><span class=\"k\">))</span> <span class=\"k\">{</span>","                    <span class=\"k\">while</span><span class=\"k\">(</span>range<span class=\"k\">.</span>toString<span class=\"k\">().</span>length<span class=\"k\">)</span><span class=\"k\">{</span>","                        <span class=\"k\">if</span><span class=\"k\">(</span><span class=\"s\">/^(?:https?:\\/\\/|ssh:\\/\\/|ftp:\\/\\/|file:\\/|www\\.)/i</span><span class=\"k\">.</span>test<span class=\"k\">(</span>range<span class=\"k\">.</span>toString<span class=\"k\">()))</span><span class=\"k\">{</span>","                            <span class=\"k\">break</span><span class=\"k\">;</span>","                        <span class=\"k\">}</span>","                        <span class=\"k\">try</span><span class=\"k\">{</span>","                            range<span class=\"k\">.</span>setStart<span class=\"k\">(</span>range<span class=\"k\">.</span>startContainer<span class=\"k\">,</span>range<span class=\"k\">.</span>startOffset<span class=\"k\">+</span><span class=\"s\">1</span><span class=\"k\">);</span>","                        <span class=\"k\">}</span><span class=\"k\">catch</span><span class=\"k\">(</span>e<span class=\"k\">)</span><span class=\"k\">{</span>","                            <span class=\"c\">//trace:2121</span>","                            <span class=\"k\">var</span> start <span class=\"k\">=</span> range<span class=\"k\">.</span>startContainer<span class=\"k\">;</span>","                            <span class=\"k\">while</span><span class=\"k\">(!(</span>next <span class=\"k\">=</span> start<span class=\"k\">.</span>nextSibling<span class=\"k\">))</span><span class=\"k\">{</span>","                                <span class=\"k\">if</span><span class=\"k\">(</span>domUtils<span class=\"k\">.</span>isBody<span class=\"k\">(</span>start<span class=\"k\">))</span><span class=\"k\">{</span>","                                    <span class=\"k\">return</span><span class=\"k\">;</span>","                                <span class=\"k\">}</span>","                                start <span class=\"k\">=</span> start<span class=\"k\">.</span>parentNode<span class=\"k\">;</span>","","                            <span class=\"k\">}</span>","                            range<span class=\"k\">.</span>setStart<span class=\"k\">(</span>next<span class=\"k\">,</span><span class=\"s\">0</span><span class=\"k\">);</span>","","                        <span class=\"k\">}</span>","","                    <span class=\"k\">}</span>","                    <span class=\"k\">var</span> a <span class=\"k\">=</span> me<span class=\"k\">.</span>document<span class=\"k\">.</span>createElement<span class=\"k\">(</span><span class=\"s\">'a'</span><span class=\"k\">),</span>text <span class=\"k\">=</span> me<span class=\"k\">.</span>document<span class=\"k\">.</span>createTextNode<span class=\"k\">(</span><span class=\"s\">' '</span><span class=\"k\">),</span>href<span class=\"k\">;</span>","","                    me<span class=\"k\">.</span>undoManger <span class=\"k\">&amp;&amp;</span> me<span class=\"k\">.</span>undoManger<span class=\"k\">.</span>save<span class=\"k\">();</span>","                    a<span class=\"k\">.</span>appendChild<span class=\"k\">(</span>range<span class=\"k\">.</span>extractContents<span class=\"k\">());</span>","                    a<span class=\"k\">.</span>href <span class=\"k\">=</span> a<span class=\"k\">.</span>innerHTML <span class=\"k\">=</span> a<span class=\"k\">.</span>innerHTML<span class=\"k\">.</span>replace<span class=\"k\">(</span><span class=\"s\">/&lt;[^&gt;]+&gt;/g</span><span class=\"k\">,</span><span class=\"s\">''</span><span class=\"k\">);</span>","                    href <span class=\"k\">=</span> a<span class=\"k\">.</span>getAttribute<span class=\"k\">(</span><span class=\"s\">\"href\"</span><span class=\"k\">).</span>replace<span class=\"k\">(</span><span class=\"k\">new</span> RegExp<span class=\"k\">(</span>domUtils<span class=\"k\">.</span>fillChar<span class=\"k\">,</span><span class=\"s\">'g'</span><span class=\"k\">),</span><span class=\"s\">''</span><span class=\"k\">);</span>","                    href <span class=\"k\">=</span> <span class=\"s\">/^(?:https?:\\/\\/)/ig</span><span class=\"k\">.</span>test<span class=\"k\">(</span>href<span class=\"k\">)</span> <span class=\"k\">?</span> href <span class=\"k\">:</span> <span class=\"s\">\"http://\"</span><span class=\"k\">+</span> href<span class=\"k\">;</span>","                    a<span class=\"k\">.</span>setAttribute<span class=\"k\">(</span><span class=\"s\">'data_ue_src'</span><span class=\"k\">,</span>href<span class=\"k\">);</span>","                    a<span class=\"k\">.</span>href <span class=\"k\">=</span> href<span class=\"k\">;</span>","","                    range<span class=\"k\">.</span>insertNode<span class=\"k\">(</span>a<span class=\"k\">);</span>","                    a<span class=\"k\">.</span>parentNode<span class=\"k\">.</span>insertBefore<span class=\"k\">(</span>text<span class=\"k\">,</span> a<span class=\"k\">.</span>nextSibling<span class=\"k\">);</span>","                    range<span class=\"k\">.</span>setStart<span class=\"k\">(</span>text<span class=\"k\">,</span> <span class=\"s\">0</span><span class=\"k\">);</span>","                    range<span class=\"k\">.</span>collapse<span class=\"k\">(</span><span class=\"k\">true</span><span class=\"k\">);</span>","                    sel<span class=\"k\">.</span>removeAllRanges<span class=\"k\">();</span>","                    sel<span class=\"k\">.</span>addRange<span class=\"k\">(</span>range<span class=\"k\">);</span>","                    me<span class=\"k\">.</span>undoManger <span class=\"k\">&amp;&amp;</span> me<span class=\"k\">.</span>undoManger<span class=\"k\">.</span>save<span class=\"k\">();</span>","                <span class=\"k\">}</span>","            <span class=\"k\">}</span>","        <span class=\"k\">}</span><span class=\"k\">);</span>","    <span class=\"k\">}</span><span class=\"k\">;</span>"]);
_$jscoverage['plugins/autosubmit.js'] && (_$jscoverage['plugins/autosubmit.js'].source = ["UE<span class=\"k\">.</span>commands<span class=\"k\">[</span><span class=\"s\">'autosubmit'</span><span class=\"k\">]</span> <span class=\"k\">=</span> <span class=\"k\">{</span>","    execCommand<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","        <span class=\"k\">var</span> me<span class=\"k\">=</span><span class=\"k\">this</span><span class=\"k\">,</span>","            form <span class=\"k\">=</span> domUtils<span class=\"k\">.</span>findParentByTagName<span class=\"k\">(</span>me<span class=\"k\">.</span>iframe<span class=\"k\">,</span><span class=\"s\">\"form\"</span><span class=\"k\">,</span> <span class=\"k\">false</span><span class=\"k\">);</span>","","        <span class=\"k\">if</span> <span class=\"k\">(</span>form<span class=\"k\">)</span>    <span class=\"k\">{</span>","            <span class=\"k\">if</span><span class=\"k\">(</span>me<span class=\"k\">.</span>fireEvent<span class=\"k\">(</span><span class=\"s\">\"beforesubmit\"</span><span class=\"k\">)===</span><span class=\"k\">false</span><span class=\"k\">)</span><span class=\"k\">{</span>","                <span class=\"k\">return</span><span class=\"k\">;</span>","            <span class=\"k\">}</span>","            me<span class=\"k\">.</span>sync<span class=\"k\">();</span>","            form<span class=\"k\">.</span>submit<span class=\"k\">();</span>","        <span class=\"k\">}</span>","","    <span class=\"k\">}</span>","<span class=\"k\">}</span><span class=\"k\">;</span>"]);
_$jscoverage['plugins/autotypeset.js'] && (_$jscoverage['plugins/autotypeset.js'].source = ["<span class=\"c\">///import core</span>","<span class=\"c\">///commands &#33258;&#21160;&#25490;&#29256;</span>","<span class=\"c\">///commandsName  autotypeset</span>","<span class=\"c\">///commandsTitle  &#33258;&#21160;&#25490;&#29256;</span>","<span class=\"c\">/**</span>","<span class=\"c\"> * &#33258;&#21160;&#25490;&#29256;</span>","<span class=\"c\"> * @function</span>","<span class=\"c\"> * @name baidu.editor.execCommands</span>","<span class=\"c\"> */</span>","","UE<span class=\"k\">.</span>plugins<span class=\"k\">[</span><span class=\"s\">'autotypeset'</span><span class=\"k\">]</span> <span class=\"k\">=</span> <span class=\"k\">function</span><span class=\"k\">()</span><span class=\"k\">{</span>","","    <span class=\"k\">this</span><span class=\"k\">.</span>setOpt<span class=\"k\">(</span><span class=\"k\">{</span><span class=\"s\">'autotypeset'</span><span class=\"k\">:</span><span class=\"k\">{</span>","        mergeEmptyline <span class=\"k\">:</span> <span class=\"k\">true</span><span class=\"k\">,</span>          <span class=\"c\">//&#21512;&#24182;&#31354;&#34892;</span>","            removeClass <span class=\"k\">:</span> <span class=\"k\">true</span><span class=\"k\">,</span>            <span class=\"c\">//&#21435;&#25481;&#20887;&#20313;&#30340;class</span>","            removeEmptyline <span class=\"k\">:</span> <span class=\"k\">false</span><span class=\"k\">,</span>        <span class=\"c\">//&#21435;&#25481;&#31354;&#34892;</span>","            textAlign <span class=\"k\">:</span> <span class=\"s\">\"left\"</span><span class=\"k\">,</span>             <span class=\"c\">//&#27573;&#33853;&#30340;&#25490;&#29256;&#26041;&#24335;&#65292;&#21487;&#20197;&#26159; left,right,center,justify &#21435;&#25481;&#36825;&#20010;&#23646;&#24615;&#34920;&#31034;&#19981;&#25191;&#34892;&#25490;&#29256;</span>","            imageBlockLine <span class=\"k\">:</span> <span class=\"s\">'center'</span><span class=\"k\">,</span>      <span class=\"c\">//&#22270;&#29255;&#30340;&#28014;&#21160;&#26041;&#24335;&#65292;&#29420;&#21344;&#19968;&#34892;&#21095;&#20013;,&#24038;&#21491;&#28014;&#21160;&#65292;&#40664;&#35748;: center,left,right,none &#21435;&#25481;&#36825;&#20010;&#23646;&#24615;&#34920;&#31034;&#19981;&#25191;&#34892;&#25490;&#29256;</span>","            pasteFilter <span class=\"k\">:</span> <span class=\"k\">false</span><span class=\"k\">,</span>             <span class=\"c\">//&#26681;&#25454;&#35268;&#21017;&#36807;&#28388;&#27809;&#20107;&#31896;&#36148;&#36827;&#26469;&#30340;&#20869;&#23481;</span>","            clearFontSize <span class=\"k\">:</span> <span class=\"k\">false</span><span class=\"k\">,</span>           <span class=\"c\">//&#21435;&#25481;&#25152;&#26377;&#30340;&#20869;&#23884;&#23383;&#21495;&#65292;&#20351;&#29992;&#32534;&#36753;&#22120;&#40664;&#35748;&#30340;&#23383;&#21495;</span>","            clearFontFamily <span class=\"k\">:</span> <span class=\"k\">false</span><span class=\"k\">,</span>         <span class=\"c\">//&#21435;&#25481;&#25152;&#26377;&#30340;&#20869;&#23884;&#23383;&#20307;&#65292;&#20351;&#29992;&#32534;&#36753;&#22120;&#40664;&#35748;&#30340;&#23383;&#20307;</span>","            removeEmptyNode <span class=\"k\">:</span> <span class=\"k\">false</span><span class=\"k\">,</span>         <span class=\"c\">// &#21435;&#25481;&#31354;&#33410;&#28857;</span>","            <span class=\"c\">//&#21487;&#20197;&#21435;&#25481;&#30340;&#26631;&#31614;</span>","            removeTagNames <span class=\"k\">:</span> utils<span class=\"k\">.</span>extend<span class=\"k\">(</span><span class=\"k\">{</span>div<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">}</span><span class=\"k\">,</span>dtd<span class=\"k\">.</span>$removeEmpty<span class=\"k\">),</span>","            indent <span class=\"k\">:</span> <span class=\"k\">false</span><span class=\"k\">,</span>                  <span class=\"c\">// &#34892;&#39318;&#32553;&#36827;</span>","            indentValue <span class=\"k\">:</span> <span class=\"s\">'2em'</span>             <span class=\"c\">//&#34892;&#39318;&#32553;&#36827;&#30340;&#22823;&#23567;</span>","    <span class=\"k\">}}</span><span class=\"k\">);</span>","    <span class=\"k\">var</span> me <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">,</span>","        opt <span class=\"k\">=</span> me<span class=\"k\">.</span>options<span class=\"k\">.</span>autotypeset<span class=\"k\">,</span>","        remainClass <span class=\"k\">=</span> <span class=\"k\">{</span>","            <span class=\"s\">'selectTdClass'</span><span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>","            <span class=\"s\">'pagebreak'</span><span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>","            <span class=\"s\">'anchorclass'</span><span class=\"k\">:</span><span class=\"s\">1</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        remainTag <span class=\"k\">=</span> <span class=\"k\">{</span>","            <span class=\"s\">'li'</span><span class=\"k\">:</span><span class=\"s\">1</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        tags <span class=\"k\">=</span> <span class=\"k\">{</span>","            div<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>","            p<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>","            <span class=\"c\">//trace:2183 &#36825;&#20123;&#20063;&#35748;&#20026;&#26159;&#34892;</span>","            blockquote<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>center<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>h1<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>h2<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>h3<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>h4<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>h5<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>h6<span class=\"k\">:</span><span class=\"s\">1</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        highlightCont<span class=\"k\">;</span>","    <span class=\"c\">//&#21319;&#32423;&#20102;&#29256;&#26412;&#65292;&#20294;&#37197;&#32622;&#39033;&#30446;&#37324;&#27809;&#26377;autotypeset</span>","    <span class=\"k\">if</span><span class=\"k\">(!</span>opt<span class=\"k\">)</span><span class=\"k\">{</span>","        <span class=\"k\">return</span><span class=\"k\">;</span>","    <span class=\"k\">}</span>","    <span class=\"k\">function</span> isLine<span class=\"k\">(</span>node<span class=\"k\">,</span>notEmpty<span class=\"k\">)</span><span class=\"k\">{</span>","","        <span class=\"k\">if</span><span class=\"k\">(</span>node <span class=\"k\">&amp;&amp;</span> node<span class=\"k\">.</span>parentNode <span class=\"k\">&amp;&amp;</span> tags<span class=\"k\">[</span>node<span class=\"k\">.</span>tagName<span class=\"k\">.</span>toLowerCase<span class=\"k\">()])</span><span class=\"k\">{</span>","            <span class=\"k\">if</span><span class=\"k\">(</span>highlightCont <span class=\"k\">&amp;&amp;</span> highlightCont<span class=\"k\">.</span>contains<span class=\"k\">(</span>node<span class=\"k\">)</span>","                <span class=\"k\">||</span>","                node<span class=\"k\">.</span>getAttribute<span class=\"k\">(</span><span class=\"s\">'pagebreak'</span><span class=\"k\">)</span>","            <span class=\"k\">)</span><span class=\"k\">{</span>","                <span class=\"k\">return</span> <span class=\"s\">0</span><span class=\"k\">;</span>","            <span class=\"k\">}</span>","","            <span class=\"k\">return</span> notEmpty <span class=\"k\">?</span> <span class=\"k\">!</span>domUtils<span class=\"k\">.</span>isEmptyBlock<span class=\"k\">(</span>node<span class=\"k\">)</span> <span class=\"k\">:</span> domUtils<span class=\"k\">.</span>isEmptyBlock<span class=\"k\">(</span>node<span class=\"k\">);</span>","        <span class=\"k\">}</span>","    <span class=\"k\">}</span>","","    <span class=\"k\">function</span> removeNotAttributeSpan<span class=\"k\">(</span>node<span class=\"k\">)</span><span class=\"k\">{</span>","        <span class=\"k\">if</span><span class=\"k\">(!</span>node<span class=\"k\">.</span>style<span class=\"k\">.</span>cssText<span class=\"k\">)</span><span class=\"k\">{</span>","            domUtils<span class=\"k\">.</span>removeAttributes<span class=\"k\">(</span>node<span class=\"k\">,[</span><span class=\"s\">'style'</span><span class=\"k\">]);</span>","            <span class=\"k\">if</span><span class=\"k\">(</span>node<span class=\"k\">.</span>tagName<span class=\"k\">.</span>toLowerCase<span class=\"k\">()</span> <span class=\"k\">==</span> <span class=\"s\">'span'</span> <span class=\"k\">&amp;&amp;</span> domUtils<span class=\"k\">.</span>hasNoAttributes<span class=\"k\">(</span>node<span class=\"k\">))</span><span class=\"k\">{</span>","                domUtils<span class=\"k\">.</span>remove<span class=\"k\">(</span>node<span class=\"k\">,</span><span class=\"k\">true</span><span class=\"k\">);</span>","            <span class=\"k\">}</span>","        <span class=\"k\">}</span>","    <span class=\"k\">}</span>","    <span class=\"k\">function</span> autotype<span class=\"k\">(</span>type<span class=\"k\">,</span>html<span class=\"k\">)</span><span class=\"k\">{</span>","","        <span class=\"k\">var</span> cont<span class=\"k\">;</span>","        <span class=\"k\">if</span><span class=\"k\">(</span>html<span class=\"k\">)</span><span class=\"k\">{</span>","            <span class=\"k\">if</span><span class=\"k\">(!</span>opt<span class=\"k\">.</span>pasteFilter<span class=\"k\">)</span><span class=\"k\">{</span>","                <span class=\"k\">return</span><span class=\"k\">;</span>","            <span class=\"k\">}</span>","            cont <span class=\"k\">=</span> me<span class=\"k\">.</span>document<span class=\"k\">.</span>createElement<span class=\"k\">(</span><span class=\"s\">'div'</span><span class=\"k\">);</span>","            cont<span class=\"k\">.</span>innerHTML <span class=\"k\">=</span> html<span class=\"k\">.</span>html<span class=\"k\">;</span>","        <span class=\"k\">}</span><span class=\"k\">else</span><span class=\"k\">{</span>","            cont <span class=\"k\">=</span> me<span class=\"k\">.</span>document<span class=\"k\">.</span>body<span class=\"k\">;</span>","        <span class=\"k\">}</span>","        <span class=\"k\">var</span> nodes <span class=\"k\">=</span> domUtils<span class=\"k\">.</span>getElementsByTagName<span class=\"k\">(</span>cont<span class=\"k\">,</span><span class=\"s\">'*'</span><span class=\"k\">);</span>","","          <span class=\"c\">// &#34892;&#39318;&#32553;&#36827;&#65292;&#27573;&#33853;&#26041;&#21521;&#65292;&#27573;&#38388;&#36317;&#65292;&#27573;&#20869;&#38388;&#36317;</span>","        <span class=\"k\">for</span><span class=\"k\">(</span><span class=\"k\">var</span> i<span class=\"k\">=</span><span class=\"s\">0</span><span class=\"k\">,</span>ci<span class=\"k\">;</span>ci<span class=\"k\">=</span>nodes<span class=\"k\">[</span>i<span class=\"k\">++];)</span><span class=\"k\">{</span>","            <span class=\"k\">if</span><span class=\"k\">(!</span>highlightCont <span class=\"k\">&amp;&amp;</span> ci<span class=\"k\">.</span>tagName <span class=\"k\">==</span> <span class=\"s\">'DIV'</span> <span class=\"k\">&amp;&amp;</span> ci<span class=\"k\">.</span>getAttribute<span class=\"k\">(</span><span class=\"s\">'highlighter'</span><span class=\"k\">))</span><span class=\"k\">{</span>","                highlightCont <span class=\"k\">=</span> ci<span class=\"k\">;</span>","            <span class=\"k\">}</span>","             <span class=\"c\">//font-size</span>","            <span class=\"k\">if</span><span class=\"k\">(</span>opt<span class=\"k\">.</span>clearFontSize <span class=\"k\">&amp;&amp;</span> ci<span class=\"k\">.</span>style<span class=\"k\">.</span>fontSize<span class=\"k\">)</span><span class=\"k\">{</span>","                ci<span class=\"k\">.</span>style<span class=\"k\">.</span>fontSize <span class=\"k\">=</span> <span class=\"s\">''</span><span class=\"k\">;</span>","                removeNotAttributeSpan<span class=\"k\">(</span>ci<span class=\"k\">);</span>","","            <span class=\"k\">}</span>","            <span class=\"c\">//font-family</span>","            <span class=\"k\">if</span><span class=\"k\">(</span>opt<span class=\"k\">.</span>clearFontFamily <span class=\"k\">&amp;&amp;</span> ci<span class=\"k\">.</span>style<span class=\"k\">.</span>fontFamily<span class=\"k\">)</span><span class=\"k\">{</span>","                ci<span class=\"k\">.</span>style<span class=\"k\">.</span>fontFamily <span class=\"k\">=</span> <span class=\"s\">''</span><span class=\"k\">;</span>","                removeNotAttributeSpan<span class=\"k\">(</span>ci<span class=\"k\">);</span>","            <span class=\"k\">}</span>","","            <span class=\"k\">if</span><span class=\"k\">(</span>isLine<span class=\"k\">(</span>ci<span class=\"k\">))</span><span class=\"k\">{</span>","                <span class=\"c\">//&#21512;&#24182;&#31354;&#34892;</span>","                <span class=\"k\">if</span><span class=\"k\">(</span>opt<span class=\"k\">.</span>mergeEmptyline <span class=\"k\">)</span><span class=\"k\">{</span>","                    <span class=\"k\">var</span> next <span class=\"k\">=</span> ci<span class=\"k\">.</span>nextSibling<span class=\"k\">,</span>tmpNode<span class=\"k\">;</span>","                    <span class=\"k\">while</span><span class=\"k\">(</span>isLine<span class=\"k\">(</span>next<span class=\"k\">))</span><span class=\"k\">{</span>","                        tmpNode <span class=\"k\">=</span> next<span class=\"k\">;</span>","                        next <span class=\"k\">=</span> tmpNode<span class=\"k\">.</span>nextSibling<span class=\"k\">;</span>","                        domUtils<span class=\"k\">.</span>remove<span class=\"k\">(</span>tmpNode<span class=\"k\">);</span>","                    <span class=\"k\">}</span>","","                <span class=\"k\">}</span>","                 <span class=\"c\">//&#21435;&#25481;&#31354;&#34892;&#65292;&#20445;&#30041;&#21344;&#20301;&#30340;&#31354;&#34892;</span>","                <span class=\"k\">if</span><span class=\"k\">(</span>opt<span class=\"k\">.</span>removeEmptyline <span class=\"k\">&amp;&amp;</span> domUtils<span class=\"k\">.</span>inDoc<span class=\"k\">(</span>ci<span class=\"k\">,</span>cont<span class=\"k\">)</span> <span class=\"k\">&amp;&amp;</span> <span class=\"k\">!</span>remainTag<span class=\"k\">[</span>ci<span class=\"k\">.</span>parentNode<span class=\"k\">.</span>tagName<span class=\"k\">.</span>toLowerCase<span class=\"k\">()]</span> <span class=\"k\">)</span><span class=\"k\">{</span>","                    domUtils<span class=\"k\">.</span>remove<span class=\"k\">(</span>ci<span class=\"k\">);</span>","                    <span class=\"k\">continue</span><span class=\"k\">;</span>","","                <span class=\"k\">}</span>","","            <span class=\"k\">}</span>","            <span class=\"k\">if</span><span class=\"k\">(</span>isLine<span class=\"k\">(</span>ci<span class=\"k\">,</span><span class=\"k\">true</span><span class=\"k\">)</span> <span class=\"k\">)</span><span class=\"k\">{</span>","                <span class=\"k\">if</span><span class=\"k\">(</span>opt<span class=\"k\">.</span>indent<span class=\"k\">)</span><span class=\"k\">{</span>","                    ci<span class=\"k\">.</span>style<span class=\"k\">.</span>textIndent <span class=\"k\">=</span> opt<span class=\"k\">.</span>indentValue<span class=\"k\">;</span>","                <span class=\"k\">}</span>","                <span class=\"k\">if</span><span class=\"k\">(</span>opt<span class=\"k\">.</span>textAlign<span class=\"k\">)</span><span class=\"k\">{</span>","                    ci<span class=\"k\">.</span>style<span class=\"k\">.</span>textAlign <span class=\"k\">=</span> opt<span class=\"k\">.</span>textAlign<span class=\"k\">;</span>","                <span class=\"k\">}</span>","<span class=\"c\">//                if(opt.lineHeight)</span>","<span class=\"c\">//                    ci.style.lineHeight = opt.lineHeight + 'cm';</span>","","","            <span class=\"k\">}</span>","","            <span class=\"c\">//&#21435;&#25481;class,&#20445;&#30041;&#30340;class&#19981;&#21435;&#25481;</span>","            <span class=\"k\">if</span><span class=\"k\">(</span>opt<span class=\"k\">.</span>removeClass <span class=\"k\">&amp;&amp;</span> ci<span class=\"k\">.</span>className <span class=\"k\">&amp;&amp;</span> <span class=\"k\">!</span>remainClass<span class=\"k\">[</span>ci<span class=\"k\">.</span>className<span class=\"k\">.</span>toLowerCase<span class=\"k\">()])</span><span class=\"k\">{</span>","","                <span class=\"k\">if</span><span class=\"k\">(</span>highlightCont <span class=\"k\">&amp;&amp;</span> highlightCont<span class=\"k\">.</span>contains<span class=\"k\">(</span>ci<span class=\"k\">))</span><span class=\"k\">{</span>","                     <span class=\"k\">continue</span><span class=\"k\">;</span>","                <span class=\"k\">}</span>","                domUtils<span class=\"k\">.</span>removeAttributes<span class=\"k\">(</span>ci<span class=\"k\">,[</span><span class=\"s\">'class'</span><span class=\"k\">]);</span>","            <span class=\"k\">}</span>","","            <span class=\"c\">//&#34920;&#24773;&#19981;&#22788;&#29702;</span>","            <span class=\"k\">if</span><span class=\"k\">(</span>opt<span class=\"k\">.</span>imageBlockLine <span class=\"k\">&amp;&amp;</span> ci<span class=\"k\">.</span>tagName<span class=\"k\">.</span>toLowerCase<span class=\"k\">()</span> <span class=\"k\">==</span> <span class=\"s\">'img'</span> <span class=\"k\">&amp;&amp;</span> <span class=\"k\">!</span>ci<span class=\"k\">.</span>getAttribute<span class=\"k\">(</span><span class=\"s\">'emotion'</span><span class=\"k\">))</span><span class=\"k\">{</span>","                <span class=\"k\">if</span><span class=\"k\">(</span>html<span class=\"k\">)</span><span class=\"k\">{</span>","                    <span class=\"k\">var</span> img <span class=\"k\">=</span> ci<span class=\"k\">;</span>","                    <span class=\"k\">switch</span> <span class=\"k\">(</span>opt<span class=\"k\">.</span>imageBlockLine<span class=\"k\">)</span><span class=\"k\">{</span>","                        <span class=\"k\">case</span> <span class=\"s\">'left'</span><span class=\"k\">:</span>","                        <span class=\"k\">case</span> <span class=\"s\">'right'</span><span class=\"k\">:</span>","                        <span class=\"k\">case</span> <span class=\"s\">'none'</span><span class=\"k\">:</span>","                            <span class=\"k\">var</span> pN <span class=\"k\">=</span> img<span class=\"k\">.</span>parentNode<span class=\"k\">,</span>tmpNode<span class=\"k\">,</span>pre<span class=\"k\">,</span>next<span class=\"k\">;</span>","                            <span class=\"k\">while</span><span class=\"k\">(</span>dtd<span class=\"k\">.</span>$inline<span class=\"k\">[</span>pN<span class=\"k\">.</span>tagName<span class=\"k\">]</span> <span class=\"k\">||</span> pN<span class=\"k\">.</span>tagName <span class=\"k\">==</span> <span class=\"s\">'A'</span><span class=\"k\">)</span><span class=\"k\">{</span>","                                pN <span class=\"k\">=</span> pN<span class=\"k\">.</span>parentNode<span class=\"k\">;</span>","                            <span class=\"k\">}</span>","                            tmpNode <span class=\"k\">=</span> pN<span class=\"k\">;</span>","                            <span class=\"k\">if</span><span class=\"k\">(</span>tmpNode<span class=\"k\">.</span>tagName <span class=\"k\">==</span> <span class=\"s\">'P'</span> <span class=\"k\">&amp;&amp;</span> domUtils<span class=\"k\">.</span>getStyle<span class=\"k\">(</span>tmpNode<span class=\"k\">,</span><span class=\"s\">'text-align'</span><span class=\"k\">)</span> <span class=\"k\">==</span> <span class=\"s\">'center'</span><span class=\"k\">)</span><span class=\"k\">{</span>","                                <span class=\"k\">if</span><span class=\"k\">(!</span>domUtils<span class=\"k\">.</span>isBody<span class=\"k\">(</span>tmpNode<span class=\"k\">)</span> <span class=\"k\">&amp;&amp;</span> domUtils<span class=\"k\">.</span>getChildCount<span class=\"k\">(</span>tmpNode<span class=\"k\">,</span><span class=\"k\">function</span><span class=\"k\">(</span>node<span class=\"k\">)</span><span class=\"k\">{</span><span class=\"k\">return</span> <span class=\"k\">!</span>domUtils<span class=\"k\">.</span>isBr<span class=\"k\">(</span>node<span class=\"k\">)</span> <span class=\"k\">&amp;&amp;</span> <span class=\"k\">!</span>domUtils<span class=\"k\">.</span>isWhitespace<span class=\"k\">(</span>node<span class=\"k\">)</span><span class=\"k\">}</span><span class=\"k\">)</span> <span class=\"k\">==</span> <span class=\"s\">1</span><span class=\"k\">)</span><span class=\"k\">{</span>","                                    pre <span class=\"k\">=</span> tmpNode<span class=\"k\">.</span>previousSibling<span class=\"k\">;</span>","                                    next <span class=\"k\">=</span> tmpNode<span class=\"k\">.</span>nextSibling<span class=\"k\">;</span>","                                    <span class=\"k\">if</span><span class=\"k\">(</span>pre <span class=\"k\">&amp;&amp;</span> next <span class=\"k\">&amp;&amp;</span> pre<span class=\"k\">.</span>nodeType <span class=\"k\">==</span> <span class=\"s\">1</span> <span class=\"k\">&amp;&amp;</span>  next<span class=\"k\">.</span>nodeType <span class=\"k\">==</span> <span class=\"s\">1</span> <span class=\"k\">&amp;&amp;</span> pre<span class=\"k\">.</span>tagName <span class=\"k\">==</span> next<span class=\"k\">.</span>tagName <span class=\"k\">&amp;&amp;</span> domUtils<span class=\"k\">.</span>isBlockElm<span class=\"k\">(</span>pre<span class=\"k\">))</span><span class=\"k\">{</span>","                                        pre<span class=\"k\">.</span>appendChild<span class=\"k\">(</span>tmpNode<span class=\"k\">.</span>firstChild<span class=\"k\">);</span>","                                        <span class=\"k\">while</span><span class=\"k\">(</span>next<span class=\"k\">.</span>firstChild<span class=\"k\">)</span><span class=\"k\">{</span>","                                            pre<span class=\"k\">.</span>appendChild<span class=\"k\">(</span>next<span class=\"k\">.</span>firstChild<span class=\"k\">);</span>","                                        <span class=\"k\">}</span>","                                        domUtils<span class=\"k\">.</span>remove<span class=\"k\">(</span>tmpNode<span class=\"k\">);</span>","                                        domUtils<span class=\"k\">.</span>remove<span class=\"k\">(</span>next<span class=\"k\">);</span>","                                    <span class=\"k\">}</span><span class=\"k\">else</span><span class=\"k\">{</span>","                                        domUtils<span class=\"k\">.</span>setStyle<span class=\"k\">(</span>tmpNode<span class=\"k\">,</span><span class=\"s\">'text-align'</span><span class=\"k\">,</span><span class=\"s\">''</span><span class=\"k\">);</span>","                                    <span class=\"k\">}</span>","","","                                <span class=\"k\">}</span>","","","                            <span class=\"k\">}</span>","                            domUtils<span class=\"k\">.</span>setStyle<span class=\"k\">(</span>img<span class=\"k\">,</span><span class=\"s\">'float'</span><span class=\"k\">,</span>opt<span class=\"k\">.</span>imageBlockLine<span class=\"k\">);</span>","                            <span class=\"k\">break</span><span class=\"k\">;</span>","                        <span class=\"k\">case</span> <span class=\"s\">'center'</span><span class=\"k\">:</span>","                            <span class=\"k\">if</span><span class=\"k\">(</span>me<span class=\"k\">.</span>queryCommandValue<span class=\"k\">(</span><span class=\"s\">'imagefloat'</span><span class=\"k\">)</span> <span class=\"k\">!=</span> <span class=\"s\">'center'</span><span class=\"k\">)</span><span class=\"k\">{</span>","                                pN <span class=\"k\">=</span> img<span class=\"k\">.</span>parentNode<span class=\"k\">;</span>","                                domUtils<span class=\"k\">.</span>setStyle<span class=\"k\">(</span>img<span class=\"k\">,</span><span class=\"s\">'float'</span><span class=\"k\">,</span><span class=\"s\">'none'</span><span class=\"k\">);</span>","                                tmpNode <span class=\"k\">=</span> img<span class=\"k\">;</span>","                                <span class=\"k\">while</span><span class=\"k\">(</span>pN <span class=\"k\">&amp;&amp;</span> domUtils<span class=\"k\">.</span>getChildCount<span class=\"k\">(</span>pN<span class=\"k\">,</span><span class=\"k\">function</span><span class=\"k\">(</span>node<span class=\"k\">)</span><span class=\"k\">{</span><span class=\"k\">return</span> <span class=\"k\">!</span>domUtils<span class=\"k\">.</span>isBr<span class=\"k\">(</span>node<span class=\"k\">)</span> <span class=\"k\">&amp;&amp;</span> <span class=\"k\">!</span>domUtils<span class=\"k\">.</span>isWhitespace<span class=\"k\">(</span>node<span class=\"k\">)</span><span class=\"k\">}</span><span class=\"k\">)</span> <span class=\"k\">==</span> <span class=\"s\">1</span>","                                    <span class=\"k\">&amp;&amp;</span> <span class=\"k\">(</span>dtd<span class=\"k\">.</span>$inline<span class=\"k\">[</span>pN<span class=\"k\">.</span>tagName<span class=\"k\">]</span> <span class=\"k\">||</span> pN<span class=\"k\">.</span>tagName <span class=\"k\">==</span> <span class=\"s\">'A'</span><span class=\"k\">))</span><span class=\"k\">{</span>","                                    tmpNode <span class=\"k\">=</span> pN<span class=\"k\">;</span>","                                    pN <span class=\"k\">=</span> pN<span class=\"k\">.</span>parentNode<span class=\"k\">;</span>","                                <span class=\"k\">}</span>","                                <span class=\"k\">var</span> pNode <span class=\"k\">=</span> me<span class=\"k\">.</span>document<span class=\"k\">.</span>createElement<span class=\"k\">(</span><span class=\"s\">'p'</span><span class=\"k\">);</span>","                                domUtils<span class=\"k\">.</span>setAttributes<span class=\"k\">(</span>pNode<span class=\"k\">,</span><span class=\"k\">{</span>","","                                    style<span class=\"k\">:</span><span class=\"s\">'text-align:center'</span>","                                <span class=\"k\">}</span><span class=\"k\">);</span>","                                tmpNode<span class=\"k\">.</span>parentNode<span class=\"k\">.</span>insertBefore<span class=\"k\">(</span>pNode<span class=\"k\">,</span>tmpNode<span class=\"k\">);</span>","                                pNode<span class=\"k\">.</span>appendChild<span class=\"k\">(</span>tmpNode<span class=\"k\">);</span>","                                domUtils<span class=\"k\">.</span>setStyle<span class=\"k\">(</span>tmpNode<span class=\"k\">,</span><span class=\"s\">'float'</span><span class=\"k\">,</span><span class=\"s\">''</span><span class=\"k\">);</span>","","                            <span class=\"k\">}</span>","","","                    <span class=\"k\">}</span>","                <span class=\"k\">}</span><span class=\"k\">else</span><span class=\"k\">{</span>","                    <span class=\"k\">var</span> range <span class=\"k\">=</span> me<span class=\"k\">.</span>selection<span class=\"k\">.</span>getRange<span class=\"k\">();</span>","                    range<span class=\"k\">.</span>selectNode<span class=\"k\">(</span>ci<span class=\"k\">).</span>select<span class=\"k\">();</span>","                    me<span class=\"k\">.</span>execCommand<span class=\"k\">(</span><span class=\"s\">'imagefloat'</span><span class=\"k\">,</span>opt<span class=\"k\">.</span>imageBlockLine<span class=\"k\">);</span>","                <span class=\"k\">}</span>","","","","            <span class=\"k\">}</span>","","            <span class=\"c\">//&#21435;&#25481;&#20887;&#20313;&#30340;&#26631;&#31614;</span>","            <span class=\"k\">if</span><span class=\"k\">(</span>opt<span class=\"k\">.</span>removeEmptyNode<span class=\"k\">)</span><span class=\"k\">{</span>","                <span class=\"k\">if</span><span class=\"k\">(</span>opt<span class=\"k\">.</span>removeTagNames<span class=\"k\">[</span>ci<span class=\"k\">.</span>tagName<span class=\"k\">.</span>toLowerCase<span class=\"k\">()]</span> <span class=\"k\">&amp;&amp;</span> domUtils<span class=\"k\">.</span>hasNoAttributes<span class=\"k\">(</span>ci<span class=\"k\">)</span> <span class=\"k\">&amp;&amp;</span> domUtils<span class=\"k\">.</span>isEmptyBlock<span class=\"k\">(</span>ci<span class=\"k\">))</span><span class=\"k\">{</span>","                    domUtils<span class=\"k\">.</span>remove<span class=\"k\">(</span>ci<span class=\"k\">);</span>","                <span class=\"k\">}</span>","            <span class=\"k\">}</span>","        <span class=\"k\">}</span>","        <span class=\"k\">if</span><span class=\"k\">(</span>html<span class=\"k\">)</span><span class=\"k\">{</span>","            html<span class=\"k\">.</span>html <span class=\"k\">=</span> cont<span class=\"k\">.</span>innerHTML<span class=\"k\">;</span>","        <span class=\"k\">}</span>","    <span class=\"k\">}</span>","    <span class=\"k\">if</span><span class=\"k\">(</span>opt<span class=\"k\">.</span>pasteFilter<span class=\"k\">)</span><span class=\"k\">{</span>","        me<span class=\"k\">.</span>addListener<span class=\"k\">(</span><span class=\"s\">'beforepaste'</span><span class=\"k\">,</span>autotype<span class=\"k\">);</span>","    <span class=\"k\">}</span>","","    me<span class=\"k\">.</span>commands<span class=\"k\">[</span><span class=\"s\">'autotypeset'</span><span class=\"k\">]</span> <span class=\"k\">=</span> <span class=\"k\">{</span>","        execCommand<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","            me<span class=\"k\">.</span>removeListener<span class=\"k\">(</span><span class=\"s\">'beforepaste'</span><span class=\"k\">,</span>autotype<span class=\"k\">);</span>","            <span class=\"k\">if</span><span class=\"k\">(</span>opt<span class=\"k\">.</span>pasteFilter<span class=\"k\">)</span><span class=\"k\">{</span>","                me<span class=\"k\">.</span>addListener<span class=\"k\">(</span><span class=\"s\">'beforepaste'</span><span class=\"k\">,</span>autotype<span class=\"k\">);</span>","            <span class=\"k\">}</span>","            autotype<span class=\"k\">();</span>","        <span class=\"k\">}</span>","","    <span class=\"k\">}</span><span class=\"k\">;</span>","","<span class=\"k\">}</span><span class=\"k\">;</span>",""]);
_$jscoverage['plugins/background.js'] && (_$jscoverage['plugins/background.js'].source = ["<span class=\"k\">(</span><span class=\"k\">function</span><span class=\"k\">()</span> <span class=\"k\">{</span>","    UE<span class=\"k\">.</span>plugins<span class=\"k\">[</span><span class=\"s\">'background'</span><span class=\"k\">]</span> <span class=\"k\">=</span> <span class=\"k\">function</span><span class=\"k\">()</span><span class=\"k\">{</span>","        <span class=\"k\">var</span> me <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">;</span>","        UE<span class=\"k\">.</span>commands<span class=\"k\">[</span><span class=\"s\">'background'</span><span class=\"k\">]</span> <span class=\"k\">=</span> <span class=\"k\">{</span>","            queryCommandState <span class=\"k\">:</span> <span class=\"k\">function</span><span class=\"k\">()</span><span class=\"k\">{</span>","                <span class=\"k\">return</span> <span class=\"k\">this</span><span class=\"k\">.</span>highlight <span class=\"k\">?</span> <span class=\"k\">-</span><span class=\"s\">1</span> <span class=\"k\">:</span> <span class=\"s\">0</span><span class=\"k\">;</span>","            <span class=\"k\">}</span>","        <span class=\"k\">}</span><span class=\"k\">;</span>","        me<span class=\"k\">.</span>addListener<span class=\"k\">(</span><span class=\"s\">\"getAllHtml\"</span><span class=\"k\">,</span><span class=\"k\">function</span><span class=\"k\">(</span>type<span class=\"k\">,</span>headHtml<span class=\"k\">)</span><span class=\"k\">{</span>","            <span class=\"k\">var</span> body <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>body<span class=\"k\">,</span>","                su <span class=\"k\">=</span> domUtils<span class=\"k\">.</span>getComputedStyle<span class=\"k\">(</span>body<span class=\"k\">,</span><span class=\"s\">\"background-image\"</span><span class=\"k\">),</span>","                url<span class=\"k\">=</span><span class=\"s\">\"\"</span><span class=\"k\">;</span>","            <span class=\"k\">if</span><span class=\"k\">(</span>su<span class=\"k\">.</span>indexOf<span class=\"k\">(</span>me<span class=\"k\">.</span>options<span class=\"k\">.</span>imagePath<span class=\"k\">)&gt;</span><span class=\"s\">0</span><span class=\"k\">)</span><span class=\"k\">{</span>","                url <span class=\"k\">=</span>  su<span class=\"k\">.</span>substring<span class=\"k\">(</span>su<span class=\"k\">.</span>indexOf<span class=\"k\">(</span>me<span class=\"k\">.</span>options<span class=\"k\">.</span>imagePath<span class=\"k\">),</span>su<span class=\"k\">.</span>length<span class=\"k\">-</span><span class=\"s\">1</span><span class=\"k\">).</span>replace<span class=\"k\">(</span><span class=\"s\">/\"|\\(|\\)/ig</span><span class=\"k\">,</span><span class=\"s\">\"\"</span><span class=\"k\">);</span>","            <span class=\"k\">}</span><span class=\"k\">else</span><span class=\"k\">{</span>","                url <span class=\"k\">=</span>  su<span class=\"k\">!=</span><span class=\"s\">\"none\"</span> <span class=\"k\">?</span> su<span class=\"k\">.</span>replace<span class=\"k\">(</span><span class=\"s\">/url\\(\"?|\"?\\)/ig</span><span class=\"k\">,</span><span class=\"s\">\"\"</span><span class=\"k\">):</span><span class=\"s\">\"\"</span><span class=\"k\">;</span>","            <span class=\"k\">}</span>","            headHtml<span class=\"k\">.</span>html <span class=\"k\">+=</span> <span class=\"s\">'&lt;style type=\"text/css\"&gt;body{'</span><span class=\"k\">;</span>","            <span class=\"k\">var</span> bgObj <span class=\"k\">=</span> <span class=\"k\">{</span>","                <span class=\"s\">\"background-color\"</span> <span class=\"k\">:</span> domUtils<span class=\"k\">.</span>getComputedStyle<span class=\"k\">(</span>body<span class=\"k\">,</span><span class=\"s\">\"background-color\"</span><span class=\"k\">)||</span><span class=\"s\">\"#ffffff\"</span><span class=\"k\">,</span>","                <span class=\"s\">'background-image'</span> <span class=\"k\">:</span> url <span class=\"k\">?</span> <span class=\"s\">'url('</span><span class=\"k\">+</span>url<span class=\"k\">+</span><span class=\"s\">')'</span> <span class=\"k\">:</span> <span class=\"s\">''</span><span class=\"k\">,</span>","                <span class=\"s\">'background-repeat'</span><span class=\"k\">:</span>domUtils<span class=\"k\">.</span>getComputedStyle<span class=\"k\">(</span>body<span class=\"k\">,</span><span class=\"s\">\"background-repeat\"</span><span class=\"k\">)||</span><span class=\"s\">\"\"</span><span class=\"k\">,</span>","                <span class=\"s\">'background-position'</span><span class=\"k\">:</span> browser<span class=\"k\">.</span>ie<span class=\"k\">?(</span>domUtils<span class=\"k\">.</span>getComputedStyle<span class=\"k\">(</span>body<span class=\"k\">,</span><span class=\"s\">\"background-position-x\"</span><span class=\"k\">)+</span><span class=\"s\">\" \"</span><span class=\"k\">+</span>domUtils<span class=\"k\">.</span>getComputedStyle<span class=\"k\">(</span>body<span class=\"k\">,</span><span class=\"s\">\"background-position-y\"</span><span class=\"k\">)):</span>domUtils<span class=\"k\">.</span>getComputedStyle<span class=\"k\">(</span>body<span class=\"k\">,</span><span class=\"s\">\"background-position\"</span><span class=\"k\">),</span>","                <span class=\"s\">'height'</span><span class=\"k\">:</span>domUtils<span class=\"k\">.</span>getComputedStyle<span class=\"k\">(</span>body<span class=\"k\">,</span><span class=\"s\">\"height\"</span><span class=\"k\">)</span>","            <span class=\"k\">}</span><span class=\"k\">;</span>","            <span class=\"k\">for</span> <span class=\"k\">(</span> <span class=\"k\">var</span> name <span class=\"k\">in</span> bgObj <span class=\"k\">)</span> <span class=\"k\">{</span>","                <span class=\"k\">if</span> <span class=\"k\">(</span> bgObj<span class=\"k\">.</span>hasOwnProperty<span class=\"k\">(</span> name <span class=\"k\">)</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                    headHtml<span class=\"k\">.</span>html <span class=\"k\">+=</span> name<span class=\"k\">+</span><span class=\"s\">\":\"</span><span class=\"k\">+</span>bgObj<span class=\"k\">[</span>name<span class=\"k\">]+</span><span class=\"s\">\";\"</span><span class=\"k\">;</span>","                <span class=\"k\">}</span>","            <span class=\"k\">}</span>","            headHtml<span class=\"k\">.</span>html <span class=\"k\">+=</span> <span class=\"s\">'}&lt;/style&gt; '</span><span class=\"k\">;</span>","        <span class=\"k\">}</span><span class=\"k\">);</span>","    <span class=\"k\">}</span>","<span class=\"k\">}</span><span class=\"k\">)();</span>"]);
_$jscoverage['plugins/basestyle.js'] && (_$jscoverage['plugins/basestyle.js'].source = ["<span class=\"c\">///import core</span>","<span class=\"c\">///commands &#21152;&#31895;,&#26012;&#20307;,&#19978;&#26631;,&#19979;&#26631;</span>","<span class=\"c\">///commandsName  Bold,Italic,Subscript,Superscript</span>","<span class=\"c\">///commandsTitle  &#21152;&#31895;,&#21152;&#26012;,&#19979;&#26631;,&#19978;&#26631;</span>","<span class=\"c\">/**</span>","<span class=\"c\"> * b u i&#31561;&#22522;&#30784;&#21151;&#33021;&#23454;&#29616;</span>","<span class=\"c\"> * @function</span>","<span class=\"c\"> * @name baidu.editor.execCommands</span>","<span class=\"c\"> * @param    {String}    cmdName    bold&#21152;&#31895;&#12290;italic&#26012;&#20307;&#12290;subscript&#19978;&#26631;&#12290;superscript&#19979;&#26631;&#12290;</span>","<span class=\"c\">*/</span>","UE<span class=\"k\">.</span>plugins<span class=\"k\">[</span><span class=\"s\">'basestyle'</span><span class=\"k\">]</span> <span class=\"k\">=</span> <span class=\"k\">function</span><span class=\"k\">()</span><span class=\"k\">{</span>","    <span class=\"k\">var</span> basestyles <span class=\"k\">=</span> <span class=\"k\">{</span>","            <span class=\"s\">'bold'</span><span class=\"k\">:[</span><span class=\"s\">'strong'</span><span class=\"k\">,</span><span class=\"s\">'b'</span><span class=\"k\">],</span>","            <span class=\"s\">'italic'</span><span class=\"k\">:[</span><span class=\"s\">'em'</span><span class=\"k\">,</span><span class=\"s\">'i'</span><span class=\"k\">],</span>","            <span class=\"s\">'subscript'</span><span class=\"k\">:[</span><span class=\"s\">'sub'</span><span class=\"k\">],</span>","            <span class=\"s\">'superscript'</span><span class=\"k\">:[</span><span class=\"s\">'sup'</span><span class=\"k\">]</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        getObj <span class=\"k\">=</span> <span class=\"k\">function</span><span class=\"k\">(</span>editor<span class=\"k\">,</span>tagNames<span class=\"k\">)</span><span class=\"k\">{</span>","           <span class=\"c\">//var start = editor.selection.getStart();</span>","            <span class=\"k\">var</span> path <span class=\"k\">=</span> editor<span class=\"k\">.</span>selection<span class=\"k\">.</span>getStartElementPath<span class=\"k\">();</span>","<span class=\"c\">//            return  domUtils.findParentByTagName( start, tagNames, true )</span>","            <span class=\"k\">return</span> utils<span class=\"k\">.</span>findNode<span class=\"k\">(</span>path<span class=\"k\">,</span>tagNames<span class=\"k\">);</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        me <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">;</span>","    <span class=\"k\">for</span> <span class=\"k\">(</span> <span class=\"k\">var</span> style <span class=\"k\">in</span> basestyles <span class=\"k\">)</span> <span class=\"k\">{</span>","        <span class=\"k\">(</span><span class=\"k\">function</span><span class=\"k\">(</span> cmd<span class=\"k\">,</span> tagNames <span class=\"k\">)</span> <span class=\"k\">{</span>","            me<span class=\"k\">.</span>commands<span class=\"k\">[</span>cmd<span class=\"k\">]</span> <span class=\"k\">=</span> <span class=\"k\">{</span>","                execCommand <span class=\"k\">:</span> <span class=\"k\">function</span><span class=\"k\">(</span> cmdName <span class=\"k\">)</span> <span class=\"k\">{</span>","","                    <span class=\"k\">var</span> range <span class=\"k\">=</span> <span class=\"k\">new</span> dom<span class=\"k\">.</span>Range<span class=\"k\">(</span>me<span class=\"k\">.</span>document<span class=\"k\">),</span>obj <span class=\"k\">=</span> <span class=\"s\">''</span><span class=\"k\">;</span>","                    <span class=\"c\">//table&#30340;&#22788;&#29702;</span>","                    <span class=\"k\">if</span><span class=\"k\">(</span>me<span class=\"k\">.</span>currentSelectedArr <span class=\"k\">&amp;&amp;</span> me<span class=\"k\">.</span>currentSelectedArr<span class=\"k\">.</span>length <span class=\"k\">&gt;</span> <span class=\"s\">0</span><span class=\"k\">)</span><span class=\"k\">{</span>","                        <span class=\"k\">for</span><span class=\"k\">(</span><span class=\"k\">var</span> i<span class=\"k\">=</span><span class=\"s\">0</span><span class=\"k\">,</span>ci<span class=\"k\">;</span>ci<span class=\"k\">=</span>me<span class=\"k\">.</span>currentSelectedArr<span class=\"k\">[</span>i<span class=\"k\">++];)</span><span class=\"k\">{</span>","                            <span class=\"k\">if</span><span class=\"k\">(</span>ci<span class=\"k\">.</span>style<span class=\"k\">.</span>display <span class=\"k\">!=</span> <span class=\"s\">'none'</span><span class=\"k\">)</span><span class=\"k\">{</span>","                                range<span class=\"k\">.</span>selectNodeContents<span class=\"k\">(</span>ci<span class=\"k\">).</span>select<span class=\"k\">();</span>","                                <span class=\"c\">//trace:943</span>","                                <span class=\"k\">!</span>obj <span class=\"k\">&amp;&amp;</span> <span class=\"k\">(</span>obj <span class=\"k\">=</span> getObj<span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">,</span>tagNames<span class=\"k\">));</span>","                                <span class=\"k\">if</span><span class=\"k\">(</span>cmdName <span class=\"k\">==</span> <span class=\"s\">'superscript'</span> <span class=\"k\">||</span> cmdName <span class=\"k\">==</span> <span class=\"s\">'subscript'</span><span class=\"k\">)</span><span class=\"k\">{</span>","                                    ","                                    <span class=\"k\">if</span><span class=\"k\">(!</span>obj <span class=\"k\">||</span> obj<span class=\"k\">.</span>tagName<span class=\"k\">.</span>toLowerCase<span class=\"k\">()</span> <span class=\"k\">!=</span> cmdName<span class=\"k\">)</span><span class=\"k\">{</span>","                                        range<span class=\"k\">.</span>removeInlineStyle<span class=\"k\">([</span><span class=\"s\">'sub'</span><span class=\"k\">,</span><span class=\"s\">'sup'</span><span class=\"k\">]);</span>","                                    <span class=\"k\">}</span>","","                                <span class=\"k\">}</span>","                                obj <span class=\"k\">?</span> range<span class=\"k\">.</span>removeInlineStyle<span class=\"k\">(</span> tagNames <span class=\"k\">)</span> <span class=\"k\">:</span> range<span class=\"k\">.</span>applyInlineStyle<span class=\"k\">(</span> tagNames<span class=\"k\">[</span><span class=\"s\">0</span><span class=\"k\">]</span> <span class=\"k\">);</span>","                            <span class=\"k\">}</span>","","                        <span class=\"k\">}</span>","                        range<span class=\"k\">.</span>selectNodeContents<span class=\"k\">(</span>me<span class=\"k\">.</span>currentSelectedArr<span class=\"k\">[</span><span class=\"s\">0</span><span class=\"k\">]).</span>select<span class=\"k\">();</span>","                    <span class=\"k\">}</span><span class=\"k\">else</span><span class=\"k\">{</span>","                        range <span class=\"k\">=</span> me<span class=\"k\">.</span>selection<span class=\"k\">.</span>getRange<span class=\"k\">();</span>","                        obj <span class=\"k\">=</span> getObj<span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">,</span>tagNames<span class=\"k\">);</span>","","                        <span class=\"k\">if</span> <span class=\"k\">(</span> range<span class=\"k\">.</span>collapsed <span class=\"k\">)</span> <span class=\"k\">{</span>","                            <span class=\"k\">if</span> <span class=\"k\">(</span> obj <span class=\"k\">)</span> <span class=\"k\">{</span>","                                <span class=\"k\">var</span> tmpText <span class=\"k\">=</span>  me<span class=\"k\">.</span>document<span class=\"k\">.</span>createTextNode<span class=\"k\">(</span><span class=\"s\">''</span><span class=\"k\">);</span>","                                range<span class=\"k\">.</span>insertNode<span class=\"k\">(</span> tmpText <span class=\"k\">).</span>removeInlineStyle<span class=\"k\">(</span> tagNames <span class=\"k\">);</span>","","                                range<span class=\"k\">.</span>setStartBefore<span class=\"k\">(</span>tmpText<span class=\"k\">);</span>","                                domUtils<span class=\"k\">.</span>remove<span class=\"k\">(</span>tmpText<span class=\"k\">);</span>","                            <span class=\"k\">}</span> <span class=\"k\">else</span> <span class=\"k\">{</span>","                                ","                                <span class=\"k\">var</span> tmpNode <span class=\"k\">=</span> range<span class=\"k\">.</span>document<span class=\"k\">.</span>createElement<span class=\"k\">(</span> tagNames<span class=\"k\">[</span><span class=\"s\">0</span><span class=\"k\">]</span> <span class=\"k\">);</span>","                                <span class=\"k\">if</span><span class=\"k\">(</span>cmdName <span class=\"k\">==</span> <span class=\"s\">'superscript'</span> <span class=\"k\">||</span> cmdName <span class=\"k\">==</span> <span class=\"s\">'subscript'</span><span class=\"k\">)</span><span class=\"k\">{</span>","                                    tmpText <span class=\"k\">=</span> me<span class=\"k\">.</span>document<span class=\"k\">.</span>createTextNode<span class=\"k\">(</span><span class=\"s\">''</span><span class=\"k\">);</span>","                                    range<span class=\"k\">.</span>insertNode<span class=\"k\">(</span>tmpText<span class=\"k\">)</span>","                                        <span class=\"k\">.</span>removeInlineStyle<span class=\"k\">([</span><span class=\"s\">'sub'</span><span class=\"k\">,</span><span class=\"s\">'sup'</span><span class=\"k\">])</span>","                                        <span class=\"k\">.</span>setStartBefore<span class=\"k\">(</span>tmpText<span class=\"k\">)</span>","                                        <span class=\"k\">.</span>collapse<span class=\"k\">(</span><span class=\"k\">true</span><span class=\"k\">);</span>","","                                <span class=\"k\">}</span>","                                range<span class=\"k\">.</span>insertNode<span class=\"k\">(</span> tmpNode <span class=\"k\">).</span>setStart<span class=\"k\">(</span> tmpNode<span class=\"k\">,</span> <span class=\"s\">0</span> <span class=\"k\">);</span>","                                ","","","                            <span class=\"k\">}</span>","                            range<span class=\"k\">.</span>collapse<span class=\"k\">(</span> <span class=\"k\">true</span> <span class=\"k\">);</span>","","                        <span class=\"k\">}</span> <span class=\"k\">else</span> <span class=\"k\">{</span>","                            <span class=\"k\">if</span><span class=\"k\">(</span>cmdName <span class=\"k\">==</span> <span class=\"s\">'superscript'</span> <span class=\"k\">||</span> cmdName <span class=\"k\">==</span> <span class=\"s\">'subscript'</span><span class=\"k\">)</span><span class=\"k\">{</span>","                                <span class=\"k\">if</span><span class=\"k\">(!</span>obj <span class=\"k\">||</span> obj<span class=\"k\">.</span>tagName<span class=\"k\">.</span>toLowerCase<span class=\"k\">()</span> <span class=\"k\">!=</span> cmdName<span class=\"k\">)</span><span class=\"k\">{</span>","                                    range<span class=\"k\">.</span>removeInlineStyle<span class=\"k\">([</span><span class=\"s\">'sub'</span><span class=\"k\">,</span><span class=\"s\">'sup'</span><span class=\"k\">]);</span>","                                <span class=\"k\">}</span>","","                            <span class=\"k\">}</span>","                            obj <span class=\"k\">?</span> range<span class=\"k\">.</span>removeInlineStyle<span class=\"k\">(</span> tagNames <span class=\"k\">)</span> <span class=\"k\">:</span> range<span class=\"k\">.</span>applyInlineStyle<span class=\"k\">(</span> tagNames<span class=\"k\">[</span><span class=\"s\">0</span><span class=\"k\">]</span> <span class=\"k\">);</span>","                        <span class=\"k\">}</span>","","                        range<span class=\"k\">.</span>select<span class=\"k\">();</span>","                        ","                    <span class=\"k\">}</span>","","                    <span class=\"k\">return</span> <span class=\"k\">true</span><span class=\"k\">;</span>","                <span class=\"k\">}</span><span class=\"k\">,</span>","                queryCommandState <span class=\"k\">:</span> <span class=\"k\">function</span><span class=\"k\">()</span> <span class=\"k\">{</span>","                   <span class=\"k\">if</span><span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>highlight<span class=\"k\">)</span><span class=\"k\">{</span>","                       <span class=\"k\">return</span> <span class=\"k\">-</span><span class=\"s\">1</span><span class=\"k\">;</span>","                   <span class=\"k\">}</span>","                   <span class=\"k\">return</span> getObj<span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">,</span>tagNames<span class=\"k\">)</span> <span class=\"k\">?</span> <span class=\"s\">1</span> <span class=\"k\">:</span> <span class=\"s\">0</span><span class=\"k\">;</span>","                <span class=\"k\">}</span>","            <span class=\"k\">}</span><span class=\"k\">;</span>","        <span class=\"k\">}</span><span class=\"k\">)(</span> style<span class=\"k\">,</span> basestyles<span class=\"k\">[</span>style<span class=\"k\">]</span> <span class=\"k\">);</span>","","    <span class=\"k\">}</span>","<span class=\"k\">}</span><span class=\"k\">;</span>",""]);
_$jscoverage['plugins/blockquote.js'] && (_$jscoverage['plugins/blockquote.js'].source = ["<span class=\"c\">///import core</span>","<span class=\"c\">///commands &#24341;&#29992;</span>","<span class=\"c\">///commandsName  BlockQuote</span>","<span class=\"c\">///commandsTitle  &#24341;&#29992;</span>","<span class=\"c\">/**</span>","<span class=\"c\"> * </span>","<span class=\"c\"> * &#24341;&#29992;&#27169;&#22359;&#23454;&#29616;</span>","<span class=\"c\"> * @function</span>","<span class=\"c\"> * @name baidu.editor.execCommand</span>","<span class=\"c\"> * @param   {String}   cmdName     blockquote&#24341;&#29992;</span>","<span class=\"c\"> */</span>","<span class=\"k\">(</span><span class=\"k\">function</span><span class=\"k\">()</span> <span class=\"k\">{</span>","    <span class=\"k\">var</span> getObj <span class=\"k\">=</span> <span class=\"k\">function</span><span class=\"k\">(</span>editor<span class=\"k\">)</span><span class=\"k\">{</span>","<span class=\"c\">//        var startNode = editor.selection.getStart();</span>","<span class=\"c\">//        return domUtils.findParentByTagName( startNode, 'blockquote', true )</span>","        <span class=\"k\">return</span> utils<span class=\"k\">.</span>findNode<span class=\"k\">(</span>editor<span class=\"k\">.</span>selection<span class=\"k\">.</span>getStartElementPath<span class=\"k\">(),[</span><span class=\"s\">'blockquote'</span><span class=\"k\">]);</span>","    <span class=\"k\">}</span><span class=\"k\">;</span>","    UE<span class=\"k\">.</span>commands<span class=\"k\">[</span><span class=\"s\">'blockquote'</span><span class=\"k\">]</span> <span class=\"k\">=</span> <span class=\"k\">{</span>","        execCommand <span class=\"k\">:</span> <span class=\"k\">function</span><span class=\"k\">(</span> cmdName<span class=\"k\">,</span> attrs <span class=\"k\">)</span> <span class=\"k\">{</span>","            <span class=\"k\">var</span> range <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>selection<span class=\"k\">.</span>getRange<span class=\"k\">(),</span>","                obj <span class=\"k\">=</span> getObj<span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">),</span>","                blockquote <span class=\"k\">=</span> dtd<span class=\"k\">.</span>blockquote<span class=\"k\">,</span>","                bookmark <span class=\"k\">=</span> range<span class=\"k\">.</span>createBookmark<span class=\"k\">(),</span>","                tds <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>currentSelectedArr<span class=\"k\">;</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span> obj <span class=\"k\">)</span> <span class=\"k\">{</span>","                <span class=\"k\">if</span><span class=\"k\">(</span>tds <span class=\"k\">&amp;&amp;</span> tds<span class=\"k\">.</span>length<span class=\"k\">)</span><span class=\"k\">{</span>","                    domUtils<span class=\"k\">.</span>remove<span class=\"k\">(</span>obj<span class=\"k\">,</span><span class=\"k\">true</span><span class=\"k\">);</span>","                <span class=\"k\">}</span><span class=\"k\">else</span><span class=\"k\">{</span>","                    <span class=\"k\">var</span> start <span class=\"k\">=</span> range<span class=\"k\">.</span>startContainer<span class=\"k\">,</span>","                        startBlock <span class=\"k\">=</span> domUtils<span class=\"k\">.</span>isBlockElm<span class=\"k\">(</span>start<span class=\"k\">)</span> <span class=\"k\">?</span> start <span class=\"k\">:</span> domUtils<span class=\"k\">.</span>findParent<span class=\"k\">(</span>start<span class=\"k\">,</span><span class=\"k\">function</span><span class=\"k\">(</span>node<span class=\"k\">)</span><span class=\"k\">{</span><span class=\"k\">return</span> domUtils<span class=\"k\">.</span>isBlockElm<span class=\"k\">(</span>node<span class=\"k\">)</span><span class=\"k\">}</span><span class=\"k\">),</span>","","                        end <span class=\"k\">=</span> range<span class=\"k\">.</span>endContainer<span class=\"k\">,</span>","                        endBlock <span class=\"k\">=</span> domUtils<span class=\"k\">.</span>isBlockElm<span class=\"k\">(</span>end<span class=\"k\">)</span> <span class=\"k\">?</span> end <span class=\"k\">:</span>  domUtils<span class=\"k\">.</span>findParent<span class=\"k\">(</span>end<span class=\"k\">,</span><span class=\"k\">function</span><span class=\"k\">(</span>node<span class=\"k\">)</span><span class=\"k\">{</span><span class=\"k\">return</span> domUtils<span class=\"k\">.</span>isBlockElm<span class=\"k\">(</span>node<span class=\"k\">)</span><span class=\"k\">}</span><span class=\"k\">);</span>","","                    <span class=\"c\">//&#22788;&#29702;&#19968;&#19979;li</span>","                    startBlock <span class=\"k\">=</span> domUtils<span class=\"k\">.</span>findParentByTagName<span class=\"k\">(</span>startBlock<span class=\"k\">,</span><span class=\"s\">'li'</span><span class=\"k\">,</span><span class=\"k\">true</span><span class=\"k\">)</span> <span class=\"k\">||</span> startBlock<span class=\"k\">;</span>","                    endBlock <span class=\"k\">=</span> domUtils<span class=\"k\">.</span>findParentByTagName<span class=\"k\">(</span>endBlock<span class=\"k\">,</span><span class=\"s\">'li'</span><span class=\"k\">,</span><span class=\"k\">true</span><span class=\"k\">)</span> <span class=\"k\">||</span> endBlock<span class=\"k\">;</span>","","","                    <span class=\"k\">if</span><span class=\"k\">(</span>startBlock<span class=\"k\">.</span>tagName <span class=\"k\">==</span> <span class=\"s\">'LI'</span> <span class=\"k\">||</span> startBlock<span class=\"k\">.</span>tagName <span class=\"k\">==</span> <span class=\"s\">'TD'</span> <span class=\"k\">||</span> startBlock <span class=\"k\">===</span> obj<span class=\"k\">)</span><span class=\"k\">{</span>","                        domUtils<span class=\"k\">.</span>remove<span class=\"k\">(</span>obj<span class=\"k\">,</span><span class=\"k\">true</span><span class=\"k\">);</span>","                    <span class=\"k\">}</span><span class=\"k\">else</span><span class=\"k\">{</span>","                        domUtils<span class=\"k\">.</span>breakParent<span class=\"k\">(</span>startBlock<span class=\"k\">,</span>obj<span class=\"k\">);</span>","                    <span class=\"k\">}</span>","","                    <span class=\"k\">if</span><span class=\"k\">(</span>startBlock <span class=\"k\">!==</span> endBlock<span class=\"k\">)</span><span class=\"k\">{</span>","                        obj <span class=\"k\">=</span> domUtils<span class=\"k\">.</span>findParentByTagName<span class=\"k\">(</span>endBlock<span class=\"k\">,</span><span class=\"s\">'blockquote'</span><span class=\"k\">);</span>","                        <span class=\"k\">if</span><span class=\"k\">(</span>obj<span class=\"k\">)</span><span class=\"k\">{</span>","                            <span class=\"k\">if</span><span class=\"k\">(</span>endBlock<span class=\"k\">.</span>tagName <span class=\"k\">==</span> <span class=\"s\">'LI'</span> <span class=\"k\">||</span> endBlock<span class=\"k\">.</span>tagName <span class=\"k\">==</span> <span class=\"s\">'TD'</span><span class=\"k\">)</span><span class=\"k\">{</span>","                                domUtils<span class=\"k\">.</span>remove<span class=\"k\">(</span>obj<span class=\"k\">,</span><span class=\"k\">true</span><span class=\"k\">);</span>","                            <span class=\"k\">}</span><span class=\"k\">else</span><span class=\"k\">{</span>","                                 domUtils<span class=\"k\">.</span>breakParent<span class=\"k\">(</span>endBlock<span class=\"k\">,</span>obj<span class=\"k\">);</span>","                            <span class=\"k\">}</span>","    ","                        <span class=\"k\">}</span>","                    <span class=\"k\">}</span>","","                    <span class=\"k\">var</span> blockquotes <span class=\"k\">=</span> domUtils<span class=\"k\">.</span>getElementsByTagName<span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>document<span class=\"k\">,</span><span class=\"s\">'blockquote'</span><span class=\"k\">);</span>","                    <span class=\"k\">for</span><span class=\"k\">(</span><span class=\"k\">var</span> i<span class=\"k\">=</span><span class=\"s\">0</span><span class=\"k\">,</span>bi<span class=\"k\">;</span>bi<span class=\"k\">=</span>blockquotes<span class=\"k\">[</span>i<span class=\"k\">++];)</span><span class=\"k\">{</span>","                        <span class=\"k\">if</span><span class=\"k\">(!</span>bi<span class=\"k\">.</span>childNodes<span class=\"k\">.</span>length<span class=\"k\">)</span><span class=\"k\">{</span>","                            domUtils<span class=\"k\">.</span>remove<span class=\"k\">(</span>bi<span class=\"k\">);</span>","                        <span class=\"k\">}</span><span class=\"k\">else</span> <span class=\"k\">if</span><span class=\"k\">(</span>domUtils<span class=\"k\">.</span>getPosition<span class=\"k\">(</span>bi<span class=\"k\">,</span>startBlock<span class=\"k\">)&amp;</span>domUtils<span class=\"k\">.</span>POSITION_FOLLOWING <span class=\"k\">&amp;&amp;</span> domUtils<span class=\"k\">.</span>getPosition<span class=\"k\">(</span>bi<span class=\"k\">,</span>endBlock<span class=\"k\">)&amp;</span>domUtils<span class=\"k\">.</span>POSITION_PRECEDING<span class=\"k\">)</span><span class=\"k\">{</span>","                            domUtils<span class=\"k\">.</span>remove<span class=\"k\">(</span>bi<span class=\"k\">,</span><span class=\"k\">true</span><span class=\"k\">);</span>","                        <span class=\"k\">}</span>","                    <span class=\"k\">}</span>","                <span class=\"k\">}</span>","","","","            <span class=\"k\">}</span> <span class=\"k\">else</span> <span class=\"k\">{</span>","","                <span class=\"k\">var</span> tmpRange <span class=\"k\">=</span> range<span class=\"k\">.</span>cloneRange<span class=\"k\">(),</span>","                    node <span class=\"k\">=</span> tmpRange<span class=\"k\">.</span>startContainer<span class=\"k\">.</span>nodeType <span class=\"k\">==</span> <span class=\"s\">1</span> <span class=\"k\">?</span> tmpRange<span class=\"k\">.</span>startContainer <span class=\"k\">:</span> tmpRange<span class=\"k\">.</span>startContainer<span class=\"k\">.</span>parentNode<span class=\"k\">,</span>","                    preNode <span class=\"k\">=</span> node<span class=\"k\">,</span>","                    doEnd <span class=\"k\">=</span> <span class=\"s\">1</span><span class=\"k\">;</span>","","                <span class=\"c\">//&#35843;&#25972;&#24320;&#22987;</span>","                <span class=\"k\">while</span> <span class=\"k\">(</span> <span class=\"s\">1</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                    <span class=\"k\">if</span> <span class=\"k\">(</span> domUtils<span class=\"k\">.</span>isBody<span class=\"k\">(</span>node<span class=\"k\">)</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                        <span class=\"k\">if</span> <span class=\"k\">(</span> preNode <span class=\"k\">!==</span> node <span class=\"k\">)</span> <span class=\"k\">{</span>","                            <span class=\"k\">if</span> <span class=\"k\">(</span> range<span class=\"k\">.</span>collapsed <span class=\"k\">)</span> <span class=\"k\">{</span>","                                tmpRange<span class=\"k\">.</span>selectNode<span class=\"k\">(</span> preNode <span class=\"k\">);</span>","                                doEnd <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">;</span>","                            <span class=\"k\">}</span> <span class=\"k\">else</span> <span class=\"k\">{</span>","                                tmpRange<span class=\"k\">.</span>setStartBefore<span class=\"k\">(</span> preNode <span class=\"k\">);</span>","                            <span class=\"k\">}</span>","                        <span class=\"k\">}</span><span class=\"k\">else</span><span class=\"k\">{</span>","                            tmpRange<span class=\"k\">.</span>setStart<span class=\"k\">(</span>node<span class=\"k\">,</span><span class=\"s\">0</span><span class=\"k\">);</span>","                        <span class=\"k\">}</span>","","                        <span class=\"k\">break</span><span class=\"k\">;</span>","                    <span class=\"k\">}</span>","                    <span class=\"k\">if</span> <span class=\"k\">(</span> <span class=\"k\">!</span>blockquote<span class=\"k\">[</span>node<span class=\"k\">.</span>tagName<span class=\"k\">]</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                        <span class=\"k\">if</span> <span class=\"k\">(</span> range<span class=\"k\">.</span>collapsed <span class=\"k\">)</span> <span class=\"k\">{</span>","                            tmpRange<span class=\"k\">.</span>selectNode<span class=\"k\">(</span> preNode <span class=\"k\">);</span>","                        <span class=\"k\">}</span> <span class=\"k\">else</span><span class=\"k\">{</span>","                            tmpRange<span class=\"k\">.</span>setStartBefore<span class=\"k\">(</span> preNode<span class=\"k\">);</span>","                        <span class=\"k\">}</span>","                        <span class=\"k\">break</span><span class=\"k\">;</span>","                    <span class=\"k\">}</span>","","                    preNode <span class=\"k\">=</span> node<span class=\"k\">;</span>","                    node <span class=\"k\">=</span> node<span class=\"k\">.</span>parentNode<span class=\"k\">;</span>","                <span class=\"k\">}</span>","                ","                <span class=\"c\">//&#35843;&#25972;&#32467;&#26463;</span>","               <span class=\"k\">if</span> <span class=\"k\">(</span> doEnd <span class=\"k\">)</span> <span class=\"k\">{</span>","                    preNode <span class=\"k\">=</span> node <span class=\"k\">=</span>  node <span class=\"k\">=</span> tmpRange<span class=\"k\">.</span>endContainer<span class=\"k\">.</span>nodeType <span class=\"k\">==</span> <span class=\"s\">1</span> <span class=\"k\">?</span> tmpRange<span class=\"k\">.</span>endContainer <span class=\"k\">:</span> tmpRange<span class=\"k\">.</span>endContainer<span class=\"k\">.</span>parentNode<span class=\"k\">;</span>","                    <span class=\"k\">while</span> <span class=\"k\">(</span> <span class=\"s\">1</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","","                        <span class=\"k\">if</span> <span class=\"k\">(</span> domUtils<span class=\"k\">.</span>isBody<span class=\"k\">(</span> node <span class=\"k\">)</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                            <span class=\"k\">if</span> <span class=\"k\">(</span> preNode <span class=\"k\">!==</span> node <span class=\"k\">)</span> <span class=\"k\">{</span>","","                                    tmpRange<span class=\"k\">.</span>setEndAfter<span class=\"k\">(</span> preNode <span class=\"k\">);</span>","                                ","                            <span class=\"k\">}</span> <span class=\"k\">else</span> <span class=\"k\">{</span>","                                tmpRange<span class=\"k\">.</span>setEnd<span class=\"k\">(</span> node<span class=\"k\">,</span> node<span class=\"k\">.</span>childNodes<span class=\"k\">.</span>length <span class=\"k\">);</span>","                            <span class=\"k\">}</span>","","                            <span class=\"k\">break</span><span class=\"k\">;</span>","                        <span class=\"k\">}</span>","                        <span class=\"k\">if</span> <span class=\"k\">(</span> <span class=\"k\">!</span>blockquote<span class=\"k\">[</span>node<span class=\"k\">.</span>tagName<span class=\"k\">]</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                            tmpRange<span class=\"k\">.</span>setEndAfter<span class=\"k\">(</span> preNode <span class=\"k\">);</span>","                            <span class=\"k\">break</span><span class=\"k\">;</span>","                        <span class=\"k\">}</span>","","                        preNode <span class=\"k\">=</span> node<span class=\"k\">;</span>","                        node <span class=\"k\">=</span> node<span class=\"k\">.</span>parentNode<span class=\"k\">;</span>","                    <span class=\"k\">}</span>","","                <span class=\"k\">}</span>","","","                node <span class=\"k\">=</span> range<span class=\"k\">.</span>document<span class=\"k\">.</span>createElement<span class=\"k\">(</span> <span class=\"s\">'blockquote'</span> <span class=\"k\">);</span>","                domUtils<span class=\"k\">.</span>setAttributes<span class=\"k\">(</span> node<span class=\"k\">,</span> attrs <span class=\"k\">);</span>","                node<span class=\"k\">.</span>appendChild<span class=\"k\">(</span> tmpRange<span class=\"k\">.</span>extractContents<span class=\"k\">()</span> <span class=\"k\">);</span>","                tmpRange<span class=\"k\">.</span>insertNode<span class=\"k\">(</span> node <span class=\"k\">);</span>","                <span class=\"c\">//&#21435;&#38500;&#37325;&#22797;&#30340;</span>","                <span class=\"k\">var</span> childs <span class=\"k\">=</span> domUtils<span class=\"k\">.</span>getElementsByTagName<span class=\"k\">(</span>node<span class=\"k\">,</span><span class=\"s\">'blockquote'</span><span class=\"k\">);</span>","                <span class=\"k\">for</span><span class=\"k\">(</span><span class=\"k\">var</span> i<span class=\"k\">=</span><span class=\"s\">0</span><span class=\"k\">,</span>ci<span class=\"k\">;</span>ci<span class=\"k\">=</span>childs<span class=\"k\">[</span>i<span class=\"k\">++];)</span><span class=\"k\">{</span>","                    <span class=\"k\">if</span><span class=\"k\">(</span>ci<span class=\"k\">.</span>parentNode<span class=\"k\">)</span><span class=\"k\">{</span>","                        domUtils<span class=\"k\">.</span>remove<span class=\"k\">(</span>ci<span class=\"k\">,</span><span class=\"k\">true</span><span class=\"k\">);</span>","                    <span class=\"k\">}</span>","                <span class=\"k\">}</span>","","            <span class=\"k\">}</span>","            range<span class=\"k\">.</span>moveToBookmark<span class=\"k\">(</span> bookmark <span class=\"k\">).</span>select<span class=\"k\">();</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        queryCommandState <span class=\"k\">:</span> <span class=\"k\">function</span><span class=\"k\">()</span> <span class=\"k\">{</span>","           <span class=\"k\">if</span><span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>highlight<span class=\"k\">)</span><span class=\"k\">{</span>","               <span class=\"k\">return</span> <span class=\"k\">-</span><span class=\"s\">1</span><span class=\"k\">;</span>","           <span class=\"k\">}</span>","            <span class=\"k\">return</span> getObj<span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">)</span> <span class=\"k\">?</span> <span class=\"s\">1</span> <span class=\"k\">:</span> <span class=\"s\">0</span><span class=\"k\">;</span>","        <span class=\"k\">}</span>","    <span class=\"k\">}</span><span class=\"k\">;</span>","<span class=\"k\">}</span><span class=\"k\">)();</span>",""]);
_$jscoverage['plugins/catchremoteimage.js'] && (_$jscoverage['plugins/catchremoteimage.js'].source = ["<span class=\"c\">///import core</span>","<span class=\"c\">///commandsName  catchRemoteImage</span>","<span class=\"c\">/**</span>","<span class=\"c\"> * &#36828;&#31243;&#22270;&#29255;&#25235;&#21462;,&#24403;&#24320;&#21551;&#26412;&#25554;&#20214;&#26102;&#25152;&#26377;&#19981;&#31526;&#21512;&#26412;&#22320;&#22495;&#21517;&#30340;&#22270;&#29255;&#37117;&#23558;&#34987;&#25235;&#21462;&#25104;&#20026;&#26412;&#22320;&#26381;&#21153;&#22120;&#19978;&#30340;&#22270;&#29255;</span>","<span class=\"c\"> *</span>","<span class=\"c\"> */</span>","UE<span class=\"k\">.</span>plugins<span class=\"k\">[</span><span class=\"s\">'catchremoteimage'</span><span class=\"k\">]</span> <span class=\"k\">=</span> <span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","    <span class=\"k\">if</span> <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>options<span class=\"k\">.</span>catchRemoteImageEnable<span class=\"k\">===</span><span class=\"k\">false</span><span class=\"k\">)</span><span class=\"k\">{</span>","        <span class=\"k\">return</span><span class=\"k\">;</span>","    <span class=\"k\">}</span>","    <span class=\"k\">var</span> me <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">;</span>","    <span class=\"k\">this</span><span class=\"k\">.</span>setOpt<span class=\"k\">(</span><span class=\"k\">{</span>","            localDomain<span class=\"k\">:[</span><span class=\"s\">\"127.0.0.1\"</span><span class=\"k\">,</span><span class=\"s\">\"localhost\"</span><span class=\"k\">,</span><span class=\"s\">\"img.baidu.com\"</span><span class=\"k\">],</span>","            separater<span class=\"k\">:</span><span class=\"s\">'ue_separate_ue'</span><span class=\"k\">,</span>","            catchFieldName<span class=\"k\">:</span><span class=\"s\">\"upfile\"</span><span class=\"k\">,</span>","            catchRemoteImageEnable<span class=\"k\">:</span><span class=\"k\">true</span>","        <span class=\"k\">}</span><span class=\"k\">);</span>","    <span class=\"k\">var</span> ajax <span class=\"k\">=</span> UE<span class=\"k\">.</span>ajax<span class=\"k\">,</span>","        localDomain <span class=\"k\">=</span> me<span class=\"k\">.</span>options<span class=\"k\">.</span>localDomain <span class=\"k\">,</span>","        catcherUrl <span class=\"k\">=</span> me<span class=\"k\">.</span>options<span class=\"k\">.</span>catcherUrl<span class=\"k\">,</span>","        separater <span class=\"k\">=</span> me<span class=\"k\">.</span>options<span class=\"k\">.</span>separater<span class=\"k\">;</span>","    <span class=\"k\">function</span> catchremoteimage<span class=\"k\">(</span>imgs<span class=\"k\">,</span> callbacks<span class=\"k\">)</span> <span class=\"k\">{</span>","        <span class=\"k\">var</span> submitStr <span class=\"k\">=</span> imgs<span class=\"k\">.</span>join<span class=\"k\">(</span>separater<span class=\"k\">);</span>","        <span class=\"k\">var</span> tmpOption <span class=\"k\">=</span> <span class=\"k\">{</span>","            timeout<span class=\"k\">:</span><span class=\"s\">60000</span><span class=\"k\">,</span> <span class=\"c\">//&#21333;&#20301;&#65306;&#27627;&#31186;&#65292;&#22238;&#35843;&#35831;&#27714;&#36229;&#26102;&#35774;&#32622;&#12290;&#30446;&#26631;&#29992;&#25143;&#22914;&#26524;&#32593;&#36895;&#19981;&#26159;&#24456;&#24555;&#30340;&#35805;&#27492;&#22788;&#24314;&#35758;&#35774;&#32622;&#19968;&#20010;&#36739;&#22823;&#30340;&#25968;&#20540;</span>","            onsuccess<span class=\"k\">:</span>callbacks<span class=\"k\">[</span><span class=\"s\">\"success\"</span><span class=\"k\">],</span>","            onerror<span class=\"k\">:</span>callbacks<span class=\"k\">[</span><span class=\"s\">\"error\"</span><span class=\"k\">]</span>","        <span class=\"k\">}</span><span class=\"k\">;</span>","        tmpOption<span class=\"k\">[</span>me<span class=\"k\">.</span>options<span class=\"k\">.</span>catchFieldName<span class=\"k\">]</span> <span class=\"k\">=</span> submitStr<span class=\"k\">;</span>","        ajax<span class=\"k\">.</span>request<span class=\"k\">(</span>catcherUrl<span class=\"k\">,</span> tmpOption<span class=\"k\">);</span>","    <span class=\"k\">}</span>","","    me<span class=\"k\">.</span>addListener<span class=\"k\">(</span><span class=\"s\">\"afterpaste\"</span><span class=\"k\">,</span> <span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","        me<span class=\"k\">.</span>fireEvent<span class=\"k\">(</span><span class=\"s\">\"catchRemoteImage\"</span><span class=\"k\">);</span>","    <span class=\"k\">}</span><span class=\"k\">);</span>","","    me<span class=\"k\">.</span>addListener<span class=\"k\">(</span><span class=\"s\">\"catchRemoteImage\"</span><span class=\"k\">,</span> <span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","        <span class=\"k\">var</span> remoteImages <span class=\"k\">=</span> <span class=\"k\">[];</span>","        <span class=\"k\">var</span> imgs <span class=\"k\">=</span> domUtils<span class=\"k\">.</span>getElementsByTagName<span class=\"k\">(</span>me<span class=\"k\">.</span>document<span class=\"k\">,</span> <span class=\"s\">\"img\"</span><span class=\"k\">);</span>","        <span class=\"k\">var</span> test <span class=\"k\">=</span> <span class=\"k\">function</span> <span class=\"k\">(</span>src<span class=\"k\">,</span>urls<span class=\"k\">)</span> <span class=\"k\">{</span>","            <span class=\"k\">for</span> <span class=\"k\">(</span><span class=\"k\">var</span> j <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">,</span> url<span class=\"k\">;</span> url <span class=\"k\">=</span> urls<span class=\"k\">[</span>j<span class=\"k\">++];)</span> <span class=\"k\">{</span>","                <span class=\"k\">if</span> <span class=\"k\">(</span>src<span class=\"k\">.</span>indexOf<span class=\"k\">(</span>url<span class=\"k\">)</span> <span class=\"k\">!==</span> <span class=\"k\">-</span><span class=\"s\">1</span><span class=\"k\">)</span> <span class=\"k\">{</span>","                    <span class=\"k\">return</span> <span class=\"k\">true</span><span class=\"k\">;</span>","                <span class=\"k\">}</span>","            <span class=\"k\">}</span>","            <span class=\"k\">return</span> <span class=\"k\">false</span><span class=\"k\">;</span>","        <span class=\"k\">}</span><span class=\"k\">;</span>","        <span class=\"k\">for</span> <span class=\"k\">(</span><span class=\"k\">var</span> i <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">,</span> ci<span class=\"k\">;</span> ci <span class=\"k\">=</span> imgs<span class=\"k\">[</span>i<span class=\"k\">++];)</span> <span class=\"k\">{</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span>ci<span class=\"k\">.</span>getAttribute<span class=\"k\">(</span><span class=\"s\">\"word_img\"</span><span class=\"k\">))</span><span class=\"k\">{</span>","                <span class=\"k\">continue</span><span class=\"k\">;</span>","            <span class=\"k\">}</span>","            <span class=\"k\">var</span> src <span class=\"k\">=</span> ci<span class=\"k\">.</span>getAttribute<span class=\"k\">(</span><span class=\"s\">\"data_ue_src\"</span><span class=\"k\">)</span> <span class=\"k\">||</span> ci<span class=\"k\">.</span>src <span class=\"k\">||</span> <span class=\"s\">\"\"</span><span class=\"k\">;</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span><span class=\"s\">/^(https?|ftp):/i</span><span class=\"k\">.</span>test<span class=\"k\">(</span>src<span class=\"k\">)</span> <span class=\"k\">&amp;&amp;</span> <span class=\"k\">!</span>test<span class=\"k\">(</span>src<span class=\"k\">,</span>localDomain<span class=\"k\">))</span> <span class=\"k\">{</span>","                remoteImages<span class=\"k\">.</span>push<span class=\"k\">(</span>src<span class=\"k\">);</span>","            <span class=\"k\">}</span>","        <span class=\"k\">}</span>","        <span class=\"k\">if</span> <span class=\"k\">(</span>remoteImages<span class=\"k\">.</span>length<span class=\"k\">)</span> <span class=\"k\">{</span>","            catchremoteimage<span class=\"k\">(</span>remoteImages<span class=\"k\">,</span> <span class=\"k\">{</span>","                <span class=\"c\">//&#25104;&#21151;&#25235;&#21462;</span>","                success<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">(</span>xhr<span class=\"k\">)</span> <span class=\"k\">{</span>","                    <span class=\"k\">try</span> <span class=\"k\">{</span>","                        <span class=\"k\">var</span> info <span class=\"k\">=</span> eval<span class=\"k\">(</span><span class=\"s\">\"(\"</span> <span class=\"k\">+</span> xhr<span class=\"k\">.</span>responseText <span class=\"k\">+</span> <span class=\"s\">\")\"</span><span class=\"k\">);</span>","                    <span class=\"k\">}</span> <span class=\"k\">catch</span> <span class=\"k\">(</span>e<span class=\"k\">)</span> <span class=\"k\">{</span>","                        <span class=\"k\">return</span><span class=\"k\">;</span>","                    <span class=\"k\">}</span>","                    <span class=\"k\">var</span> srcUrls <span class=\"k\">=</span> info<span class=\"k\">.</span>srcUrl<span class=\"k\">.</span>split<span class=\"k\">(</span>separater<span class=\"k\">),</span>","                        urls <span class=\"k\">=</span> info<span class=\"k\">.</span>url<span class=\"k\">.</span>split<span class=\"k\">(</span>separater<span class=\"k\">);</span>","                    <span class=\"k\">for</span> <span class=\"k\">(</span><span class=\"k\">var</span> i <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">,</span> ci<span class=\"k\">;</span> ci <span class=\"k\">=</span> imgs<span class=\"k\">[</span>i<span class=\"k\">++];)</span> <span class=\"k\">{</span>","                        <span class=\"k\">var</span> src <span class=\"k\">=</span> ci<span class=\"k\">.</span>getAttribute<span class=\"k\">(</span><span class=\"s\">\"data_ue_src\"</span><span class=\"k\">)</span> <span class=\"k\">||</span> ci<span class=\"k\">.</span>src <span class=\"k\">||</span> <span class=\"s\">\"\"</span><span class=\"k\">;</span>","                        <span class=\"k\">for</span> <span class=\"k\">(</span><span class=\"k\">var</span> j <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">,</span> cj<span class=\"k\">;</span> cj <span class=\"k\">=</span> srcUrls<span class=\"k\">[</span>j<span class=\"k\">++];)</span> <span class=\"k\">{</span>","                            <span class=\"k\">var</span> url <span class=\"k\">=</span> urls<span class=\"k\">[</span>j <span class=\"k\">-</span> <span class=\"s\">1</span><span class=\"k\">];</span>","                            <span class=\"k\">if</span> <span class=\"k\">(</span>src <span class=\"k\">==</span> cj <span class=\"k\">&amp;&amp;</span> url <span class=\"k\">!=</span> <span class=\"s\">\"error\"</span><span class=\"k\">)</span> <span class=\"k\">{</span>  <span class=\"c\">//&#25235;&#21462;&#22833;&#36133;&#26102;&#19981;&#20570;&#26367;&#25442;&#22788;&#29702;</span>","                                <span class=\"c\">//&#22320;&#22336;&#20462;&#27491;</span>","                                <span class=\"k\">var</span> newSrc <span class=\"k\">=</span> me<span class=\"k\">.</span>options<span class=\"k\">.</span>catcherPath <span class=\"k\">+</span> url<span class=\"k\">;</span>","                                domUtils<span class=\"k\">.</span>setAttributes<span class=\"k\">(</span>ci<span class=\"k\">,</span> <span class=\"k\">{</span>","                                    <span class=\"s\">\"src\"</span><span class=\"k\">:</span>newSrc<span class=\"k\">,</span>","                                    <span class=\"s\">\"data_ue_src\"</span><span class=\"k\">:</span>newSrc","                                <span class=\"k\">}</span><span class=\"k\">);</span>","                                <span class=\"k\">break</span><span class=\"k\">;</span>","                            <span class=\"k\">}</span>","                        <span class=\"k\">}</span>","                    <span class=\"k\">}</span>","                <span class=\"k\">}</span><span class=\"k\">,</span>","                <span class=\"c\">//&#22238;&#35843;&#22833;&#36133;&#65292;&#26412;&#27425;&#35831;&#27714;&#36229;&#26102;</span>","                error<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","                    me<span class=\"k\">.</span>fireEvent<span class=\"k\">(</span><span class=\"s\">\"catchremoteerror\"</span><span class=\"k\">);</span>","                <span class=\"k\">}</span>","            <span class=\"k\">}</span><span class=\"k\">);</span>","        <span class=\"k\">}</span>","","    <span class=\"k\">}</span><span class=\"k\">);</span>","<span class=\"k\">}</span><span class=\"k\">;</span>"]);
_$jscoverage['plugins/cleardoc.js'] && (_$jscoverage['plugins/cleardoc.js'].source = ["<span class=\"c\">///import core</span>","<span class=\"c\">///commands &#28165;&#31354;&#25991;&#26723;</span>","<span class=\"c\">///commandsName  ClearDoc</span>","<span class=\"c\">///commandsTitle  &#28165;&#31354;&#25991;&#26723;</span>","<span class=\"c\">/**</span>","<span class=\"c\"> *</span>","<span class=\"c\"> * &#28165;&#31354;&#25991;&#26723;</span>","<span class=\"c\"> * @function</span>","<span class=\"c\"> * @name baidu.editor.execCommand</span>","<span class=\"c\"> * @param   {String}   cmdName     cleardoc&#28165;&#31354;&#25991;&#26723;</span>","<span class=\"c\"> */</span>","","UE<span class=\"k\">.</span>commands<span class=\"k\">[</span><span class=\"s\">'cleardoc'</span><span class=\"k\">]</span> <span class=\"k\">=</span> <span class=\"k\">{</span>","    execCommand <span class=\"k\">:</span> <span class=\"k\">function</span><span class=\"k\">(</span> cmdName<span class=\"k\">)</span> <span class=\"k\">{</span>","        <span class=\"k\">var</span> me <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">,</span>","            enterTag <span class=\"k\">=</span> me<span class=\"k\">.</span>options<span class=\"k\">.</span>enterTag<span class=\"k\">,</span>","            range <span class=\"k\">=</span> me<span class=\"k\">.</span>selection<span class=\"k\">.</span>getRange<span class=\"k\">();</span>","        <span class=\"k\">if</span><span class=\"k\">(</span>enterTag <span class=\"k\">==</span> <span class=\"s\">\"br\"</span><span class=\"k\">)</span><span class=\"k\">{</span>","            me<span class=\"k\">.</span>body<span class=\"k\">.</span>innerHTML <span class=\"k\">=</span> <span class=\"s\">\"&lt;br/&gt;\"</span><span class=\"k\">;</span>","            range<span class=\"k\">.</span>setStart<span class=\"k\">(</span>me<span class=\"k\">.</span>body<span class=\"k\">,</span><span class=\"s\">0</span><span class=\"k\">).</span>setCursor<span class=\"k\">();</span>","        <span class=\"k\">}</span><span class=\"k\">else</span><span class=\"k\">{</span>","            me<span class=\"k\">.</span>body<span class=\"k\">.</span>innerHTML <span class=\"k\">=</span> <span class=\"s\">\"&lt;p&gt;\"</span><span class=\"k\">+(</span>ie <span class=\"k\">?</span> <span class=\"s\">\"\"</span> <span class=\"k\">:</span> <span class=\"s\">\"&lt;br/&gt;\"</span><span class=\"k\">)+</span><span class=\"s\">\"&lt;/p&gt;\"</span><span class=\"k\">;</span>","            range<span class=\"k\">.</span>setStart<span class=\"k\">(</span>me<span class=\"k\">.</span>body<span class=\"k\">.</span>firstChild<span class=\"k\">,</span><span class=\"s\">0</span><span class=\"k\">).</span>setCursor<span class=\"k\">(</span><span class=\"k\">false</span><span class=\"k\">,</span><span class=\"k\">true</span><span class=\"k\">);</span>","        <span class=\"k\">}</span>","    <span class=\"k\">}</span>","<span class=\"k\">}</span><span class=\"k\">;</span>",""]);
_$jscoverage['plugins/contextmenu.js'] && (_$jscoverage['plugins/contextmenu.js'].source = ["<span class=\"c\">///import core</span>","<span class=\"c\">///commands &#21491;&#38190;&#33756;&#21333;</span>","<span class=\"c\">///commandsName  ContextMenu</span>","<span class=\"c\">///commandsTitle  &#21491;&#38190;&#33756;&#21333;</span>","<span class=\"c\">/**</span>","<span class=\"c\"> * &#21491;&#38190;&#33756;&#21333;</span>","<span class=\"c\"> * @function</span>","<span class=\"c\"> * @name baidu.editor.plugins.contextmenu</span>","<span class=\"c\"> * @author zhanyi</span>","<span class=\"c\"> */</span>","","UE<span class=\"k\">.</span>plugins<span class=\"k\">[</span><span class=\"s\">'contextmenu'</span><span class=\"k\">]</span> <span class=\"k\">=</span> <span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","    <span class=\"k\">var</span> me <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">,</span>","            lang <span class=\"k\">=</span> me<span class=\"k\">.</span>getLang<span class=\"k\">(</span> <span class=\"s\">\"contextMenu\"</span> <span class=\"k\">),</span>","            menu<span class=\"k\">,</span>","            items <span class=\"k\">=</span> me<span class=\"k\">.</span>options<span class=\"k\">.</span>contextMenu <span class=\"k\">||</span> <span class=\"k\">[</span>","                <span class=\"k\">{</span>label<span class=\"k\">:</span>lang<span class=\"k\">[</span><span class=\"s\">'delete'</span><span class=\"k\">],</span> cmdName<span class=\"k\">:</span><span class=\"s\">'delete'</span><span class=\"k\">}</span><span class=\"k\">,</span>","                <span class=\"k\">{</span>label<span class=\"k\">:</span>lang<span class=\"k\">[</span><span class=\"s\">'selectall'</span><span class=\"k\">],</span> cmdName<span class=\"k\">:</span><span class=\"s\">'selectall'</span><span class=\"k\">}</span><span class=\"k\">,</span>","                <span class=\"k\">{</span>","                    label<span class=\"k\">:</span>lang<span class=\"k\">.</span>deletecode<span class=\"k\">,</span>","                    cmdName<span class=\"k\">:</span><span class=\"s\">'highlightcode'</span><span class=\"k\">,</span>","                    icon<span class=\"k\">:</span><span class=\"s\">'deletehighlightcode'</span>","                <span class=\"k\">}</span><span class=\"k\">,</span>","                <span class=\"k\">{</span>","                    label<span class=\"k\">:</span>lang<span class=\"k\">.</span>cleardoc<span class=\"k\">,</span>","                    cmdName<span class=\"k\">:</span><span class=\"s\">'cleardoc'</span><span class=\"k\">,</span>","                    exec<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","                        <span class=\"k\">if</span> <span class=\"k\">(</span> confirm<span class=\"k\">(</span> lang<span class=\"k\">.</span>confirmclear <span class=\"k\">)</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                            <span class=\"k\">this</span><span class=\"k\">.</span>execCommand<span class=\"k\">(</span> <span class=\"s\">'cleardoc'</span> <span class=\"k\">);</span>","                        <span class=\"k\">}</span>","                    <span class=\"k\">}</span>","                <span class=\"k\">}</span><span class=\"k\">,</span>","                <span class=\"s\">'-'</span><span class=\"k\">,</span>","                <span class=\"k\">{</span>","                    label<span class=\"k\">:</span>lang<span class=\"k\">.</span>unlink<span class=\"k\">,</span>","                    cmdName<span class=\"k\">:</span><span class=\"s\">'unlink'</span>","                <span class=\"k\">}</span><span class=\"k\">,</span>","                <span class=\"s\">'-'</span><span class=\"k\">,</span>","                <span class=\"k\">{</span>","                    group<span class=\"k\">:</span>lang<span class=\"k\">.</span>paragraph<span class=\"k\">,</span>","                    icon<span class=\"k\">:</span><span class=\"s\">'justifyjustify'</span><span class=\"k\">,</span>","                    subMenu<span class=\"k\">:[</span>","                        <span class=\"k\">{</span>","                            label<span class=\"k\">:</span>lang<span class=\"k\">.</span>justifyleft<span class=\"k\">,</span>","                            cmdName<span class=\"k\">:</span><span class=\"s\">'justify'</span><span class=\"k\">,</span>","                            value<span class=\"k\">:</span><span class=\"s\">'left'</span>","                        <span class=\"k\">}</span><span class=\"k\">,</span>","                        <span class=\"k\">{</span>","                            label<span class=\"k\">:</span>lang<span class=\"k\">.</span>justifyright<span class=\"k\">,</span>","                            cmdName<span class=\"k\">:</span><span class=\"s\">'justify'</span><span class=\"k\">,</span>","                            value<span class=\"k\">:</span><span class=\"s\">'right'</span>","                        <span class=\"k\">}</span><span class=\"k\">,</span>","                        <span class=\"k\">{</span>","                            label<span class=\"k\">:</span>lang<span class=\"k\">.</span>justifycenter<span class=\"k\">,</span>","                            cmdName<span class=\"k\">:</span><span class=\"s\">'justify'</span><span class=\"k\">,</span>","                            value<span class=\"k\">:</span><span class=\"s\">'center'</span>","                        <span class=\"k\">}</span><span class=\"k\">,</span>","                        <span class=\"k\">{</span>","                            label<span class=\"k\">:</span>lang<span class=\"k\">.</span>justifyjustify<span class=\"k\">,</span>","                            cmdName<span class=\"k\">:</span><span class=\"s\">'justify'</span><span class=\"k\">,</span>","                            value<span class=\"k\">:</span><span class=\"s\">'justify'</span>","                        <span class=\"k\">}</span>","                    <span class=\"k\">]</span>","                <span class=\"k\">}</span><span class=\"k\">,</span>","                <span class=\"s\">'-'</span><span class=\"k\">,</span>","                <span class=\"k\">{</span>","                    label<span class=\"k\">:</span>lang<span class=\"k\">.</span>edittable<span class=\"k\">,</span>","                    cmdName<span class=\"k\">:</span><span class=\"s\">'edittable'</span><span class=\"k\">,</span>","                    exec<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","                        <span class=\"k\">this</span><span class=\"k\">.</span>ui<span class=\"k\">.</span>_dialogs<span class=\"k\">[</span><span class=\"s\">'inserttableDialog'</span><span class=\"k\">].</span>open<span class=\"k\">();</span>","                    <span class=\"k\">}</span>","                <span class=\"k\">}</span><span class=\"k\">,</span>","                <span class=\"k\">{</span>","                    label<span class=\"k\">:</span>lang<span class=\"k\">.</span>edittd<span class=\"k\">,</span>","                    cmdName<span class=\"k\">:</span><span class=\"s\">'edittd'</span><span class=\"k\">,</span>","                    exec<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","                        <span class=\"c\">//&#22914;&#26524;&#27809;&#26377;&#21019;&#24314;&#65292;&#21019;&#24314;&#19968;&#19979;&#20808;</span>","                        <span class=\"k\">if</span> <span class=\"k\">(</span> UE<span class=\"k\">.</span>ui<span class=\"k\">[</span><span class=\"s\">'edittd'</span><span class=\"k\">]</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                            <span class=\"k\">new</span> UE<span class=\"k\">.</span>ui<span class=\"k\">[</span><span class=\"s\">'edittd'</span><span class=\"k\">](</span> <span class=\"k\">this</span> <span class=\"k\">);</span>","                        <span class=\"k\">}</span>","                        <span class=\"k\">this</span><span class=\"k\">.</span>ui<span class=\"k\">.</span>_dialogs<span class=\"k\">[</span><span class=\"s\">'edittdDialog'</span><span class=\"k\">].</span>open<span class=\"k\">();</span>","                    <span class=\"k\">}</span>","                <span class=\"k\">}</span><span class=\"k\">,</span>","                <span class=\"k\">{</span>","                    group<span class=\"k\">:</span>lang<span class=\"k\">.</span>table<span class=\"k\">,</span>","                    icon<span class=\"k\">:</span><span class=\"s\">'table'</span><span class=\"k\">,</span>","                    subMenu<span class=\"k\">:[</span>","                        <span class=\"k\">{</span>","                            label<span class=\"k\">:</span>lang<span class=\"k\">.</span>inserttable<span class=\"k\">,</span>","                            cmdName<span class=\"k\">:</span><span class=\"s\">'inserttable'</span>","                        <span class=\"k\">}</span><span class=\"k\">,</span>","                        <span class=\"k\">{</span>","                            label<span class=\"k\">:</span>lang<span class=\"k\">.</span>deletetable<span class=\"k\">,</span>","                            cmdName<span class=\"k\">:</span><span class=\"s\">'deletetable'</span>","                        <span class=\"k\">}</span><span class=\"k\">,</span>","                        <span class=\"k\">{</span>","                            label<span class=\"k\">:</span>lang<span class=\"k\">.</span>insertparagraphbeforetable<span class=\"k\">,</span>","                            cmdName<span class=\"k\">:</span><span class=\"s\">'insertparagraphbeforetable'</span>","                        <span class=\"k\">}</span><span class=\"k\">,</span>","                        <span class=\"k\">{</span>","                            label<span class=\"k\">:</span>lang<span class=\"k\">.</span>deleterow<span class=\"k\">,</span>","                            cmdName<span class=\"k\">:</span><span class=\"s\">'deleterow'</span>","                        <span class=\"k\">}</span><span class=\"k\">,</span>","                        <span class=\"k\">{</span>","                            label<span class=\"k\">:</span>lang<span class=\"k\">.</span>deletecol<span class=\"k\">,</span>","                            cmdName<span class=\"k\">:</span><span class=\"s\">'deletecol'</span>","                        <span class=\"k\">}</span><span class=\"k\">,</span>","                        <span class=\"k\">{</span>","                            label<span class=\"k\">:</span>lang<span class=\"k\">.</span>insertrow<span class=\"k\">,</span>","                            cmdName<span class=\"k\">:</span><span class=\"s\">'insertrow'</span>","                        <span class=\"k\">}</span><span class=\"k\">,</span>","                        <span class=\"k\">{</span>","                            label<span class=\"k\">:</span>lang<span class=\"k\">.</span>insertcol<span class=\"k\">,</span>","                            cmdName<span class=\"k\">:</span><span class=\"s\">'insertcol'</span>","                        <span class=\"k\">}</span><span class=\"k\">,</span>","                        <span class=\"k\">{</span>","                            label<span class=\"k\">:</span>lang<span class=\"k\">.</span>mergeright<span class=\"k\">,</span>","                            cmdName<span class=\"k\">:</span><span class=\"s\">'mergeright'</span>","                        <span class=\"k\">}</span><span class=\"k\">,</span>","                        <span class=\"k\">{</span>","                            label<span class=\"k\">:</span>lang<span class=\"k\">.</span>mergedown<span class=\"k\">,</span>","                            cmdName<span class=\"k\">:</span><span class=\"s\">'mergedown'</span>","                        <span class=\"k\">}</span><span class=\"k\">,</span>","                        <span class=\"k\">{</span>","                            label<span class=\"k\">:</span>lang<span class=\"k\">.</span>splittorows<span class=\"k\">,</span>","                            cmdName<span class=\"k\">:</span><span class=\"s\">'splittorows'</span>","                        <span class=\"k\">}</span><span class=\"k\">,</span>","                        <span class=\"k\">{</span>","                            label<span class=\"k\">:</span>lang<span class=\"k\">.</span>splittocols<span class=\"k\">,</span>","                            cmdName<span class=\"k\">:</span><span class=\"s\">'splittocols'</span>","                        <span class=\"k\">}</span><span class=\"k\">,</span>","                        <span class=\"k\">{</span>","                            label<span class=\"k\">:</span>lang<span class=\"k\">.</span>mergecells<span class=\"k\">,</span>","                            cmdName<span class=\"k\">:</span><span class=\"s\">'mergecells'</span>","                        <span class=\"k\">}</span><span class=\"k\">,</span>","                        <span class=\"k\">{</span>","                            label<span class=\"k\">:</span>lang<span class=\"k\">.</span>splittocells<span class=\"k\">,</span>","                            cmdName<span class=\"k\">:</span><span class=\"s\">'splittocells'</span>","                        <span class=\"k\">}</span>","                    <span class=\"k\">]</span>","                <span class=\"k\">}</span><span class=\"k\">,</span>","                <span class=\"s\">'-'</span><span class=\"k\">,</span>","                <span class=\"k\">{</span>","                    label<span class=\"k\">:</span>lang<span class=\"k\">[</span><span class=\"s\">'copy'</span><span class=\"k\">],</span>","                    cmdName<span class=\"k\">:</span><span class=\"s\">'copy'</span><span class=\"k\">,</span>","                    exec<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","                        alert<span class=\"k\">(</span> lang<span class=\"k\">.</span>copymsg <span class=\"k\">);</span>","                    <span class=\"k\">}</span><span class=\"k\">,</span>","                    query<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","                        <span class=\"k\">return</span> <span class=\"s\">0</span><span class=\"k\">;</span>","                    <span class=\"k\">}</span>","                <span class=\"k\">}</span><span class=\"k\">,</span>","                <span class=\"k\">{</span>","                    label<span class=\"k\">:</span>lang<span class=\"k\">[</span><span class=\"s\">'paste'</span><span class=\"k\">],</span>","                    cmdName<span class=\"k\">:</span><span class=\"s\">'paste'</span><span class=\"k\">,</span>","                    exec<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","                        alert<span class=\"k\">(</span> lang<span class=\"k\">.</span>pastemsg <span class=\"k\">);</span>","                    <span class=\"k\">}</span><span class=\"k\">,</span>","                    query<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","                        <span class=\"k\">return</span> <span class=\"s\">0</span><span class=\"k\">;</span>","                    <span class=\"k\">}</span>","                <span class=\"k\">}</span><span class=\"k\">,</span><span class=\"k\">{</span>","                    label<span class=\"k\">:</span>lang<span class=\"k\">[</span><span class=\"s\">'highlightcode'</span><span class=\"k\">],</span>","                    cmdName<span class=\"k\">:</span><span class=\"s\">'highlightcode'</span><span class=\"k\">,</span>","                    exec<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","                        <span class=\"k\">if</span> <span class=\"k\">(</span> UE<span class=\"k\">.</span>ui<span class=\"k\">[</span><span class=\"s\">'highlightcode'</span><span class=\"k\">]</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                            <span class=\"k\">new</span> UE<span class=\"k\">.</span>ui<span class=\"k\">[</span><span class=\"s\">'highlightcode'</span><span class=\"k\">](</span> <span class=\"k\">this</span> <span class=\"k\">);</span>","                        <span class=\"k\">}</span>","                        <span class=\"k\">this</span><span class=\"k\">.</span>ui<span class=\"k\">.</span>_dialogs<span class=\"k\">[</span><span class=\"s\">'highlightcodeDialog'</span><span class=\"k\">].</span>open<span class=\"k\">();</span>","                    <span class=\"k\">}</span>","                <span class=\"k\">}</span>","            <span class=\"k\">];</span>","    <span class=\"k\">if</span> <span class=\"k\">(</span> <span class=\"k\">!</span>items<span class=\"k\">.</span>length <span class=\"k\">)</span> <span class=\"k\">{</span>","        <span class=\"k\">return</span><span class=\"k\">;</span>","    <span class=\"k\">}</span>","    <span class=\"k\">var</span> uiUtils <span class=\"k\">=</span> UE<span class=\"k\">.</span>ui<span class=\"k\">.</span>uiUtils<span class=\"k\">;</span>","    me<span class=\"k\">.</span>addListener<span class=\"k\">(</span> <span class=\"s\">'contextmenu'</span><span class=\"k\">,</span> <span class=\"k\">function</span> <span class=\"k\">(</span> type<span class=\"k\">,</span> evt <span class=\"k\">)</span> <span class=\"k\">{</span>","        <span class=\"k\">var</span> offset <span class=\"k\">=</span> uiUtils<span class=\"k\">.</span>getViewportOffsetByEvent<span class=\"k\">(</span> evt <span class=\"k\">);</span>","        me<span class=\"k\">.</span>fireEvent<span class=\"k\">(</span> <span class=\"s\">'beforeselectionchange'</span> <span class=\"k\">);</span>","        <span class=\"k\">if</span> <span class=\"k\">(</span> menu <span class=\"k\">)</span> <span class=\"k\">{</span>","            menu<span class=\"k\">.</span>destroy<span class=\"k\">();</span>","        <span class=\"k\">}</span>","        <span class=\"k\">for</span> <span class=\"k\">(</span> <span class=\"k\">var</span> i <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">,</span> ti<span class=\"k\">,</span> contextItems <span class=\"k\">=</span> <span class=\"k\">[];</span> ti <span class=\"k\">=</span> items<span class=\"k\">[</span>i<span class=\"k\">];</span> i<span class=\"k\">++</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","            <span class=\"k\">var</span> last<span class=\"k\">;</span>","            <span class=\"k\">(</span><span class=\"k\">function</span> <span class=\"k\">(</span> item <span class=\"k\">)</span> <span class=\"k\">{</span>","                <span class=\"k\">if</span> <span class=\"k\">(</span> item <span class=\"k\">==</span> <span class=\"s\">'-'</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                    <span class=\"k\">if</span> <span class=\"k\">(</span> <span class=\"k\">(</span>last <span class=\"k\">=</span> contextItems<span class=\"k\">[</span>contextItems<span class=\"k\">.</span>length <span class=\"k\">-</span> <span class=\"s\">1</span> <span class=\"k\">]</span> <span class=\"k\">)</span> <span class=\"k\">&amp;&amp;</span> last <span class=\"k\">!==</span> <span class=\"s\">'-'</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                        contextItems<span class=\"k\">.</span>push<span class=\"k\">(</span> <span class=\"s\">'-'</span> <span class=\"k\">);</span>","                    <span class=\"k\">}</span>","                <span class=\"k\">}</span> <span class=\"k\">else</span> <span class=\"k\">if</span> <span class=\"k\">(</span> item<span class=\"k\">.</span>hasOwnProperty<span class=\"k\">(</span> <span class=\"s\">\"group\"</span> <span class=\"k\">)</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                    <span class=\"k\">for</span> <span class=\"k\">(</span> <span class=\"k\">var</span> j <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">,</span> cj<span class=\"k\">,</span> subMenu <span class=\"k\">=</span> <span class=\"k\">[];</span> cj <span class=\"k\">=</span> item<span class=\"k\">.</span>subMenu<span class=\"k\">[</span>j<span class=\"k\">];</span> j<span class=\"k\">++</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                        <span class=\"k\">(</span><span class=\"k\">function</span> <span class=\"k\">(</span> subItem <span class=\"k\">)</span> <span class=\"k\">{</span>","                            <span class=\"k\">if</span> <span class=\"k\">(</span> subItem <span class=\"k\">==</span> <span class=\"s\">'-'</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                                <span class=\"k\">if</span> <span class=\"k\">(</span> <span class=\"k\">(</span>last <span class=\"k\">=</span> subMenu<span class=\"k\">[</span>subMenu<span class=\"k\">.</span>length <span class=\"k\">-</span> <span class=\"s\">1</span> <span class=\"k\">]</span> <span class=\"k\">)</span> <span class=\"k\">&amp;&amp;</span> last <span class=\"k\">!==</span> <span class=\"s\">'-'</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                                    subMenu<span class=\"k\">.</span>push<span class=\"k\">(</span> <span class=\"s\">'-'</span> <span class=\"k\">);</span>","                                <span class=\"k\">}</span>","                            <span class=\"k\">}</span> <span class=\"k\">else</span> <span class=\"k\">{</span>","                                <span class=\"k\">if</span> <span class=\"k\">(</span> <span class=\"k\">(</span>me<span class=\"k\">.</span>commands<span class=\"k\">[</span>subItem<span class=\"k\">.</span>cmdName<span class=\"k\">]</span> <span class=\"k\">||</span> UE<span class=\"k\">.</span>commands<span class=\"k\">[</span>subItem<span class=\"k\">.</span>cmdName<span class=\"k\">]</span> <span class=\"k\">||</span> subItem<span class=\"k\">.</span>query<span class=\"k\">)</span> <span class=\"k\">&amp;&amp;</span>","                                        <span class=\"k\">(</span>subItem<span class=\"k\">.</span>query <span class=\"k\">?</span> subItem<span class=\"k\">.</span>query<span class=\"k\">()</span> <span class=\"k\">:</span> me<span class=\"k\">.</span>queryCommandState<span class=\"k\">(</span> subItem<span class=\"k\">.</span>cmdName <span class=\"k\">))</span> <span class=\"k\">&gt;</span> <span class=\"k\">-</span><span class=\"s\">1</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                                    subMenu<span class=\"k\">.</span>push<span class=\"k\">(</span> <span class=\"k\">{</span>","                                        <span class=\"s\">'label'</span><span class=\"k\">:</span>subItem<span class=\"k\">.</span>label <span class=\"k\">||</span> me<span class=\"k\">.</span>getLang<span class=\"k\">(</span> <span class=\"s\">\"contextMenu.\"</span> <span class=\"k\">+</span> subItem<span class=\"k\">.</span>cmdName <span class=\"k\">+</span> <span class=\"k\">(</span>subItem<span class=\"k\">.</span>value <span class=\"k\">||</span> <span class=\"s\">''</span><span class=\"k\">)</span> <span class=\"k\">),</span>","                                        <span class=\"s\">'className'</span><span class=\"k\">:</span><span class=\"s\">'edui-for-'</span> <span class=\"k\">+</span> subItem<span class=\"k\">.</span>cmdName <span class=\"k\">+</span> <span class=\"k\">(</span>subItem<span class=\"k\">.</span>value <span class=\"k\">||</span> <span class=\"s\">''</span><span class=\"k\">),</span>","                                        onclick<span class=\"k\">:</span>subItem<span class=\"k\">.</span>exec <span class=\"k\">?</span> <span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","                                            subItem<span class=\"k\">.</span>exec<span class=\"k\">.</span>call<span class=\"k\">(</span> me <span class=\"k\">);</span>","                                        <span class=\"k\">}</span> <span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","                                            me<span class=\"k\">.</span>execCommand<span class=\"k\">(</span> subItem<span class=\"k\">.</span>cmdName<span class=\"k\">,</span> subItem<span class=\"k\">.</span>value <span class=\"k\">);</span>","                                        <span class=\"k\">}</span>","                                    <span class=\"k\">}</span> <span class=\"k\">);</span>","                                <span class=\"k\">}</span>","                            <span class=\"k\">}</span>","                        <span class=\"k\">}</span><span class=\"k\">)(</span> cj <span class=\"k\">);</span>","                    <span class=\"k\">}</span>","                    <span class=\"k\">if</span> <span class=\"k\">(</span> subMenu<span class=\"k\">.</span>length <span class=\"k\">)</span> <span class=\"k\">{</span>","                        contextItems<span class=\"k\">.</span>push<span class=\"k\">(</span> <span class=\"k\">{</span>","                            <span class=\"c\">//todo &#20462;&#27491;&#25104;&#33258;&#21160;&#33719;&#21462;&#26041;&#24335;</span>","                            <span class=\"s\">'label'</span><span class=\"k\">:</span>item<span class=\"k\">.</span>icon <span class=\"k\">==</span> <span class=\"s\">\"table\"</span> <span class=\"k\">?</span> me<span class=\"k\">.</span>getLang<span class=\"k\">(</span> <span class=\"s\">\"contextMenu.table\"</span> <span class=\"k\">)</span> <span class=\"k\">:</span> me<span class=\"k\">.</span>getLang<span class=\"k\">(</span> <span class=\"s\">\"contextMenu.paragraph\"</span> <span class=\"k\">),</span>","                            className<span class=\"k\">:</span><span class=\"s\">'edui-for-'</span> <span class=\"k\">+</span> item<span class=\"k\">.</span>icon<span class=\"k\">,</span>","                            <span class=\"s\">'subMenu'</span><span class=\"k\">:</span><span class=\"k\">{</span>","                                items<span class=\"k\">:</span>subMenu<span class=\"k\">,</span>","                                editor<span class=\"k\">:</span>me","                            <span class=\"k\">}</span>","                        <span class=\"k\">}</span> <span class=\"k\">);</span>","                    <span class=\"k\">}</span>","","                <span class=\"k\">}</span> <span class=\"k\">else</span> <span class=\"k\">{</span>","                    <span class=\"c\">//&#26377;&#21487;&#33021;commmand&#27809;&#26377;&#21152;&#36733;&#21491;&#38190;&#19981;&#33021;&#20986;&#26469;&#65292;&#25110;&#32773;&#27809;&#26377;command&#20063;&#24819;&#33021;&#23637;&#31034;&#20986;&#26469;&#28155;&#21152;query&#26041;&#27861;</span>","                    <span class=\"k\">if</span> <span class=\"k\">(</span> <span class=\"k\">(</span>me<span class=\"k\">.</span>commands<span class=\"k\">[</span>item<span class=\"k\">.</span>cmdName<span class=\"k\">]</span> <span class=\"k\">||</span> UE<span class=\"k\">.</span>commands<span class=\"k\">[</span>item<span class=\"k\">.</span>cmdName<span class=\"k\">]</span> <span class=\"k\">||</span> item<span class=\"k\">.</span>query<span class=\"k\">)</span> <span class=\"k\">&amp;&amp;</span>","                            <span class=\"k\">(</span>item<span class=\"k\">.</span>query <span class=\"k\">?</span> item<span class=\"k\">.</span>query<span class=\"k\">.</span>call<span class=\"k\">(</span>me<span class=\"k\">)</span> <span class=\"k\">:</span> me<span class=\"k\">.</span>queryCommandState<span class=\"k\">(</span> item<span class=\"k\">.</span>cmdName <span class=\"k\">))</span> <span class=\"k\">&gt;</span> <span class=\"k\">-</span><span class=\"s\">1</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                        <span class=\"c\">//highlight todo</span>","                        <span class=\"k\">if</span> <span class=\"k\">(</span> item<span class=\"k\">.</span>cmdName <span class=\"k\">==</span> <span class=\"s\">'highlightcode'</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                            <span class=\"k\">if</span><span class=\"k\">(</span>me<span class=\"k\">.</span>queryCommandState<span class=\"k\">(</span> item<span class=\"k\">.</span>cmdName <span class=\"k\">)</span> <span class=\"k\">==</span> <span class=\"s\">1</span> <span class=\"k\">&amp;&amp;</span> item<span class=\"k\">.</span>icon <span class=\"k\">!=</span> <span class=\"s\">'deletehighlightcode'</span><span class=\"k\">)</span><span class=\"k\">{</span>","                                <span class=\"k\">return</span><span class=\"k\">;</span>","                            <span class=\"k\">}</span>","                            <span class=\"k\">if</span><span class=\"k\">(</span>me<span class=\"k\">.</span>queryCommandState<span class=\"k\">(</span> item<span class=\"k\">.</span>cmdName <span class=\"k\">)</span> <span class=\"k\">!=</span> <span class=\"s\">1</span> <span class=\"k\">&amp;&amp;</span> item<span class=\"k\">.</span>icon <span class=\"k\">==</span> <span class=\"s\">'deletehighlightcode'</span><span class=\"k\">)</span><span class=\"k\">{</span>","                                <span class=\"k\">return</span><span class=\"k\">;</span>","                            <span class=\"k\">}</span>","                        <span class=\"k\">}</span>","                        contextItems<span class=\"k\">.</span>push<span class=\"k\">(</span> <span class=\"k\">{</span>","                            <span class=\"s\">'label'</span><span class=\"k\">:</span>item<span class=\"k\">.</span>label <span class=\"k\">||</span> me<span class=\"k\">.</span>getLang<span class=\"k\">(</span> <span class=\"s\">\"contextMenu.\"</span> <span class=\"k\">+</span> item<span class=\"k\">.</span>cmdName <span class=\"k\">),</span>","                            className<span class=\"k\">:</span><span class=\"s\">'edui-for-'</span> <span class=\"k\">+</span> <span class=\"k\">(</span>item<span class=\"k\">.</span>icon <span class=\"k\">?</span> item<span class=\"k\">.</span>icon <span class=\"k\">:</span> item<span class=\"k\">.</span>cmdName <span class=\"k\">+</span> <span class=\"k\">(</span>item<span class=\"k\">.</span>value <span class=\"k\">||</span> <span class=\"s\">''</span><span class=\"k\">)),</span>","                            onclick<span class=\"k\">:</span>item<span class=\"k\">.</span>exec <span class=\"k\">?</span> <span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","                                item<span class=\"k\">.</span>exec<span class=\"k\">.</span>call<span class=\"k\">(</span> me <span class=\"k\">);</span>","                            <span class=\"k\">}</span> <span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","                                me<span class=\"k\">.</span>execCommand<span class=\"k\">(</span> item<span class=\"k\">.</span>cmdName<span class=\"k\">,</span> item<span class=\"k\">.</span>value <span class=\"k\">);</span>","                            <span class=\"k\">}</span>","                        <span class=\"k\">}</span> <span class=\"k\">);</span>","                    <span class=\"k\">}</span>","","                <span class=\"k\">}</span>","","            <span class=\"k\">}</span><span class=\"k\">)(</span> ti <span class=\"k\">);</span>","        <span class=\"k\">}</span>","        <span class=\"k\">if</span> <span class=\"k\">(</span> contextItems<span class=\"k\">[</span>contextItems<span class=\"k\">.</span>length <span class=\"k\">-</span> <span class=\"s\">1</span><span class=\"k\">]</span> <span class=\"k\">==</span> <span class=\"s\">'-'</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","            contextItems<span class=\"k\">.</span>pop<span class=\"k\">();</span>","        <span class=\"k\">}</span>","        menu <span class=\"k\">=</span> <span class=\"k\">new</span> UE<span class=\"k\">.</span>ui<span class=\"k\">.</span>Menu<span class=\"k\">(</span> <span class=\"k\">{</span>","            items<span class=\"k\">:</span>contextItems<span class=\"k\">,</span>","            editor<span class=\"k\">:</span>me","        <span class=\"k\">}</span> <span class=\"k\">);</span>","        menu<span class=\"k\">.</span>render<span class=\"k\">();</span>","        menu<span class=\"k\">.</span>showAt<span class=\"k\">(</span> offset <span class=\"k\">);</span>","        domUtils<span class=\"k\">.</span>preventDefault<span class=\"k\">(</span> evt <span class=\"k\">);</span>","        <span class=\"k\">if</span> <span class=\"k\">(</span> browser<span class=\"k\">.</span>ie <span class=\"k\">)</span> <span class=\"k\">{</span>","            <span class=\"k\">var</span> ieRange<span class=\"k\">;</span>","            <span class=\"k\">try</span> <span class=\"k\">{</span>","                ieRange <span class=\"k\">=</span> me<span class=\"k\">.</span>selection<span class=\"k\">.</span>getNative<span class=\"k\">().</span>createRange<span class=\"k\">();</span>","            <span class=\"k\">}</span> <span class=\"k\">catch</span> <span class=\"k\">(</span> e <span class=\"k\">)</span> <span class=\"k\">{</span>","                <span class=\"k\">return</span><span class=\"k\">;</span>","            <span class=\"k\">}</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span> ieRange<span class=\"k\">.</span>item <span class=\"k\">)</span> <span class=\"k\">{</span>","                <span class=\"k\">var</span> range <span class=\"k\">=</span> <span class=\"k\">new</span> dom<span class=\"k\">.</span>Range<span class=\"k\">(</span> me<span class=\"k\">.</span>document <span class=\"k\">);</span>","                range<span class=\"k\">.</span>selectNode<span class=\"k\">(</span> ieRange<span class=\"k\">.</span>item<span class=\"k\">(</span> <span class=\"s\">0</span> <span class=\"k\">)</span> <span class=\"k\">).</span>select<span class=\"k\">(</span> <span class=\"k\">true</span><span class=\"k\">,</span> <span class=\"k\">true</span> <span class=\"k\">);</span>","","            <span class=\"k\">}</span>","        <span class=\"k\">}</span>","    <span class=\"k\">}</span> <span class=\"k\">);</span>","<span class=\"k\">}</span><span class=\"k\">;</span>","",""]);
_$jscoverage['plugins/convertcase.js'] && (_$jscoverage['plugins/convertcase.js'].source = ["<span class=\"c\">///import core</span>","<span class=\"c\">///commands &#22823;&#23567;&#20889;&#36716;&#25442;</span>","<span class=\"c\">///commandsName touppercase</span>","<span class=\"c\">///commandsName tolowercase</span>","<span class=\"c\">///commandsTitle  &#22823;&#23567;&#20889;&#36716;&#25442;</span>","<span class=\"c\">/**</span>","<span class=\"c\"> * &#22823;&#23567;&#20889;&#36716;&#25442;</span>","<span class=\"c\"> * @function</span>","<span class=\"c\"> * @name baidu.editor.execCommands</span>","<span class=\"c\"> * @param    {String}    cmdName     cmdName=\"convertcase\"</span>","<span class=\"c\"> */</span>","UE<span class=\"k\">.</span>commands<span class=\"k\">[</span><span class=\"s\">'touppercase'</span><span class=\"k\">]</span> <span class=\"k\">=</span>","UE<span class=\"k\">.</span>commands<span class=\"k\">[</span><span class=\"s\">'tolowercase'</span><span class=\"k\">]</span> <span class=\"k\">=</span> <span class=\"k\">{</span>","    execCommand<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">(</span>cmd<span class=\"k\">)</span> <span class=\"k\">{</span>","        <span class=\"k\">var</span> me <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">,</span>rng <span class=\"k\">=</span> <span class=\"k\">new</span> dom<span class=\"k\">.</span>Range<span class=\"k\">(</span>me<span class=\"k\">.</span>document<span class=\"k\">),</span>","            convertCase <span class=\"k\">=</span> <span class=\"k\">function</span><span class=\"k\">()</span><span class=\"k\">{</span>","                <span class=\"k\">var</span> rng <span class=\"k\">=</span> me<span class=\"k\">.</span>selection<span class=\"k\">.</span>getRange<span class=\"k\">();</span>","","                <span class=\"k\">if</span><span class=\"k\">(</span>rng<span class=\"k\">.</span>collapsed<span class=\"k\">)</span><span class=\"k\">{</span>","                    <span class=\"k\">return</span> rng<span class=\"k\">;</span>","                <span class=\"k\">}</span>","","                <span class=\"k\">var</span> bk <span class=\"k\">=</span> rng<span class=\"k\">.</span>createBookmark<span class=\"k\">(),</span>","                    bkEnd <span class=\"k\">=</span> bk<span class=\"k\">.</span>end<span class=\"k\">,</span>","                    filterFn <span class=\"k\">=</span> <span class=\"k\">function</span><span class=\"k\">(</span> node <span class=\"k\">)</span> <span class=\"k\">{</span>","                        <span class=\"k\">return</span> <span class=\"k\">!</span>domUtils<span class=\"k\">.</span>isBr<span class=\"k\">(</span>node<span class=\"k\">)</span> <span class=\"k\">&amp;&amp;</span> <span class=\"k\">!</span>domUtils<span class=\"k\">.</span>isWhitespace<span class=\"k\">(</span> node <span class=\"k\">);</span>","                    <span class=\"k\">}</span><span class=\"k\">,</span>","                    curNode <span class=\"k\">=</span> domUtils<span class=\"k\">.</span>getNextDomNode<span class=\"k\">(</span> bk<span class=\"k\">.</span>start<span class=\"k\">,</span> <span class=\"k\">false</span><span class=\"k\">,</span> filterFn <span class=\"k\">);</span>","","                <span class=\"k\">while</span> <span class=\"k\">(</span> curNode <span class=\"k\">&amp;&amp;</span> <span class=\"k\">(</span>domUtils<span class=\"k\">.</span>getPosition<span class=\"k\">(</span> curNode<span class=\"k\">,</span> bkEnd <span class=\"k\">)</span> <span class=\"k\">&amp;</span> domUtils<span class=\"k\">.</span>POSITION_PRECEDING<span class=\"k\">)</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","","                    <span class=\"k\">if</span> <span class=\"k\">(</span> curNode<span class=\"k\">.</span>nodeType <span class=\"k\">==</span> <span class=\"s\">3</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                        curNode<span class=\"k\">.</span>nodeValue <span class=\"k\">=</span> curNode<span class=\"k\">.</span>nodeValue<span class=\"k\">[</span>cmd <span class=\"k\">==</span> <span class=\"s\">'touppercase'</span> <span class=\"k\">?</span> <span class=\"s\">'toUpperCase'</span> <span class=\"k\">:</span> <span class=\"s\">'toLowerCase'</span><span class=\"k\">]();</span>","                    <span class=\"k\">}</span>","                    curNode <span class=\"k\">=</span> domUtils<span class=\"k\">.</span>getNextDomNode<span class=\"k\">(</span> curNode<span class=\"k\">,</span> <span class=\"k\">true</span><span class=\"k\">,</span> filterFn <span class=\"k\">);</span>","                    <span class=\"k\">if</span><span class=\"k\">(</span>curNode <span class=\"k\">===</span> bkEnd<span class=\"k\">)</span><span class=\"k\">{</span>","                        <span class=\"k\">break</span><span class=\"k\">;</span>","                    <span class=\"k\">}</span>","","                <span class=\"k\">}</span>","                <span class=\"k\">return</span> rng<span class=\"k\">.</span>moveToBookmark<span class=\"k\">(</span>bk<span class=\"k\">);</span>","","            <span class=\"k\">}</span><span class=\"k\">;</span>","","        <span class=\"c\">//table&#30340;&#22788;&#29702;</span>","        <span class=\"k\">if</span><span class=\"k\">(</span>me<span class=\"k\">.</span>currentSelectedArr <span class=\"k\">&amp;&amp;</span> me<span class=\"k\">.</span>currentSelectedArr<span class=\"k\">.</span>length <span class=\"k\">&gt;</span> <span class=\"s\">0</span><span class=\"k\">)</span><span class=\"k\">{</span>","            <span class=\"k\">for</span><span class=\"k\">(</span><span class=\"k\">var</span> i<span class=\"k\">=</span><span class=\"s\">0</span><span class=\"k\">,</span>ci<span class=\"k\">;</span>ci<span class=\"k\">=</span>me<span class=\"k\">.</span>currentSelectedArr<span class=\"k\">[</span>i<span class=\"k\">++];)</span><span class=\"k\">{</span>","                <span class=\"k\">if</span><span class=\"k\">(</span>ci<span class=\"k\">.</span>style<span class=\"k\">.</span>display <span class=\"k\">!=</span> <span class=\"s\">'none'</span> <span class=\"k\">&amp;&amp;</span> <span class=\"k\">!</span>domUtils<span class=\"k\">.</span>isEmptyBlock<span class=\"k\">(</span>ci<span class=\"k\">))</span><span class=\"k\">{</span>","                    rng<span class=\"k\">.</span>selectNodeContents<span class=\"k\">(</span>ci<span class=\"k\">).</span>select<span class=\"k\">();</span>","                    convertCase<span class=\"k\">();</span>","                <span class=\"k\">}</span>","","            <span class=\"k\">}</span>","            rng<span class=\"k\">.</span>selectNodeContents<span class=\"k\">(</span>me<span class=\"k\">.</span>currentSelectedArr<span class=\"k\">[</span><span class=\"s\">0</span><span class=\"k\">]).</span>select<span class=\"k\">();</span>","        <span class=\"k\">}</span><span class=\"k\">else</span><span class=\"k\">{</span>","            convertCase<span class=\"k\">().</span>select<span class=\"k\">();</span>","        <span class=\"k\">}</span>","    <span class=\"k\">}</span><span class=\"k\">,</span>","    queryCommandState<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","        <span class=\"k\">return</span> <span class=\"k\">this</span><span class=\"k\">.</span>highlight <span class=\"k\">?</span> <span class=\"k\">-</span><span class=\"s\">1</span> <span class=\"k\">:</span> <span class=\"s\">0</span><span class=\"k\">;</span>","    <span class=\"k\">}</span>","<span class=\"k\">}</span><span class=\"k\">;</span>",""]);
_$jscoverage['plugins/customstyle.js'] && (_$jscoverage['plugins/customstyle.js'].source = ["<span class=\"c\">///import core</span>","<span class=\"c\">///commands &#33258;&#23450;&#20041;&#26679;&#24335;</span>","<span class=\"c\">///commandsName  CustomStyle</span>","<span class=\"c\">///commandsTitle  &#33258;&#23450;&#20041;&#26679;&#24335;</span>","UE<span class=\"k\">.</span>plugins<span class=\"k\">[</span><span class=\"s\">'customstyle'</span><span class=\"k\">]</span> <span class=\"k\">=</span> <span class=\"k\">function</span><span class=\"k\">()</span> <span class=\"k\">{</span>","    <span class=\"k\">var</span> me <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">;</span>","    me<span class=\"k\">.</span>setOpt<span class=\"k\">(</span><span class=\"k\">{</span> <span class=\"s\">'customstyle'</span><span class=\"k\">:[</span>","        <span class=\"k\">{</span>tag<span class=\"k\">:</span><span class=\"s\">'h1'</span><span class=\"k\">,</span>name<span class=\"k\">:</span><span class=\"s\">'tc'</span><span class=\"k\">,</span> style<span class=\"k\">:</span><span class=\"s\">'font-size:32px;font-weight:bold;border-bottom:#ccc 2px solid;padding:0 4px 0 0;text-align:center;margin:0 0 20px 0;'</span><span class=\"k\">}</span><span class=\"k\">,</span>","        <span class=\"k\">{</span>tag<span class=\"k\">:</span><span class=\"s\">'h1'</span><span class=\"k\">,</span>name<span class=\"k\">:</span><span class=\"s\">'tl'</span><span class=\"k\">,</span> style<span class=\"k\">:</span><span class=\"s\">'font-size:32px;font-weight:bold;border-bottom:#ccc 2px solid;padding:0 4px 0 0;text-align:left;margin:0 0 10px 0;'</span><span class=\"k\">}</span><span class=\"k\">,</span>","        <span class=\"k\">{</span>tag<span class=\"k\">:</span><span class=\"s\">'span'</span><span class=\"k\">,</span>name<span class=\"k\">:</span><span class=\"s\">'im'</span><span class=\"k\">,</span> style<span class=\"k\">:</span><span class=\"s\">'font-size:16px;font-style:italic;font-weight:bold;line-height:18px;'</span><span class=\"k\">}</span><span class=\"k\">,</span>","        <span class=\"k\">{</span>tag<span class=\"k\">:</span><span class=\"s\">'span'</span><span class=\"k\">,</span>name<span class=\"k\">:</span><span class=\"s\">'hi'</span><span class=\"k\">,</span> style<span class=\"k\">:</span><span class=\"s\">'font-size:16px;font-style:italic;font-weight:bold;color:rgb(51, 153, 204);line-height:18px;'</span><span class=\"k\">}</span>","    <span class=\"k\">]</span><span class=\"k\">}</span><span class=\"k\">);</span>","    me<span class=\"k\">.</span>commands<span class=\"k\">[</span><span class=\"s\">'customstyle'</span><span class=\"k\">]</span> <span class=\"k\">=</span> <span class=\"k\">{</span>","        execCommand <span class=\"k\">:</span> <span class=\"k\">function</span><span class=\"k\">(</span>cmdName<span class=\"k\">,</span> obj<span class=\"k\">)</span> <span class=\"k\">{</span>","            <span class=\"k\">var</span> me <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">,</span>","                    tagName <span class=\"k\">=</span> obj<span class=\"k\">.</span>tag<span class=\"k\">,</span>","                    node <span class=\"k\">=</span> domUtils<span class=\"k\">.</span>findParent<span class=\"k\">(</span>me<span class=\"k\">.</span>selection<span class=\"k\">.</span>getStart<span class=\"k\">(),</span> <span class=\"k\">function</span><span class=\"k\">(</span>node<span class=\"k\">)</span> <span class=\"k\">{</span>","                        <span class=\"k\">return</span> node<span class=\"k\">.</span>getAttribute<span class=\"k\">(</span><span class=\"s\">'label'</span><span class=\"k\">);</span>","                    <span class=\"k\">}</span><span class=\"k\">,</span> <span class=\"k\">true</span><span class=\"k\">),</span>","                    range<span class=\"k\">,</span>bk<span class=\"k\">,</span>tmpObj <span class=\"k\">=</span> <span class=\"k\">{}</span><span class=\"k\">;</span>","            <span class=\"k\">for</span> <span class=\"k\">(</span><span class=\"k\">var</span> p <span class=\"k\">in</span> obj<span class=\"k\">)</span> <span class=\"k\">{</span>","                tmpObj<span class=\"k\">[</span>p<span class=\"k\">]</span> <span class=\"k\">=</span> obj<span class=\"k\">[</span>p<span class=\"k\">];</span>","            <span class=\"k\">}</span>","            <span class=\"k\">delete</span> tmpObj<span class=\"k\">.</span>tag<span class=\"k\">;</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span>node <span class=\"k\">&amp;&amp;</span> node<span class=\"k\">.</span>getAttribute<span class=\"k\">(</span><span class=\"s\">'label'</span><span class=\"k\">)</span> <span class=\"k\">==</span> obj<span class=\"k\">.</span>label<span class=\"k\">)</span> <span class=\"k\">{</span>","                range <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>selection<span class=\"k\">.</span>getRange<span class=\"k\">();</span>","                bk <span class=\"k\">=</span> range<span class=\"k\">.</span>createBookmark<span class=\"k\">();</span>","                <span class=\"k\">if</span> <span class=\"k\">(</span>range<span class=\"k\">.</span>collapsed<span class=\"k\">)</span> <span class=\"k\">{</span>","                    <span class=\"c\">//trace:1732 &#21024;&#25481;&#33258;&#23450;&#20041;&#26631;&#31614;&#65292;&#35201;&#26377;p&#26469;&#22238;&#22635;&#31449;&#20301;</span>","                    <span class=\"k\">if</span><span class=\"k\">(</span>dtd<span class=\"k\">.</span>$block<span class=\"k\">[</span>node<span class=\"k\">.</span>tagName<span class=\"k\">])</span><span class=\"k\">{</span>","                        <span class=\"k\">var</span> fillNode <span class=\"k\">=</span> me<span class=\"k\">.</span>document<span class=\"k\">.</span>createElement<span class=\"k\">(</span><span class=\"s\">'p'</span><span class=\"k\">);</span>","                        domUtils<span class=\"k\">.</span>moveChild<span class=\"k\">(</span>node<span class=\"k\">,</span> fillNode<span class=\"k\">);</span>","                        node<span class=\"k\">.</span>parentNode<span class=\"k\">.</span>insertBefore<span class=\"k\">(</span>fillNode<span class=\"k\">,</span> node<span class=\"k\">);</span>","                        domUtils<span class=\"k\">.</span>remove<span class=\"k\">(</span>node<span class=\"k\">);</span>","                    <span class=\"k\">}</span><span class=\"k\">else</span><span class=\"k\">{</span>","                        domUtils<span class=\"k\">.</span>remove<span class=\"k\">(</span>node<span class=\"k\">,</span><span class=\"k\">true</span><span class=\"k\">);</span>","                    <span class=\"k\">}</span>","","                <span class=\"k\">}</span> <span class=\"k\">else</span> <span class=\"k\">{</span>","","                    <span class=\"k\">var</span> common <span class=\"k\">=</span> domUtils<span class=\"k\">.</span>getCommonAncestor<span class=\"k\">(</span>bk<span class=\"k\">.</span>start<span class=\"k\">,</span> bk<span class=\"k\">.</span>end<span class=\"k\">),</span>","                            nodes <span class=\"k\">=</span> domUtils<span class=\"k\">.</span>getElementsByTagName<span class=\"k\">(</span>common<span class=\"k\">,</span> tagName<span class=\"k\">);</span>","                    <span class=\"k\">if</span><span class=\"k\">(</span><span class=\"k\">new</span> RegExp<span class=\"k\">(</span>tagName<span class=\"k\">,</span><span class=\"s\">'i'</span><span class=\"k\">).</span>test<span class=\"k\">(</span>common<span class=\"k\">.</span>tagName<span class=\"k\">))</span><span class=\"k\">{</span>","                        nodes<span class=\"k\">.</span>push<span class=\"k\">(</span>common<span class=\"k\">);</span>","                    <span class=\"k\">}</span>","                    <span class=\"k\">for</span> <span class=\"k\">(</span><span class=\"k\">var</span> i <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">,</span>ni<span class=\"k\">;</span> ni <span class=\"k\">=</span> nodes<span class=\"k\">[</span>i<span class=\"k\">++];)</span> <span class=\"k\">{</span>","                        <span class=\"k\">if</span> <span class=\"k\">(</span>ni<span class=\"k\">.</span>getAttribute<span class=\"k\">(</span><span class=\"s\">'label'</span><span class=\"k\">)</span> <span class=\"k\">==</span> obj<span class=\"k\">.</span>label<span class=\"k\">)</span> <span class=\"k\">{</span>","                            <span class=\"k\">var</span> ps <span class=\"k\">=</span> domUtils<span class=\"k\">.</span>getPosition<span class=\"k\">(</span>ni<span class=\"k\">,</span> bk<span class=\"k\">.</span>start<span class=\"k\">),</span>pe <span class=\"k\">=</span> domUtils<span class=\"k\">.</span>getPosition<span class=\"k\">(</span>ni<span class=\"k\">,</span> bk<span class=\"k\">.</span>end<span class=\"k\">);</span>","                            <span class=\"k\">if</span> <span class=\"k\">((</span>ps <span class=\"k\">&amp;</span> domUtils<span class=\"k\">.</span>POSITION_FOLLOWING <span class=\"k\">||</span> ps <span class=\"k\">&amp;</span> domUtils<span class=\"k\">.</span>POSITION_CONTAINS<span class=\"k\">)</span>","                                    <span class=\"k\">&amp;&amp;</span>","                                    <span class=\"k\">(</span>pe <span class=\"k\">&amp;</span> domUtils<span class=\"k\">.</span>POSITION_PRECEDING <span class=\"k\">||</span> pe <span class=\"k\">&amp;</span> domUtils<span class=\"k\">.</span>POSITION_CONTAINS<span class=\"k\">)</span>","                                    <span class=\"k\">)</span>","                                <span class=\"k\">if</span> <span class=\"k\">(</span>dtd<span class=\"k\">.</span>$block<span class=\"k\">[</span>tagName<span class=\"k\">])</span> <span class=\"k\">{</span>","                                    <span class=\"k\">var</span> fillNode <span class=\"k\">=</span> me<span class=\"k\">.</span>document<span class=\"k\">.</span>createElement<span class=\"k\">(</span><span class=\"s\">'p'</span><span class=\"k\">);</span>","                                    domUtils<span class=\"k\">.</span>moveChild<span class=\"k\">(</span>ni<span class=\"k\">,</span> fillNode<span class=\"k\">);</span>","                                    ni<span class=\"k\">.</span>parentNode<span class=\"k\">.</span>insertBefore<span class=\"k\">(</span>fillNode<span class=\"k\">,</span> ni<span class=\"k\">);</span>","                                <span class=\"k\">}</span>","                            domUtils<span class=\"k\">.</span>remove<span class=\"k\">(</span>ni<span class=\"k\">,</span> <span class=\"k\">true</span><span class=\"k\">);</span>","                        <span class=\"k\">}</span>","                    <span class=\"k\">}</span>","                    node <span class=\"k\">=</span> domUtils<span class=\"k\">.</span>findParent<span class=\"k\">(</span>common<span class=\"k\">,</span> <span class=\"k\">function</span><span class=\"k\">(</span>node<span class=\"k\">)</span> <span class=\"k\">{</span>","                        <span class=\"k\">return</span> node<span class=\"k\">.</span>getAttribute<span class=\"k\">(</span><span class=\"s\">'label'</span><span class=\"k\">)</span> <span class=\"k\">==</span> obj<span class=\"k\">.</span>label<span class=\"k\">;</span>","                    <span class=\"k\">}</span><span class=\"k\">,</span> <span class=\"k\">true</span><span class=\"k\">);</span>","                    <span class=\"k\">if</span> <span class=\"k\">(</span>node<span class=\"k\">)</span> <span class=\"k\">{</span>","","                        domUtils<span class=\"k\">.</span>remove<span class=\"k\">(</span>node<span class=\"k\">,</span> <span class=\"k\">true</span><span class=\"k\">);</span>","","                    <span class=\"k\">}</span>","","                <span class=\"k\">}</span>","                range<span class=\"k\">.</span>moveToBookmark<span class=\"k\">(</span>bk<span class=\"k\">).</span>select<span class=\"k\">();</span>","            <span class=\"k\">}</span> <span class=\"k\">else</span> <span class=\"k\">{</span>","                <span class=\"k\">if</span> <span class=\"k\">(</span>dtd<span class=\"k\">.</span>$block<span class=\"k\">[</span>tagName<span class=\"k\">])</span> <span class=\"k\">{</span>","                    <span class=\"k\">this</span><span class=\"k\">.</span>execCommand<span class=\"k\">(</span><span class=\"s\">'paragraph'</span><span class=\"k\">,</span> tagName<span class=\"k\">,</span> tmpObj<span class=\"k\">,</span><span class=\"s\">'customstyle'</span><span class=\"k\">);</span>","                    range <span class=\"k\">=</span> me<span class=\"k\">.</span>selection<span class=\"k\">.</span>getRange<span class=\"k\">();</span>","                    <span class=\"k\">if</span> <span class=\"k\">(!</span>range<span class=\"k\">.</span>collapsed<span class=\"k\">)</span> <span class=\"k\">{</span>","                        range<span class=\"k\">.</span>collapse<span class=\"k\">();</span>","                        node <span class=\"k\">=</span> domUtils<span class=\"k\">.</span>findParent<span class=\"k\">(</span>me<span class=\"k\">.</span>selection<span class=\"k\">.</span>getStart<span class=\"k\">(),</span> <span class=\"k\">function</span><span class=\"k\">(</span>node<span class=\"k\">)</span> <span class=\"k\">{</span>","                            <span class=\"k\">return</span> node<span class=\"k\">.</span>getAttribute<span class=\"k\">(</span><span class=\"s\">'label'</span><span class=\"k\">)</span> <span class=\"k\">==</span> obj<span class=\"k\">.</span>label<span class=\"k\">;</span>","                        <span class=\"k\">}</span><span class=\"k\">,</span> <span class=\"k\">true</span><span class=\"k\">);</span>","                        <span class=\"k\">var</span> pNode <span class=\"k\">=</span> me<span class=\"k\">.</span>document<span class=\"k\">.</span>createElement<span class=\"k\">(</span><span class=\"s\">'p'</span><span class=\"k\">);</span>","                        domUtils<span class=\"k\">.</span>insertAfter<span class=\"k\">(</span>node<span class=\"k\">,</span> pNode<span class=\"k\">);</span>","                        domUtils<span class=\"k\">.</span>fillNode<span class=\"k\">(</span>me<span class=\"k\">.</span>document<span class=\"k\">,</span> pNode<span class=\"k\">);</span>","                        range<span class=\"k\">.</span>setStart<span class=\"k\">(</span>pNode<span class=\"k\">,</span> <span class=\"s\">0</span><span class=\"k\">).</span>setCursor<span class=\"k\">();</span>","                    <span class=\"k\">}</span>","                <span class=\"k\">}</span> <span class=\"k\">else</span> <span class=\"k\">{</span>","","                    range <span class=\"k\">=</span> me<span class=\"k\">.</span>selection<span class=\"k\">.</span>getRange<span class=\"k\">();</span>","                    <span class=\"k\">if</span> <span class=\"k\">(</span>range<span class=\"k\">.</span>collapsed<span class=\"k\">)</span> <span class=\"k\">{</span>","                        node <span class=\"k\">=</span> me<span class=\"k\">.</span>document<span class=\"k\">.</span>createElement<span class=\"k\">(</span>tagName<span class=\"k\">);</span>","                        domUtils<span class=\"k\">.</span>setAttributes<span class=\"k\">(</span>node<span class=\"k\">,</span> tmpObj<span class=\"k\">);</span>","                        range<span class=\"k\">.</span>insertNode<span class=\"k\">(</span>node<span class=\"k\">).</span>setStart<span class=\"k\">(</span>node<span class=\"k\">,</span> <span class=\"s\">0</span><span class=\"k\">).</span>setCursor<span class=\"k\">();</span>","","                        <span class=\"k\">return</span><span class=\"k\">;</span>","                    <span class=\"k\">}</span>","","                    bk <span class=\"k\">=</span> range<span class=\"k\">.</span>createBookmark<span class=\"k\">();</span>","                    range<span class=\"k\">.</span>applyInlineStyle<span class=\"k\">(</span>tagName<span class=\"k\">,</span> tmpObj<span class=\"k\">).</span>moveToBookmark<span class=\"k\">(</span>bk<span class=\"k\">).</span>select<span class=\"k\">();</span>","                <span class=\"k\">}</span>","            <span class=\"k\">}</span>","","        <span class=\"k\">}</span><span class=\"k\">,</span>","        queryCommandValue <span class=\"k\">:</span> <span class=\"k\">function</span><span class=\"k\">()</span> <span class=\"k\">{</span>","            <span class=\"k\">var</span> parent <span class=\"k\">=</span> utils<span class=\"k\">.</span>findNode<span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>selection<span class=\"k\">.</span>getStartElementPath<span class=\"k\">(),</span><span class=\"k\">null</span><span class=\"k\">,</span><span class=\"k\">function</span><span class=\"k\">(</span>node<span class=\"k\">)</span><span class=\"k\">{</span><span class=\"k\">return</span> node<span class=\"k\">.</span>getAttribute<span class=\"k\">(</span><span class=\"s\">'label'</span><span class=\"k\">)</span><span class=\"k\">}</span><span class=\"k\">);</span>","            <span class=\"k\">return</span>  parent <span class=\"k\">?</span> parent<span class=\"k\">.</span>getAttribute<span class=\"k\">(</span><span class=\"s\">'label'</span><span class=\"k\">)</span> <span class=\"k\">:</span> <span class=\"s\">''</span><span class=\"k\">;</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        queryCommandState <span class=\"k\">:</span> <span class=\"k\">function</span><span class=\"k\">()</span> <span class=\"k\">{</span>","            <span class=\"k\">return</span> <span class=\"k\">this</span><span class=\"k\">.</span>highlight <span class=\"k\">?</span> <span class=\"k\">-</span><span class=\"s\">1</span> <span class=\"k\">:</span> <span class=\"s\">0</span><span class=\"k\">;</span>","        <span class=\"k\">}</span>","    <span class=\"k\">}</span><span class=\"k\">;</span>","    <span class=\"c\">//&#24403;&#21435;&#25481;customstyle&#26159;&#65292;&#22914;&#26524;&#26159;&#22359;&#20803;&#32032;&#65292;&#29992;p&#20195;&#26367;</span>","    me<span class=\"k\">.</span>addListener<span class=\"k\">(</span><span class=\"s\">'keyup'</span><span class=\"k\">,</span> <span class=\"k\">function</span><span class=\"k\">(</span>type<span class=\"k\">,</span> evt<span class=\"k\">)</span> <span class=\"k\">{</span>","        <span class=\"k\">var</span> keyCode <span class=\"k\">=</span> evt<span class=\"k\">.</span>keyCode <span class=\"k\">||</span> evt<span class=\"k\">.</span>which<span class=\"k\">;</span>","","        <span class=\"k\">if</span> <span class=\"k\">(</span>keyCode <span class=\"k\">==</span> <span class=\"s\">32</span> <span class=\"k\">||</span> keyCode <span class=\"k\">==</span> <span class=\"s\">13</span><span class=\"k\">)</span> <span class=\"k\">{</span>","            <span class=\"k\">var</span> range <span class=\"k\">=</span> me<span class=\"k\">.</span>selection<span class=\"k\">.</span>getRange<span class=\"k\">();</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span>range<span class=\"k\">.</span>collapsed<span class=\"k\">)</span> <span class=\"k\">{</span>","                <span class=\"k\">var</span> node <span class=\"k\">=</span> domUtils<span class=\"k\">.</span>findParent<span class=\"k\">(</span>me<span class=\"k\">.</span>selection<span class=\"k\">.</span>getStart<span class=\"k\">(),</span> <span class=\"k\">function</span><span class=\"k\">(</span>node<span class=\"k\">)</span> <span class=\"k\">{</span>","                    <span class=\"k\">return</span> node<span class=\"k\">.</span>getAttribute<span class=\"k\">(</span><span class=\"s\">'label'</span><span class=\"k\">);</span>","                <span class=\"k\">}</span><span class=\"k\">,</span> <span class=\"k\">true</span><span class=\"k\">);</span>","                <span class=\"k\">if</span> <span class=\"k\">(</span>node <span class=\"k\">&amp;&amp;</span> dtd<span class=\"k\">.</span>$block<span class=\"k\">[</span>node<span class=\"k\">.</span>tagName<span class=\"k\">]</span> <span class=\"k\">&amp;&amp;</span> domUtils<span class=\"k\">.</span>isEmptyNode<span class=\"k\">(</span>node<span class=\"k\">))</span> <span class=\"k\">{</span>","                        <span class=\"k\">var</span> p <span class=\"k\">=</span> me<span class=\"k\">.</span>document<span class=\"k\">.</span>createElement<span class=\"k\">(</span><span class=\"s\">'p'</span><span class=\"k\">);</span>","                        domUtils<span class=\"k\">.</span>insertAfter<span class=\"k\">(</span>node<span class=\"k\">,</span> p<span class=\"k\">);</span>","                        domUtils<span class=\"k\">.</span>fillNode<span class=\"k\">(</span>me<span class=\"k\">.</span>document<span class=\"k\">,</span> p<span class=\"k\">);</span>","                        domUtils<span class=\"k\">.</span>remove<span class=\"k\">(</span>node<span class=\"k\">);</span>","                        range<span class=\"k\">.</span>setStart<span class=\"k\">(</span>p<span class=\"k\">,</span> <span class=\"s\">0</span><span class=\"k\">).</span>setCursor<span class=\"k\">();</span>","","","                <span class=\"k\">}</span>","            <span class=\"k\">}</span>","        <span class=\"k\">}</span>","    <span class=\"k\">}</span><span class=\"k\">);</span>","<span class=\"k\">}</span><span class=\"k\">;</span>"]);
_$jscoverage['plugins/delete.js'] && (_$jscoverage['plugins/delete.js'].source = ["<span class=\"c\">///import core</span>","<span class=\"c\">///commands &#21024;&#38500;</span>","<span class=\"c\">///commandsName  Delete</span>","<span class=\"c\">///commandsTitle  &#21024;&#38500;</span>","<span class=\"c\">/**</span>","<span class=\"c\"> * &#21024;&#38500;</span>","<span class=\"c\"> * @function</span>","<span class=\"c\"> * @name baidu.editor.execCommand</span>","<span class=\"c\"> * @param  {String}    cmdName    delete&#21024;&#38500;</span>","<span class=\"c\"> * @author zhanyi</span>","<span class=\"c\"> */</span>","UE<span class=\"k\">.</span>commands<span class=\"k\">[</span><span class=\"s\">'delete'</span><span class=\"k\">]</span> <span class=\"k\">=</span> <span class=\"k\">{</span>","    execCommand <span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">()</span><span class=\"k\">{</span>","","        <span class=\"k\">var</span> range <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>selection<span class=\"k\">.</span>getRange<span class=\"k\">(),</span>","            mStart <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">,</span>","            mEnd <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">,</span>","            me <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">;</span>","        <span class=\"k\">if</span><span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>selectAll <span class=\"k\">)</span><span class=\"k\">{</span>","            <span class=\"c\">//trace:1633</span>","            me<span class=\"k\">.</span>body<span class=\"k\">.</span>innerHTML <span class=\"k\">=</span> <span class=\"s\">'&lt;p&gt;'</span><span class=\"k\">+(</span>browser<span class=\"k\">.</span>ie <span class=\"k\">?</span> <span class=\"s\">'&amp;nbsp;'</span> <span class=\"k\">:</span> <span class=\"s\">'&lt;br/&gt;'</span><span class=\"k\">)+</span><span class=\"s\">'&lt;/p&gt;'</span><span class=\"k\">;</span>","","            range<span class=\"k\">.</span>setStart<span class=\"k\">(</span>me<span class=\"k\">.</span>body<span class=\"k\">.</span>firstChild<span class=\"k\">,</span><span class=\"s\">0</span><span class=\"k\">).</span>setCursor<span class=\"k\">(</span><span class=\"k\">false</span><span class=\"k\">,</span><span class=\"k\">true</span><span class=\"k\">);</span>","","            me<span class=\"k\">.</span>selectAll <span class=\"k\">=</span> <span class=\"k\">false</span><span class=\"k\">;</span>","            <span class=\"k\">return</span><span class=\"k\">;</span>","        <span class=\"k\">}</span>","        <span class=\"k\">if</span><span class=\"k\">(</span>me<span class=\"k\">.</span>currentSelectedArr <span class=\"k\">&amp;&amp;</span> me<span class=\"k\">.</span>currentSelectedArr<span class=\"k\">.</span>length <span class=\"k\">&gt;</span> <span class=\"s\">0</span><span class=\"k\">)</span><span class=\"k\">{</span>","            <span class=\"k\">for</span><span class=\"k\">(</span><span class=\"k\">var</span> i<span class=\"k\">=</span><span class=\"s\">0</span><span class=\"k\">,</span>ci<span class=\"k\">;</span>ci<span class=\"k\">=</span>me<span class=\"k\">.</span>currentSelectedArr<span class=\"k\">[</span>i<span class=\"k\">++];)</span><span class=\"k\">{</span>","                <span class=\"k\">if</span><span class=\"k\">(</span>ci<span class=\"k\">.</span>style<span class=\"k\">.</span>display <span class=\"k\">!=</span> <span class=\"s\">'none'</span><span class=\"k\">)</span><span class=\"k\">{</span>","                    ci<span class=\"k\">.</span>innerHTML <span class=\"k\">=</span> browser<span class=\"k\">.</span>ie <span class=\"k\">?</span> domUtils<span class=\"k\">.</span>fillChar <span class=\"k\">:</span> <span class=\"s\">'&lt;br/&gt;'</span><span class=\"k\">;</span>","                <span class=\"k\">}</span>","","            <span class=\"k\">}</span>","            range<span class=\"k\">.</span>setStart<span class=\"k\">(</span>me<span class=\"k\">.</span>currentSelectedArr<span class=\"k\">[</span><span class=\"s\">0</span><span class=\"k\">],</span><span class=\"s\">0</span><span class=\"k\">).</span>setCursor<span class=\"k\">();</span>","            <span class=\"k\">return</span><span class=\"k\">;</span>","        <span class=\"k\">}</span>","        <span class=\"k\">if</span><span class=\"k\">(</span>range<span class=\"k\">.</span>collapsed<span class=\"k\">)</span><span class=\"k\">{</span>","            <span class=\"k\">return</span><span class=\"k\">;</span>","        <span class=\"k\">}</span>","        range<span class=\"k\">.</span>txtToElmBoundary<span class=\"k\">();</span>","        <span class=\"c\">//&amp;&amp; !domUtils.isBlockElm(range.startContainer)</span>","        <span class=\"k\">while</span><span class=\"k\">(!</span>range<span class=\"k\">.</span>startOffset <span class=\"k\">&amp;&amp;</span>  <span class=\"k\">!</span>domUtils<span class=\"k\">.</span>isBody<span class=\"k\">(</span>range<span class=\"k\">.</span>startContainer<span class=\"k\">)</span> <span class=\"k\">&amp;&amp;</span>  <span class=\"k\">!</span>dtd<span class=\"k\">.</span>$tableContent<span class=\"k\">[</span>range<span class=\"k\">.</span>startContainer<span class=\"k\">.</span>tagName<span class=\"k\">]</span> <span class=\"k\">)</span><span class=\"k\">{</span>","            mStart <span class=\"k\">=</span> <span class=\"s\">1</span><span class=\"k\">;</span>","            range<span class=\"k\">.</span>setStartBefore<span class=\"k\">(</span>range<span class=\"k\">.</span>startContainer<span class=\"k\">);</span>","        <span class=\"k\">}</span>","        <span class=\"c\">//&amp;&amp; !domUtils.isBlockElm(range.endContainer)</span>","        <span class=\"c\">//&#19981;&#23545;&#25991;&#26412;&#33410;&#28857;&#36827;&#34892;&#25805;&#20316;</span>","        <span class=\"c\">//trace:2428</span>","        <span class=\"k\">while</span><span class=\"k\">(</span>range<span class=\"k\">.</span>endContainer<span class=\"k\">.</span>nodeType <span class=\"k\">!=</span> <span class=\"s\">3</span> <span class=\"k\">&amp;&amp;</span> <span class=\"k\">!</span>domUtils<span class=\"k\">.</span>isBody<span class=\"k\">(</span>range<span class=\"k\">.</span>endContainer<span class=\"k\">)&amp;&amp;</span>  <span class=\"k\">!</span>dtd<span class=\"k\">.</span>$tableContent<span class=\"k\">[</span>range<span class=\"k\">.</span>endContainer<span class=\"k\">.</span>tagName<span class=\"k\">]</span>  <span class=\"k\">)</span><span class=\"k\">{</span>","            <span class=\"k\">var</span> child<span class=\"k\">,</span>endContainer <span class=\"k\">=</span> range<span class=\"k\">.</span>endContainer<span class=\"k\">,</span>endOffset <span class=\"k\">=</span> range<span class=\"k\">.</span>endOffset<span class=\"k\">;</span>","<span class=\"c\">//                if(endContainer.nodeType == 3 &amp;&amp;  endOffset == endContainer.nodeValue.length){</span>","<span class=\"c\">//                    range.setEndAfter(endContainer);</span>","<span class=\"c\">//                    continue;</span>","<span class=\"c\">//                }</span>","","            child <span class=\"k\">=</span> endContainer<span class=\"k\">.</span>childNodes<span class=\"k\">[</span>endOffset<span class=\"k\">];</span>","            <span class=\"k\">if</span><span class=\"k\">(!</span>child <span class=\"k\">||</span> domUtils<span class=\"k\">.</span>isBr<span class=\"k\">(</span>child<span class=\"k\">)</span> <span class=\"k\">&amp;&amp;</span> endContainer<span class=\"k\">.</span>lastChild <span class=\"k\">===</span> child<span class=\"k\">)</span><span class=\"k\">{</span>","                range<span class=\"k\">.</span>setEndAfter<span class=\"k\">(</span>endContainer<span class=\"k\">);</span>","                <span class=\"k\">continue</span><span class=\"k\">;</span>","            <span class=\"k\">}</span>","            <span class=\"k\">break</span><span class=\"k\">;</span>","","        <span class=\"k\">}</span>","        <span class=\"k\">if</span><span class=\"k\">(</span>mStart<span class=\"k\">)</span><span class=\"k\">{</span>","            <span class=\"k\">var</span> start <span class=\"k\">=</span> me<span class=\"k\">.</span>document<span class=\"k\">.</span>createElement<span class=\"k\">(</span><span class=\"s\">'span'</span><span class=\"k\">);</span>","            start<span class=\"k\">.</span>innerHTML <span class=\"k\">=</span> <span class=\"s\">'start'</span><span class=\"k\">;</span>","            start<span class=\"k\">.</span>id <span class=\"k\">=</span> <span class=\"s\">'_baidu_cut_start'</span><span class=\"k\">;</span>","            range<span class=\"k\">.</span>insertNode<span class=\"k\">(</span>start<span class=\"k\">).</span>setStartBefore<span class=\"k\">(</span>start<span class=\"k\">);</span>","        <span class=\"k\">}</span>","        <span class=\"k\">if</span><span class=\"k\">(</span>mEnd<span class=\"k\">)</span><span class=\"k\">{</span>","            <span class=\"k\">var</span> end <span class=\"k\">=</span> me<span class=\"k\">.</span>document<span class=\"k\">.</span>createElement<span class=\"k\">(</span><span class=\"s\">'span'</span><span class=\"k\">);</span>","            end<span class=\"k\">.</span>innerHTML <span class=\"k\">=</span> <span class=\"s\">'end'</span><span class=\"k\">;</span>","            end<span class=\"k\">.</span>id <span class=\"k\">=</span> <span class=\"s\">'_baidu_cut_end'</span><span class=\"k\">;</span>","            range<span class=\"k\">.</span>cloneRange<span class=\"k\">().</span>collapse<span class=\"k\">(</span><span class=\"k\">false</span><span class=\"k\">).</span>insertNode<span class=\"k\">(</span>end<span class=\"k\">);</span>","            range<span class=\"k\">.</span>setEndAfter<span class=\"k\">(</span>end<span class=\"k\">);</span>","","        <span class=\"k\">}</span>","","","","        range<span class=\"k\">.</span>deleteContents<span class=\"k\">();</span>","","","        <span class=\"k\">if</span><span class=\"k\">(</span>domUtils<span class=\"k\">.</span>isBody<span class=\"k\">(</span>range<span class=\"k\">.</span>startContainer<span class=\"k\">)</span> <span class=\"k\">&amp;&amp;</span> domUtils<span class=\"k\">.</span>isEmptyBlock<span class=\"k\">(</span>me<span class=\"k\">.</span>body<span class=\"k\">))</span><span class=\"k\">{</span>","            me<span class=\"k\">.</span>body<span class=\"k\">.</span>innerHTML <span class=\"k\">=</span> <span class=\"s\">'&lt;p&gt;'</span><span class=\"k\">+(</span>browser<span class=\"k\">.</span>ie<span class=\"k\">?</span><span class=\"s\">''</span><span class=\"k\">:</span><span class=\"s\">'&lt;br/&gt;'</span><span class=\"k\">)+</span><span class=\"s\">'&lt;/p&gt;'</span><span class=\"k\">;</span>","            range<span class=\"k\">.</span>setStart<span class=\"k\">(</span>me<span class=\"k\">.</span>body<span class=\"k\">.</span>firstChild<span class=\"k\">,</span><span class=\"s\">0</span><span class=\"k\">).</span>collapse<span class=\"k\">(</span><span class=\"k\">true</span><span class=\"k\">);</span>","        <span class=\"k\">}</span><span class=\"k\">else</span> <span class=\"k\">if</span> <span class=\"k\">(</span> <span class=\"k\">!</span>browser<span class=\"k\">.</span>ie <span class=\"k\">&amp;&amp;</span> domUtils<span class=\"k\">.</span>isEmptyBlock<span class=\"k\">(</span>range<span class=\"k\">.</span>startContainer<span class=\"k\">))</span><span class=\"k\">{</span>","            range<span class=\"k\">.</span>startContainer<span class=\"k\">.</span>innerHTML <span class=\"k\">=</span> <span class=\"s\">'&lt;br/&gt;'</span><span class=\"k\">;</span>","        <span class=\"k\">}</span>","","        range<span class=\"k\">.</span>select<span class=\"k\">(</span><span class=\"k\">true</span><span class=\"k\">);</span>","    <span class=\"k\">}</span><span class=\"k\">,</span>","    queryCommandState <span class=\"k\">:</span> <span class=\"k\">function</span><span class=\"k\">()</span><span class=\"k\">{</span>","","        <span class=\"k\">if</span><span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>currentSelectedArr <span class=\"k\">&amp;&amp;</span> <span class=\"k\">this</span><span class=\"k\">.</span>currentSelectedArr<span class=\"k\">.</span>length <span class=\"k\">&gt;</span> <span class=\"s\">0</span><span class=\"k\">)</span><span class=\"k\">{</span>","            <span class=\"k\">return</span> <span class=\"s\">0</span><span class=\"k\">;</span>","        <span class=\"k\">}</span>","        <span class=\"k\">return</span> <span class=\"k\">this</span><span class=\"k\">.</span>highlight <span class=\"k\">||</span> <span class=\"k\">this</span><span class=\"k\">.</span>selection<span class=\"k\">.</span>getRange<span class=\"k\">().</span>collapsed <span class=\"k\">?</span> <span class=\"k\">-</span><span class=\"s\">1</span> <span class=\"k\">:</span> <span class=\"s\">0</span><span class=\"k\">;</span>","    <span class=\"k\">}</span>","<span class=\"k\">}</span><span class=\"k\">;</span>"]);
_$jscoverage['plugins/directionality.js'] && (_$jscoverage['plugins/directionality.js'].source = ["<span class=\"c\">///import core</span>","<span class=\"c\">///commands &#36755;&#20837;&#30340;&#26041;&#21521;</span>","<span class=\"c\">///commandsName  DirectionalityLtr,DirectionalityRtl</span>","<span class=\"c\">///commandsTitle  &#20174;&#24038;&#21521;&#21491;&#36755;&#20837;,&#20174;&#21491;&#21521;&#24038;&#36755;&#20837;</span>","<span class=\"c\">/**</span>","<span class=\"c\"> * &#36755;&#20837;&#30340;&#26041;&#21521;</span>","<span class=\"c\"> * @function</span>","<span class=\"c\"> * @name baidu.editor.execCommand</span>","<span class=\"c\"> * @param {String}   cmdName    directionality&#25191;&#34892;&#20989;&#25968;&#30340;&#21442;&#25968;</span>","<span class=\"c\"> * @param {String}    forward    ltr&#20174;&#24038;&#21521;&#21491;&#36755;&#20837;&#65292;rtl&#20174;&#21491;&#21521;&#24038;&#36755;&#20837;</span>","<span class=\"c\"> */</span>","<span class=\"k\">(</span><span class=\"k\">function</span><span class=\"k\">()</span> <span class=\"k\">{</span>","    <span class=\"k\">var</span> block <span class=\"k\">=</span> domUtils<span class=\"k\">.</span>isBlockElm <span class=\"k\">,</span>","        getObj <span class=\"k\">=</span> <span class=\"k\">function</span><span class=\"k\">(</span>editor<span class=\"k\">)</span><span class=\"k\">{</span>","<span class=\"c\">//            var startNode = editor.selection.getStart(),</span>","<span class=\"c\">//                parents;</span>","<span class=\"c\">//            if ( startNode ) {</span>","<span class=\"c\">//                //&#26597;&#25214;&#25152;&#26377;&#30340;&#26159;block&#30340;&#29238;&#20146;&#33410;&#28857;</span>","<span class=\"c\">//                parents = domUtils.findParents( startNode, true, block, true );</span>","<span class=\"c\">//                for ( var i = 0,ci; ci = parents[i++]; ) {</span>","<span class=\"c\">//                    if ( ci.getAttribute( 'dir' ) ) {</span>","<span class=\"c\">//                        return ci;</span>","<span class=\"c\">//                    }</span>","<span class=\"c\">//                }</span>","<span class=\"c\">//            }</span>","            <span class=\"k\">return</span> utils<span class=\"k\">.</span>findNode<span class=\"k\">(</span>editor<span class=\"k\">.</span>selection<span class=\"k\">.</span>getStartElementPath<span class=\"k\">(),</span><span class=\"k\">null</span><span class=\"k\">,</span><span class=\"k\">function</span><span class=\"k\">(</span>n<span class=\"k\">)</span><span class=\"k\">{</span><span class=\"k\">return</span> n<span class=\"k\">.</span>getAttribute<span class=\"k\">(</span><span class=\"s\">'dir'</span><span class=\"k\">)</span><span class=\"k\">}</span><span class=\"k\">);</span>","","        <span class=\"k\">}</span><span class=\"k\">,</span>","        doDirectionality <span class=\"k\">=</span> <span class=\"k\">function</span><span class=\"k\">(</span>range<span class=\"k\">,</span>editor<span class=\"k\">,</span>forward<span class=\"k\">)</span><span class=\"k\">{</span>","            ","            <span class=\"k\">var</span> bookmark<span class=\"k\">,</span>","                filterFn <span class=\"k\">=</span> <span class=\"k\">function</span><span class=\"k\">(</span> node <span class=\"k\">)</span> <span class=\"k\">{</span>","                    <span class=\"k\">return</span>   node<span class=\"k\">.</span>nodeType <span class=\"k\">==</span> <span class=\"s\">1</span> <span class=\"k\">?</span> <span class=\"k\">!</span>domUtils<span class=\"k\">.</span>isBookmarkNode<span class=\"k\">(</span>node<span class=\"k\">)</span> <span class=\"k\">:</span> <span class=\"k\">!</span>domUtils<span class=\"k\">.</span>isWhitespace<span class=\"k\">(</span>node<span class=\"k\">);</span>","                <span class=\"k\">}</span><span class=\"k\">,</span>","","                obj <span class=\"k\">=</span> getObj<span class=\"k\">(</span> editor <span class=\"k\">);</span>","","            <span class=\"k\">if</span> <span class=\"k\">(</span> obj <span class=\"k\">&amp;&amp;</span> range<span class=\"k\">.</span>collapsed <span class=\"k\">)</span> <span class=\"k\">{</span>","                obj<span class=\"k\">.</span>setAttribute<span class=\"k\">(</span> <span class=\"s\">'dir'</span><span class=\"k\">,</span> forward <span class=\"k\">);</span>","                <span class=\"k\">return</span> range<span class=\"k\">;</span>","            <span class=\"k\">}</span>","            bookmark <span class=\"k\">=</span> range<span class=\"k\">.</span>createBookmark<span class=\"k\">();</span>","            range<span class=\"k\">.</span>enlarge<span class=\"k\">(</span> <span class=\"k\">true</span> <span class=\"k\">);</span>","            <span class=\"k\">var</span> bookmark2 <span class=\"k\">=</span> range<span class=\"k\">.</span>createBookmark<span class=\"k\">(),</span>","                current <span class=\"k\">=</span> domUtils<span class=\"k\">.</span>getNextDomNode<span class=\"k\">(</span> bookmark2<span class=\"k\">.</span>start<span class=\"k\">,</span> <span class=\"k\">false</span><span class=\"k\">,</span> filterFn <span class=\"k\">),</span>","                tmpRange <span class=\"k\">=</span> range<span class=\"k\">.</span>cloneRange<span class=\"k\">(),</span>","                tmpNode<span class=\"k\">;</span>","            <span class=\"k\">while</span> <span class=\"k\">(</span> current <span class=\"k\">&amp;&amp;</span>  <span class=\"k\">!(</span>domUtils<span class=\"k\">.</span>getPosition<span class=\"k\">(</span> current<span class=\"k\">,</span> bookmark2<span class=\"k\">.</span>end <span class=\"k\">)</span> <span class=\"k\">&amp;</span> domUtils<span class=\"k\">.</span>POSITION_FOLLOWING<span class=\"k\">)</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                <span class=\"k\">if</span> <span class=\"k\">(</span> current<span class=\"k\">.</span>nodeType <span class=\"k\">==</span> <span class=\"s\">3</span> <span class=\"k\">||</span> <span class=\"k\">!</span>block<span class=\"k\">(</span> current <span class=\"k\">)</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                    tmpRange<span class=\"k\">.</span>setStartBefore<span class=\"k\">(</span> current <span class=\"k\">);</span>","                    <span class=\"k\">while</span> <span class=\"k\">(</span> current <span class=\"k\">&amp;&amp;</span> current <span class=\"k\">!==</span> bookmark2<span class=\"k\">.</span>end <span class=\"k\">&amp;&amp;</span> <span class=\"k\">!</span>block<span class=\"k\">(</span> current <span class=\"k\">)</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                        tmpNode <span class=\"k\">=</span> current<span class=\"k\">;</span>","                        current <span class=\"k\">=</span> domUtils<span class=\"k\">.</span>getNextDomNode<span class=\"k\">(</span> current<span class=\"k\">,</span> <span class=\"k\">false</span><span class=\"k\">,</span> <span class=\"k\">null</span><span class=\"k\">,</span> <span class=\"k\">function</span><span class=\"k\">(</span> node <span class=\"k\">)</span> <span class=\"k\">{</span>","                            <span class=\"k\">return</span> <span class=\"k\">!</span>block<span class=\"k\">(</span> node <span class=\"k\">);</span>","                        <span class=\"k\">}</span> <span class=\"k\">);</span>","                    <span class=\"k\">}</span>","                    tmpRange<span class=\"k\">.</span>setEndAfter<span class=\"k\">(</span> tmpNode <span class=\"k\">);</span>","                    <span class=\"k\">var</span> common <span class=\"k\">=</span> tmpRange<span class=\"k\">.</span>getCommonAncestor<span class=\"k\">();</span>","                    <span class=\"k\">if</span> <span class=\"k\">(</span> <span class=\"k\">!</span>domUtils<span class=\"k\">.</span>isBody<span class=\"k\">(</span> common <span class=\"k\">)</span> <span class=\"k\">&amp;&amp;</span> block<span class=\"k\">(</span> common <span class=\"k\">)</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                        <span class=\"c\">//&#36941;&#21382;&#21040;&#20102;block&#33410;&#28857;</span>","                        common<span class=\"k\">.</span>setAttribute<span class=\"k\">(</span> <span class=\"s\">'dir'</span><span class=\"k\">,</span> forward <span class=\"k\">);</span>","                        current <span class=\"k\">=</span> common<span class=\"k\">;</span>","                    <span class=\"k\">}</span> <span class=\"k\">else</span> <span class=\"k\">{</span>","                        <span class=\"c\">//&#27809;&#26377;&#36941;&#21382;&#21040;&#65292;&#28155;&#21152;&#19968;&#20010;block&#33410;&#28857;</span>","                        <span class=\"k\">var</span> p <span class=\"k\">=</span> range<span class=\"k\">.</span>document<span class=\"k\">.</span>createElement<span class=\"k\">(</span> <span class=\"s\">'p'</span> <span class=\"k\">);</span>","                        p<span class=\"k\">.</span>setAttribute<span class=\"k\">(</span> <span class=\"s\">'dir'</span><span class=\"k\">,</span> forward <span class=\"k\">);</span>","                        <span class=\"k\">var</span> frag <span class=\"k\">=</span> tmpRange<span class=\"k\">.</span>extractContents<span class=\"k\">();</span>","                        p<span class=\"k\">.</span>appendChild<span class=\"k\">(</span> frag <span class=\"k\">);</span>","                        tmpRange<span class=\"k\">.</span>insertNode<span class=\"k\">(</span> p <span class=\"k\">);</span>","                        current <span class=\"k\">=</span> p<span class=\"k\">;</span>","                    <span class=\"k\">}</span>","","                    current <span class=\"k\">=</span> domUtils<span class=\"k\">.</span>getNextDomNode<span class=\"k\">(</span> current<span class=\"k\">,</span> <span class=\"k\">false</span><span class=\"k\">,</span> filterFn <span class=\"k\">);</span>","                <span class=\"k\">}</span> <span class=\"k\">else</span> <span class=\"k\">{</span>","                    current <span class=\"k\">=</span> domUtils<span class=\"k\">.</span>getNextDomNode<span class=\"k\">(</span> current<span class=\"k\">,</span> <span class=\"k\">true</span><span class=\"k\">,</span> filterFn <span class=\"k\">);</span>","                <span class=\"k\">}</span>","            <span class=\"k\">}</span>","            <span class=\"k\">return</span> range<span class=\"k\">.</span>moveToBookmark<span class=\"k\">(</span> bookmark2 <span class=\"k\">).</span>moveToBookmark<span class=\"k\">(</span> bookmark <span class=\"k\">);</span>","        <span class=\"k\">}</span><span class=\"k\">;</span>","    UE<span class=\"k\">.</span>commands<span class=\"k\">[</span><span class=\"s\">'directionality'</span><span class=\"k\">]</span> <span class=\"k\">=</span> <span class=\"k\">{</span>","        execCommand <span class=\"k\">:</span> <span class=\"k\">function</span><span class=\"k\">(</span> cmdName<span class=\"k\">,</span>forward <span class=\"k\">)</span> <span class=\"k\">{</span>","            <span class=\"k\">var</span> range <span class=\"k\">=</span> <span class=\"k\">new</span> dom<span class=\"k\">.</span>Range<span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>document<span class=\"k\">);</span>","            <span class=\"k\">if</span><span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>currentSelectedArr <span class=\"k\">&amp;&amp;</span> <span class=\"k\">this</span><span class=\"k\">.</span>currentSelectedArr<span class=\"k\">.</span>length <span class=\"k\">&gt;</span> <span class=\"s\">0</span><span class=\"k\">)</span><span class=\"k\">{</span>","                <span class=\"k\">for</span><span class=\"k\">(</span><span class=\"k\">var</span> i<span class=\"k\">=</span><span class=\"s\">0</span><span class=\"k\">,</span>ti<span class=\"k\">;</span>ti<span class=\"k\">=</span><span class=\"k\">this</span><span class=\"k\">.</span>currentSelectedArr<span class=\"k\">[</span>i<span class=\"k\">++];)</span><span class=\"k\">{</span>","                    <span class=\"k\">if</span><span class=\"k\">(</span>ti<span class=\"k\">.</span>style<span class=\"k\">.</span>display <span class=\"k\">!=</span> <span class=\"s\">'none'</span><span class=\"k\">)</span><span class=\"k\">{</span>","                        doDirectionality<span class=\"k\">(</span>range<span class=\"k\">.</span>selectNode<span class=\"k\">(</span>ti<span class=\"k\">),</span><span class=\"k\">this</span><span class=\"k\">,</span>forward<span class=\"k\">);</span>","                    <span class=\"k\">}</span>","                <span class=\"k\">}</span>","                range<span class=\"k\">.</span>selectNode<span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>currentSelectedArr<span class=\"k\">[</span><span class=\"s\">0</span><span class=\"k\">]).</span>select<span class=\"k\">();</span>","            <span class=\"k\">}</span><span class=\"k\">else</span><span class=\"k\">{</span>","                range <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>selection<span class=\"k\">.</span>getRange<span class=\"k\">();</span>","                <span class=\"c\">//&#38381;&#21512;&#26102;&#21333;&#29420;&#22788;&#29702;</span>","                <span class=\"k\">if</span><span class=\"k\">(</span>range<span class=\"k\">.</span>collapsed<span class=\"k\">)</span><span class=\"k\">{</span>","                    <span class=\"k\">var</span> txt <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>document<span class=\"k\">.</span>createTextNode<span class=\"k\">(</span><span class=\"s\">'d'</span><span class=\"k\">);</span>","                    range<span class=\"k\">.</span>insertNode<span class=\"k\">(</span>txt<span class=\"k\">);</span>","                <span class=\"k\">}</span>","                doDirectionality<span class=\"k\">(</span>range<span class=\"k\">,</span><span class=\"k\">this</span><span class=\"k\">,</span>forward<span class=\"k\">);</span>","                <span class=\"k\">if</span><span class=\"k\">(</span>txt<span class=\"k\">)</span><span class=\"k\">{</span>","                    range<span class=\"k\">.</span>setStartBefore<span class=\"k\">(</span>txt<span class=\"k\">).</span>collapse<span class=\"k\">(</span><span class=\"k\">true</span><span class=\"k\">);</span>","                    domUtils<span class=\"k\">.</span>remove<span class=\"k\">(</span>txt<span class=\"k\">);</span>","                <span class=\"k\">}</span>","","                range<span class=\"k\">.</span>select<span class=\"k\">();</span>","                ","","            <span class=\"k\">}</span>","            <span class=\"k\">return</span> <span class=\"k\">true</span><span class=\"k\">;</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        queryCommandValue <span class=\"k\">:</span> <span class=\"k\">function</span><span class=\"k\">()</span> <span class=\"k\">{</span>","","            <span class=\"k\">var</span> node <span class=\"k\">=</span> getObj<span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">);</span>","            <span class=\"k\">return</span> node <span class=\"k\">?</span> node<span class=\"k\">.</span>getAttribute<span class=\"k\">(</span><span class=\"s\">'dir'</span><span class=\"k\">)</span> <span class=\"k\">:</span> <span class=\"s\">'ltr'</span><span class=\"k\">;</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","       queryCommandState <span class=\"k\">:</span> <span class=\"k\">function</span><span class=\"k\">()</span><span class=\"k\">{</span>","            <span class=\"k\">return</span> <span class=\"k\">this</span><span class=\"k\">.</span>highlight <span class=\"k\">?</span> <span class=\"k\">-</span><span class=\"s\">1</span> <span class=\"k\">:</span><span class=\"s\">0</span><span class=\"k\">;</span>","        <span class=\"k\">}</span>","    <span class=\"k\">}</span><span class=\"k\">;</span>","<span class=\"k\">}</span><span class=\"k\">)();</span>",""]);
_$jscoverage['plugins/elementpath.js'] && (_$jscoverage['plugins/elementpath.js'].source = ["<span class=\"c\">///import core</span>","<span class=\"c\">///commands &#36873;&#21306;&#36335;&#24452;</span>","<span class=\"c\">///commandsName  ElementPath,elementPathEnabled</span>","<span class=\"c\">///commandsTitle  &#36873;&#21306;&#36335;&#24452;</span>","<span class=\"c\">/**</span>","<span class=\"c\"> * &#36873;&#21306;&#36335;&#24452;</span>","<span class=\"c\"> * @function</span>","<span class=\"c\"> * @name baidu.editor.execCommand</span>","<span class=\"c\"> * @param {String}     cmdName     elementpath&#36873;&#21306;&#36335;&#24452;</span>","<span class=\"c\"> */</span>","UE<span class=\"k\">.</span>plugins<span class=\"k\">[</span><span class=\"s\">'elementpath'</span><span class=\"k\">]</span> <span class=\"k\">=</span> <span class=\"k\">function</span><span class=\"k\">()</span><span class=\"k\">{</span>","","    <span class=\"k\">var</span> currentLevel<span class=\"k\">,</span>","        tagNames<span class=\"k\">,</span>","        me <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">;</span>","    me<span class=\"k\">.</span>setOpt<span class=\"k\">(</span><span class=\"s\">'elementPathEnabled'</span><span class=\"k\">,</span><span class=\"k\">true</span><span class=\"k\">);</span>","    <span class=\"k\">if</span><span class=\"k\">(!</span>me<span class=\"k\">.</span>options<span class=\"k\">.</span>elementPathEnabled<span class=\"k\">)</span><span class=\"k\">{</span>","        <span class=\"k\">return</span><span class=\"k\">;</span>","    <span class=\"k\">}</span>","    me<span class=\"k\">.</span>commands<span class=\"k\">[</span><span class=\"s\">'elementpath'</span><span class=\"k\">]</span> <span class=\"k\">=</span> <span class=\"k\">{</span>","        execCommand <span class=\"k\">:</span> <span class=\"k\">function</span><span class=\"k\">(</span> cmdName<span class=\"k\">,</span> level <span class=\"k\">)</span> <span class=\"k\">{</span>","            <span class=\"k\">var</span> start <span class=\"k\">=</span> tagNames<span class=\"k\">[</span>level<span class=\"k\">],</span>","                range <span class=\"k\">=</span> me<span class=\"k\">.</span>selection<span class=\"k\">.</span>getRange<span class=\"k\">();</span>","            me<span class=\"k\">.</span>currentSelectedArr <span class=\"k\">&amp;&amp;</span> domUtils<span class=\"k\">.</span>clearSelectedArr<span class=\"k\">(</span>me<span class=\"k\">.</span>currentSelectedArr<span class=\"k\">);</span>","            currentLevel <span class=\"k\">=</span> level<span class=\"k\">*</span><span class=\"s\">1</span><span class=\"k\">;</span>","            <span class=\"k\">if</span><span class=\"k\">(</span>dtd<span class=\"k\">.</span>$tableContent<span class=\"k\">[</span>start<span class=\"k\">.</span>tagName<span class=\"k\">])</span><span class=\"k\">{</span>","                <span class=\"k\">switch</span> <span class=\"k\">(</span>start<span class=\"k\">.</span>tagName<span class=\"k\">)</span><span class=\"k\">{</span>","                    <span class=\"k\">case</span> <span class=\"s\">'TD'</span><span class=\"k\">:</span>me<span class=\"k\">.</span>currentSelectedArr <span class=\"k\">=</span> <span class=\"k\">[</span>start<span class=\"k\">];</span>","                            start<span class=\"k\">.</span>className <span class=\"k\">=</span> me<span class=\"k\">.</span>options<span class=\"k\">.</span>selectedTdClass<span class=\"k\">;</span>","                            <span class=\"k\">break</span><span class=\"k\">;</span>","                    <span class=\"k\">case</span> <span class=\"s\">'TR'</span><span class=\"k\">:</span>","                        <span class=\"k\">var</span> cells <span class=\"k\">=</span> start<span class=\"k\">.</span>cells<span class=\"k\">;</span>","                        <span class=\"k\">for</span><span class=\"k\">(</span><span class=\"k\">var</span> i<span class=\"k\">=</span><span class=\"s\">0</span><span class=\"k\">,</span>ti<span class=\"k\">;</span>ti<span class=\"k\">=</span>cells<span class=\"k\">[</span>i<span class=\"k\">++];)</span><span class=\"k\">{</span>","                            me<span class=\"k\">.</span>currentSelectedArr<span class=\"k\">.</span>push<span class=\"k\">(</span>ti<span class=\"k\">);</span>","                            ti<span class=\"k\">.</span>className <span class=\"k\">=</span> me<span class=\"k\">.</span>options<span class=\"k\">.</span>selectedTdClass<span class=\"k\">;</span>","                        <span class=\"k\">}</span>","                        <span class=\"k\">break</span><span class=\"k\">;</span>","                    <span class=\"k\">case</span> <span class=\"s\">'TABLE'</span><span class=\"k\">:</span>","                    <span class=\"k\">case</span> <span class=\"s\">'TBODY'</span><span class=\"k\">:</span>","","                        <span class=\"k\">var</span> rows <span class=\"k\">=</span> start<span class=\"k\">.</span>rows<span class=\"k\">;</span>","                        <span class=\"k\">for</span><span class=\"k\">(</span><span class=\"k\">var</span> i<span class=\"k\">=</span><span class=\"s\">0</span><span class=\"k\">,</span>ri<span class=\"k\">;</span>ri<span class=\"k\">=</span>rows<span class=\"k\">[</span>i<span class=\"k\">++];)</span><span class=\"k\">{</span>","                            cells <span class=\"k\">=</span> ri<span class=\"k\">.</span>cells<span class=\"k\">;</span>","                            <span class=\"k\">for</span><span class=\"k\">(</span><span class=\"k\">var</span> j<span class=\"k\">=</span><span class=\"s\">0</span><span class=\"k\">,</span>tj<span class=\"k\">;</span>tj<span class=\"k\">=</span>cells<span class=\"k\">[</span>j<span class=\"k\">++];)</span><span class=\"k\">{</span>","                                 me<span class=\"k\">.</span>currentSelectedArr<span class=\"k\">.</span>push<span class=\"k\">(</span>tj<span class=\"k\">);</span>","                                tj<span class=\"k\">.</span>className <span class=\"k\">=</span> me<span class=\"k\">.</span>options<span class=\"k\">.</span>selectedTdClass<span class=\"k\">;</span>","                            <span class=\"k\">}</span>","                        <span class=\"k\">}</span>","","                <span class=\"k\">}</span>","                start <span class=\"k\">=</span> me<span class=\"k\">.</span>currentSelectedArr<span class=\"k\">[</span><span class=\"s\">0</span><span class=\"k\">];</span>","                <span class=\"k\">if</span><span class=\"k\">(</span>domUtils<span class=\"k\">.</span>isEmptyNode<span class=\"k\">(</span>start<span class=\"k\">))</span><span class=\"k\">{</span>","                    range<span class=\"k\">.</span>setStart<span class=\"k\">(</span>start<span class=\"k\">,</span><span class=\"s\">0</span><span class=\"k\">).</span>setCursor<span class=\"k\">();</span>","                <span class=\"k\">}</span><span class=\"k\">else</span><span class=\"k\">{</span>","                   range<span class=\"k\">.</span>selectNodeContents<span class=\"k\">(</span>start<span class=\"k\">).</span>select<span class=\"k\">();</span>","                <span class=\"k\">}</span>","            <span class=\"k\">}</span><span class=\"k\">else</span><span class=\"k\">{</span>","                range<span class=\"k\">.</span>selectNode<span class=\"k\">(</span>start<span class=\"k\">).</span>select<span class=\"k\">();</span>","","            <span class=\"k\">}</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        queryCommandValue <span class=\"k\">:</span> <span class=\"k\">function</span><span class=\"k\">()</span> <span class=\"k\">{</span>","            <span class=\"c\">//&#20135;&#29983;&#19968;&#20010;&#21103;&#26412;&#65292;&#19981;&#33021;&#20462;&#25913;&#21407;&#26469;&#30340;startElementPath;</span>","            <span class=\"k\">var</span> parents <span class=\"k\">=</span> <span class=\"k\">[].</span>concat<span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>selection<span class=\"k\">.</span>getStartElementPath<span class=\"k\">()).</span>reverse<span class=\"k\">(),</span>","                names <span class=\"k\">=</span> <span class=\"k\">[];</span>","            tagNames <span class=\"k\">=</span> parents<span class=\"k\">;</span>","            <span class=\"k\">for</span><span class=\"k\">(</span><span class=\"k\">var</span> i<span class=\"k\">=</span><span class=\"s\">0</span><span class=\"k\">,</span>ci<span class=\"k\">;</span>ci<span class=\"k\">=</span>parents<span class=\"k\">[</span>i<span class=\"k\">];</span>i<span class=\"k\">++)</span><span class=\"k\">{</span>","                <span class=\"k\">if</span><span class=\"k\">(</span>ci<span class=\"k\">.</span>nodeType <span class=\"k\">==</span> <span class=\"s\">3</span><span class=\"k\">)</span> <span class=\"k\">{</span>","                    <span class=\"k\">continue</span><span class=\"k\">;</span>","                <span class=\"k\">}</span>","                <span class=\"k\">var</span> name <span class=\"k\">=</span> ci<span class=\"k\">.</span>tagName<span class=\"k\">.</span>toLowerCase<span class=\"k\">();</span>","                <span class=\"k\">if</span><span class=\"k\">(</span>name <span class=\"k\">==</span> <span class=\"s\">'img'</span> <span class=\"k\">&amp;&amp;</span> ci<span class=\"k\">.</span>getAttribute<span class=\"k\">(</span><span class=\"s\">'anchorname'</span><span class=\"k\">))</span><span class=\"k\">{</span>","                    name <span class=\"k\">=</span> <span class=\"s\">'anchor'</span><span class=\"k\">;</span>","                <span class=\"k\">}</span>","                names<span class=\"k\">[</span>i<span class=\"k\">]</span> <span class=\"k\">=</span> name<span class=\"k\">;</span>","                <span class=\"k\">if</span><span class=\"k\">(</span>currentLevel <span class=\"k\">==</span> i<span class=\"k\">)</span><span class=\"k\">{</span>","                   currentLevel <span class=\"k\">=</span> <span class=\"k\">-</span><span class=\"s\">1</span><span class=\"k\">;</span>","                    <span class=\"k\">break</span><span class=\"k\">;</span>","                <span class=\"k\">}</span>","            <span class=\"k\">}</span>","            <span class=\"k\">return</span> names<span class=\"k\">;</span>","        <span class=\"k\">}</span>","    <span class=\"k\">}</span><span class=\"k\">;</span>","<span class=\"k\">}</span><span class=\"k\">;</span>",""]);
_$jscoverage['plugins/emotion.js'] && (_$jscoverage['plugins/emotion.js'].source = ["<span class=\"c\">///import core</span>","<span class=\"c\">///import plugins\\image.js</span>","<span class=\"c\">///commands &#25554;&#20837;&#34920;&#24773;</span>","<span class=\"c\">///commandsName  Emotion</span>","<span class=\"c\">///commandsTitle  &#34920;&#24773;</span>","<span class=\"c\">///commandsDialog  dialogs\\emotion\\emotion.html</span>","UE<span class=\"k\">.</span>commands<span class=\"k\">[</span><span class=\"s\">'emotion'</span><span class=\"k\">]</span> <span class=\"k\">=</span> <span class=\"k\">{</span>","    queryCommandState <span class=\"k\">:</span> <span class=\"k\">function</span><span class=\"k\">()</span><span class=\"k\">{</span>","        <span class=\"k\">return</span> <span class=\"k\">this</span><span class=\"k\">.</span>highlight <span class=\"k\">?</span> <span class=\"k\">-</span><span class=\"s\">1</span> <span class=\"k\">:</span><span class=\"s\">0</span><span class=\"k\">;</span>","    <span class=\"k\">}</span>","<span class=\"k\">}</span><span class=\"k\">;</span>"]);
_$jscoverage['plugins/enterkey.js'] && (_$jscoverage['plugins/enterkey.js'].source = ["<span class=\"c\">///import core</span>","<span class=\"c\">///import plugins/undo.js</span>","<span class=\"c\">///commands &#35774;&#32622;&#22238;&#36710;&#26631;&#31614;p&#25110;br</span>","<span class=\"c\">///commandsName  EnterKey</span>","<span class=\"c\">///commandsTitle  &#35774;&#32622;&#22238;&#36710;&#26631;&#31614;p&#25110;br</span>","<span class=\"c\">/**</span>","<span class=\"c\"> * @description &#22788;&#29702;&#22238;&#36710;</span>","<span class=\"c\"> * @author zhanyi</span>","<span class=\"c\"> */</span>","UE<span class=\"k\">.</span>plugins<span class=\"k\">[</span><span class=\"s\">'enterkey'</span><span class=\"k\">]</span> <span class=\"k\">=</span> <span class=\"k\">function</span><span class=\"k\">()</span> <span class=\"k\">{</span>","    <span class=\"k\">var</span> hTag<span class=\"k\">,</span>","        me <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">,</span>","        tag <span class=\"k\">=</span> me<span class=\"k\">.</span>options<span class=\"k\">.</span>enterTag<span class=\"k\">;</span>","    me<span class=\"k\">.</span>addListener<span class=\"k\">(</span><span class=\"s\">'keyup'</span><span class=\"k\">,</span> <span class=\"k\">function</span><span class=\"k\">(</span>type<span class=\"k\">,</span> evt<span class=\"k\">)</span> <span class=\"k\">{</span>","","        <span class=\"k\">var</span> keyCode <span class=\"k\">=</span> evt<span class=\"k\">.</span>keyCode <span class=\"k\">||</span> evt<span class=\"k\">.</span>which<span class=\"k\">;</span>","        <span class=\"k\">if</span> <span class=\"k\">(</span>keyCode <span class=\"k\">==</span> <span class=\"s\">13</span><span class=\"k\">)</span> <span class=\"k\">{</span>","            <span class=\"k\">var</span> range <span class=\"k\">=</span> me<span class=\"k\">.</span>selection<span class=\"k\">.</span>getRange<span class=\"k\">(),</span>","                start <span class=\"k\">=</span> range<span class=\"k\">.</span>startContainer<span class=\"k\">,</span>","                doSave<span class=\"k\">;</span>","","            <span class=\"c\">//&#20462;&#27491;&#22312;h1-h6&#37324;&#36793;&#22238;&#36710;&#21518;&#19981;&#33021;&#23884;&#22871;p&#30340;&#38382;&#39064;</span>","            <span class=\"k\">if</span> <span class=\"k\">(!</span>browser<span class=\"k\">.</span>ie<span class=\"k\">)</span> <span class=\"k\">{</span>","","                <span class=\"k\">if</span> <span class=\"k\">(</span><span class=\"s\">/h\\d/i</span><span class=\"k\">.</span>test<span class=\"k\">(</span>hTag<span class=\"k\">))</span> <span class=\"k\">{</span>","                    <span class=\"k\">if</span> <span class=\"k\">(</span>browser<span class=\"k\">.</span>gecko<span class=\"k\">)</span> <span class=\"k\">{</span>","                        <span class=\"k\">var</span> h <span class=\"k\">=</span> domUtils<span class=\"k\">.</span>findParentByTagName<span class=\"k\">(</span>start<span class=\"k\">,</span> <span class=\"k\">[</span> <span class=\"s\">'h1'</span><span class=\"k\">,</span> <span class=\"s\">'h2'</span><span class=\"k\">,</span> <span class=\"s\">'h3'</span><span class=\"k\">,</span> <span class=\"s\">'h4'</span><span class=\"k\">,</span> <span class=\"s\">'h5'</span><span class=\"k\">,</span> <span class=\"s\">'h6'</span><span class=\"k\">,</span><span class=\"s\">'blockquote'</span><span class=\"k\">],</span> <span class=\"k\">true</span><span class=\"k\">);</span>","                        <span class=\"k\">if</span> <span class=\"k\">(!</span>h<span class=\"k\">)</span> <span class=\"k\">{</span>","                            me<span class=\"k\">.</span>document<span class=\"k\">.</span>execCommand<span class=\"k\">(</span><span class=\"s\">'formatBlock'</span><span class=\"k\">,</span> <span class=\"k\">false</span><span class=\"k\">,</span> <span class=\"s\">'&lt;p&gt;'</span><span class=\"k\">);</span>","                            doSave <span class=\"k\">=</span> <span class=\"s\">1</span><span class=\"k\">;</span>","                        <span class=\"k\">}</span>","                    <span class=\"k\">}</span> <span class=\"k\">else</span> <span class=\"k\">{</span>","                        <span class=\"c\">//chrome remove div</span>","                        <span class=\"k\">if</span> <span class=\"k\">(</span>start<span class=\"k\">.</span>nodeType <span class=\"k\">==</span> <span class=\"s\">1</span><span class=\"k\">)</span> <span class=\"k\">{</span>","                            <span class=\"k\">var</span> tmp <span class=\"k\">=</span> me<span class=\"k\">.</span>document<span class=\"k\">.</span>createTextNode<span class=\"k\">(</span><span class=\"s\">''</span><span class=\"k\">),</span>div<span class=\"k\">;</span>","                            range<span class=\"k\">.</span>insertNode<span class=\"k\">(</span>tmp<span class=\"k\">);</span>","                            div <span class=\"k\">=</span> domUtils<span class=\"k\">.</span>findParentByTagName<span class=\"k\">(</span>tmp<span class=\"k\">,</span> <span class=\"s\">'div'</span><span class=\"k\">,</span> <span class=\"k\">true</span><span class=\"k\">);</span>","                            <span class=\"k\">if</span> <span class=\"k\">(</span>div<span class=\"k\">)</span> <span class=\"k\">{</span>","                                <span class=\"k\">var</span> p <span class=\"k\">=</span> me<span class=\"k\">.</span>document<span class=\"k\">.</span>createElement<span class=\"k\">(</span><span class=\"s\">'p'</span><span class=\"k\">);</span>","                                <span class=\"k\">while</span> <span class=\"k\">(</span>div<span class=\"k\">.</span>firstChild<span class=\"k\">)</span> <span class=\"k\">{</span>","                                    p<span class=\"k\">.</span>appendChild<span class=\"k\">(</span>div<span class=\"k\">.</span>firstChild<span class=\"k\">);</span>","                                <span class=\"k\">}</span>","                                div<span class=\"k\">.</span>parentNode<span class=\"k\">.</span>insertBefore<span class=\"k\">(</span>p<span class=\"k\">,</span> div<span class=\"k\">);</span>","                                domUtils<span class=\"k\">.</span>remove<span class=\"k\">(</span>div<span class=\"k\">);</span>","                                range<span class=\"k\">.</span>setStartBefore<span class=\"k\">(</span>tmp<span class=\"k\">).</span>setCursor<span class=\"k\">();</span>","                                doSave <span class=\"k\">=</span> <span class=\"s\">1</span><span class=\"k\">;</span>","                            <span class=\"k\">}</span>","                            domUtils<span class=\"k\">.</span>remove<span class=\"k\">(</span>tmp<span class=\"k\">);</span>","","                        <span class=\"k\">}</span>","                    <span class=\"k\">}</span>","","                    <span class=\"k\">if</span> <span class=\"k\">(</span>me<span class=\"k\">.</span>undoManger <span class=\"k\">&amp;&amp;</span> doSave<span class=\"k\">)</span> <span class=\"k\">{</span>","                        me<span class=\"k\">.</span>undoManger<span class=\"k\">.</span>save<span class=\"k\">();</span>","                    <span class=\"k\">}</span>","                <span class=\"k\">}</span>","                <span class=\"c\">//&#27809;&#26377;&#31449;&#20301;&#31526;&#65292;&#20250;&#20986;&#29616;&#22810;&#34892;&#30340;&#38382;&#39064;</span>","                browser<span class=\"k\">.</span>opera <span class=\"k\">&amp;&amp;</span>  range<span class=\"k\">.</span>select<span class=\"k\">();</span>","            <span class=\"k\">}</span>","","","","            setTimeout<span class=\"k\">(</span><span class=\"k\">function</span><span class=\"k\">()</span> <span class=\"k\">{</span>","                me<span class=\"k\">.</span>selection<span class=\"k\">.</span>getRange<span class=\"k\">().</span>scrollToView<span class=\"k\">(</span>me<span class=\"k\">.</span>autoHeightEnabled<span class=\"k\">,</span> me<span class=\"k\">.</span>autoHeightEnabled <span class=\"k\">?</span> domUtils<span class=\"k\">.</span>getXY<span class=\"k\">(</span>me<span class=\"k\">.</span>iframe<span class=\"k\">).</span>y <span class=\"k\">:</span> <span class=\"s\">0</span><span class=\"k\">);</span>","            <span class=\"k\">}</span><span class=\"k\">,</span> <span class=\"s\">50</span><span class=\"k\">);</span>","","        <span class=\"k\">}</span>","    <span class=\"k\">}</span><span class=\"k\">);</span>","","    me<span class=\"k\">.</span>addListener<span class=\"k\">(</span><span class=\"s\">'keydown'</span><span class=\"k\">,</span> <span class=\"k\">function</span><span class=\"k\">(</span>type<span class=\"k\">,</span> evt<span class=\"k\">)</span> <span class=\"k\">{</span>","        <span class=\"k\">var</span> keyCode <span class=\"k\">=</span> evt<span class=\"k\">.</span>keyCode <span class=\"k\">||</span> evt<span class=\"k\">.</span>which<span class=\"k\">;</span>","        <span class=\"k\">if</span> <span class=\"k\">(</span>keyCode <span class=\"k\">==</span> <span class=\"s\">13</span><span class=\"k\">)</span> <span class=\"k\">{</span><span class=\"c\">//&#22238;&#36710;</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span>me<span class=\"k\">.</span>undoManger<span class=\"k\">)</span> <span class=\"k\">{</span>","                me<span class=\"k\">.</span>undoManger<span class=\"k\">.</span>save<span class=\"k\">();</span>","            <span class=\"k\">}</span>","            hTag <span class=\"k\">=</span> <span class=\"s\">''</span><span class=\"k\">;</span>","","","            <span class=\"k\">var</span> range <span class=\"k\">=</span> me<span class=\"k\">.</span>selection<span class=\"k\">.</span>getRange<span class=\"k\">();</span>","","            <span class=\"k\">if</span> <span class=\"k\">(!</span>range<span class=\"k\">.</span>collapsed<span class=\"k\">)</span> <span class=\"k\">{</span>","                <span class=\"c\">//&#36328;td&#19981;&#33021;&#21024;</span>","                <span class=\"k\">var</span> start <span class=\"k\">=</span> range<span class=\"k\">.</span>startContainer<span class=\"k\">,</span>","                    end <span class=\"k\">=</span> range<span class=\"k\">.</span>endContainer<span class=\"k\">,</span>","                    startTd <span class=\"k\">=</span> domUtils<span class=\"k\">.</span>findParentByTagName<span class=\"k\">(</span>start<span class=\"k\">,</span> <span class=\"s\">'td'</span><span class=\"k\">,</span> <span class=\"k\">true</span><span class=\"k\">),</span>","                    endTd <span class=\"k\">=</span> domUtils<span class=\"k\">.</span>findParentByTagName<span class=\"k\">(</span>end<span class=\"k\">,</span> <span class=\"s\">'td'</span><span class=\"k\">,</span> <span class=\"k\">true</span><span class=\"k\">);</span>","                <span class=\"k\">if</span> <span class=\"k\">(</span>startTd <span class=\"k\">&amp;&amp;</span> endTd <span class=\"k\">&amp;&amp;</span> startTd <span class=\"k\">!==</span> endTd <span class=\"k\">||</span> <span class=\"k\">!</span>startTd <span class=\"k\">&amp;&amp;</span> endTd <span class=\"k\">||</span> startTd <span class=\"k\">&amp;&amp;</span> <span class=\"k\">!</span>endTd<span class=\"k\">)</span> <span class=\"k\">{</span>","                    evt<span class=\"k\">.</span>preventDefault <span class=\"k\">?</span> evt<span class=\"k\">.</span>preventDefault<span class=\"k\">()</span> <span class=\"k\">:</span> <span class=\"k\">(</span> evt<span class=\"k\">.</span>returnValue <span class=\"k\">=</span> <span class=\"k\">false</span><span class=\"k\">);</span>","                    <span class=\"k\">return</span><span class=\"k\">;</span>","                <span class=\"k\">}</span>","            <span class=\"k\">}</span>","            me<span class=\"k\">.</span>currentSelectedArr <span class=\"k\">&amp;&amp;</span> domUtils<span class=\"k\">.</span>clearSelectedArr<span class=\"k\">(</span>me<span class=\"k\">.</span>currentSelectedArr<span class=\"k\">);</span>","","            <span class=\"k\">if</span> <span class=\"k\">(</span>tag <span class=\"k\">==</span> <span class=\"s\">'p'</span><span class=\"k\">)</span> <span class=\"k\">{</span>","","","                <span class=\"k\">if</span> <span class=\"k\">(!</span>browser<span class=\"k\">.</span>ie<span class=\"k\">)</span> <span class=\"k\">{</span>","","                    start <span class=\"k\">=</span> domUtils<span class=\"k\">.</span>findParentByTagName<span class=\"k\">(</span>range<span class=\"k\">.</span>startContainer<span class=\"k\">,</span> <span class=\"k\">[</span><span class=\"s\">'ol'</span><span class=\"k\">,</span><span class=\"s\">'ul'</span><span class=\"k\">,</span><span class=\"s\">'p'</span><span class=\"k\">,</span> <span class=\"s\">'h1'</span><span class=\"k\">,</span> <span class=\"s\">'h2'</span><span class=\"k\">,</span> <span class=\"s\">'h3'</span><span class=\"k\">,</span> <span class=\"s\">'h4'</span><span class=\"k\">,</span> <span class=\"s\">'h5'</span><span class=\"k\">,</span> <span class=\"s\">'h6'</span><span class=\"k\">,</span><span class=\"s\">'blockquote'</span><span class=\"k\">],</span> <span class=\"k\">true</span><span class=\"k\">);</span>","","                    <span class=\"c\">//opera&#19979;&#25191;&#34892;formatblock&#20250;&#22312;table&#30340;&#22330;&#26223;&#19979;&#26377;&#38382;&#39064;&#65292;&#22238;&#36710;&#22312;opera&#21407;&#29983;&#25903;&#25345;&#24456;&#22909;&#65292;&#25152;&#20197;&#26242;&#26102;&#22312;opera&#21435;&#25481;&#35843;&#29992;&#36825;&#20010;&#21407;&#29983;&#30340;command</span>","                    <span class=\"c\">//trace:2431</span>","                    <span class=\"k\">if</span> <span class=\"k\">(!</span>start <span class=\"k\">&amp;&amp;</span> <span class=\"k\">!</span>browser<span class=\"k\">.</span>opera<span class=\"k\">)</span> <span class=\"k\">{</span>","","                        me<span class=\"k\">.</span>document<span class=\"k\">.</span>execCommand<span class=\"k\">(</span><span class=\"s\">'formatBlock'</span><span class=\"k\">,</span> <span class=\"k\">false</span><span class=\"k\">,</span> <span class=\"s\">'&lt;p&gt;'</span><span class=\"k\">);</span>","                        <span class=\"k\">if</span> <span class=\"k\">(</span>browser<span class=\"k\">.</span>gecko<span class=\"k\">)</span> <span class=\"k\">{</span>","                            range <span class=\"k\">=</span> me<span class=\"k\">.</span>selection<span class=\"k\">.</span>getRange<span class=\"k\">();</span>","                            start <span class=\"k\">=</span> domUtils<span class=\"k\">.</span>findParentByTagName<span class=\"k\">(</span>range<span class=\"k\">.</span>startContainer<span class=\"k\">,</span> <span class=\"s\">'p'</span><span class=\"k\">,</span> <span class=\"k\">true</span><span class=\"k\">);</span>","                            start <span class=\"k\">&amp;&amp;</span> domUtils<span class=\"k\">.</span>removeDirtyAttr<span class=\"k\">(</span>start<span class=\"k\">);</span>","                        <span class=\"k\">}</span>","","","                    <span class=\"k\">}</span> <span class=\"k\">else</span> <span class=\"k\">{</span>","                        hTag <span class=\"k\">=</span> start<span class=\"k\">.</span>tagName<span class=\"k\">;</span>","                        start<span class=\"k\">.</span>tagName<span class=\"k\">.</span>toLowerCase<span class=\"k\">()</span> <span class=\"k\">==</span> <span class=\"s\">'p'</span> <span class=\"k\">&amp;&amp;</span> browser<span class=\"k\">.</span>gecko <span class=\"k\">&amp;&amp;</span> domUtils<span class=\"k\">.</span>removeDirtyAttr<span class=\"k\">(</span>start<span class=\"k\">);</span>","                    <span class=\"k\">}</span>","","                <span class=\"k\">}</span>","","            <span class=\"k\">}</span> <span class=\"k\">else</span> <span class=\"k\">{</span>","                evt<span class=\"k\">.</span>preventDefault <span class=\"k\">?</span> evt<span class=\"k\">.</span>preventDefault<span class=\"k\">()</span> <span class=\"k\">:</span> <span class=\"k\">(</span> evt<span class=\"k\">.</span>returnValue <span class=\"k\">=</span> <span class=\"k\">false</span><span class=\"k\">);</span>","","                <span class=\"k\">if</span> <span class=\"k\">(!</span>range<span class=\"k\">.</span>collapsed<span class=\"k\">)</span> <span class=\"k\">{</span>","                    range<span class=\"k\">.</span>deleteContents<span class=\"k\">();</span>","                    start <span class=\"k\">=</span> range<span class=\"k\">.</span>startContainer<span class=\"k\">;</span>","                    <span class=\"k\">if</span> <span class=\"k\">(</span>start<span class=\"k\">.</span>nodeType <span class=\"k\">==</span> <span class=\"s\">1</span> <span class=\"k\">&amp;&amp;</span> <span class=\"k\">(</span>start <span class=\"k\">=</span> start<span class=\"k\">.</span>childNodes<span class=\"k\">[</span>range<span class=\"k\">.</span>startOffset<span class=\"k\">]))</span> <span class=\"k\">{</span>","                        <span class=\"k\">while</span> <span class=\"k\">(</span>start<span class=\"k\">.</span>nodeType <span class=\"k\">==</span> <span class=\"s\">1</span><span class=\"k\">)</span> <span class=\"k\">{</span>","                            <span class=\"k\">if</span> <span class=\"k\">(</span>dtd<span class=\"k\">.</span>$empty<span class=\"k\">[</span>start<span class=\"k\">.</span>tagName<span class=\"k\">])</span> <span class=\"k\">{</span>","                                range<span class=\"k\">.</span>setStartBefore<span class=\"k\">(</span>start<span class=\"k\">).</span>setCursor<span class=\"k\">();</span>","                                <span class=\"k\">if</span> <span class=\"k\">(</span>me<span class=\"k\">.</span>undoManger<span class=\"k\">)</span> <span class=\"k\">{</span>","                                    me<span class=\"k\">.</span>undoManger<span class=\"k\">.</span>save<span class=\"k\">();</span>","                                <span class=\"k\">}</span>","                                <span class=\"k\">return</span> <span class=\"k\">false</span><span class=\"k\">;</span>","                            <span class=\"k\">}</span>","                            <span class=\"k\">if</span> <span class=\"k\">(!</span>start<span class=\"k\">.</span>firstChild<span class=\"k\">)</span> <span class=\"k\">{</span>","                                <span class=\"k\">var</span> br <span class=\"k\">=</span> range<span class=\"k\">.</span>document<span class=\"k\">.</span>createElement<span class=\"k\">(</span><span class=\"s\">'br'</span><span class=\"k\">);</span>","                                start<span class=\"k\">.</span>appendChild<span class=\"k\">(</span>br<span class=\"k\">);</span>","                                range<span class=\"k\">.</span>setStart<span class=\"k\">(</span>start<span class=\"k\">,</span> <span class=\"s\">0</span><span class=\"k\">).</span>setCursor<span class=\"k\">();</span>","                                <span class=\"k\">if</span> <span class=\"k\">(</span>me<span class=\"k\">.</span>undoManger<span class=\"k\">)</span> <span class=\"k\">{</span>","                                    me<span class=\"k\">.</span>undoManger<span class=\"k\">.</span>save<span class=\"k\">();</span>","                                <span class=\"k\">}</span>","                                <span class=\"k\">return</span> <span class=\"k\">false</span><span class=\"k\">;</span>","                            <span class=\"k\">}</span>","                            start <span class=\"k\">=</span> start<span class=\"k\">.</span>firstChild<span class=\"k\">;</span>","                        <span class=\"k\">}</span>","                        <span class=\"k\">if</span> <span class=\"k\">(</span>start <span class=\"k\">===</span> range<span class=\"k\">.</span>startContainer<span class=\"k\">.</span>childNodes<span class=\"k\">[</span>range<span class=\"k\">.</span>startOffset<span class=\"k\">])</span> <span class=\"k\">{</span>","                            br <span class=\"k\">=</span> range<span class=\"k\">.</span>document<span class=\"k\">.</span>createElement<span class=\"k\">(</span><span class=\"s\">'br'</span><span class=\"k\">);</span>","                            range<span class=\"k\">.</span>insertNode<span class=\"k\">(</span>br<span class=\"k\">).</span>setCursor<span class=\"k\">();</span>","","                        <span class=\"k\">}</span> <span class=\"k\">else</span> <span class=\"k\">{</span>","                            range<span class=\"k\">.</span>setStart<span class=\"k\">(</span>start<span class=\"k\">,</span> <span class=\"s\">0</span><span class=\"k\">).</span>setCursor<span class=\"k\">();</span>","                        <span class=\"k\">}</span>","","","                    <span class=\"k\">}</span> <span class=\"k\">else</span> <span class=\"k\">{</span>","                        br <span class=\"k\">=</span> range<span class=\"k\">.</span>document<span class=\"k\">.</span>createElement<span class=\"k\">(</span><span class=\"s\">'br'</span><span class=\"k\">);</span>","                        range<span class=\"k\">.</span>insertNode<span class=\"k\">(</span>br<span class=\"k\">).</span>setStartAfter<span class=\"k\">(</span>br<span class=\"k\">).</span>setCursor<span class=\"k\">();</span>","                    <span class=\"k\">}</span>","","","                <span class=\"k\">}</span> <span class=\"k\">else</span> <span class=\"k\">{</span>","                    br <span class=\"k\">=</span> range<span class=\"k\">.</span>document<span class=\"k\">.</span>createElement<span class=\"k\">(</span><span class=\"s\">'br'</span><span class=\"k\">);</span>","                    range<span class=\"k\">.</span>insertNode<span class=\"k\">(</span>br<span class=\"k\">);</span>","                    <span class=\"k\">var</span> parent <span class=\"k\">=</span> br<span class=\"k\">.</span>parentNode<span class=\"k\">;</span>","                    <span class=\"k\">if</span> <span class=\"k\">(</span>parent<span class=\"k\">.</span>lastChild <span class=\"k\">===</span> br<span class=\"k\">)</span> <span class=\"k\">{</span>","                        br<span class=\"k\">.</span>parentNode<span class=\"k\">.</span>insertBefore<span class=\"k\">(</span>br<span class=\"k\">.</span>cloneNode<span class=\"k\">(</span><span class=\"k\">true</span><span class=\"k\">),</span> br<span class=\"k\">);</span>","                        range<span class=\"k\">.</span>setStartBefore<span class=\"k\">(</span>br<span class=\"k\">);</span>","                    <span class=\"k\">}</span> <span class=\"k\">else</span> <span class=\"k\">{</span>","                        range<span class=\"k\">.</span>setStartAfter<span class=\"k\">(</span>br<span class=\"k\">);</span>","                    <span class=\"k\">}</span>","                    range<span class=\"k\">.</span>setCursor<span class=\"k\">();</span>","","                <span class=\"k\">}</span>","","            <span class=\"k\">}</span>","","        <span class=\"k\">}</span>","    <span class=\"k\">}</span><span class=\"k\">);</span>","<span class=\"k\">}</span><span class=\"k\">;</span>"]);
_$jscoverage['plugins/fiximgclick.js'] && (_$jscoverage['plugins/fiximgclick.js'].source = ["<span class=\"c\">///import core</span>","<span class=\"c\">///commands &#20462;&#22797;chrome&#19979;&#22270;&#29255;&#19981;&#33021;&#28857;&#20987;&#30340;&#38382;&#39064;</span>","<span class=\"c\">///commandsName  FixImgClick</span>","<span class=\"c\">///commandsTitle  &#20462;&#22797;chrome&#19979;&#22270;&#29255;&#19981;&#33021;&#28857;&#20987;&#30340;&#38382;&#39064;</span>","<span class=\"c\">//&#20462;&#22797;chrome&#19979;&#22270;&#29255;&#19981;&#33021;&#28857;&#20987;&#30340;&#38382;&#39064;</span>","<span class=\"c\">//todo &#21487;&#20197;&#25913;&#22823;&#23567;</span>","UE<span class=\"k\">.</span>plugins<span class=\"k\">[</span><span class=\"s\">'fiximgclick'</span><span class=\"k\">]</span> <span class=\"k\">=</span> <span class=\"k\">function</span><span class=\"k\">()</span> <span class=\"k\">{</span>","    <span class=\"k\">var</span> me <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">;</span>","    <span class=\"k\">if</span> <span class=\"k\">(</span> browser<span class=\"k\">.</span>webkit <span class=\"k\">)</span> <span class=\"k\">{</span>","        me<span class=\"k\">.</span>addListener<span class=\"k\">(</span> <span class=\"s\">'click'</span><span class=\"k\">,</span> <span class=\"k\">function</span><span class=\"k\">(</span> type<span class=\"k\">,</span> e <span class=\"k\">)</span> <span class=\"k\">{</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span> e<span class=\"k\">.</span>target<span class=\"k\">.</span>tagName <span class=\"k\">==</span> <span class=\"s\">'IMG'</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                <span class=\"k\">var</span> range <span class=\"k\">=</span> <span class=\"k\">new</span> dom<span class=\"k\">.</span>Range<span class=\"k\">(</span> me<span class=\"k\">.</span>document <span class=\"k\">);</span>","                range<span class=\"k\">.</span>selectNode<span class=\"k\">(</span> e<span class=\"k\">.</span>target <span class=\"k\">).</span>select<span class=\"k\">();</span>","","            <span class=\"k\">}</span>","        <span class=\"k\">}</span> <span class=\"k\">);</span>","    <span class=\"k\">}</span>","<span class=\"k\">}</span><span class=\"k\">;</span>"]);
_$jscoverage['plugins/font.js'] && (_$jscoverage['plugins/font.js'].source = ["<span class=\"c\">///import core</span>","<span class=\"c\">///import plugins\\removeformat.js</span>","<span class=\"c\">///commands &#23383;&#20307;&#39068;&#33394;,&#32972;&#26223;&#33394;,&#23383;&#21495;,&#23383;&#20307;,&#19979;&#21010;&#32447;,&#21024;&#38500;&#32447;</span>","<span class=\"c\">///commandsName  ForeColor,BackColor,FontSize,FontFamily,Underline,StrikeThrough</span>","<span class=\"c\">///commandsTitle  &#23383;&#20307;&#39068;&#33394;,&#32972;&#26223;&#33394;,&#23383;&#21495;,&#23383;&#20307;,&#19979;&#21010;&#32447;,&#21024;&#38500;&#32447;</span>","<span class=\"c\">/**</span>","<span class=\"c\"> * @description &#23383;&#20307;</span>","<span class=\"c\"> * @name baidu.editor.execCommand</span>","<span class=\"c\"> * @param {String}     cmdName    &#25191;&#34892;&#30340;&#21151;&#33021;&#21517;&#31216;</span>","<span class=\"c\"> * @param {String}    value             &#20256;&#20837;&#30340;&#20540;</span>","<span class=\"c\"> */</span>","UE<span class=\"k\">.</span>plugins<span class=\"k\">[</span><span class=\"s\">'font'</span><span class=\"k\">]</span> <span class=\"k\">=</span> <span class=\"k\">function</span><span class=\"k\">()</span> <span class=\"k\">{</span>","    <span class=\"k\">var</span> me <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">,</span>","        fonts <span class=\"k\">=</span> <span class=\"k\">{</span>","            <span class=\"s\">'forecolor'</span><span class=\"k\">:</span><span class=\"s\">'color'</span><span class=\"k\">,</span>","            <span class=\"s\">'backcolor'</span><span class=\"k\">:</span><span class=\"s\">'background-color'</span><span class=\"k\">,</span>","            <span class=\"s\">'fontsize'</span><span class=\"k\">:</span><span class=\"s\">'font-size'</span><span class=\"k\">,</span>","            <span class=\"s\">'fontfamily'</span><span class=\"k\">:</span><span class=\"s\">'font-family'</span><span class=\"k\">,</span>","            <span class=\"s\">'underline'</span><span class=\"k\">:</span><span class=\"s\">'text-decoration'</span><span class=\"k\">,</span>","            <span class=\"s\">'strikethrough'</span><span class=\"k\">:</span><span class=\"s\">'text-decoration'</span>","        <span class=\"k\">}</span><span class=\"k\">;</span>","    me<span class=\"k\">.</span>setOpt<span class=\"k\">(</span><span class=\"k\">{</span>","        <span class=\"s\">'fontfamily'</span><span class=\"k\">:[</span>","            <span class=\"k\">{</span> name<span class=\"k\">:</span><span class=\"s\">'songti'</span><span class=\"k\">,</span>val<span class=\"k\">:</span><span class=\"s\">'&#23435;&#20307;,SimSun'</span><span class=\"k\">}</span><span class=\"k\">,</span>","            <span class=\"k\">{</span> name<span class=\"k\">:</span><span class=\"s\">'yahei'</span><span class=\"k\">,</span>val<span class=\"k\">:</span><span class=\"s\">'&#24494;&#36719;&#38597;&#40657;,Microsoft YaHei'</span><span class=\"k\">}</span><span class=\"k\">,</span>","            <span class=\"k\">{</span> name<span class=\"k\">:</span><span class=\"s\">'kaiti'</span><span class=\"k\">,</span>val<span class=\"k\">:</span><span class=\"s\">'&#26999;&#20307;,&#26999;&#20307;_GB2312, SimKai'</span><span class=\"k\">}</span><span class=\"k\">,</span>","            <span class=\"k\">{</span> name<span class=\"k\">:</span><span class=\"s\">'heiti'</span><span class=\"k\">,</span>val<span class=\"k\">:</span><span class=\"s\">'&#40657;&#20307;, SimHei'</span><span class=\"k\">}</span><span class=\"k\">,</span>","            <span class=\"k\">{</span> name<span class=\"k\">:</span><span class=\"s\">'lishu'</span><span class=\"k\">,</span>val<span class=\"k\">:</span><span class=\"s\">'&#38582;&#20070;, SimLi'</span><span class=\"k\">}</span><span class=\"k\">,</span>","            <span class=\"k\">{</span> name<span class=\"k\">:</span><span class=\"s\">'andaleMono'</span><span class=\"k\">,</span>val<span class=\"k\">:</span><span class=\"s\">'andale mono'</span><span class=\"k\">}</span><span class=\"k\">,</span>","            <span class=\"k\">{</span> name<span class=\"k\">:</span><span class=\"s\">'arial'</span><span class=\"k\">,</span>val<span class=\"k\">:</span><span class=\"s\">'arial, helvetica,sans-serif'</span><span class=\"k\">}</span><span class=\"k\">,</span>","            <span class=\"k\">{</span> name<span class=\"k\">:</span><span class=\"s\">'arialBlack'</span><span class=\"k\">,</span>val<span class=\"k\">:</span><span class=\"s\">'arial black,avant garde'</span><span class=\"k\">}</span><span class=\"k\">,</span>","            <span class=\"k\">{</span> name<span class=\"k\">:</span><span class=\"s\">'comicSansMs'</span><span class=\"k\">,</span>val<span class=\"k\">:</span><span class=\"s\">'comic sans ms'</span><span class=\"k\">}</span><span class=\"k\">,</span>","            <span class=\"k\">{</span> name<span class=\"k\">:</span><span class=\"s\">'impact'</span><span class=\"k\">,</span>val<span class=\"k\">:</span><span class=\"s\">'impact,chicago'</span><span class=\"k\">}</span><span class=\"k\">,</span>","            <span class=\"k\">{</span> name<span class=\"k\">:</span><span class=\"s\">'timesNewRoman'</span><span class=\"k\">,</span>val<span class=\"k\">:</span><span class=\"s\">'times new roman'</span><span class=\"k\">}</span>","          <span class=\"k\">],</span>","        <span class=\"s\">'fontsize'</span><span class=\"k\">:[</span><span class=\"s\">10</span><span class=\"k\">,</span> <span class=\"s\">11</span><span class=\"k\">,</span> <span class=\"s\">12</span><span class=\"k\">,</span> <span class=\"s\">14</span><span class=\"k\">,</span> <span class=\"s\">16</span><span class=\"k\">,</span> <span class=\"s\">18</span><span class=\"k\">,</span> <span class=\"s\">20</span><span class=\"k\">,</span> <span class=\"s\">24</span><span class=\"k\">,</span> <span class=\"s\">36</span><span class=\"k\">]</span>","    <span class=\"k\">}</span><span class=\"k\">);</span>","","    <span class=\"k\">for</span> <span class=\"k\">(</span> <span class=\"k\">var</span> p <span class=\"k\">in</span> fonts <span class=\"k\">)</span> <span class=\"k\">{</span>","        <span class=\"k\">(</span><span class=\"k\">function</span><span class=\"k\">(</span> cmd<span class=\"k\">,</span> style <span class=\"k\">)</span> <span class=\"k\">{</span>","            UE<span class=\"k\">.</span>commands<span class=\"k\">[</span>cmd<span class=\"k\">]</span> <span class=\"k\">=</span> <span class=\"k\">{</span>","                execCommand <span class=\"k\">:</span> <span class=\"k\">function</span><span class=\"k\">(</span> cmdName<span class=\"k\">,</span> value <span class=\"k\">)</span> <span class=\"k\">{</span>","                    value <span class=\"k\">=</span> value <span class=\"k\">||</span> <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>queryCommandState<span class=\"k\">(</span>cmdName<span class=\"k\">)</span> <span class=\"k\">?</span> <span class=\"s\">'none'</span> <span class=\"k\">:</span> cmdName <span class=\"k\">==</span> <span class=\"s\">'underline'</span> <span class=\"k\">?</span> <span class=\"s\">'underline'</span> <span class=\"k\">:</span> <span class=\"s\">'line-through'</span><span class=\"k\">);</span>","                    <span class=\"k\">var</span> me <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">,</span>","                        range <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>selection<span class=\"k\">.</span>getRange<span class=\"k\">(),</span>","                        text<span class=\"k\">;</span>","","                    <span class=\"k\">if</span> <span class=\"k\">(</span> value <span class=\"k\">==</span> <span class=\"s\">'default'</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","","                        <span class=\"k\">if</span><span class=\"k\">(</span>range<span class=\"k\">.</span>collapsed<span class=\"k\">)</span><span class=\"k\">{</span>","                            text <span class=\"k\">=</span> me<span class=\"k\">.</span>document<span class=\"k\">.</span>createTextNode<span class=\"k\">(</span><span class=\"s\">'font'</span><span class=\"k\">);</span>","                            range<span class=\"k\">.</span>insertNode<span class=\"k\">(</span>text<span class=\"k\">).</span>select<span class=\"k\">();</span>","","                        <span class=\"k\">}</span>","                        me<span class=\"k\">.</span>execCommand<span class=\"k\">(</span> <span class=\"s\">'removeFormat'</span><span class=\"k\">,</span> <span class=\"s\">'span,a'</span><span class=\"k\">,</span> style<span class=\"k\">);</span>","                        <span class=\"k\">if</span><span class=\"k\">(</span>text<span class=\"k\">)</span><span class=\"k\">{</span>","                            range<span class=\"k\">.</span>setStartBefore<span class=\"k\">(</span>text<span class=\"k\">).</span>setCursor<span class=\"k\">();</span>","                            domUtils<span class=\"k\">.</span>remove<span class=\"k\">(</span>text<span class=\"k\">);</span>","                        <span class=\"k\">}</span>","","","                    <span class=\"k\">}</span> <span class=\"k\">else</span> <span class=\"k\">{</span>","                        <span class=\"k\">if</span><span class=\"k\">(</span>me<span class=\"k\">.</span>currentSelectedArr <span class=\"k\">&amp;&amp;</span> me<span class=\"k\">.</span>currentSelectedArr<span class=\"k\">.</span>length <span class=\"k\">&gt;</span> <span class=\"s\">0</span><span class=\"k\">)</span><span class=\"k\">{</span>","                            <span class=\"k\">for</span><span class=\"k\">(</span><span class=\"k\">var</span> i<span class=\"k\">=</span><span class=\"s\">0</span><span class=\"k\">,</span>ci<span class=\"k\">;</span>ci<span class=\"k\">=</span>me<span class=\"k\">.</span>currentSelectedArr<span class=\"k\">[</span>i<span class=\"k\">++];)</span><span class=\"k\">{</span>","                                range<span class=\"k\">.</span>selectNodeContents<span class=\"k\">(</span>ci<span class=\"k\">);</span>","                                range<span class=\"k\">.</span>applyInlineStyle<span class=\"k\">(</span> <span class=\"s\">'span'</span><span class=\"k\">,</span> <span class=\"k\">{</span><span class=\"s\">'style'</span><span class=\"k\">:</span>style <span class=\"k\">+</span> <span class=\"s\">':'</span> <span class=\"k\">+</span> value<span class=\"k\">}</span> <span class=\"k\">);</span>","","                            <span class=\"k\">}</span>","                            range<span class=\"k\">.</span>selectNodeContents<span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>currentSelectedArr<span class=\"k\">[</span><span class=\"s\">0</span><span class=\"k\">]).</span>select<span class=\"k\">();</span>","                        <span class=\"k\">}</span><span class=\"k\">else</span><span class=\"k\">{</span>","                            <span class=\"k\">if</span> <span class=\"k\">(</span> <span class=\"k\">!</span>range<span class=\"k\">.</span>collapsed <span class=\"k\">)</span> <span class=\"k\">{</span>","                                <span class=\"k\">if</span><span class=\"k\">((</span>cmd <span class=\"k\">==</span> <span class=\"s\">'underline'</span><span class=\"k\">||</span>cmd<span class=\"k\">==</span><span class=\"s\">'strikethrough'</span><span class=\"k\">)</span> <span class=\"k\">&amp;&amp;</span> me<span class=\"k\">.</span>queryCommandValue<span class=\"k\">(</span>cmd<span class=\"k\">))</span><span class=\"k\">{</span>","                                     me<span class=\"k\">.</span>execCommand<span class=\"k\">(</span> <span class=\"s\">'removeFormat'</span><span class=\"k\">,</span> <span class=\"s\">'span,a'</span><span class=\"k\">,</span> style <span class=\"k\">);</span>","                                <span class=\"k\">}</span>","                                range <span class=\"k\">=</span> me<span class=\"k\">.</span>selection<span class=\"k\">.</span>getRange<span class=\"k\">();</span>","","                                range<span class=\"k\">.</span>applyInlineStyle<span class=\"k\">(</span> <span class=\"s\">'span'</span><span class=\"k\">,</span> <span class=\"k\">{</span><span class=\"s\">'style'</span><span class=\"k\">:</span>style <span class=\"k\">+</span> <span class=\"s\">':'</span> <span class=\"k\">+</span> value<span class=\"k\">}</span> <span class=\"k\">).</span>select<span class=\"k\">();</span>","                            <span class=\"k\">}</span> <span class=\"k\">else</span> <span class=\"k\">{</span>","","                                <span class=\"k\">var</span> span <span class=\"k\">=</span> domUtils<span class=\"k\">.</span>findParentByTagName<span class=\"k\">(</span>range<span class=\"k\">.</span>startContainer<span class=\"k\">,</span><span class=\"s\">'span'</span><span class=\"k\">,</span><span class=\"k\">true</span><span class=\"k\">);</span>","                                text <span class=\"k\">=</span> me<span class=\"k\">.</span>document<span class=\"k\">.</span>createTextNode<span class=\"k\">(</span><span class=\"s\">'font'</span><span class=\"k\">);</span>","                                <span class=\"k\">if</span><span class=\"k\">(</span>span <span class=\"k\">&amp;&amp;</span> <span class=\"k\">!</span>span<span class=\"k\">.</span>children<span class=\"k\">.</span>length <span class=\"k\">&amp;&amp;</span> <span class=\"k\">!</span>span<span class=\"k\">[</span>browser<span class=\"k\">.</span>ie <span class=\"k\">?</span> <span class=\"s\">'innerText'</span><span class=\"k\">:</span><span class=\"s\">'textContent'</span><span class=\"k\">].</span>replace<span class=\"k\">(</span>fillCharReg<span class=\"k\">,</span><span class=\"s\">''</span><span class=\"k\">).</span>length<span class=\"k\">)</span><span class=\"k\">{</span>","                                    <span class=\"c\">//for ie hack when enter</span>","                                    range<span class=\"k\">.</span>insertNode<span class=\"k\">(</span>text<span class=\"k\">);</span>","                                     <span class=\"k\">if</span><span class=\"k\">(</span>cmd <span class=\"k\">==</span> <span class=\"s\">'underline'</span><span class=\"k\">||</span>cmd<span class=\"k\">==</span><span class=\"s\">'strikethrough'</span><span class=\"k\">)</span><span class=\"k\">{</span>","                                         range<span class=\"k\">.</span>selectNode<span class=\"k\">(</span>text<span class=\"k\">).</span>select<span class=\"k\">();</span>","                                         me<span class=\"k\">.</span>execCommand<span class=\"k\">(</span> <span class=\"s\">'removeFormat'</span><span class=\"k\">,</span><span class=\"s\">'span,a'</span><span class=\"k\">,</span> style<span class=\"k\">,</span> <span class=\"k\">null</span> <span class=\"k\">);</span>","","                                         span <span class=\"k\">=</span> domUtils<span class=\"k\">.</span>findParentByTagName<span class=\"k\">(</span>text<span class=\"k\">,</span><span class=\"s\">'span'</span><span class=\"k\">,</span><span class=\"k\">true</span><span class=\"k\">);</span>","                                         range<span class=\"k\">.</span>setStartBefore<span class=\"k\">(</span>text<span class=\"k\">);</span>","","                                    <span class=\"k\">}</span>","                                    span<span class=\"k\">.</span>style<span class=\"k\">.</span>cssText <span class=\"k\">+=</span> <span class=\"s\">';'</span> <span class=\"k\">+</span> style <span class=\"k\">+</span> <span class=\"s\">':'</span> <span class=\"k\">+</span> value<span class=\"k\">;</span>","                                    range<span class=\"k\">.</span>collapse<span class=\"k\">(</span><span class=\"k\">true</span><span class=\"k\">).</span>select<span class=\"k\">();</span>","","","                                <span class=\"k\">}</span><span class=\"k\">else</span><span class=\"k\">{</span>","                                    range<span class=\"k\">.</span>insertNode<span class=\"k\">(</span>text<span class=\"k\">);</span>","                                    range<span class=\"k\">.</span>selectNode<span class=\"k\">(</span>text<span class=\"k\">).</span>select<span class=\"k\">();</span>","                                    span <span class=\"k\">=</span> range<span class=\"k\">.</span>document<span class=\"k\">.</span>createElement<span class=\"k\">(</span> <span class=\"s\">'span'</span> <span class=\"k\">);</span>","","                                    <span class=\"k\">if</span><span class=\"k\">(</span>cmd <span class=\"k\">==</span> <span class=\"s\">'underline'</span><span class=\"k\">||</span>cmd<span class=\"k\">==</span><span class=\"s\">'strikethrough'</span><span class=\"k\">)</span><span class=\"k\">{</span>","                                        <span class=\"c\">//a&#26631;&#31614;&#20869;&#30340;&#19981;&#22788;&#29702;&#36339;&#36807;</span>","                                        <span class=\"k\">if</span><span class=\"k\">(</span>domUtils<span class=\"k\">.</span>findParentByTagName<span class=\"k\">(</span>text<span class=\"k\">,</span><span class=\"s\">'a'</span><span class=\"k\">,</span><span class=\"k\">true</span><span class=\"k\">))</span><span class=\"k\">{</span>","                                            range<span class=\"k\">.</span>setStartBefore<span class=\"k\">(</span>text<span class=\"k\">).</span>setCursor<span class=\"k\">();</span>","                                             domUtils<span class=\"k\">.</span>remove<span class=\"k\">(</span>text<span class=\"k\">);</span>","                                             <span class=\"k\">return</span><span class=\"k\">;</span>","                                         <span class=\"k\">}</span>","                                         me<span class=\"k\">.</span>execCommand<span class=\"k\">(</span> <span class=\"s\">'removeFormat'</span><span class=\"k\">,</span><span class=\"s\">'span,a'</span><span class=\"k\">,</span> style <span class=\"k\">);</span>","                                    <span class=\"k\">}</span>","","                                    span<span class=\"k\">.</span>style<span class=\"k\">.</span>cssText <span class=\"k\">=</span> style <span class=\"k\">+</span> <span class=\"s\">':'</span> <span class=\"k\">+</span> value<span class=\"k\">;</span>","","","                                    text<span class=\"k\">.</span>parentNode<span class=\"k\">.</span>insertBefore<span class=\"k\">(</span>span<span class=\"k\">,</span>text<span class=\"k\">);</span>","                                    <span class=\"c\">//&#20462;&#22797;&#65292;span&#22871;span &#20294;&#26679;&#24335;&#19981;&#32487;&#25215;&#30340;&#38382;&#39064;</span>","                                    <span class=\"k\">if</span><span class=\"k\">(!</span>browser<span class=\"k\">.</span>ie <span class=\"k\">||</span> browser<span class=\"k\">.</span>ie <span class=\"k\">&amp;&amp;</span> browser<span class=\"k\">.</span>version <span class=\"k\">==</span> <span class=\"s\">9</span><span class=\"k\">)</span><span class=\"k\">{</span>","                                        <span class=\"k\">var</span> spanParent <span class=\"k\">=</span> span<span class=\"k\">.</span>parentNode<span class=\"k\">;</span>","                                        <span class=\"k\">while</span><span class=\"k\">(!</span>domUtils<span class=\"k\">.</span>isBlockElm<span class=\"k\">(</span>spanParent<span class=\"k\">))</span><span class=\"k\">{</span>","                                            <span class=\"k\">if</span><span class=\"k\">(</span>spanParent<span class=\"k\">.</span>tagName <span class=\"k\">==</span> <span class=\"s\">'SPAN'</span><span class=\"k\">)</span><span class=\"k\">{</span>","                                                <span class=\"c\">//opera&#21512;&#24182;style&#19981;&#20250;&#21152;&#20837;\";\"</span>","                                                span<span class=\"k\">.</span>style<span class=\"k\">.</span>cssText <span class=\"k\">=</span> spanParent<span class=\"k\">.</span>style<span class=\"k\">.</span>cssText <span class=\"k\">+</span> <span class=\"s\">\";\"</span> <span class=\"k\">+</span> span<span class=\"k\">.</span>style<span class=\"k\">.</span>cssText<span class=\"k\">;</span>","                                            <span class=\"k\">}</span>","                                            spanParent <span class=\"k\">=</span> spanParent<span class=\"k\">.</span>parentNode<span class=\"k\">;</span>","                                        <span class=\"k\">}</span>","                                    <span class=\"k\">}</span>","","","                                    <span class=\"k\">if</span><span class=\"k\">(</span>opera<span class=\"k\">)</span><span class=\"k\">{</span>","                                        setTimeout<span class=\"k\">(</span><span class=\"k\">function</span><span class=\"k\">()</span><span class=\"k\">{</span>","                                            range<span class=\"k\">.</span>setStart<span class=\"k\">(</span>span<span class=\"k\">,</span><span class=\"s\">0</span><span class=\"k\">).</span>setCursor<span class=\"k\">();</span>","                                        <span class=\"k\">}</span><span class=\"k\">);</span>","                                    <span class=\"k\">}</span><span class=\"k\">else</span><span class=\"k\">{</span>","                                        range<span class=\"k\">.</span>setStart<span class=\"k\">(</span>span<span class=\"k\">,</span><span class=\"s\">0</span><span class=\"k\">).</span>setCursor<span class=\"k\">();</span>","                                    <span class=\"k\">}</span>","","                                    <span class=\"c\">//trace:981</span>","                                    <span class=\"c\">//domUtils.mergeToParent(span)</span>","","","                                <span class=\"k\">}</span>","                                domUtils<span class=\"k\">.</span>remove<span class=\"k\">(</span>text<span class=\"k\">);</span>","                            <span class=\"k\">}</span>","                        <span class=\"k\">}</span>","","                    <span class=\"k\">}</span>","                    <span class=\"k\">return</span> <span class=\"k\">true</span><span class=\"k\">;</span>","                <span class=\"k\">}</span><span class=\"k\">,</span>","                queryCommandValue <span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">(</span>cmdName<span class=\"k\">)</span> <span class=\"k\">{</span>","                    <span class=\"k\">var</span> startNode <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>selection<span class=\"k\">.</span>getStart<span class=\"k\">();</span>","","                    <span class=\"c\">//trace:946</span>","                    <span class=\"k\">if</span><span class=\"k\">(</span>cmdName <span class=\"k\">==</span> <span class=\"s\">'underline'</span><span class=\"k\">||</span>cmdName<span class=\"k\">==</span><span class=\"s\">'strikethrough'</span> <span class=\"k\">)</span><span class=\"k\">{</span>","                        <span class=\"k\">var</span> tmpNode <span class=\"k\">=</span> startNode<span class=\"k\">,</span>value<span class=\"k\">;</span>","                        <span class=\"k\">while</span><span class=\"k\">(</span>tmpNode <span class=\"k\">&amp;&amp;</span> <span class=\"k\">!</span>domUtils<span class=\"k\">.</span>isBlockElm<span class=\"k\">(</span>tmpNode<span class=\"k\">)</span> <span class=\"k\">&amp;&amp;</span> <span class=\"k\">!</span>domUtils<span class=\"k\">.</span>isBody<span class=\"k\">(</span>tmpNode<span class=\"k\">))</span><span class=\"k\">{</span>","                            <span class=\"k\">if</span><span class=\"k\">(</span>tmpNode<span class=\"k\">.</span>nodeType <span class=\"k\">==</span> <span class=\"s\">1</span><span class=\"k\">)</span><span class=\"k\">{</span>","                                value <span class=\"k\">=</span> domUtils<span class=\"k\">.</span>getComputedStyle<span class=\"k\">(</span> tmpNode<span class=\"k\">,</span> style <span class=\"k\">);</span>","","                                <span class=\"k\">if</span><span class=\"k\">(</span>value <span class=\"k\">!=</span> <span class=\"s\">'none'</span><span class=\"k\">)</span><span class=\"k\">{</span>","                                    <span class=\"k\">return</span> value<span class=\"k\">;</span>","                                <span class=\"k\">}</span>","                            <span class=\"k\">}</span>","","                            tmpNode <span class=\"k\">=</span> tmpNode<span class=\"k\">.</span>parentNode<span class=\"k\">;</span>","                        <span class=\"k\">}</span>","                        <span class=\"k\">return</span> <span class=\"s\">'none'</span><span class=\"k\">;</span>","                    <span class=\"k\">}</span>","                    <span class=\"k\">return</span>  domUtils<span class=\"k\">.</span>getComputedStyle<span class=\"k\">(</span> startNode<span class=\"k\">,</span> style <span class=\"k\">);</span>","                <span class=\"k\">}</span><span class=\"k\">,</span>","                queryCommandState <span class=\"k\">:</span> <span class=\"k\">function</span><span class=\"k\">(</span>cmdName<span class=\"k\">)</span><span class=\"k\">{</span>","                    <span class=\"k\">if</span><span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>highlight<span class=\"k\">)</span><span class=\"k\">{</span>","                       <span class=\"k\">return</span> <span class=\"k\">-</span><span class=\"s\">1</span><span class=\"k\">;</span>","                   <span class=\"k\">}</span>","                    <span class=\"k\">if</span><span class=\"k\">(!(</span>cmdName <span class=\"k\">==</span> <span class=\"s\">'underline'</span><span class=\"k\">||</span>cmdName<span class=\"k\">==</span><span class=\"s\">'strikethrough'</span><span class=\"k\">))</span><span class=\"k\">{</span>","                        <span class=\"k\">return</span> <span class=\"s\">0</span><span class=\"k\">;</span>","                    <span class=\"k\">}</span>","                    <span class=\"k\">return</span> <span class=\"k\">this</span><span class=\"k\">.</span>queryCommandValue<span class=\"k\">(</span>cmdName<span class=\"k\">)</span> <span class=\"k\">==</span> <span class=\"k\">(</span>cmdName <span class=\"k\">==</span> <span class=\"s\">'underline'</span> <span class=\"k\">?</span> <span class=\"s\">'underline'</span> <span class=\"k\">:</span> <span class=\"s\">'line-through'</span><span class=\"k\">);</span>","                <span class=\"k\">}</span>","            <span class=\"k\">}</span><span class=\"k\">;</span>","        <span class=\"k\">}</span><span class=\"k\">)(</span> p<span class=\"k\">,</span> fonts<span class=\"k\">[</span>p<span class=\"k\">]</span> <span class=\"k\">);</span>","    <span class=\"k\">}</span>","","","<span class=\"k\">}</span><span class=\"k\">;</span>"]);
_$jscoverage['plugins/formatmatch.js'] && (_$jscoverage['plugins/formatmatch.js'].source = ["<span class=\"c\">///import core</span>","<span class=\"c\">///import plugins\\removeformat.js</span>","<span class=\"c\">///commands &#26684;&#24335;&#21047;</span>","<span class=\"c\">///commandsName  FormatMatch</span>","<span class=\"c\">///commandsTitle  &#26684;&#24335;&#21047;</span>","<span class=\"c\">/**</span>","<span class=\"c\"> * &#26684;&#24335;&#21047;&#65292;&#21482;&#26684;&#24335;inline&#30340;</span>","<span class=\"c\"> * @function</span>","<span class=\"c\"> * @name baidu.editor.execCommand</span>","<span class=\"c\"> * @param {String}     cmdName    formatmatch&#25191;&#34892;&#26684;&#24335;&#21047;</span>","<span class=\"c\"> */</span>","UE<span class=\"k\">.</span>plugins<span class=\"k\">[</span><span class=\"s\">'formatmatch'</span><span class=\"k\">]</span> <span class=\"k\">=</span> <span class=\"k\">function</span><span class=\"k\">()</span><span class=\"k\">{</span>","","    <span class=\"k\">var</span> me <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">,</span>","        list <span class=\"k\">=</span> <span class=\"k\">[],</span>img<span class=\"k\">,</span>","        flag <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">;</span>","","     me<span class=\"k\">.</span>addListener<span class=\"k\">(</span><span class=\"s\">'reset'</span><span class=\"k\">,</span><span class=\"k\">function</span><span class=\"k\">()</span><span class=\"k\">{</span>","         list <span class=\"k\">=</span> <span class=\"k\">[];</span>","         flag <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">;</span>","     <span class=\"k\">}</span><span class=\"k\">);</span>","","    <span class=\"k\">function</span> addList<span class=\"k\">(</span>type<span class=\"k\">,</span>evt<span class=\"k\">)</span><span class=\"k\">{</span>","        ","        <span class=\"k\">if</span><span class=\"k\">(</span>browser<span class=\"k\">.</span>webkit<span class=\"k\">)</span><span class=\"k\">{</span>","            <span class=\"k\">var</span> target <span class=\"k\">=</span> evt<span class=\"k\">.</span>target<span class=\"k\">.</span>tagName <span class=\"k\">==</span> <span class=\"s\">'IMG'</span> <span class=\"k\">?</span> evt<span class=\"k\">.</span>target <span class=\"k\">:</span> <span class=\"k\">null</span><span class=\"k\">;</span>","        <span class=\"k\">}</span>","","        <span class=\"k\">function</span> addFormat<span class=\"k\">(</span>range<span class=\"k\">)</span><span class=\"k\">{</span>","","            <span class=\"k\">if</span><span class=\"k\">(</span>text <span class=\"k\">&amp;&amp;</span> <span class=\"k\">(!</span>me<span class=\"k\">.</span>currentSelectedArr <span class=\"k\">||</span> <span class=\"k\">!</span>me<span class=\"k\">.</span>currentSelectedArr<span class=\"k\">.</span>length<span class=\"k\">))</span><span class=\"k\">{</span>","                range<span class=\"k\">.</span>selectNode<span class=\"k\">(</span>text<span class=\"k\">);</span>","            <span class=\"k\">}</span>","            <span class=\"k\">return</span> range<span class=\"k\">.</span>applyInlineStyle<span class=\"k\">(</span>list<span class=\"k\">[</span>list<span class=\"k\">.</span>length<span class=\"k\">-</span><span class=\"s\">1</span><span class=\"k\">].</span>tagName<span class=\"k\">,</span><span class=\"k\">null</span><span class=\"k\">,</span>list<span class=\"k\">);</span>","","        <span class=\"k\">}</span>","","        me<span class=\"k\">.</span>undoManger <span class=\"k\">&amp;&amp;</span> me<span class=\"k\">.</span>undoManger<span class=\"k\">.</span>save<span class=\"k\">();</span>","","        <span class=\"k\">var</span> range <span class=\"k\">=</span> me<span class=\"k\">.</span>selection<span class=\"k\">.</span>getRange<span class=\"k\">(),</span>","            imgT <span class=\"k\">=</span> target <span class=\"k\">||</span> range<span class=\"k\">.</span>getClosedNode<span class=\"k\">();</span>","        <span class=\"k\">if</span><span class=\"k\">(</span>img <span class=\"k\">&amp;&amp;</span> imgT <span class=\"k\">&amp;&amp;</span> imgT<span class=\"k\">.</span>tagName <span class=\"k\">==</span> <span class=\"s\">'IMG'</span><span class=\"k\">)</span><span class=\"k\">{</span>","            <span class=\"c\">//trace:964</span>","","            imgT<span class=\"k\">.</span>style<span class=\"k\">.</span>cssText <span class=\"k\">+=</span> <span class=\"s\">';float:'</span> <span class=\"k\">+</span> <span class=\"k\">(</span>img<span class=\"k\">.</span>style<span class=\"k\">.</span>cssFloat <span class=\"k\">||</span> img<span class=\"k\">.</span>style<span class=\"k\">.</span>styleFloat <span class=\"k\">||</span><span class=\"s\">'none'</span><span class=\"k\">)</span> <span class=\"k\">+</span> <span class=\"s\">';display:'</span> <span class=\"k\">+</span> <span class=\"k\">(</span>img<span class=\"k\">.</span>style<span class=\"k\">.</span>display<span class=\"k\">||</span><span class=\"s\">'inline'</span><span class=\"k\">);</span>","","            img <span class=\"k\">=</span> <span class=\"k\">null</span><span class=\"k\">;</span>","        <span class=\"k\">}</span><span class=\"k\">else</span><span class=\"k\">{</span>","            <span class=\"k\">if</span><span class=\"k\">(!</span>img<span class=\"k\">)</span><span class=\"k\">{</span>","                <span class=\"k\">var</span> collapsed <span class=\"k\">=</span> range<span class=\"k\">.</span>collapsed<span class=\"k\">;</span>","                <span class=\"k\">if</span><span class=\"k\">(</span>collapsed<span class=\"k\">)</span><span class=\"k\">{</span>","                    <span class=\"k\">var</span> text <span class=\"k\">=</span> me<span class=\"k\">.</span>document<span class=\"k\">.</span>createTextNode<span class=\"k\">(</span><span class=\"s\">'match'</span><span class=\"k\">);</span>","                    range<span class=\"k\">.</span>insertNode<span class=\"k\">(</span>text<span class=\"k\">).</span>select<span class=\"k\">();</span>","","","                <span class=\"k\">}</span>","                me<span class=\"k\">.</span>__hasEnterExecCommand <span class=\"k\">=</span> <span class=\"k\">true</span><span class=\"k\">;</span>","                <span class=\"c\">//&#19981;&#33021;&#25226;block&#19978;&#30340;&#23646;&#24615;&#24178;&#25481;</span>","                <span class=\"c\">//trace:1553</span>","                <span class=\"k\">var</span> removeFormatAttributes <span class=\"k\">=</span> me<span class=\"k\">.</span>options<span class=\"k\">.</span>removeFormatAttributes<span class=\"k\">;</span>","                me<span class=\"k\">.</span>options<span class=\"k\">.</span>removeFormatAttributes <span class=\"k\">=</span> <span class=\"s\">''</span><span class=\"k\">;</span>","                me<span class=\"k\">.</span>execCommand<span class=\"k\">(</span><span class=\"s\">'removeformat'</span><span class=\"k\">);</span>","                me<span class=\"k\">.</span>options<span class=\"k\">.</span>removeFormatAttributes <span class=\"k\">=</span> removeFormatAttributes<span class=\"k\">;</span>","                me<span class=\"k\">.</span>__hasEnterExecCommand <span class=\"k\">=</span> <span class=\"k\">false</span><span class=\"k\">;</span>","                <span class=\"c\">//trace:969</span>","                range <span class=\"k\">=</span> me<span class=\"k\">.</span>selection<span class=\"k\">.</span>getRange<span class=\"k\">();</span>","                <span class=\"k\">if</span><span class=\"k\">(</span>list<span class=\"k\">.</span>length <span class=\"k\">==</span> <span class=\"s\">0</span><span class=\"k\">)</span><span class=\"k\">{</span>","","                    <span class=\"k\">if</span><span class=\"k\">(</span>me<span class=\"k\">.</span>currentSelectedArr <span class=\"k\">&amp;&amp;</span> me<span class=\"k\">.</span>currentSelectedArr<span class=\"k\">.</span>length <span class=\"k\">&gt;</span> <span class=\"s\">0</span><span class=\"k\">)</span><span class=\"k\">{</span>","                        range<span class=\"k\">.</span>selectNodeContents<span class=\"k\">(</span>me<span class=\"k\">.</span>currentSelectedArr<span class=\"k\">[</span><span class=\"s\">0</span><span class=\"k\">]).</span>select<span class=\"k\">();</span>","                    <span class=\"k\">}</span>","                <span class=\"k\">}</span><span class=\"k\">else</span><span class=\"k\">{</span>","                    <span class=\"k\">if</span><span class=\"k\">(</span>me<span class=\"k\">.</span>currentSelectedArr <span class=\"k\">&amp;&amp;</span> me<span class=\"k\">.</span>currentSelectedArr<span class=\"k\">.</span>length <span class=\"k\">&gt;</span> <span class=\"s\">0</span><span class=\"k\">)</span><span class=\"k\">{</span>","","                        <span class=\"k\">for</span><span class=\"k\">(</span><span class=\"k\">var</span> i<span class=\"k\">=</span><span class=\"s\">0</span><span class=\"k\">,</span>ci<span class=\"k\">;</span>ci<span class=\"k\">=</span>me<span class=\"k\">.</span>currentSelectedArr<span class=\"k\">[</span>i<span class=\"k\">++];)</span><span class=\"k\">{</span>","                            range<span class=\"k\">.</span>selectNodeContents<span class=\"k\">(</span>ci<span class=\"k\">);</span>","                            addFormat<span class=\"k\">(</span>range<span class=\"k\">);</span>","","                        <span class=\"k\">}</span>","                        range<span class=\"k\">.</span>selectNodeContents<span class=\"k\">(</span>me<span class=\"k\">.</span>currentSelectedArr<span class=\"k\">[</span><span class=\"s\">0</span><span class=\"k\">]).</span>select<span class=\"k\">();</span>","                    <span class=\"k\">}</span><span class=\"k\">else</span><span class=\"k\">{</span>","","","                        addFormat<span class=\"k\">(</span>range<span class=\"k\">);</span>","","                    <span class=\"k\">}</span>","                <span class=\"k\">}</span>","                <span class=\"k\">if</span><span class=\"k\">(!</span>me<span class=\"k\">.</span>currentSelectedArr <span class=\"k\">||</span> <span class=\"k\">!</span>me<span class=\"k\">.</span>currentSelectedArr<span class=\"k\">.</span>length<span class=\"k\">)</span><span class=\"k\">{</span>","                    <span class=\"k\">if</span><span class=\"k\">(</span>text<span class=\"k\">)</span><span class=\"k\">{</span>","                        range<span class=\"k\">.</span>setStartBefore<span class=\"k\">(</span>text<span class=\"k\">).</span>collapse<span class=\"k\">(</span><span class=\"k\">true</span><span class=\"k\">);</span>","","                    <span class=\"k\">}</span>","","                    range<span class=\"k\">.</span>select<span class=\"k\">();</span>","                <span class=\"k\">}</span>","                text <span class=\"k\">&amp;&amp;</span> domUtils<span class=\"k\">.</span>remove<span class=\"k\">(</span>text<span class=\"k\">);</span>","            <span class=\"k\">}</span>","","        <span class=\"k\">}</span>","","","","","        me<span class=\"k\">.</span>undoManger <span class=\"k\">&amp;&amp;</span> me<span class=\"k\">.</span>undoManger<span class=\"k\">.</span>save<span class=\"k\">();</span>","        me<span class=\"k\">.</span>removeListener<span class=\"k\">(</span><span class=\"s\">'mouseup'</span><span class=\"k\">,</span>addList<span class=\"k\">);</span>","        flag <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">;</span>","    <span class=\"k\">}</span>","","    me<span class=\"k\">.</span>commands<span class=\"k\">[</span><span class=\"s\">'formatmatch'</span><span class=\"k\">]</span> <span class=\"k\">=</span> <span class=\"k\">{</span>","        execCommand <span class=\"k\">:</span> <span class=\"k\">function</span><span class=\"k\">(</span> cmdName <span class=\"k\">)</span> <span class=\"k\">{</span>","          ","            <span class=\"k\">if</span><span class=\"k\">(</span>flag<span class=\"k\">)</span><span class=\"k\">{</span>","                flag <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">;</span>","                list <span class=\"k\">=</span> <span class=\"k\">[];</span>","                 me<span class=\"k\">.</span>removeListener<span class=\"k\">(</span><span class=\"s\">'mouseup'</span><span class=\"k\">,</span>addList<span class=\"k\">);</span>","                <span class=\"k\">return</span><span class=\"k\">;</span>","            <span class=\"k\">}</span>","","","              ","            <span class=\"k\">var</span> range <span class=\"k\">=</span> me<span class=\"k\">.</span>selection<span class=\"k\">.</span>getRange<span class=\"k\">();</span>","            img <span class=\"k\">=</span> range<span class=\"k\">.</span>getClosedNode<span class=\"k\">();</span>","            <span class=\"k\">if</span><span class=\"k\">(!</span>img <span class=\"k\">||</span> img<span class=\"k\">.</span>tagName <span class=\"k\">!=</span> <span class=\"s\">'IMG'</span><span class=\"k\">)</span><span class=\"k\">{</span>","               range<span class=\"k\">.</span>collapse<span class=\"k\">(</span><span class=\"k\">true</span><span class=\"k\">).</span>shrinkBoundary<span class=\"k\">();</span>","               <span class=\"k\">var</span> start <span class=\"k\">=</span> range<span class=\"k\">.</span>startContainer<span class=\"k\">;</span>","               list <span class=\"k\">=</span> domUtils<span class=\"k\">.</span>findParents<span class=\"k\">(</span>start<span class=\"k\">,</span><span class=\"k\">true</span><span class=\"k\">,</span><span class=\"k\">function</span><span class=\"k\">(</span>node<span class=\"k\">)</span><span class=\"k\">{</span>","                   <span class=\"k\">return</span> <span class=\"k\">!</span>domUtils<span class=\"k\">.</span>isBlockElm<span class=\"k\">(</span>node<span class=\"k\">)</span> <span class=\"k\">&amp;&amp;</span> node<span class=\"k\">.</span>nodeType <span class=\"k\">==</span> <span class=\"s\">1</span><span class=\"k\">;</span>","               <span class=\"k\">}</span><span class=\"k\">);</span>","               <span class=\"c\">//a&#19981;&#33021;&#21152;&#20837;&#26684;&#24335;&#21047;, &#24182;&#19988;&#20811;&#38534;&#33410;&#28857;</span>","               <span class=\"k\">for</span><span class=\"k\">(</span><span class=\"k\">var</span> i<span class=\"k\">=</span><span class=\"s\">0</span><span class=\"k\">,</span>ci<span class=\"k\">;</span>ci<span class=\"k\">=</span>list<span class=\"k\">[</span>i<span class=\"k\">];</span>i<span class=\"k\">++)</span><span class=\"k\">{</span>","                   <span class=\"k\">if</span><span class=\"k\">(</span>ci<span class=\"k\">.</span>tagName <span class=\"k\">==</span> <span class=\"s\">'A'</span><span class=\"k\">)</span><span class=\"k\">{</span>","                       list<span class=\"k\">.</span>splice<span class=\"k\">(</span>i<span class=\"k\">,</span><span class=\"s\">1</span><span class=\"k\">);</span>","                       <span class=\"k\">break</span><span class=\"k\">;</span>","                   <span class=\"k\">}</span>","               <span class=\"k\">}</span>","","            <span class=\"k\">}</span>","","            me<span class=\"k\">.</span>addListener<span class=\"k\">(</span><span class=\"s\">'mouseup'</span><span class=\"k\">,</span>addList<span class=\"k\">);</span>","            flag <span class=\"k\">=</span> <span class=\"s\">1</span><span class=\"k\">;</span>","","","        <span class=\"k\">}</span><span class=\"k\">,</span>","        queryCommandState <span class=\"k\">:</span> <span class=\"k\">function</span><span class=\"k\">()</span> <span class=\"k\">{</span>","             <span class=\"k\">if</span><span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>highlight<span class=\"k\">)</span><span class=\"k\">{</span>","                       <span class=\"k\">return</span> <span class=\"k\">-</span><span class=\"s\">1</span><span class=\"k\">;</span>","                   <span class=\"k\">}</span>","            <span class=\"k\">return</span> flag<span class=\"k\">;</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        notNeedUndo <span class=\"k\">:</span> <span class=\"s\">1</span>","    <span class=\"k\">}</span><span class=\"k\">;</span>","<span class=\"k\">}</span><span class=\"k\">;</span>",""]);
_$jscoverage['plugins/highlightcode.js'] && (_$jscoverage['plugins/highlightcode.js'].source = ["<span class=\"c\">///import core</span>","<span class=\"c\">///import plugins/inserthtml.js</span>","<span class=\"c\">///commands &#25554;&#20837;&#20195;&#30721;</span>","<span class=\"c\">///commandsName  HighlightCode</span>","<span class=\"c\">///commandsTitle  &#25554;&#20837;&#20195;&#30721;</span>","<span class=\"c\">///commandsDialog  dialogs\\code\\code.html</span>","UE<span class=\"k\">.</span>plugins<span class=\"k\">[</span><span class=\"s\">'highlightcode'</span><span class=\"k\">]</span> <span class=\"k\">=</span> <span class=\"k\">function</span><span class=\"k\">()</span> <span class=\"k\">{</span>","    <span class=\"k\">var</span> me <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">;</span>","    <span class=\"k\">if</span><span class=\"k\">(!</span><span class=\"s\">/highlightcode/i</span><span class=\"k\">.</span>test<span class=\"k\">(</span>me<span class=\"k\">.</span>options<span class=\"k\">.</span>toolbars<span class=\"k\">.</span>join<span class=\"k\">(</span><span class=\"s\">''</span><span class=\"k\">)))</span><span class=\"k\">{</span>","        <span class=\"k\">return</span><span class=\"k\">;</span>","    <span class=\"k\">}</span>","    me<span class=\"k\">.</span>commands<span class=\"k\">[</span><span class=\"s\">'highlightcode'</span><span class=\"k\">]</span> <span class=\"k\">=</span> <span class=\"k\">{</span>","        execCommand<span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">(</span>cmdName<span class=\"k\">,</span> code<span class=\"k\">,</span> syntax<span class=\"k\">)</span> <span class=\"k\">{</span>","            <span class=\"k\">if</span><span class=\"k\">(</span>code <span class=\"k\">&amp;&amp;</span> syntax<span class=\"k\">)</span><span class=\"k\">{</span>","                <span class=\"k\">var</span> pre <span class=\"k\">=</span> document<span class=\"k\">.</span>createElement<span class=\"k\">(</span><span class=\"s\">\"pre\"</span><span class=\"k\">);</span>","                pre<span class=\"k\">.</span>className <span class=\"k\">=</span> <span class=\"s\">\"brush: \"</span><span class=\"k\">+</span>syntax<span class=\"k\">+</span><span class=\"s\">\";toolbar:false;\"</span><span class=\"k\">;</span>","                pre<span class=\"k\">.</span>style<span class=\"k\">.</span>display <span class=\"k\">=</span> <span class=\"s\">\"\"</span><span class=\"k\">;</span>","                pre<span class=\"k\">.</span>appendChild<span class=\"k\">(</span>document<span class=\"k\">.</span>createTextNode<span class=\"k\">(</span>code<span class=\"k\">));</span>","                document<span class=\"k\">.</span>body<span class=\"k\">.</span>appendChild<span class=\"k\">(</span>pre<span class=\"k\">);</span>","                <span class=\"k\">if</span><span class=\"k\">(</span>me<span class=\"k\">.</span>queryCommandState<span class=\"k\">(</span><span class=\"s\">\"highlightcode\"</span><span class=\"k\">))</span><span class=\"k\">{</span>","                    me<span class=\"k\">.</span>execCommand<span class=\"k\">(</span><span class=\"s\">\"highlightcode\"</span><span class=\"k\">);</span>","                <span class=\"k\">}</span>","                me<span class=\"k\">.</span>execCommand<span class=\"k\">(</span><span class=\"s\">'inserthtml'</span><span class=\"k\">,</span> SyntaxHighlighter<span class=\"k\">.</span>highlight<span class=\"k\">(</span>pre<span class=\"k\">,</span><span class=\"k\">null</span><span class=\"k\">,</span><span class=\"k\">true</span><span class=\"k\">),</span><span class=\"k\">true</span><span class=\"k\">);</span>","                <span class=\"k\">var</span> div <span class=\"k\">=</span> me<span class=\"k\">.</span>document<span class=\"k\">.</span>getElementById<span class=\"k\">(</span>SyntaxHighlighter<span class=\"k\">.</span>getHighlighterDivId<span class=\"k\">());</span>","                div<span class=\"k\">.</span>setAttribute<span class=\"k\">(</span><span class=\"s\">'highlighter'</span><span class=\"k\">,</span>pre<span class=\"k\">.</span>className<span class=\"k\">);</span>","                domUtils<span class=\"k\">.</span>remove<span class=\"k\">(</span>pre<span class=\"k\">);</span>","                adjustHeight<span class=\"k\">();</span>","            <span class=\"k\">}</span><span class=\"k\">else</span><span class=\"k\">{</span>","                <span class=\"k\">var</span> range <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>selection<span class=\"k\">.</span>getRange<span class=\"k\">(),</span>","                   start <span class=\"k\">=</span> domUtils<span class=\"k\">.</span>findParentByTagName<span class=\"k\">(</span>range<span class=\"k\">.</span>startContainer<span class=\"k\">,</span> <span class=\"s\">'table'</span><span class=\"k\">,</span> <span class=\"k\">true</span><span class=\"k\">),</span>","                   end <span class=\"k\">=</span> domUtils<span class=\"k\">.</span>findParentByTagName<span class=\"k\">(</span>range<span class=\"k\">.</span>endContainer<span class=\"k\">,</span> <span class=\"s\">'table'</span><span class=\"k\">,</span> <span class=\"k\">true</span><span class=\"k\">),</span>","                   codediv<span class=\"k\">;</span>","                <span class=\"k\">if</span><span class=\"k\">(</span>start <span class=\"k\">&amp;&amp;</span> end <span class=\"k\">&amp;&amp;</span> start <span class=\"k\">===</span> end <span class=\"k\">&amp;&amp;</span> start<span class=\"k\">.</span>parentNode<span class=\"k\">.</span>className<span class=\"k\">.</span>indexOf<span class=\"k\">(</span><span class=\"s\">\"syntaxhighlighter\"</span><span class=\"k\">)&gt;-</span><span class=\"s\">1</span><span class=\"k\">)</span><span class=\"k\">{</span>","                    codediv <span class=\"k\">=</span> start<span class=\"k\">.</span>parentNode<span class=\"k\">;</span>","                    <span class=\"c\">//&#38656;&#35201;&#21028;&#26029;&#19968;&#19979;&#21518;&#36793;&#26377;&#27809;&#26377;&#33410;&#28857;&#65292;&#27809;&#26377;&#30340;&#21270;&#25165;&#28155;&#21152;&#26032;&#30340;&#26631;&#31614;</span>","                    <span class=\"k\">if</span><span class=\"k\">(</span>domUtils<span class=\"k\">.</span>isBody<span class=\"k\">(</span>codediv<span class=\"k\">.</span>parentNode<span class=\"k\">)</span> <span class=\"k\">&amp;&amp;</span> <span class=\"k\">!</span>codediv<span class=\"k\">.</span>nextSibling<span class=\"k\">)</span><span class=\"k\">{</span>","                        <span class=\"k\">var</span> p <span class=\"k\">=</span> me<span class=\"k\">.</span>document<span class=\"k\">.</span>createElement<span class=\"k\">(</span><span class=\"s\">'p'</span><span class=\"k\">);</span>","                        p<span class=\"k\">.</span>innerHTML <span class=\"k\">=</span> browser<span class=\"k\">.</span>ie <span class=\"k\">?</span> <span class=\"s\">''</span> <span class=\"k\">:</span> <span class=\"s\">'&lt;br/&gt;'</span><span class=\"k\">;</span>","                        me<span class=\"k\">.</span>body<span class=\"k\">.</span>insertBefore<span class=\"k\">(</span>p<span class=\"k\">,</span>codediv<span class=\"k\">);</span>","                        range<span class=\"k\">.</span>setStart<span class=\"k\">(</span>p<span class=\"k\">,</span><span class=\"s\">0</span><span class=\"k\">);</span>","                    <span class=\"k\">}</span><span class=\"k\">else</span><span class=\"k\">{</span>","                        range<span class=\"k\">.</span>setStartBefore<span class=\"k\">(</span>codediv<span class=\"k\">)</span>","                    <span class=\"k\">}</span>","                    range<span class=\"k\">.</span>setCursor<span class=\"k\">();</span>","                    domUtils<span class=\"k\">.</span>remove<span class=\"k\">(</span>codediv<span class=\"k\">);</span>","                <span class=\"k\">}</span>","            <span class=\"k\">}</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        queryCommandState<span class=\"k\">:</span> <span class=\"k\">function</span><span class=\"k\">()</span><span class=\"k\">{</span>","            <span class=\"k\">var</span> range <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>selection<span class=\"k\">.</span>getRange<span class=\"k\">(),</span>start<span class=\"k\">,</span>end<span class=\"k\">;</span>","            range<span class=\"k\">.</span>adjustmentBoundary<span class=\"k\">();</span>","                start <span class=\"k\">=</span> domUtils<span class=\"k\">.</span>findParent<span class=\"k\">(</span>range<span class=\"k\">.</span>startContainer<span class=\"k\">,</span><span class=\"k\">function</span><span class=\"k\">(</span>node<span class=\"k\">)</span><span class=\"k\">{</span>","                    <span class=\"k\">return</span> node<span class=\"k\">.</span>nodeType <span class=\"k\">==</span> <span class=\"s\">1</span> <span class=\"k\">&amp;&amp;</span> node<span class=\"k\">.</span>tagName <span class=\"k\">==</span> <span class=\"s\">'DIV'</span> <span class=\"k\">&amp;&amp;</span> domUtils<span class=\"k\">.</span>hasClass<span class=\"k\">(</span>node<span class=\"k\">,</span><span class=\"s\">'syntaxhighlighter'</span><span class=\"k\">);</span>","                <span class=\"k\">}</span><span class=\"k\">,</span><span class=\"k\">true</span><span class=\"k\">);</span>","                end <span class=\"k\">=</span> domUtils<span class=\"k\">.</span>findParent<span class=\"k\">(</span>range<span class=\"k\">.</span>endContainer<span class=\"k\">,</span><span class=\"k\">function</span><span class=\"k\">(</span>node<span class=\"k\">)</span><span class=\"k\">{</span>","                    <span class=\"k\">return</span> node<span class=\"k\">.</span>nodeType <span class=\"k\">==</span> <span class=\"s\">1</span> <span class=\"k\">&amp;&amp;</span> node<span class=\"k\">.</span>tagName <span class=\"k\">==</span> <span class=\"s\">'DIV'</span> <span class=\"k\">&amp;&amp;</span> domUtils<span class=\"k\">.</span>hasClass<span class=\"k\">(</span>node<span class=\"k\">,</span><span class=\"s\">'syntaxhighlighter'</span><span class=\"k\">);</span>","                <span class=\"k\">}</span><span class=\"k\">,</span><span class=\"k\">true</span><span class=\"k\">);</span>","            <span class=\"k\">return</span> start <span class=\"k\">&amp;&amp;</span> end <span class=\"k\">&amp;&amp;</span> start <span class=\"k\">==</span> end  <span class=\"k\">?</span> <span class=\"s\">1</span> <span class=\"k\">:</span> <span class=\"s\">0</span><span class=\"k\">;</span>","        <span class=\"k\">}</span>","    <span class=\"k\">}</span><span class=\"k\">;</span>","","    me<span class=\"k\">.</span>addListener<span class=\"k\">(</span><span class=\"s\">'beforeselectionchange afterselectionchange'</span><span class=\"k\">,</span><span class=\"k\">function</span><span class=\"k\">(</span>type<span class=\"k\">)</span><span class=\"k\">{</span>","        me<span class=\"k\">.</span>highlight <span class=\"k\">=</span> <span class=\"s\">/^b/</span><span class=\"k\">.</span>test<span class=\"k\">(</span>type<span class=\"k\">)</span> <span class=\"k\">?</span> me<span class=\"k\">.</span>queryCommandState<span class=\"k\">(</span><span class=\"s\">'highlightcode'</span><span class=\"k\">)</span> <span class=\"k\">:</span> <span class=\"s\">0</span><span class=\"k\">;</span>","    <span class=\"k\">}</span><span class=\"k\">);</span>","","","    me<span class=\"k\">.</span>addListener<span class=\"k\">(</span><span class=\"s\">\"ready\"</span><span class=\"k\">,</span><span class=\"k\">function</span><span class=\"k\">()</span><span class=\"k\">{</span>","        <span class=\"c\">//&#36991;&#20813;&#37325;&#22797;&#21152;&#36733;&#39640;&#20142;&#25991;&#20214;</span>","        <span class=\"k\">if</span><span class=\"k\">(</span><span class=\"k\">typeof</span> XRegExp <span class=\"k\">==</span> <span class=\"s\">\"undefined\"</span><span class=\"k\">)</span><span class=\"k\">{</span>","            utils<span class=\"k\">.</span>loadFile<span class=\"k\">(</span>document<span class=\"k\">,</span><span class=\"k\">{</span>","                id <span class=\"k\">:</span> <span class=\"s\">\"syntaxhighlighter_js\"</span><span class=\"k\">,</span>","                src <span class=\"k\">:</span> me<span class=\"k\">.</span>options<span class=\"k\">.</span>highlightJsUrl <span class=\"k\">||</span> me<span class=\"k\">.</span>options<span class=\"k\">.</span>UEDITOR_HOME_URL <span class=\"k\">+</span> <span class=\"s\">\"third-party/SyntaxHighlighter/shCore.js\"</span><span class=\"k\">,</span>","                tag <span class=\"k\">:</span> <span class=\"s\">\"script\"</span><span class=\"k\">,</span>","                type <span class=\"k\">:</span> <span class=\"s\">\"text/javascript\"</span><span class=\"k\">,</span>","                defer <span class=\"k\">:</span> <span class=\"s\">\"defer\"</span>","            <span class=\"k\">}</span><span class=\"k\">,</span><span class=\"k\">function</span><span class=\"k\">()</span><span class=\"k\">{</span>","                changePre<span class=\"k\">();</span>","            <span class=\"k\">}</span><span class=\"k\">);</span>","        <span class=\"k\">}</span>","        <span class=\"k\">if</span><span class=\"k\">(!</span>me<span class=\"k\">.</span>document<span class=\"k\">.</span>getElementById<span class=\"k\">(</span><span class=\"s\">\"syntaxhighlighter_css\"</span><span class=\"k\">))</span><span class=\"k\">{</span>","            utils<span class=\"k\">.</span>loadFile<span class=\"k\">(</span>me<span class=\"k\">.</span>document<span class=\"k\">,</span><span class=\"k\">{</span>","                id <span class=\"k\">:</span> <span class=\"s\">\"syntaxhighlighter_css\"</span><span class=\"k\">,</span>","                tag <span class=\"k\">:</span> <span class=\"s\">\"link\"</span><span class=\"k\">,</span>","                rel <span class=\"k\">:</span> <span class=\"s\">\"stylesheet\"</span><span class=\"k\">,</span>","                type <span class=\"k\">:</span> <span class=\"s\">\"text/css\"</span><span class=\"k\">,</span>","                href <span class=\"k\">:</span> me<span class=\"k\">.</span>options<span class=\"k\">.</span>highlightCssUrl <span class=\"k\">||</span>me<span class=\"k\">.</span>options<span class=\"k\">.</span>UEDITOR_HOME_URL <span class=\"k\">+</span> <span class=\"s\">\"third-party/SyntaxHighlighter/shCoreDefault.css\"</span>","            <span class=\"k\">}</span><span class=\"k\">);</span>","        <span class=\"k\">}</span>","","    <span class=\"k\">}</span><span class=\"k\">);</span>","    me<span class=\"k\">.</span>addListener<span class=\"k\">(</span><span class=\"s\">\"beforegetcontent\"</span><span class=\"k\">,</span><span class=\"k\">function</span><span class=\"k\">()</span><span class=\"k\">{</span>","        <span class=\"k\">for</span><span class=\"k\">(</span><span class=\"k\">var</span> i<span class=\"k\">=</span><span class=\"s\">0</span><span class=\"k\">,</span>di<span class=\"k\">,</span>divs<span class=\"k\">=</span>domUtils<span class=\"k\">.</span>getElementsByTagName<span class=\"k\">(</span>me<span class=\"k\">.</span>body<span class=\"k\">,</span><span class=\"s\">'div'</span><span class=\"k\">);</span>di<span class=\"k\">=</span>divs<span class=\"k\">[</span>i<span class=\"k\">++];)</span><span class=\"k\">{</span>","            <span class=\"k\">if</span><span class=\"k\">(</span>di<span class=\"k\">.</span>className <span class=\"k\">==</span> <span class=\"s\">'container'</span><span class=\"k\">)</span><span class=\"k\">{</span>","                <span class=\"k\">var</span> pN <span class=\"k\">=</span> di<span class=\"k\">.</span>parentNode<span class=\"k\">;</span>","                <span class=\"k\">while</span><span class=\"k\">(</span>pN<span class=\"k\">)</span><span class=\"k\">{</span>","                    <span class=\"k\">if</span><span class=\"k\">(</span>pN<span class=\"k\">.</span>tagName <span class=\"k\">==</span> <span class=\"s\">'DIV'</span> <span class=\"k\">&amp;&amp;</span> <span class=\"s\">/highlighter/</span><span class=\"k\">.</span>test<span class=\"k\">(</span>pN<span class=\"k\">.</span>id<span class=\"k\">))</span><span class=\"k\">{</span>","                        <span class=\"k\">break</span><span class=\"k\">;</span>","                    <span class=\"k\">}</span>","                    pN <span class=\"k\">=</span> pN<span class=\"k\">.</span>parentNode<span class=\"k\">;</span>","                <span class=\"k\">}</span>","                <span class=\"k\">if</span><span class=\"k\">(!</span>pN<span class=\"k\">)</span><span class=\"k\">{</span>","                    <span class=\"k\">return</span><span class=\"k\">;</span>","                <span class=\"k\">}</span>","                <span class=\"k\">var</span> pre <span class=\"k\">=</span> me<span class=\"k\">.</span>document<span class=\"k\">.</span>createElement<span class=\"k\">(</span><span class=\"s\">'pre'</span><span class=\"k\">);</span>","                <span class=\"k\">for</span><span class=\"k\">(</span><span class=\"k\">var</span> str<span class=\"k\">=[],</span>c<span class=\"k\">=</span><span class=\"s\">0</span><span class=\"k\">,</span>ci<span class=\"k\">;</span>ci<span class=\"k\">=</span>di<span class=\"k\">.</span>childNodes<span class=\"k\">[</span>c<span class=\"k\">++];)</span><span class=\"k\">{</span>","                    str<span class=\"k\">.</span>push<span class=\"k\">(</span>ci<span class=\"k\">[</span>browser<span class=\"k\">.</span>ie<span class=\"k\">?</span><span class=\"s\">'innerText'</span><span class=\"k\">:</span><span class=\"s\">'textContent'</span><span class=\"k\">]);</span>","                <span class=\"k\">}</span>","                pre<span class=\"k\">.</span>appendChild<span class=\"k\">(</span>me<span class=\"k\">.</span>document<span class=\"k\">.</span>createTextNode<span class=\"k\">(</span>str<span class=\"k\">.</span>join<span class=\"k\">(</span><span class=\"s\">'</span><span class=\"t\">\\n</span><span class=\"s\">'</span><span class=\"k\">)));</span>","                pre<span class=\"k\">.</span>className <span class=\"k\">=</span> pN<span class=\"k\">.</span>getAttribute<span class=\"k\">(</span><span class=\"s\">'highlighter'</span><span class=\"k\">);</span>","                pN<span class=\"k\">.</span>parentNode<span class=\"k\">.</span>insertBefore<span class=\"k\">(</span>pre<span class=\"k\">,</span>pN<span class=\"k\">);</span>","                domUtils<span class=\"k\">.</span>remove<span class=\"k\">(</span>pN<span class=\"k\">);</span>","            <span class=\"k\">}</span>","        <span class=\"k\">}</span>","    <span class=\"k\">}</span><span class=\"k\">);</span>","    me<span class=\"k\">.</span>addListener<span class=\"k\">(</span><span class=\"s\">\"aftergetcontent aftersetcontent\"</span><span class=\"k\">,</span>changePre<span class=\"k\">);</span>","","    <span class=\"k\">function</span> adjustHeight<span class=\"k\">()</span><span class=\"k\">{</span>","        setTimeout<span class=\"k\">(</span><span class=\"k\">function</span><span class=\"k\">()</span><span class=\"k\">{</span>","            <span class=\"k\">var</span> div <span class=\"k\">=</span> me<span class=\"k\">.</span>document<span class=\"k\">.</span>getElementById<span class=\"k\">(</span>SyntaxHighlighter<span class=\"k\">.</span>getHighlighterDivId<span class=\"k\">());</span>","","            <span class=\"k\">if</span><span class=\"k\">(</span>div<span class=\"k\">)</span><span class=\"k\">{</span>","                <span class=\"k\">var</span> tds <span class=\"k\">=</span> div<span class=\"k\">.</span>getElementsByTagName<span class=\"k\">(</span><span class=\"s\">'td'</span><span class=\"k\">);</span>","                <span class=\"k\">for</span><span class=\"k\">(</span><span class=\"k\">var</span> i<span class=\"k\">=</span><span class=\"s\">0</span><span class=\"k\">,</span>li<span class=\"k\">,</span>ri<span class=\"k\">;</span>li<span class=\"k\">=</span>tds<span class=\"k\">[</span><span class=\"s\">0</span><span class=\"k\">].</span>childNodes<span class=\"k\">[</span>i<span class=\"k\">];</span>i<span class=\"k\">++)</span><span class=\"k\">{</span>","                    ri <span class=\"k\">=</span> tds<span class=\"k\">[</span><span class=\"s\">1</span><span class=\"k\">].</span>firstChild<span class=\"k\">.</span>childNodes<span class=\"k\">[</span>i<span class=\"k\">];</span>","                    <span class=\"c\">//trace:1949</span>","                    <span class=\"k\">if</span><span class=\"k\">(</span>ri<span class=\"k\">)</span><span class=\"k\">{</span>","                        ri<span class=\"k\">.</span>style<span class=\"k\">.</span>height <span class=\"k\">=</span> li<span class=\"k\">.</span>style<span class=\"k\">.</span>height <span class=\"k\">=</span> ri<span class=\"k\">.</span>offsetHeight <span class=\"k\">+</span> <span class=\"s\">'px'</span><span class=\"k\">;</span>","                    <span class=\"k\">}</span>","                <span class=\"k\">}</span>","","            <span class=\"k\">}</span>","        <span class=\"k\">}</span><span class=\"k\">);</span>","","    <span class=\"k\">}</span>","    <span class=\"k\">function</span> changePre<span class=\"k\">()</span><span class=\"k\">{</span>","        <span class=\"k\">for</span><span class=\"k\">(</span><span class=\"k\">var</span> i<span class=\"k\">=</span><span class=\"s\">0</span><span class=\"k\">,</span>pr<span class=\"k\">,</span>pres <span class=\"k\">=</span> domUtils<span class=\"k\">.</span>getElementsByTagName<span class=\"k\">(</span>me<span class=\"k\">.</span>document<span class=\"k\">,</span><span class=\"s\">\"pre\"</span><span class=\"k\">);</span>pr<span class=\"k\">=</span>pres<span class=\"k\">[</span>i<span class=\"k\">++];)</span><span class=\"k\">{</span>","            <span class=\"k\">if</span><span class=\"k\">(</span>pr<span class=\"k\">.</span>className<span class=\"k\">.</span>indexOf<span class=\"k\">(</span><span class=\"s\">\"brush\"</span><span class=\"k\">)&gt;-</span><span class=\"s\">1</span><span class=\"k\">)</span><span class=\"k\">{</span>","                ","                <span class=\"k\">var</span> pre <span class=\"k\">=</span> document<span class=\"k\">.</span>createElement<span class=\"k\">(</span><span class=\"s\">\"pre\"</span><span class=\"k\">),</span>txt<span class=\"k\">,</span>div<span class=\"k\">;</span>","                pre<span class=\"k\">.</span>className <span class=\"k\">=</span> pr<span class=\"k\">.</span>className<span class=\"k\">;</span>","                pre<span class=\"k\">.</span>style<span class=\"k\">.</span>display <span class=\"k\">=</span> <span class=\"s\">\"none\"</span><span class=\"k\">;</span>","                pre<span class=\"k\">.</span>appendChild<span class=\"k\">(</span>document<span class=\"k\">.</span>createTextNode<span class=\"k\">(</span>pr<span class=\"k\">[</span>browser<span class=\"k\">.</span>ie<span class=\"k\">?</span><span class=\"s\">'innerText'</span><span class=\"k\">:</span><span class=\"s\">'textContent'</span><span class=\"k\">]));</span>","                document<span class=\"k\">.</span>body<span class=\"k\">.</span>appendChild<span class=\"k\">(</span>pre<span class=\"k\">);</span>","                <span class=\"k\">try</span><span class=\"k\">{</span>","                    txt <span class=\"k\">=</span> SyntaxHighlighter<span class=\"k\">.</span>highlight<span class=\"k\">(</span>pre<span class=\"k\">,</span><span class=\"k\">null</span><span class=\"k\">,</span><span class=\"k\">true</span><span class=\"k\">);</span>","                <span class=\"k\">}</span><span class=\"k\">catch</span><span class=\"k\">(</span>e<span class=\"k\">)</span><span class=\"k\">{</span>","                    domUtils<span class=\"k\">.</span>remove<span class=\"k\">(</span>pre<span class=\"k\">);</span>","                    <span class=\"k\">return</span> <span class=\"k\">;</span>","                <span class=\"k\">}</span>","","                div <span class=\"k\">=</span> me<span class=\"k\">.</span>document<span class=\"k\">.</span>createElement<span class=\"k\">(</span><span class=\"s\">\"div\"</span><span class=\"k\">);</span>","                div<span class=\"k\">.</span>innerHTML <span class=\"k\">=</span> txt<span class=\"k\">;</span>","","                div<span class=\"k\">.</span>firstChild<span class=\"k\">.</span>setAttribute<span class=\"k\">(</span><span class=\"s\">'highlighter'</span><span class=\"k\">,</span>pre<span class=\"k\">.</span>className<span class=\"k\">);</span>","                pr<span class=\"k\">.</span>parentNode<span class=\"k\">.</span>insertBefore<span class=\"k\">(</span>div<span class=\"k\">.</span>firstChild<span class=\"k\">,</span>pr<span class=\"k\">);</span>","","                domUtils<span class=\"k\">.</span>remove<span class=\"k\">(</span>pre<span class=\"k\">);</span>","                domUtils<span class=\"k\">.</span>remove<span class=\"k\">(</span>pr<span class=\"k\">);</span>","                ","                adjustHeight<span class=\"k\">();</span>","            <span class=\"k\">}</span>","        <span class=\"k\">}</span>","    <span class=\"k\">}</span>","","    me<span class=\"k\">.</span>addListener<span class=\"k\">(</span><span class=\"s\">'getAllHtml'</span><span class=\"k\">,</span><span class=\"k\">function</span><span class=\"k\">(</span>type<span class=\"k\">,</span>html<span class=\"k\">)</span><span class=\"k\">{</span>","        <span class=\"k\">var</span> coreHtml <span class=\"k\">=</span> <span class=\"s\">''</span><span class=\"k\">;</span>","","        <span class=\"k\">for</span><span class=\"k\">(</span><span class=\"k\">var</span> i<span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">,</span>ci<span class=\"k\">,</span>divs<span class=\"k\">=</span>domUtils<span class=\"k\">.</span>getElementsByTagName<span class=\"k\">(</span>me<span class=\"k\">.</span>document<span class=\"k\">,</span><span class=\"s\">'div'</span><span class=\"k\">);</span>ci<span class=\"k\">=</span>divs<span class=\"k\">[</span>i<span class=\"k\">++];)</span><span class=\"k\">{</span>","            <span class=\"k\">if</span><span class=\"k\">(</span>domUtils<span class=\"k\">.</span>hasClass<span class=\"k\">(</span>ci<span class=\"k\">,</span><span class=\"s\">'syntaxhighlighter'</span><span class=\"k\">))</span><span class=\"k\">{</span>","                <span class=\"k\">if</span><span class=\"k\">(!</span>me<span class=\"k\">.</span>document<span class=\"k\">.</span>getElementById<span class=\"k\">(</span><span class=\"s\">'syntaxhighlighter_css'</span><span class=\"k\">))</span><span class=\"k\">{</span>","                    coreHtml <span class=\"k\">=</span> <span class=\"s\">'&lt;link id=\"syntaxhighlighter_css\" rel=\"stylesheet\" type=\"text/css\" href=\"'</span> <span class=\"k\">+</span>","                        <span class=\"k\">(</span>me<span class=\"k\">.</span>options<span class=\"k\">.</span>highlightCssUrl <span class=\"k\">||</span>me<span class=\"k\">.</span>options<span class=\"k\">.</span>UEDITOR_HOME_URL <span class=\"k\">+</span> <span class=\"s\">'third-party/SyntaxHighlighter/shCoreDefault.css\"'</span><span class=\"k\">)</span> <span class=\"k\">+</span> <span class=\"s\">' &gt;&lt;/link&gt;'</span>","                <span class=\"k\">}</span>","                <span class=\"k\">if</span><span class=\"k\">(!</span>me<span class=\"k\">.</span>window<span class=\"k\">.</span>XRegExp<span class=\"k\">)</span><span class=\"k\">{</span>","                    coreHtml <span class=\"k\">+=</span> <span class=\"s\">'&lt;script id=\"syntaxhighlighter_js\"  type=\"text/javascript\" src=\"'</span> <span class=\"k\">+</span>","                        <span class=\"k\">(</span>me<span class=\"k\">.</span>options<span class=\"k\">.</span>highlightJsUrl <span class=\"k\">||</span> me<span class=\"k\">.</span>options<span class=\"k\">.</span>UEDITOR_HOME_URL <span class=\"k\">+</span> <span class=\"s\">'third-party/SyntaxHighlighter/shCore.js\"'</span><span class=\"k\">)</span> <span class=\"k\">+</span> <span class=\"s\">' &gt;&lt;/script&gt;'</span><span class=\"k\">+</span>","                        <span class=\"s\">'&lt;script type=\"text/javascript\"&gt;window.onload = function(){SyntaxHighlighter.highlight();'</span> <span class=\"k\">+</span>","","                        <span class=\"s\">'setTimeout(function(){'</span> <span class=\"k\">+</span>","                            <span class=\"s\">'for(var i=0,di;di=SyntaxHighlighter.highlightContainers[i++];){'</span> <span class=\"k\">+</span>","                            <span class=\"s\">'var tds = di.getElementsByTagName(\"td\");'</span> <span class=\"k\">+</span>","                            <span class=\"s\">'for(var j=0,li,ri;li=tds[0].childNodes[j];j++){'</span> <span class=\"k\">+</span>","                            <span class=\"s\">'ri = tds[1].firstChild.childNodes[j];'</span> <span class=\"k\">+</span>","                            <span class=\"s\">'ri.style.height = li.style.height = ri.offsetHeight + \"px\";'</span> <span class=\"k\">+</span>","                            <span class=\"s\">'}'</span> <span class=\"k\">+</span>","                        <span class=\"s\">'}},100)}&lt;/script&gt;'</span>","                <span class=\"k\">}</span>","                <span class=\"k\">break</span><span class=\"k\">;</span>","            <span class=\"k\">}</span>","        <span class=\"k\">}</span>","        <span class=\"k\">if</span><span class=\"k\">(!</span>coreHtml<span class=\"k\">)</span><span class=\"k\">{</span>","            <span class=\"k\">var</span> tmpNode<span class=\"k\">;</span>","            <span class=\"k\">if</span><span class=\"k\">(</span>tmpNode <span class=\"k\">=</span> me<span class=\"k\">.</span>document<span class=\"k\">.</span>getElementById<span class=\"k\">(</span><span class=\"s\">'syntaxhighlighter_css'</span><span class=\"k\">))</span><span class=\"k\">{</span>","                domUtils<span class=\"k\">.</span>remove<span class=\"k\">(</span>tmpNode<span class=\"k\">)</span>","            <span class=\"k\">}</span>","            <span class=\"k\">if</span><span class=\"k\">(</span>tmpNode <span class=\"k\">=</span> me<span class=\"k\">.</span>document<span class=\"k\">.</span>getElementById<span class=\"k\">(</span><span class=\"s\">'syntaxhighlighter_js'</span><span class=\"k\">))</span><span class=\"k\">{</span>","                domUtils<span class=\"k\">.</span>remove<span class=\"k\">(</span>tmpNode<span class=\"k\">)</span>","","            <span class=\"k\">}</span>","        <span class=\"k\">}</span>","        html<span class=\"k\">.</span>html <span class=\"k\">=</span> coreHtml<span class=\"k\">;</span>","    <span class=\"k\">}</span><span class=\"k\">);</span>","    <span class=\"c\">//&#20840;&#23631;&#26102;&#65292;&#37325;&#26032;&#31639;&#19968;&#19979;&#23485;&#24230;</span>","    me<span class=\"k\">.</span>addListener<span class=\"k\">(</span><span class=\"s\">'fullscreenchanged'</span><span class=\"k\">,</span><span class=\"k\">function</span><span class=\"k\">()</span><span class=\"k\">{</span>","        <span class=\"k\">var</span> div <span class=\"k\">=</span> domUtils<span class=\"k\">.</span>getElementsByTagName<span class=\"k\">(</span>me<span class=\"k\">.</span>document<span class=\"k\">,</span><span class=\"s\">'div'</span><span class=\"k\">);</span>","        <span class=\"k\">for</span><span class=\"k\">(</span><span class=\"k\">var</span> j<span class=\"k\">=</span><span class=\"s\">0</span><span class=\"k\">,</span>di<span class=\"k\">;</span>di<span class=\"k\">=</span>div<span class=\"k\">[</span>j<span class=\"k\">++];)</span><span class=\"k\">{</span>","            <span class=\"k\">if</span><span class=\"k\">(</span><span class=\"s\">/^highlighter/</span><span class=\"k\">.</span>test<span class=\"k\">(</span>di<span class=\"k\">.</span>id<span class=\"k\">))</span><span class=\"k\">{</span>","                <span class=\"k\">var</span> tds <span class=\"k\">=</span> di<span class=\"k\">.</span>getElementsByTagName<span class=\"k\">(</span><span class=\"s\">'td'</span><span class=\"k\">);</span>","                <span class=\"k\">for</span><span class=\"k\">(</span><span class=\"k\">var</span> i<span class=\"k\">=</span><span class=\"s\">0</span><span class=\"k\">,</span>li<span class=\"k\">,</span>ri<span class=\"k\">;</span>li<span class=\"k\">=</span>tds<span class=\"k\">[</span><span class=\"s\">0</span><span class=\"k\">].</span>childNodes<span class=\"k\">[</span>i<span class=\"k\">];</span>i<span class=\"k\">++)</span><span class=\"k\">{</span>","                    ri <span class=\"k\">=</span> tds<span class=\"k\">[</span><span class=\"s\">1</span><span class=\"k\">].</span>firstChild<span class=\"k\">.</span>childNodes<span class=\"k\">[</span>i<span class=\"k\">];</span>","","                    ri<span class=\"k\">.</span>style<span class=\"k\">.</span>height <span class=\"k\">=</span> li<span class=\"k\">.</span>style<span class=\"k\">.</span>height <span class=\"k\">=</span> ri<span class=\"k\">.</span>offsetHeight <span class=\"k\">+</span> <span class=\"s\">'px'</span><span class=\"k\">;</span>","                <span class=\"k\">}</span>","            <span class=\"k\">}</span>","        <span class=\"k\">}</span>","    <span class=\"k\">}</span><span class=\"k\">);</span>","<span class=\"k\">}</span><span class=\"k\">;</span>"]);
_$jscoverage['plugins/horizontal.js'] && (_$jscoverage['plugins/horizontal.js'].source = ["<span class=\"c\">///import core</span>","<span class=\"c\">///import plugins\\inserthtml.js</span>","<span class=\"c\">///commands &#20998;&#21106;&#32447;</span>","<span class=\"c\">///commandsName  Horizontal</span>","<span class=\"c\">///commandsTitle  &#20998;&#38548;&#32447;</span>","<span class=\"c\">/**</span>","<span class=\"c\"> * &#20998;&#21106;&#32447;</span>","<span class=\"c\"> * @function</span>","<span class=\"c\"> * @name baidu.editor.execCommand</span>","<span class=\"c\"> * @param {String}     cmdName    horizontal&#25554;&#20837;&#20998;&#21106;&#32447;</span>","<span class=\"c\"> */</span>","UE<span class=\"k\">.</span>commands<span class=\"k\">[</span><span class=\"s\">'horizontal'</span><span class=\"k\">]</span> <span class=\"k\">=</span> <span class=\"k\">{</span>","    execCommand <span class=\"k\">:</span> <span class=\"k\">function</span><span class=\"k\">(</span> cmdName <span class=\"k\">)</span> <span class=\"k\">{</span>","        <span class=\"k\">var</span> me <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">;</span>","        <span class=\"k\">if</span><span class=\"k\">(</span>me<span class=\"k\">.</span>queryCommandState<span class=\"k\">(</span>cmdName<span class=\"k\">)!==-</span><span class=\"s\">1</span><span class=\"k\">)</span><span class=\"k\">{</span>","            me<span class=\"k\">.</span>execCommand<span class=\"k\">(</span><span class=\"s\">'insertHtml'</span><span class=\"k\">,</span><span class=\"s\">'&lt;hr&gt;'</span><span class=\"k\">);</span>","            <span class=\"k\">var</span> range <span class=\"k\">=</span> me<span class=\"k\">.</span>selection<span class=\"k\">.</span>getRange<span class=\"k\">(),</span>","                start <span class=\"k\">=</span> range<span class=\"k\">.</span>startContainer<span class=\"k\">;</span>","            <span class=\"k\">if</span><span class=\"k\">(</span>start<span class=\"k\">.</span>nodeType <span class=\"k\">==</span> <span class=\"s\">1</span> <span class=\"k\">&amp;&amp;</span> <span class=\"k\">!</span>start<span class=\"k\">.</span>childNodes<span class=\"k\">[</span>range<span class=\"k\">.</span>startOffset<span class=\"k\">]</span> <span class=\"k\">)</span><span class=\"k\">{</span>","","                <span class=\"k\">var</span> tmp<span class=\"k\">;</span>","                <span class=\"k\">if</span><span class=\"k\">(</span>tmp <span class=\"k\">=</span> start<span class=\"k\">.</span>childNodes<span class=\"k\">[</span>range<span class=\"k\">.</span>startOffset <span class=\"k\">-</span> <span class=\"s\">1</span><span class=\"k\">])</span><span class=\"k\">{</span>","                    <span class=\"k\">if</span><span class=\"k\">(</span>tmp<span class=\"k\">.</span>nodeType <span class=\"k\">==</span> <span class=\"s\">1</span> <span class=\"k\">&amp;&amp;</span> tmp<span class=\"k\">.</span>tagName <span class=\"k\">==</span> <span class=\"s\">'HR'</span><span class=\"k\">)</span><span class=\"k\">{</span>","                        <span class=\"k\">if</span><span class=\"k\">(</span>me<span class=\"k\">.</span>options<span class=\"k\">.</span>enterTag <span class=\"k\">==</span> <span class=\"s\">'p'</span><span class=\"k\">)</span><span class=\"k\">{</span>","                            tmp <span class=\"k\">=</span> me<span class=\"k\">.</span>document<span class=\"k\">.</span>createElement<span class=\"k\">(</span><span class=\"s\">'p'</span><span class=\"k\">);</span>","                            range<span class=\"k\">.</span>insertNode<span class=\"k\">(</span>tmp<span class=\"k\">);</span>","                            range<span class=\"k\">.</span>setStart<span class=\"k\">(</span>tmp<span class=\"k\">,</span><span class=\"s\">0</span><span class=\"k\">).</span>setCursor<span class=\"k\">();</span>","","                        <span class=\"k\">}</span><span class=\"k\">else</span><span class=\"k\">{</span>","                            tmp <span class=\"k\">=</span> me<span class=\"k\">.</span>document<span class=\"k\">.</span>createElement<span class=\"k\">(</span><span class=\"s\">'br'</span><span class=\"k\">);</span>","                            range<span class=\"k\">.</span>insertNode<span class=\"k\">(</span>tmp<span class=\"k\">);</span>","                            range<span class=\"k\">.</span>setStartBefore<span class=\"k\">(</span>tmp<span class=\"k\">).</span>setCursor<span class=\"k\">();</span>","                        <span class=\"k\">}</span>","                    <span class=\"k\">}</span>","                <span class=\"k\">}</span>","","            <span class=\"k\">}</span>","            <span class=\"k\">return</span> <span class=\"k\">true</span><span class=\"k\">;</span>","        <span class=\"k\">}</span>","","    <span class=\"k\">}</span><span class=\"k\">,</span>","    <span class=\"c\">//&#36793;&#30028;&#22312;table&#37324;&#19981;&#33021;&#21152;&#20998;&#38548;&#32447;</span>","    queryCommandState <span class=\"k\">:</span> <span class=\"k\">function</span><span class=\"k\">()</span> <span class=\"k\">{</span>","        <span class=\"k\">return</span> <span class=\"k\">this</span><span class=\"k\">.</span>highlight <span class=\"k\">||</span> utils<span class=\"k\">.</span>findNode<span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>selection<span class=\"k\">.</span>getStartElementPath<span class=\"k\">(),[</span><span class=\"s\">'table'</span><span class=\"k\">])</span> <span class=\"k\">?</span> <span class=\"k\">-</span><span class=\"s\">1</span> <span class=\"k\">:</span> <span class=\"s\">0</span><span class=\"k\">;</span>","    <span class=\"k\">}</span>","<span class=\"k\">}</span><span class=\"k\">;</span>"]);
_$jscoverage['plugins/iframe.js'] && (_$jscoverage['plugins/iframe.js'].source = ["<span class=\"c\">///import core</span>","<span class=\"c\">///import plugins\\inserthtml.js</span>","<span class=\"c\">///commands &#25554;&#20837;&#26694;&#26550;</span>","<span class=\"c\">///commandsName  InsertFrame</span>","<span class=\"c\">///commandsTitle  &#25554;&#20837;Iframe</span>","<span class=\"c\">///commandsDialog  dialogs\\insertframe\\insertframe.html</span>","","UE<span class=\"k\">.</span>plugins<span class=\"k\">[</span><span class=\"s\">'insertframe'</span><span class=\"k\">]</span> <span class=\"k\">=</span> <span class=\"k\">function</span><span class=\"k\">()</span> <span class=\"k\">{</span>","   <span class=\"k\">var</span> me <span class=\"k\">=</span><span class=\"k\">this</span><span class=\"k\">;</span>","    <span class=\"k\">function</span> deleteIframe<span class=\"k\">()</span><span class=\"k\">{</span>","        me<span class=\"k\">.</span>_iframe <span class=\"k\">&amp;&amp;</span> <span class=\"k\">delete</span> me<span class=\"k\">.</span>_iframe<span class=\"k\">;</span>","    <span class=\"k\">}</span>","","    me<span class=\"k\">.</span>addListener<span class=\"k\">(</span><span class=\"s\">\"selectionchange\"</span><span class=\"k\">,</span><span class=\"k\">function</span><span class=\"k\">()</span><span class=\"k\">{</span>","        deleteIframe<span class=\"k\">();</span>","    <span class=\"k\">}</span><span class=\"k\">);</span>","    me<span class=\"k\">.</span>commands<span class=\"k\">[</span><span class=\"s\">\"insertframe\"</span><span class=\"k\">]</span> <span class=\"k\">=</span> <span class=\"k\">{</span>","","        queryCommandState <span class=\"k\">:</span> <span class=\"k\">function</span><span class=\"k\">()</span><span class=\"k\">{</span>","            <span class=\"k\">return</span> <span class=\"k\">this</span><span class=\"k\">.</span>highlight <span class=\"k\">?</span> <span class=\"k\">-</span><span class=\"s\">1</span> <span class=\"k\">:</span><span class=\"s\">0</span><span class=\"k\">;</span>","        <span class=\"k\">}</span>","    <span class=\"k\">}</span><span class=\"k\">;</span>","<span class=\"k\">}</span><span class=\"k\">;</span>",""]);
_$jscoverage['plugins/image.js'] && (_$jscoverage['plugins/image.js'].source = ["<span class=\"c\">///import core</span>","<span class=\"c\">///import plugins\\inserthtml.js</span>","<span class=\"c\">///import plugins\\catchremoteimage.js</span>","<span class=\"c\">///commands &#25554;&#20837;&#22270;&#29255;&#65292;&#25805;&#20316;&#22270;&#29255;&#30340;&#23545;&#40784;&#26041;&#24335;</span>","<span class=\"c\">///commandsName  InsertImage,ImageNone,ImageLeft,ImageRight,ImageCenter</span>","<span class=\"c\">///commandsTitle  &#22270;&#29255;,&#40664;&#35748;,&#23621;&#24038;,&#23621;&#21491;,&#23621;&#20013;</span>","<span class=\"c\">///commandsDialog  dialogs\\image\\image.html</span>","<span class=\"c\">/**</span>","<span class=\"c\"> * Created by .</span>","<span class=\"c\"> * User: zhanyi</span>","<span class=\"c\"> * for image</span>","<span class=\"c\"> */</span>","","UE<span class=\"k\">.</span>commands<span class=\"k\">[</span><span class=\"s\">'imagefloat'</span><span class=\"k\">]</span> <span class=\"k\">=</span> <span class=\"k\">{</span>","    execCommand<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">(</span> cmd<span class=\"k\">,</span> align <span class=\"k\">)</span> <span class=\"k\">{</span>","        <span class=\"k\">var</span> me <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">,</span>","                range <span class=\"k\">=</span> me<span class=\"k\">.</span>selection<span class=\"k\">.</span>getRange<span class=\"k\">();</span>","        <span class=\"k\">if</span> <span class=\"k\">(</span> <span class=\"k\">!</span>range<span class=\"k\">.</span>collapsed <span class=\"k\">)</span> <span class=\"k\">{</span>","            <span class=\"k\">var</span> img <span class=\"k\">=</span> range<span class=\"k\">.</span>getClosedNode<span class=\"k\">();</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span> img <span class=\"k\">&amp;&amp;</span> img<span class=\"k\">.</span>tagName <span class=\"k\">==</span> <span class=\"s\">'IMG'</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                <span class=\"k\">switch</span> <span class=\"k\">(</span> align <span class=\"k\">)</span> <span class=\"k\">{</span>","                    <span class=\"k\">case</span> <span class=\"s\">'left'</span><span class=\"k\">:</span>","                    <span class=\"k\">case</span> <span class=\"s\">'right'</span><span class=\"k\">:</span>","                    <span class=\"k\">case</span> <span class=\"s\">'none'</span><span class=\"k\">:</span>","                        <span class=\"k\">var</span> pN <span class=\"k\">=</span> img<span class=\"k\">.</span>parentNode<span class=\"k\">,</span> tmpNode<span class=\"k\">,</span> pre<span class=\"k\">,</span> next<span class=\"k\">;</span>","                        <span class=\"k\">while</span> <span class=\"k\">(</span> dtd<span class=\"k\">.</span>$inline<span class=\"k\">[</span>pN<span class=\"k\">.</span>tagName<span class=\"k\">]</span> <span class=\"k\">||</span> pN<span class=\"k\">.</span>tagName <span class=\"k\">==</span> <span class=\"s\">'A'</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                            pN <span class=\"k\">=</span> pN<span class=\"k\">.</span>parentNode<span class=\"k\">;</span>","                        <span class=\"k\">}</span>","                        tmpNode <span class=\"k\">=</span> pN<span class=\"k\">;</span>","                        <span class=\"k\">if</span> <span class=\"k\">(</span> tmpNode<span class=\"k\">.</span>tagName <span class=\"k\">==</span> <span class=\"s\">'P'</span> <span class=\"k\">&amp;&amp;</span> domUtils<span class=\"k\">.</span>getStyle<span class=\"k\">(</span> tmpNode<span class=\"k\">,</span> <span class=\"s\">'text-align'</span> <span class=\"k\">)</span> <span class=\"k\">==</span> <span class=\"s\">'center'</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                            <span class=\"k\">if</span> <span class=\"k\">(</span> <span class=\"k\">!</span>domUtils<span class=\"k\">.</span>isBody<span class=\"k\">(</span> tmpNode <span class=\"k\">)</span> <span class=\"k\">&amp;&amp;</span> domUtils<span class=\"k\">.</span>getChildCount<span class=\"k\">(</span> tmpNode<span class=\"k\">,</span> <span class=\"k\">function</span> <span class=\"k\">(</span> node <span class=\"k\">)</span> <span class=\"k\">{</span>","                                <span class=\"k\">return</span> <span class=\"k\">!</span>domUtils<span class=\"k\">.</span>isBr<span class=\"k\">(</span> node <span class=\"k\">)</span> <span class=\"k\">&amp;&amp;</span> <span class=\"k\">!</span>domUtils<span class=\"k\">.</span>isWhitespace<span class=\"k\">(</span> node <span class=\"k\">);</span>","                            <span class=\"k\">}</span> <span class=\"k\">)</span> <span class=\"k\">==</span> <span class=\"s\">1</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                                pre <span class=\"k\">=</span> tmpNode<span class=\"k\">.</span>previousSibling<span class=\"k\">;</span>","                                next <span class=\"k\">=</span> tmpNode<span class=\"k\">.</span>nextSibling<span class=\"k\">;</span>","                                <span class=\"k\">if</span> <span class=\"k\">(</span> pre <span class=\"k\">&amp;&amp;</span> next <span class=\"k\">&amp;&amp;</span> pre<span class=\"k\">.</span>nodeType <span class=\"k\">==</span> <span class=\"s\">1</span> <span class=\"k\">&amp;&amp;</span> next<span class=\"k\">.</span>nodeType <span class=\"k\">==</span> <span class=\"s\">1</span> <span class=\"k\">&amp;&amp;</span> pre<span class=\"k\">.</span>tagName <span class=\"k\">==</span> next<span class=\"k\">.</span>tagName <span class=\"k\">&amp;&amp;</span> domUtils<span class=\"k\">.</span>isBlockElm<span class=\"k\">(</span> pre <span class=\"k\">)</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                                    pre<span class=\"k\">.</span>appendChild<span class=\"k\">(</span> tmpNode<span class=\"k\">.</span>firstChild <span class=\"k\">);</span>","                                    <span class=\"k\">while</span> <span class=\"k\">(</span> next<span class=\"k\">.</span>firstChild <span class=\"k\">)</span> <span class=\"k\">{</span>","                                        pre<span class=\"k\">.</span>appendChild<span class=\"k\">(</span> next<span class=\"k\">.</span>firstChild <span class=\"k\">);</span>","                                    <span class=\"k\">}</span>","                                    domUtils<span class=\"k\">.</span>remove<span class=\"k\">(</span> tmpNode <span class=\"k\">);</span>","                                    domUtils<span class=\"k\">.</span>remove<span class=\"k\">(</span> next <span class=\"k\">);</span>","                                <span class=\"k\">}</span> <span class=\"k\">else</span> <span class=\"k\">{</span>","                                    domUtils<span class=\"k\">.</span>setStyle<span class=\"k\">(</span> tmpNode<span class=\"k\">,</span> <span class=\"s\">'text-align'</span><span class=\"k\">,</span> <span class=\"s\">''</span> <span class=\"k\">);</span>","                                <span class=\"k\">}</span>","","","                            <span class=\"k\">}</span>","","                            range<span class=\"k\">.</span>selectNode<span class=\"k\">(</span> img <span class=\"k\">).</span>select<span class=\"k\">();</span>","                        <span class=\"k\">}</span>","                        domUtils<span class=\"k\">.</span>setStyle<span class=\"k\">(</span> img<span class=\"k\">,</span> <span class=\"s\">'float'</span><span class=\"k\">,</span> align <span class=\"k\">);</span>","                        <span class=\"k\">break</span><span class=\"k\">;</span>","                    <span class=\"k\">case</span> <span class=\"s\">'center'</span><span class=\"k\">:</span>","                        <span class=\"k\">if</span> <span class=\"k\">(</span> me<span class=\"k\">.</span>queryCommandValue<span class=\"k\">(</span> <span class=\"s\">'imagefloat'</span> <span class=\"k\">)</span> <span class=\"k\">!=</span> <span class=\"s\">'center'</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                            pN <span class=\"k\">=</span> img<span class=\"k\">.</span>parentNode<span class=\"k\">;</span>","                            domUtils<span class=\"k\">.</span>setStyle<span class=\"k\">(</span> img<span class=\"k\">,</span> <span class=\"s\">'float'</span><span class=\"k\">,</span> <span class=\"s\">'none'</span> <span class=\"k\">);</span>","                            tmpNode <span class=\"k\">=</span> img<span class=\"k\">;</span>","                            <span class=\"k\">while</span> <span class=\"k\">(</span> pN <span class=\"k\">&amp;&amp;</span> domUtils<span class=\"k\">.</span>getChildCount<span class=\"k\">(</span> pN<span class=\"k\">,</span> <span class=\"k\">function</span> <span class=\"k\">(</span> node <span class=\"k\">)</span> <span class=\"k\">{</span>","                                <span class=\"k\">return</span> <span class=\"k\">!</span>domUtils<span class=\"k\">.</span>isBr<span class=\"k\">(</span> node <span class=\"k\">)</span> <span class=\"k\">&amp;&amp;</span> <span class=\"k\">!</span>domUtils<span class=\"k\">.</span>isWhitespace<span class=\"k\">(</span> node <span class=\"k\">);</span>","                            <span class=\"k\">}</span> <span class=\"k\">)</span> <span class=\"k\">==</span> <span class=\"s\">1</span>","                                    <span class=\"k\">&amp;&amp;</span> <span class=\"k\">(</span>dtd<span class=\"k\">.</span>$inline<span class=\"k\">[</span>pN<span class=\"k\">.</span>tagName<span class=\"k\">]</span> <span class=\"k\">||</span> pN<span class=\"k\">.</span>tagName <span class=\"k\">==</span> <span class=\"s\">'A'</span><span class=\"k\">)</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                                tmpNode <span class=\"k\">=</span> pN<span class=\"k\">;</span>","                                pN <span class=\"k\">=</span> pN<span class=\"k\">.</span>parentNode<span class=\"k\">;</span>","                            <span class=\"k\">}</span>","                            range<span class=\"k\">.</span>setStartBefore<span class=\"k\">(</span> tmpNode <span class=\"k\">).</span>setCursor<span class=\"k\">(</span> <span class=\"k\">false</span> <span class=\"k\">);</span>","                            pN <span class=\"k\">=</span> me<span class=\"k\">.</span>document<span class=\"k\">.</span>createElement<span class=\"k\">(</span> <span class=\"s\">'div'</span> <span class=\"k\">);</span>","                            pN<span class=\"k\">.</span>appendChild<span class=\"k\">(</span> tmpNode <span class=\"k\">);</span>","                            domUtils<span class=\"k\">.</span>setStyle<span class=\"k\">(</span> tmpNode<span class=\"k\">,</span> <span class=\"s\">'float'</span><span class=\"k\">,</span> <span class=\"s\">''</span> <span class=\"k\">);</span>","","                            me<span class=\"k\">.</span>execCommand<span class=\"k\">(</span> <span class=\"s\">'insertHtml'</span><span class=\"k\">,</span> <span class=\"s\">'&lt;p id=\"_img_parent_tmp\" style=\"text-align:center\"&gt;'</span> <span class=\"k\">+</span> pN<span class=\"k\">.</span>innerHTML <span class=\"k\">+</span> <span class=\"s\">'&lt;/p&gt;'</span> <span class=\"k\">);</span>","","                            tmpNode <span class=\"k\">=</span> me<span class=\"k\">.</span>document<span class=\"k\">.</span>getElementById<span class=\"k\">(</span> <span class=\"s\">'_img_parent_tmp'</span> <span class=\"k\">);</span>","                            tmpNode<span class=\"k\">.</span>removeAttribute<span class=\"k\">(</span> <span class=\"s\">'id'</span> <span class=\"k\">);</span>","                            tmpNode <span class=\"k\">=</span> tmpNode<span class=\"k\">.</span>firstChild<span class=\"k\">;</span>","                            range<span class=\"k\">.</span>selectNode<span class=\"k\">(</span> tmpNode <span class=\"k\">).</span>select<span class=\"k\">();</span>","                            <span class=\"c\">//&#21435;&#25481;&#21518;&#36793;&#22810;&#20313;&#30340;&#20803;&#32032;</span>","                            next <span class=\"k\">=</span> tmpNode<span class=\"k\">.</span>parentNode<span class=\"k\">.</span>nextSibling<span class=\"k\">;</span>","                            <span class=\"k\">if</span> <span class=\"k\">(</span> next <span class=\"k\">&amp;&amp;</span> domUtils<span class=\"k\">.</span>isEmptyNode<span class=\"k\">(</span> next <span class=\"k\">)</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                                domUtils<span class=\"k\">.</span>remove<span class=\"k\">(</span> next <span class=\"k\">);</span>","                            <span class=\"k\">}</span>","","                        <span class=\"k\">}</span>","","                        <span class=\"k\">break</span><span class=\"k\">;</span>","                <span class=\"k\">}</span>","","            <span class=\"k\">}</span>","        <span class=\"k\">}</span>","    <span class=\"k\">}</span><span class=\"k\">,</span>","    queryCommandValue<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","        <span class=\"k\">var</span> range <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>selection<span class=\"k\">.</span>getRange<span class=\"k\">(),</span>","                startNode<span class=\"k\">,</span> floatStyle<span class=\"k\">;</span>","        <span class=\"k\">if</span> <span class=\"k\">(</span> range<span class=\"k\">.</span>collapsed <span class=\"k\">)</span> <span class=\"k\">{</span>","            <span class=\"k\">return</span> <span class=\"s\">'none'</span><span class=\"k\">;</span>","        <span class=\"k\">}</span>","        startNode <span class=\"k\">=</span> range<span class=\"k\">.</span>getClosedNode<span class=\"k\">();</span>","        <span class=\"k\">if</span> <span class=\"k\">(</span> startNode <span class=\"k\">&amp;&amp;</span> startNode<span class=\"k\">.</span>nodeType <span class=\"k\">==</span> <span class=\"s\">1</span> <span class=\"k\">&amp;&amp;</span> startNode<span class=\"k\">.</span>tagName <span class=\"k\">==</span> <span class=\"s\">'IMG'</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","            floatStyle <span class=\"k\">=</span> domUtils<span class=\"k\">.</span>getComputedStyle<span class=\"k\">(</span> startNode<span class=\"k\">,</span> <span class=\"s\">'float'</span> <span class=\"k\">);</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span> floatStyle <span class=\"k\">==</span> <span class=\"s\">'none'</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                floatStyle <span class=\"k\">=</span> domUtils<span class=\"k\">.</span>getComputedStyle<span class=\"k\">(</span> startNode<span class=\"k\">.</span>parentNode<span class=\"k\">,</span> <span class=\"s\">'text-align'</span> <span class=\"k\">)</span> <span class=\"k\">==</span> <span class=\"s\">'center'</span> <span class=\"k\">?</span> <span class=\"s\">'center'</span> <span class=\"k\">:</span> floatStyle<span class=\"k\">;</span>","            <span class=\"k\">}</span>","            <span class=\"k\">return</span> <span class=\"k\">{</span>","                left<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>","                right<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>","                center<span class=\"k\">:</span><span class=\"s\">1</span>","            <span class=\"k\">}</span><span class=\"k\">[</span>floatStyle<span class=\"k\">]</span> <span class=\"k\">?</span> floatStyle <span class=\"k\">:</span> <span class=\"s\">'none'</span><span class=\"k\">;</span>","        <span class=\"k\">}</span>","        <span class=\"k\">return</span> <span class=\"s\">'none'</span><span class=\"k\">;</span>","","","    <span class=\"k\">}</span><span class=\"k\">,</span>","    queryCommandState<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","        <span class=\"k\">if</span> <span class=\"k\">(</span> <span class=\"k\">this</span><span class=\"k\">.</span>highlight <span class=\"k\">)</span> <span class=\"k\">{</span>","            <span class=\"k\">return</span> <span class=\"k\">-</span><span class=\"s\">1</span><span class=\"k\">;</span>","        <span class=\"k\">}</span>","        <span class=\"k\">var</span> range <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>selection<span class=\"k\">.</span>getRange<span class=\"k\">(),</span>","                startNode<span class=\"k\">;</span>","        <span class=\"k\">if</span> <span class=\"k\">(</span> range<span class=\"k\">.</span>collapsed <span class=\"k\">)</span> <span class=\"k\">{</span>","            <span class=\"k\">return</span> <span class=\"k\">-</span><span class=\"s\">1</span><span class=\"k\">;</span>","        <span class=\"k\">}</span>","        startNode <span class=\"k\">=</span> range<span class=\"k\">.</span>getClosedNode<span class=\"k\">();</span>","        <span class=\"k\">if</span> <span class=\"k\">(</span> startNode <span class=\"k\">&amp;&amp;</span> startNode<span class=\"k\">.</span>nodeType <span class=\"k\">==</span> <span class=\"s\">1</span> <span class=\"k\">&amp;&amp;</span> startNode<span class=\"k\">.</span>tagName <span class=\"k\">==</span> <span class=\"s\">'IMG'</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","            <span class=\"k\">return</span> <span class=\"s\">0</span><span class=\"k\">;</span>","        <span class=\"k\">}</span>","        <span class=\"k\">return</span> <span class=\"k\">-</span><span class=\"s\">1</span><span class=\"k\">;</span>","    <span class=\"k\">}</span>","<span class=\"k\">}</span><span class=\"k\">;</span>","","UE<span class=\"k\">.</span>commands<span class=\"k\">[</span><span class=\"s\">'insertimage'</span><span class=\"k\">]</span> <span class=\"k\">=</span> <span class=\"k\">{</span>","    execCommand<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">(</span> cmd<span class=\"k\">,</span> opt <span class=\"k\">)</span> <span class=\"k\">{</span>","","        opt <span class=\"k\">=</span> utils<span class=\"k\">.</span>isArray<span class=\"k\">(</span> opt <span class=\"k\">)</span> <span class=\"k\">?</span> opt <span class=\"k\">:</span> <span class=\"k\">[</span>opt<span class=\"k\">];</span>","        <span class=\"k\">if</span> <span class=\"k\">(</span> <span class=\"k\">!</span>opt<span class=\"k\">.</span>length <span class=\"k\">)</span> <span class=\"k\">{</span>","            <span class=\"k\">return</span><span class=\"k\">;</span>","        <span class=\"k\">}</span>","        <span class=\"k\">var</span> me <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">,</span>","                range <span class=\"k\">=</span> me<span class=\"k\">.</span>selection<span class=\"k\">.</span>getRange<span class=\"k\">(),</span>","                img <span class=\"k\">=</span> range<span class=\"k\">.</span>getClosedNode<span class=\"k\">();</span>","        <span class=\"k\">if</span> <span class=\"k\">(</span> img <span class=\"k\">&amp;&amp;</span> <span class=\"s\">/img/i</span><span class=\"k\">.</span>test<span class=\"k\">(</span> img<span class=\"k\">.</span>tagName <span class=\"k\">)</span> <span class=\"k\">&amp;&amp;</span> img<span class=\"k\">.</span>className <span class=\"k\">!=</span> <span class=\"s\">\"edui-faked-video\"</span> <span class=\"k\">&amp;&amp;</span> <span class=\"k\">!</span>img<span class=\"k\">.</span>getAttribute<span class=\"k\">(</span> <span class=\"s\">\"word_img\"</span> <span class=\"k\">)</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","            <span class=\"k\">var</span> first <span class=\"k\">=</span> opt<span class=\"k\">.</span>shift<span class=\"k\">();</span>","            <span class=\"k\">var</span> floatStyle <span class=\"k\">=</span> first<span class=\"k\">[</span><span class=\"s\">'floatStyle'</span><span class=\"k\">];</span>","            <span class=\"k\">delete</span> first<span class=\"k\">[</span><span class=\"s\">'floatStyle'</span><span class=\"k\">];</span>","<span class=\"c\">////                img.style.border = (first.border||0) +\"px solid #000\";</span>","<span class=\"c\">////                img.style.margin = (first.margin||0) +\"px\";</span>","<span class=\"c\">//                img.style.cssText += ';margin:' + (first.margin||0) +\"px;\" + 'border:' + (first.border||0) +\"px solid #000\";</span>","            domUtils<span class=\"k\">.</span>setAttributes<span class=\"k\">(</span> img<span class=\"k\">,</span> first <span class=\"k\">);</span>","            me<span class=\"k\">.</span>execCommand<span class=\"k\">(</span> <span class=\"s\">'imagefloat'</span><span class=\"k\">,</span> floatStyle <span class=\"k\">);</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span> opt<span class=\"k\">.</span>length <span class=\"k\">&gt;</span> <span class=\"s\">0</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                range<span class=\"k\">.</span>setStartAfter<span class=\"k\">(</span> img <span class=\"k\">).</span>setCursor<span class=\"k\">(</span> <span class=\"k\">false</span><span class=\"k\">,</span> <span class=\"k\">true</span> <span class=\"k\">);</span>","                me<span class=\"k\">.</span>execCommand<span class=\"k\">(</span> <span class=\"s\">'insertimage'</span><span class=\"k\">,</span> opt <span class=\"k\">);</span>","            <span class=\"k\">}</span>","","        <span class=\"k\">}</span> <span class=\"k\">else</span> <span class=\"k\">{</span>","            <span class=\"k\">var</span> html <span class=\"k\">=</span> <span class=\"k\">[],</span> str <span class=\"k\">=</span> <span class=\"s\">''</span><span class=\"k\">,</span> ci<span class=\"k\">;</span>","            ci <span class=\"k\">=</span> opt<span class=\"k\">[</span><span class=\"s\">0</span><span class=\"k\">];</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span> opt<span class=\"k\">.</span>length <span class=\"k\">==</span> <span class=\"s\">1</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                str <span class=\"k\">=</span> <span class=\"s\">'&lt;img src=\"'</span> <span class=\"k\">+</span> ci<span class=\"k\">.</span>src <span class=\"k\">+</span> <span class=\"s\">'\" '</span> <span class=\"k\">+</span> <span class=\"k\">(</span>ci<span class=\"k\">.</span>data_ue_src <span class=\"k\">?</span> <span class=\"s\">' data_ue_src=\"'</span> <span class=\"k\">+</span> ci<span class=\"k\">.</span>data_ue_src <span class=\"k\">+</span> <span class=\"s\">'\" '</span> <span class=\"k\">:</span> <span class=\"s\">''</span><span class=\"k\">)</span> <span class=\"k\">+</span>","                        <span class=\"k\">(</span>ci<span class=\"k\">.</span>width <span class=\"k\">?</span> <span class=\"s\">'width=\"'</span> <span class=\"k\">+</span> ci<span class=\"k\">.</span>width <span class=\"k\">+</span> <span class=\"s\">'\" '</span> <span class=\"k\">:</span> <span class=\"s\">''</span><span class=\"k\">)</span> <span class=\"k\">+</span>","                        <span class=\"k\">(</span>ci<span class=\"k\">.</span>height <span class=\"k\">?</span> <span class=\"s\">' height=\"'</span> <span class=\"k\">+</span> ci<span class=\"k\">.</span>height <span class=\"k\">+</span> <span class=\"s\">'\" '</span> <span class=\"k\">:</span> <span class=\"s\">''</span><span class=\"k\">)</span> <span class=\"k\">+</span>","                        <span class=\"k\">(</span>ci<span class=\"k\">[</span><span class=\"s\">'floatStyle'</span><span class=\"k\">]</span> <span class=\"k\">==</span> <span class=\"s\">'left'</span> <span class=\"k\">||</span> ci<span class=\"k\">[</span><span class=\"s\">'floatStyle'</span><span class=\"k\">]</span> <span class=\"k\">==</span> <span class=\"s\">'right'</span> <span class=\"k\">?</span> <span class=\"s\">' style=\"float:'</span> <span class=\"k\">+</span> ci<span class=\"k\">[</span><span class=\"s\">'floatStyle'</span><span class=\"k\">]</span> <span class=\"k\">+</span> <span class=\"s\">';\"'</span> <span class=\"k\">:</span> <span class=\"s\">''</span><span class=\"k\">)</span> <span class=\"k\">+</span>","                        <span class=\"k\">(</span>ci<span class=\"k\">.</span>title <span class=\"k\">&amp;&amp;</span> ci<span class=\"k\">.</span>title <span class=\"k\">!=</span> <span class=\"s\">\"\"</span> <span class=\"k\">?</span> <span class=\"s\">' title=\"'</span> <span class=\"k\">+</span> ci<span class=\"k\">.</span>title <span class=\"k\">+</span> <span class=\"s\">'\"'</span> <span class=\"k\">:</span> <span class=\"s\">''</span><span class=\"k\">)</span> <span class=\"k\">+</span>","                        <span class=\"k\">(</span>ci<span class=\"k\">.</span>border <span class=\"k\">&amp;&amp;</span> ci<span class=\"k\">.</span>border <span class=\"k\">!=</span> <span class=\"s\">\"0\"</span> <span class=\"k\">?</span> <span class=\"s\">' border=\"'</span> <span class=\"k\">+</span> ci<span class=\"k\">.</span>border <span class=\"k\">+</span> <span class=\"s\">'\"'</span> <span class=\"k\">:</span> <span class=\"s\">''</span><span class=\"k\">)</span> <span class=\"k\">+</span>","                        <span class=\"k\">(</span>ci<span class=\"k\">.</span>alt <span class=\"k\">&amp;&amp;</span> ci<span class=\"k\">.</span>alt <span class=\"k\">!=</span> <span class=\"s\">\"\"</span> <span class=\"k\">?</span> <span class=\"s\">' alt=\"'</span> <span class=\"k\">+</span> ci<span class=\"k\">.</span>alt <span class=\"k\">+</span> <span class=\"s\">'\"'</span> <span class=\"k\">:</span> <span class=\"s\">''</span><span class=\"k\">)</span> <span class=\"k\">+</span>","                        <span class=\"k\">(</span>ci<span class=\"k\">.</span>hspace <span class=\"k\">&amp;&amp;</span> ci<span class=\"k\">.</span>hspace <span class=\"k\">!=</span> <span class=\"s\">\"0\"</span> <span class=\"k\">?</span> <span class=\"s\">' hspace = \"'</span> <span class=\"k\">+</span> ci<span class=\"k\">.</span>hspace <span class=\"k\">+</span> <span class=\"s\">'\"'</span> <span class=\"k\">:</span> <span class=\"s\">''</span><span class=\"k\">)</span> <span class=\"k\">+</span>","                        <span class=\"k\">(</span>ci<span class=\"k\">.</span>vspace <span class=\"k\">&amp;&amp;</span> ci<span class=\"k\">.</span>vspace <span class=\"k\">!=</span> <span class=\"s\">\"0\"</span> <span class=\"k\">?</span> <span class=\"s\">' vspace = \"'</span> <span class=\"k\">+</span> ci<span class=\"k\">.</span>vspace <span class=\"k\">+</span> <span class=\"s\">'\"'</span> <span class=\"k\">:</span> <span class=\"s\">''</span><span class=\"k\">)</span> <span class=\"k\">+</span> <span class=\"s\">'/&gt;'</span><span class=\"k\">;</span>","                <span class=\"k\">if</span> <span class=\"k\">(</span> ci<span class=\"k\">[</span><span class=\"s\">'floatStyle'</span><span class=\"k\">]</span> <span class=\"k\">==</span> <span class=\"s\">'center'</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                    str <span class=\"k\">=</span> <span class=\"s\">'&lt;p style=\"text-align: center\"&gt;'</span> <span class=\"k\">+</span> str <span class=\"k\">+</span> <span class=\"s\">'&lt;/p&gt;'</span><span class=\"k\">;</span>","                <span class=\"k\">}</span>","                html<span class=\"k\">.</span>push<span class=\"k\">(</span> str <span class=\"k\">);</span>","","            <span class=\"k\">}</span> <span class=\"k\">else</span> <span class=\"k\">{</span>","                <span class=\"k\">for</span> <span class=\"k\">(</span> <span class=\"k\">var</span> i <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">;</span> ci <span class=\"k\">=</span> opt<span class=\"k\">[</span>i<span class=\"k\">++];</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                    str <span class=\"k\">=</span> <span class=\"s\">'&lt;p '</span> <span class=\"k\">+</span> <span class=\"k\">(</span>ci<span class=\"k\">[</span><span class=\"s\">'floatStyle'</span><span class=\"k\">]</span> <span class=\"k\">==</span> <span class=\"s\">'center'</span> <span class=\"k\">?</span> <span class=\"s\">'style=\"text-align: center\" '</span> <span class=\"k\">:</span> <span class=\"s\">''</span><span class=\"k\">)</span> <span class=\"k\">+</span> <span class=\"s\">'&gt;&lt;img src=\"'</span> <span class=\"k\">+</span> ci<span class=\"k\">.</span>src <span class=\"k\">+</span> <span class=\"s\">'\" '</span> <span class=\"k\">+</span>","                            <span class=\"k\">(</span>ci<span class=\"k\">.</span>width <span class=\"k\">?</span> <span class=\"s\">'width=\"'</span> <span class=\"k\">+</span> ci<span class=\"k\">.</span>width <span class=\"k\">+</span> <span class=\"s\">'\" '</span> <span class=\"k\">:</span> <span class=\"s\">''</span><span class=\"k\">)</span> <span class=\"k\">+</span> <span class=\"k\">(</span>ci<span class=\"k\">.</span>data_ue_src <span class=\"k\">?</span> <span class=\"s\">' data_ue_src=\"'</span> <span class=\"k\">+</span> ci<span class=\"k\">.</span>data_ue_src <span class=\"k\">+</span> <span class=\"s\">'\" '</span> <span class=\"k\">:</span> <span class=\"s\">''</span><span class=\"k\">)</span> <span class=\"k\">+</span>","                            <span class=\"k\">(</span>ci<span class=\"k\">.</span>height <span class=\"k\">?</span> <span class=\"s\">' height=\"'</span> <span class=\"k\">+</span> ci<span class=\"k\">.</span>height <span class=\"k\">+</span> <span class=\"s\">'\" '</span> <span class=\"k\">:</span> <span class=\"s\">''</span><span class=\"k\">)</span> <span class=\"k\">+</span>","                            <span class=\"s\">' style=\"'</span> <span class=\"k\">+</span> <span class=\"k\">(</span>ci<span class=\"k\">[</span><span class=\"s\">'floatStyle'</span><span class=\"k\">]</span> <span class=\"k\">&amp;&amp;</span> ci<span class=\"k\">[</span><span class=\"s\">'floatStyle'</span><span class=\"k\">]</span> <span class=\"k\">!=</span> <span class=\"s\">'center'</span> <span class=\"k\">?</span> <span class=\"s\">'float:'</span> <span class=\"k\">+</span> ci<span class=\"k\">[</span><span class=\"s\">'floatStyle'</span><span class=\"k\">]</span> <span class=\"k\">+</span> <span class=\"s\">';'</span> <span class=\"k\">:</span> <span class=\"s\">''</span><span class=\"k\">)</span> <span class=\"k\">+</span>","                            <span class=\"k\">(</span>ci<span class=\"k\">.</span>border <span class=\"k\">||</span> <span class=\"s\">''</span><span class=\"k\">)</span> <span class=\"k\">+</span> <span class=\"s\">'\" '</span> <span class=\"k\">+</span>","                            <span class=\"k\">(</span>ci<span class=\"k\">.</span>title <span class=\"k\">?</span> <span class=\"s\">' title=\"'</span> <span class=\"k\">+</span> ci<span class=\"k\">.</span>title <span class=\"k\">+</span> <span class=\"s\">'\"'</span> <span class=\"k\">:</span> <span class=\"s\">''</span><span class=\"k\">)</span> <span class=\"k\">+</span> <span class=\"s\">' /&gt;&lt;/p&gt;'</span><span class=\"k\">;</span>","                    html<span class=\"k\">.</span>push<span class=\"k\">(</span> str <span class=\"k\">);</span>","                <span class=\"k\">}</span>","            <span class=\"k\">}</span>","","            me<span class=\"k\">.</span>execCommand<span class=\"k\">(</span> <span class=\"s\">'insertHtml'</span><span class=\"k\">,</span> html<span class=\"k\">.</span>join<span class=\"k\">(</span> <span class=\"s\">''</span> <span class=\"k\">)</span> <span class=\"k\">);</span>","        <span class=\"k\">}</span>","    <span class=\"k\">}</span><span class=\"k\">,</span>","    queryCommandState<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","        <span class=\"k\">return</span> <span class=\"k\">this</span><span class=\"k\">.</span>highlight <span class=\"k\">?</span> <span class=\"k\">-</span><span class=\"s\">1</span> <span class=\"k\">:</span> <span class=\"s\">0</span><span class=\"k\">;</span>","    <span class=\"k\">}</span>","<span class=\"k\">}</span><span class=\"k\">;</span>"]);
_$jscoverage['plugins/indent.js'] && (_$jscoverage['plugins/indent.js'].source = ["<span class=\"c\">///import core</span>","<span class=\"c\">///import plugins\\paragraph.js</span>","<span class=\"c\">///commands &#39318;&#34892;&#32553;&#36827;</span>","<span class=\"c\">///commandsName  Outdent,Indent</span>","<span class=\"c\">///commandsTitle  &#21462;&#28040;&#32553;&#36827;,&#39318;&#34892;&#32553;&#36827;</span>","<span class=\"c\">/**</span>","<span class=\"c\"> * &#39318;&#34892;&#32553;&#36827;</span>","<span class=\"c\"> * @function</span>","<span class=\"c\"> * @name baidu.editor.execCommand</span>","<span class=\"c\"> * @param   {String}   cmdName     outdent&#21462;&#28040;&#32553;&#36827;&#65292;indent&#32553;&#36827;</span>","<span class=\"c\"> */</span>","UE<span class=\"k\">.</span>commands<span class=\"k\">[</span><span class=\"s\">'indent'</span><span class=\"k\">]</span> <span class=\"k\">=</span> <span class=\"k\">{</span>","    execCommand <span class=\"k\">:</span> <span class=\"k\">function</span><span class=\"k\">()</span> <span class=\"k\">{</span>","         <span class=\"k\">var</span> me <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">,</span>value <span class=\"k\">=</span> me<span class=\"k\">.</span>queryCommandState<span class=\"k\">(</span><span class=\"s\">\"indent\"</span><span class=\"k\">)</span> <span class=\"k\">?</span> <span class=\"s\">\"0em\"</span> <span class=\"k\">:</span> <span class=\"k\">(</span>me<span class=\"k\">.</span>options<span class=\"k\">.</span>indentValue <span class=\"k\">||</span> <span class=\"s\">'2em'</span><span class=\"k\">);</span>","         me<span class=\"k\">.</span>execCommand<span class=\"k\">(</span><span class=\"s\">'Paragraph'</span><span class=\"k\">,</span><span class=\"s\">'p'</span><span class=\"k\">,</span><span class=\"k\">{</span>style<span class=\"k\">:</span><span class=\"s\">'text-indent:'</span><span class=\"k\">+</span> value<span class=\"k\">}</span><span class=\"k\">);</span>","    <span class=\"k\">}</span><span class=\"k\">,</span>","    queryCommandState <span class=\"k\">:</span> <span class=\"k\">function</span><span class=\"k\">()</span> <span class=\"k\">{</span>","        <span class=\"k\">if</span><span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>highlight<span class=\"k\">)</span><span class=\"k\">{</span><span class=\"k\">return</span> <span class=\"k\">-</span><span class=\"s\">1</span><span class=\"k\">;</span><span class=\"k\">}</span>","        <span class=\"k\">var</span> pN <span class=\"k\">=</span> utils<span class=\"k\">.</span>findNode<span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>selection<span class=\"k\">.</span>getStartElementPath<span class=\"k\">(),[</span><span class=\"s\">'p'</span><span class=\"k\">,</span> <span class=\"s\">'h1'</span><span class=\"k\">,</span> <span class=\"s\">'h2'</span><span class=\"k\">,</span> <span class=\"s\">'h3'</span><span class=\"k\">,</span> <span class=\"s\">'h4'</span><span class=\"k\">,</span> <span class=\"s\">'h5'</span><span class=\"k\">,</span> <span class=\"s\">'h6'</span><span class=\"k\">]);</span>","        <span class=\"k\">return</span> pN <span class=\"k\">&amp;&amp;</span> pN<span class=\"k\">.</span>style<span class=\"k\">.</span>textIndent <span class=\"k\">&amp;&amp;</span> parseInt<span class=\"k\">(</span>pN<span class=\"k\">.</span>style<span class=\"k\">.</span>textIndent<span class=\"k\">)</span> <span class=\"k\">?</span>  <span class=\"s\">1</span> <span class=\"k\">:</span> <span class=\"s\">0</span><span class=\"k\">;</span>","    <span class=\"k\">}</span>","","<span class=\"k\">}</span><span class=\"k\">;</span>"]);
_$jscoverage['plugins/inserthtml.js'] && (_$jscoverage['plugins/inserthtml.js'].source = ["<span class=\"c\">///import core</span>","<span class=\"c\">/**</span>","<span class=\"c\"> * @description &#25554;&#20837;&#20869;&#23481;</span>","<span class=\"c\"> * @name baidu.editor.execCommand</span>","<span class=\"c\"> * @param   {String}   cmdName     inserthtml&#25554;&#20837;&#20869;&#23481;&#30340;&#21629;&#20196;</span>","<span class=\"c\"> * @param   {String}   html                &#35201;&#25554;&#20837;&#30340;&#20869;&#23481;</span>","<span class=\"c\"> * @author zhanyi</span>","<span class=\"c\">    */</span>","    UE<span class=\"k\">.</span>commands<span class=\"k\">[</span><span class=\"s\">'inserthtml'</span><span class=\"k\">]</span> <span class=\"k\">=</span> <span class=\"k\">{</span>","        execCommand<span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">(</span>command<span class=\"k\">,</span>html<span class=\"k\">,</span>notSerialize<span class=\"k\">)</span><span class=\"k\">{</span>","            <span class=\"k\">var</span> me <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">,</span>","                range<span class=\"k\">,</span>","                div<span class=\"k\">,</span>","                tds <span class=\"k\">=</span> me<span class=\"k\">.</span>currentSelectedArr<span class=\"k\">;</span>","","            range <span class=\"k\">=</span> me<span class=\"k\">.</span>selection<span class=\"k\">.</span>getRange<span class=\"k\">();</span>","","            div <span class=\"k\">=</span> range<span class=\"k\">.</span>document<span class=\"k\">.</span>createElement<span class=\"k\">(</span> <span class=\"s\">'div'</span> <span class=\"k\">);</span>","            div<span class=\"k\">.</span>style<span class=\"k\">.</span>display <span class=\"k\">=</span> <span class=\"s\">'inline'</span><span class=\"k\">;</span>","            <span class=\"k\">var</span> serialize <span class=\"k\">=</span> me<span class=\"k\">.</span>serialize<span class=\"k\">;</span>","            <span class=\"k\">if</span> <span class=\"k\">(!</span>notSerialize <span class=\"k\">&amp;&amp;</span> serialize<span class=\"k\">)</span> <span class=\"k\">{</span>","                <span class=\"k\">var</span> node <span class=\"k\">=</span> serialize<span class=\"k\">.</span>parseHTML<span class=\"k\">(</span>html<span class=\"k\">);</span>","                node <span class=\"k\">=</span> serialize<span class=\"k\">.</span>transformInput<span class=\"k\">(</span>node<span class=\"k\">);</span>","                node <span class=\"k\">=</span> serialize<span class=\"k\">.</span>filter<span class=\"k\">(</span>node<span class=\"k\">);</span>","                html <span class=\"k\">=</span> serialize<span class=\"k\">.</span>toHTML<span class=\"k\">(</span>node<span class=\"k\">);</span>","            <span class=\"k\">}</span>","            div<span class=\"k\">.</span>innerHTML <span class=\"k\">=</span> utils<span class=\"k\">.</span>trim<span class=\"k\">(</span> html <span class=\"k\">);</span>","            <span class=\"k\">try</span><span class=\"k\">{</span>","                me<span class=\"k\">.</span>adjustTable <span class=\"k\">&amp;&amp;</span> me<span class=\"k\">.</span>adjustTable<span class=\"k\">(</span>div<span class=\"k\">);</span>","            <span class=\"k\">}</span><span class=\"k\">catch</span><span class=\"k\">(</span>e<span class=\"k\">)</span><span class=\"k\">{}</span>","","","            <span class=\"k\">if</span><span class=\"k\">(</span>tds <span class=\"k\">&amp;&amp;</span> tds<span class=\"k\">.</span>length<span class=\"k\">)</span><span class=\"k\">{</span>","                <span class=\"k\">for</span><span class=\"k\">(</span><span class=\"k\">var</span> i<span class=\"k\">=</span><span class=\"s\">0</span><span class=\"k\">,</span>ti<span class=\"k\">;</span>ti<span class=\"k\">=</span>tds<span class=\"k\">[</span>i<span class=\"k\">++];)</span><span class=\"k\">{</span>","                    ti<span class=\"k\">.</span>className <span class=\"k\">=</span> <span class=\"s\">''</span><span class=\"k\">;</span>","                <span class=\"k\">}</span>","                tds<span class=\"k\">[</span><span class=\"s\">0</span><span class=\"k\">].</span>innerHTML <span class=\"k\">=</span> <span class=\"s\">''</span><span class=\"k\">;</span>","                range<span class=\"k\">.</span>setStart<span class=\"k\">(</span>tds<span class=\"k\">[</span><span class=\"s\">0</span><span class=\"k\">],</span><span class=\"s\">0</span><span class=\"k\">).</span>collapse<span class=\"k\">(</span><span class=\"k\">true</span><span class=\"k\">);</span>","                me<span class=\"k\">.</span>currentSelectedArr <span class=\"k\">=</span> <span class=\"k\">[];</span>","            <span class=\"k\">}</span>","","            <span class=\"k\">if</span> <span class=\"k\">(</span> <span class=\"k\">!</span>range<span class=\"k\">.</span>collapsed <span class=\"k\">)</span> <span class=\"k\">{</span>","","                range<span class=\"k\">.</span>deleteContents<span class=\"k\">();</span>","                <span class=\"k\">if</span><span class=\"k\">(</span>range<span class=\"k\">.</span>startContainer<span class=\"k\">.</span>nodeType <span class=\"k\">==</span> <span class=\"s\">1</span><span class=\"k\">)</span><span class=\"k\">{</span>","                    <span class=\"k\">var</span> child <span class=\"k\">=</span> range<span class=\"k\">.</span>startContainer<span class=\"k\">.</span>childNodes<span class=\"k\">[</span>range<span class=\"k\">.</span>startOffset<span class=\"k\">],</span>pre<span class=\"k\">;</span>","                    <span class=\"k\">if</span><span class=\"k\">(</span>child <span class=\"k\">&amp;&amp;</span> domUtils<span class=\"k\">.</span>isBlockElm<span class=\"k\">(</span>child<span class=\"k\">)</span> <span class=\"k\">&amp;&amp;</span> <span class=\"k\">(</span>pre <span class=\"k\">=</span> child<span class=\"k\">.</span>previousSibling<span class=\"k\">)</span> <span class=\"k\">&amp;&amp;</span> domUtils<span class=\"k\">.</span>isBlockElm<span class=\"k\">(</span>pre<span class=\"k\">))</span><span class=\"k\">{</span>","                        range<span class=\"k\">.</span>setEnd<span class=\"k\">(</span>pre<span class=\"k\">,</span>pre<span class=\"k\">.</span>childNodes<span class=\"k\">.</span>length<span class=\"k\">).</span>collapse<span class=\"k\">();</span>","                        <span class=\"k\">while</span><span class=\"k\">(</span>child<span class=\"k\">.</span>firstChild<span class=\"k\">)</span><span class=\"k\">{</span>","                            pre<span class=\"k\">.</span>appendChild<span class=\"k\">(</span>child<span class=\"k\">.</span>firstChild<span class=\"k\">);</span>","","                        <span class=\"k\">}</span>","                        domUtils<span class=\"k\">.</span>remove<span class=\"k\">(</span>child<span class=\"k\">);</span>","                    <span class=\"k\">}</span>","                <span class=\"k\">}</span>","","            <span class=\"k\">}</span>","","","            <span class=\"k\">var</span> child<span class=\"k\">,</span>parent<span class=\"k\">,</span>pre<span class=\"k\">,</span>tmp<span class=\"k\">,</span>hadBreak <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">;</span>","            <span class=\"k\">while</span> <span class=\"k\">(</span> child <span class=\"k\">=</span> div<span class=\"k\">.</span>firstChild <span class=\"k\">)</span> <span class=\"k\">{</span>","                range<span class=\"k\">.</span>insertNode<span class=\"k\">(</span> child <span class=\"k\">);</span>","                <span class=\"k\">if</span> <span class=\"k\">(</span> <span class=\"k\">!</span>hadBreak <span class=\"k\">&amp;&amp;</span> child<span class=\"k\">.</span>nodeType <span class=\"k\">==</span> domUtils<span class=\"k\">.</span>NODE_ELEMENT <span class=\"k\">&amp;&amp;</span> domUtils<span class=\"k\">.</span>isBlockElm<span class=\"k\">(</span> child <span class=\"k\">)</span> <span class=\"k\">)</span><span class=\"k\">{</span>","","                    parent <span class=\"k\">=</span> domUtils<span class=\"k\">.</span>findParent<span class=\"k\">(</span> child<span class=\"k\">,</span><span class=\"k\">function</span> <span class=\"k\">(</span> node <span class=\"k\">)</span><span class=\"k\">{</span> <span class=\"k\">return</span> domUtils<span class=\"k\">.</span>isBlockElm<span class=\"k\">(</span> node <span class=\"k\">);</span> <span class=\"k\">}</span> <span class=\"k\">);</span>","                    <span class=\"k\">if</span> <span class=\"k\">(</span> parent <span class=\"k\">&amp;&amp;</span> parent<span class=\"k\">.</span>tagName<span class=\"k\">.</span>toLowerCase<span class=\"k\">()</span> <span class=\"k\">!=</span> <span class=\"s\">'body'</span> <span class=\"k\">&amp;&amp;</span> <span class=\"k\">!(</span>dtd<span class=\"k\">[</span>parent<span class=\"k\">.</span>tagName<span class=\"k\">][</span>child<span class=\"k\">.</span>nodeName<span class=\"k\">]</span> <span class=\"k\">&amp;&amp;</span> child<span class=\"k\">.</span>parentNode <span class=\"k\">===</span> parent<span class=\"k\">))</span><span class=\"k\">{</span>","                        <span class=\"k\">if</span><span class=\"k\">(!</span>dtd<span class=\"k\">[</span>parent<span class=\"k\">.</span>tagName<span class=\"k\">][</span>child<span class=\"k\">.</span>nodeName<span class=\"k\">])</span><span class=\"k\">{</span>","                            pre <span class=\"k\">=</span> parent<span class=\"k\">;</span>","                        <span class=\"k\">}</span><span class=\"k\">else</span><span class=\"k\">{</span>","                            tmp <span class=\"k\">=</span> child<span class=\"k\">.</span>parentNode<span class=\"k\">;</span>","                            <span class=\"k\">while</span> <span class=\"k\">(</span>tmp <span class=\"k\">!==</span> parent<span class=\"k\">)</span><span class=\"k\">{</span>","                                pre <span class=\"k\">=</span> tmp<span class=\"k\">;</span>","                                tmp <span class=\"k\">=</span> tmp<span class=\"k\">.</span>parentNode<span class=\"k\">;</span>","    ","                            <span class=\"k\">}</span>    ","                        <span class=\"k\">}</span>","                        ","                       ","                        domUtils<span class=\"k\">.</span>breakParent<span class=\"k\">(</span> child<span class=\"k\">,</span> pre <span class=\"k\">||</span> tmp <span class=\"k\">);</span>","                        <span class=\"c\">//&#21435;&#25481;break&#21518;&#21069;&#19968;&#20010;&#22810;&#20313;&#30340;&#33410;&#28857;  &lt;p&gt;|&lt;[p&gt; ==&gt; &lt;p&gt;&lt;/p&gt;&lt;div&gt;&lt;/div&gt;&lt;p&gt;|&lt;/p&gt;</span>","                        <span class=\"k\">var</span> pre <span class=\"k\">=</span> child<span class=\"k\">.</span>previousSibling<span class=\"k\">;</span>","                        domUtils<span class=\"k\">.</span>trimWhiteTextNode<span class=\"k\">(</span>pre<span class=\"k\">);</span>","                        <span class=\"k\">if</span><span class=\"k\">(!</span>pre<span class=\"k\">.</span>childNodes<span class=\"k\">.</span>length<span class=\"k\">)</span><span class=\"k\">{</span>","                            domUtils<span class=\"k\">.</span>remove<span class=\"k\">(</span>pre<span class=\"k\">);</span>","                        <span class=\"k\">}</span>","                        <span class=\"c\">//trace:2012,&#22312;&#38750;ie&#30340;&#24773;&#20917;&#65292;&#20999;&#24320;&#21518;&#21097;&#19979;&#30340;&#33410;&#28857;&#26377;&#21487;&#33021;&#19981;&#33021;&#28857;&#20837;&#20809;&#26631;&#28155;&#21152;br&#21344;&#20301;</span>","","                        <span class=\"k\">if</span><span class=\"k\">(!</span>browser<span class=\"k\">.</span>ie <span class=\"k\">&amp;&amp;</span>","                            <span class=\"k\">(</span>next <span class=\"k\">=</span> child<span class=\"k\">.</span>nextSibling<span class=\"k\">)</span> <span class=\"k\">&amp;&amp;</span>","                            domUtils<span class=\"k\">.</span>isBlockElm<span class=\"k\">(</span>next<span class=\"k\">)</span> <span class=\"k\">&amp;&amp;</span>","                            next<span class=\"k\">.</span>lastChild <span class=\"k\">&amp;&amp;</span>","                            <span class=\"k\">!</span>domUtils<span class=\"k\">.</span>isBr<span class=\"k\">(</span>next<span class=\"k\">.</span>lastChild<span class=\"k\">))</span><span class=\"k\">{</span>","                            next<span class=\"k\">.</span>appendChild<span class=\"k\">(</span>me<span class=\"k\">.</span>document<span class=\"k\">.</span>createElement<span class=\"k\">(</span><span class=\"s\">'br'</span><span class=\"k\">));</span>","                        <span class=\"k\">}</span>","                        hadBreak <span class=\"k\">=</span> <span class=\"s\">1</span><span class=\"k\">;</span>","                    <span class=\"k\">}</span>","                <span class=\"k\">}</span>","                <span class=\"k\">var</span> next <span class=\"k\">=</span> child<span class=\"k\">.</span>nextSibling<span class=\"k\">;</span>","                <span class=\"k\">if</span><span class=\"k\">(!</span>div<span class=\"k\">.</span>firstChild <span class=\"k\">&amp;&amp;</span> next <span class=\"k\">&amp;&amp;</span> domUtils<span class=\"k\">.</span>isBlockElm<span class=\"k\">(</span>next<span class=\"k\">))</span><span class=\"k\">{</span>","","                    range<span class=\"k\">.</span>setStart<span class=\"k\">(</span>next<span class=\"k\">,</span><span class=\"s\">0</span><span class=\"k\">).</span>collapse<span class=\"k\">(</span><span class=\"k\">true</span><span class=\"k\">);</span>","                    <span class=\"k\">break</span><span class=\"k\">;</span>","                <span class=\"k\">}</span>","                range<span class=\"k\">.</span>setEndAfter<span class=\"k\">(</span> child <span class=\"k\">).</span>collapse<span class=\"k\">();</span>","","            <span class=\"k\">}</span>","","","            child <span class=\"k\">=</span> range<span class=\"k\">.</span>startContainer<span class=\"k\">;</span>","","            <span class=\"c\">//&#29992;chrome&#21487;&#33021;&#26377;&#31354;&#30333;&#23637;&#20301;&#31526;</span>","            <span class=\"k\">if</span><span class=\"k\">(</span>domUtils<span class=\"k\">.</span>isBlockElm<span class=\"k\">(</span>child<span class=\"k\">)</span> <span class=\"k\">&amp;&amp;</span> domUtils<span class=\"k\">.</span>isEmptyNode<span class=\"k\">(</span>child<span class=\"k\">))</span><span class=\"k\">{</span>","                child<span class=\"k\">.</span>innerHTML <span class=\"k\">=</span> browser<span class=\"k\">.</span>ie <span class=\"k\">?</span> <span class=\"s\">''</span> <span class=\"k\">:</span> <span class=\"s\">'&lt;br/&gt;'</span><span class=\"k\">;</span>","            <span class=\"k\">}</span>","            <span class=\"c\">//&#21152;&#19978;true&#22240;&#20026;&#22312;&#21024;&#38500;&#34920;&#24773;&#31561;&#26102;&#20250;&#21024;&#20004;&#27425;&#65292;&#31532;&#19968;&#27425;&#26159;&#21024;&#30340;fillData</span>","            range<span class=\"k\">.</span>select<span class=\"k\">(</span><span class=\"k\">true</span><span class=\"k\">);</span>","","","            setTimeout<span class=\"k\">(</span><span class=\"k\">function</span><span class=\"k\">()</span><span class=\"k\">{</span>","                range <span class=\"k\">=</span> me<span class=\"k\">.</span>selection<span class=\"k\">.</span>getRange<span class=\"k\">();</span>","                range<span class=\"k\">.</span>scrollToView<span class=\"k\">(</span>me<span class=\"k\">.</span>autoHeightEnabled<span class=\"k\">,</span>me<span class=\"k\">.</span>autoHeightEnabled <span class=\"k\">?</span> domUtils<span class=\"k\">.</span>getXY<span class=\"k\">(</span>me<span class=\"k\">.</span>iframe<span class=\"k\">).</span>y<span class=\"k\">:</span><span class=\"s\">0</span><span class=\"k\">);</span>","            <span class=\"k\">}</span><span class=\"k\">,</span><span class=\"s\">200</span><span class=\"k\">);</span>","","","","            ","        <span class=\"k\">}</span>","    <span class=\"k\">}</span><span class=\"k\">;</span>"]);
_$jscoverage['plugins/justify.js'] && (_$jscoverage['plugins/justify.js'].source = ["<span class=\"c\">///import core</span>","<span class=\"c\">///commands &#27573;&#33853;&#26684;&#24335;,&#23621;&#24038;,&#23621;&#21491;,&#23621;&#20013;,&#20004;&#31471;&#23545;&#40784;</span>","<span class=\"c\">///commandsName  JustifyLeft,JustifyCenter,JustifyRight,JustifyJustify</span>","<span class=\"c\">///commandsTitle  &#23621;&#24038;&#23545;&#40784;,&#23621;&#20013;&#23545;&#40784;,&#23621;&#21491;&#23545;&#40784;,&#20004;&#31471;&#23545;&#40784;</span>","<span class=\"c\">/**</span>","<span class=\"c\"> * @description &#23621;&#24038;&#21491;&#20013;</span>","<span class=\"c\"> * @name baidu.editor.execCommand</span>","<span class=\"c\"> * @param   {String}   cmdName     justify&#25191;&#34892;&#23545;&#40784;&#26041;&#24335;&#30340;&#21629;&#20196;</span>","<span class=\"c\"> * @param   {String}   align               &#23545;&#40784;&#26041;&#24335;&#65306;left&#23621;&#24038;&#65292;right&#23621;&#21491;&#65292;center&#23621;&#20013;&#65292;justify&#20004;&#31471;&#23545;&#40784;</span>","<span class=\"c\"> * @author zhanyi</span>","<span class=\"c\"> */</span>","<span class=\"k\">(</span><span class=\"k\">function</span><span class=\"k\">()</span><span class=\"k\">{</span>","    <span class=\"k\">var</span> block <span class=\"k\">=</span> domUtils<span class=\"k\">.</span>isBlockElm<span class=\"k\">,</span>","        defaultValue <span class=\"k\">=</span> <span class=\"k\">{</span>","            left <span class=\"k\">:</span> <span class=\"s\">1</span><span class=\"k\">,</span>","            right <span class=\"k\">:</span> <span class=\"s\">1</span><span class=\"k\">,</span>","            center <span class=\"k\">:</span> <span class=\"s\">1</span><span class=\"k\">,</span>","            justify <span class=\"k\">:</span> <span class=\"s\">1</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        doJustify <span class=\"k\">=</span> <span class=\"k\">function</span><span class=\"k\">(</span>range<span class=\"k\">,</span>style<span class=\"k\">)</span><span class=\"k\">{</span>","            <span class=\"k\">var</span> bookmark <span class=\"k\">=</span> range<span class=\"k\">.</span>createBookmark<span class=\"k\">(),</span>","                filterFn <span class=\"k\">=</span> <span class=\"k\">function</span><span class=\"k\">(</span> node <span class=\"k\">)</span> <span class=\"k\">{</span>","                    <span class=\"k\">return</span> node<span class=\"k\">.</span>nodeType <span class=\"k\">==</span> <span class=\"s\">1</span> <span class=\"k\">?</span> node<span class=\"k\">.</span>tagName<span class=\"k\">.</span>toLowerCase<span class=\"k\">()</span> <span class=\"k\">!=</span> <span class=\"s\">'br'</span> <span class=\"k\">&amp;&amp;</span>  <span class=\"k\">!</span>domUtils<span class=\"k\">.</span>isBookmarkNode<span class=\"k\">(</span>node<span class=\"k\">)</span> <span class=\"k\">:</span> <span class=\"k\">!</span>domUtils<span class=\"k\">.</span>isWhitespace<span class=\"k\">(</span> node <span class=\"k\">);</span>","                <span class=\"k\">}</span><span class=\"k\">;</span>","","            range<span class=\"k\">.</span>enlarge<span class=\"k\">(</span><span class=\"k\">true</span><span class=\"k\">);</span>","            <span class=\"k\">var</span> bookmark2 <span class=\"k\">=</span> range<span class=\"k\">.</span>createBookmark<span class=\"k\">(),</span>","                current <span class=\"k\">=</span> domUtils<span class=\"k\">.</span>getNextDomNode<span class=\"k\">(</span>bookmark2<span class=\"k\">.</span>start<span class=\"k\">,</span><span class=\"k\">false</span><span class=\"k\">,</span>filterFn<span class=\"k\">),</span>","                tmpRange <span class=\"k\">=</span> range<span class=\"k\">.</span>cloneRange<span class=\"k\">(),</span>","                tmpNode<span class=\"k\">;</span>","            <span class=\"k\">while</span><span class=\"k\">(</span>current <span class=\"k\">&amp;&amp;</span>  <span class=\"k\">!(</span>domUtils<span class=\"k\">.</span>getPosition<span class=\"k\">(</span>current<span class=\"k\">,</span>bookmark2<span class=\"k\">.</span>end<span class=\"k\">)&amp;</span>domUtils<span class=\"k\">.</span>POSITION_FOLLOWING<span class=\"k\">))</span><span class=\"k\">{</span>","                <span class=\"k\">if</span><span class=\"k\">(</span>current<span class=\"k\">.</span>nodeType <span class=\"k\">==</span> <span class=\"s\">3</span> <span class=\"k\">||</span> <span class=\"k\">!</span>block<span class=\"k\">(</span>current<span class=\"k\">))</span><span class=\"k\">{</span>","                    tmpRange<span class=\"k\">.</span>setStartBefore<span class=\"k\">(</span>current<span class=\"k\">);</span>","                    <span class=\"k\">while</span><span class=\"k\">(</span>current <span class=\"k\">&amp;&amp;</span> current<span class=\"k\">!==</span>bookmark2<span class=\"k\">.</span>end <span class=\"k\">&amp;&amp;</span>  <span class=\"k\">!</span>block<span class=\"k\">(</span>current<span class=\"k\">))</span><span class=\"k\">{</span>","                        tmpNode <span class=\"k\">=</span> current<span class=\"k\">;</span>","                        current <span class=\"k\">=</span> domUtils<span class=\"k\">.</span>getNextDomNode<span class=\"k\">(</span>current<span class=\"k\">,</span><span class=\"k\">false</span><span class=\"k\">,</span><span class=\"k\">null</span><span class=\"k\">,</span><span class=\"k\">function</span><span class=\"k\">(</span>node<span class=\"k\">)</span><span class=\"k\">{</span>","                            <span class=\"k\">return</span> <span class=\"k\">!</span>block<span class=\"k\">(</span>node<span class=\"k\">);</span>","                        <span class=\"k\">}</span><span class=\"k\">);</span>","                    <span class=\"k\">}</span>","                    tmpRange<span class=\"k\">.</span>setEndAfter<span class=\"k\">(</span>tmpNode<span class=\"k\">);</span>","                    <span class=\"k\">var</span> common <span class=\"k\">=</span> tmpRange<span class=\"k\">.</span>getCommonAncestor<span class=\"k\">();</span>","                    <span class=\"k\">if</span><span class=\"k\">(</span> <span class=\"k\">!</span>domUtils<span class=\"k\">.</span>isBody<span class=\"k\">(</span>common<span class=\"k\">)</span> <span class=\"k\">&amp;&amp;</span> block<span class=\"k\">(</span>common<span class=\"k\">))</span><span class=\"k\">{</span>","                        domUtils<span class=\"k\">.</span>setStyles<span class=\"k\">(</span>common<span class=\"k\">,</span>utils<span class=\"k\">.</span>isString<span class=\"k\">(</span>style<span class=\"k\">)</span> <span class=\"k\">?</span> <span class=\"k\">{</span><span class=\"s\">'text-align'</span><span class=\"k\">:</span>style<span class=\"k\">}</span> <span class=\"k\">:</span> style<span class=\"k\">);</span>","                        current <span class=\"k\">=</span> common<span class=\"k\">;</span>","                    <span class=\"k\">}</span><span class=\"k\">else</span><span class=\"k\">{</span>","                        <span class=\"k\">var</span> p <span class=\"k\">=</span> range<span class=\"k\">.</span>document<span class=\"k\">.</span>createElement<span class=\"k\">(</span><span class=\"s\">'p'</span><span class=\"k\">);</span>","                         domUtils<span class=\"k\">.</span>setStyles<span class=\"k\">(</span>p<span class=\"k\">,</span>utils<span class=\"k\">.</span>isString<span class=\"k\">(</span>style<span class=\"k\">)</span> <span class=\"k\">?</span> <span class=\"k\">{</span><span class=\"s\">'text-align'</span><span class=\"k\">:</span>style<span class=\"k\">}</span> <span class=\"k\">:</span> style<span class=\"k\">);</span>","                        <span class=\"k\">var</span> frag <span class=\"k\">=</span> tmpRange<span class=\"k\">.</span>extractContents<span class=\"k\">();</span>","                        p<span class=\"k\">.</span>appendChild<span class=\"k\">(</span>frag<span class=\"k\">);</span>","                        tmpRange<span class=\"k\">.</span>insertNode<span class=\"k\">(</span>p<span class=\"k\">);</span>","                        current <span class=\"k\">=</span> p<span class=\"k\">;</span>","                    <span class=\"k\">}</span>","                    current <span class=\"k\">=</span> domUtils<span class=\"k\">.</span>getNextDomNode<span class=\"k\">(</span>current<span class=\"k\">,</span><span class=\"k\">false</span><span class=\"k\">,</span>filterFn<span class=\"k\">);</span>","                <span class=\"k\">}</span><span class=\"k\">else</span><span class=\"k\">{</span>","                    current <span class=\"k\">=</span> domUtils<span class=\"k\">.</span>getNextDomNode<span class=\"k\">(</span>current<span class=\"k\">,</span><span class=\"k\">true</span><span class=\"k\">,</span>filterFn<span class=\"k\">);</span>","                <span class=\"k\">}</span>","            <span class=\"k\">}</span>","            <span class=\"k\">return</span> range<span class=\"k\">.</span>moveToBookmark<span class=\"k\">(</span>bookmark2<span class=\"k\">).</span>moveToBookmark<span class=\"k\">(</span>bookmark<span class=\"k\">);</span>","        <span class=\"k\">}</span><span class=\"k\">;</span>","    UE<span class=\"k\">.</span>commands<span class=\"k\">[</span><span class=\"s\">'justify'</span><span class=\"k\">]</span> <span class=\"k\">=</span>  <span class=\"k\">{</span>","        execCommand <span class=\"k\">:</span> <span class=\"k\">function</span><span class=\"k\">(</span> cmdName<span class=\"k\">,</span>align <span class=\"k\">)</span> <span class=\"k\">{</span>","","            <span class=\"k\">var</span>  range <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>selection<span class=\"k\">.</span>getRange<span class=\"k\">(),</span>","                txt<span class=\"k\">;</span>","           ","            <span class=\"k\">if</span><span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>currentSelectedArr <span class=\"k\">&amp;&amp;</span> <span class=\"k\">this</span><span class=\"k\">.</span>currentSelectedArr<span class=\"k\">.</span>length <span class=\"k\">&gt;</span> <span class=\"s\">0</span><span class=\"k\">)</span><span class=\"k\">{</span>","                <span class=\"k\">for</span><span class=\"k\">(</span><span class=\"k\">var</span> i<span class=\"k\">=</span><span class=\"s\">0</span><span class=\"k\">,</span>ti<span class=\"k\">;</span>ti<span class=\"k\">=</span><span class=\"k\">this</span><span class=\"k\">.</span>currentSelectedArr<span class=\"k\">[</span>i<span class=\"k\">++];)</span><span class=\"k\">{</span>","                    <span class=\"k\">if</span><span class=\"k\">(</span>domUtils<span class=\"k\">.</span>isEmptyNode<span class=\"k\">(</span>ti<span class=\"k\">))</span><span class=\"k\">{</span>","                        txt <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>document<span class=\"k\">.</span>createTextNode<span class=\"k\">(</span><span class=\"s\">'p'</span><span class=\"k\">);</span>","                        range<span class=\"k\">.</span>setStart<span class=\"k\">(</span>ti<span class=\"k\">,</span><span class=\"s\">0</span><span class=\"k\">).</span>collapse<span class=\"k\">(</span><span class=\"k\">true</span><span class=\"k\">).</span>insertNode<span class=\"k\">(</span>txt<span class=\"k\">).</span>selectNode<span class=\"k\">(</span>txt<span class=\"k\">);</span>","                        ","                    <span class=\"k\">}</span><span class=\"k\">else</span><span class=\"k\">{</span>","                        range<span class=\"k\">.</span>selectNodeContents<span class=\"k\">(</span>ti<span class=\"k\">);</span>","                    <span class=\"k\">}</span>","","                    doJustify<span class=\"k\">(</span>range<span class=\"k\">,</span>align<span class=\"k\">.</span>toLowerCase<span class=\"k\">());</span>","                    txt <span class=\"k\">&amp;&amp;</span> domUtils<span class=\"k\">.</span>remove<span class=\"k\">(</span>txt<span class=\"k\">);</span>","                <span class=\"k\">}</span>","                range<span class=\"k\">.</span>selectNode<span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>currentSelectedArr<span class=\"k\">[</span><span class=\"s\">0</span><span class=\"k\">]).</span>select<span class=\"k\">();</span>","            <span class=\"k\">}</span><span class=\"k\">else</span><span class=\"k\">{</span>","","                <span class=\"c\">//&#38381;&#21512;&#26102;&#21333;&#29420;&#22788;&#29702;</span>","                <span class=\"k\">if</span><span class=\"k\">(</span>range<span class=\"k\">.</span>collapsed<span class=\"k\">)</span><span class=\"k\">{</span>","                    txt <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>document<span class=\"k\">.</span>createTextNode<span class=\"k\">(</span><span class=\"s\">'p'</span><span class=\"k\">);</span>","                    range<span class=\"k\">.</span>insertNode<span class=\"k\">(</span>txt<span class=\"k\">);</span>","                <span class=\"k\">}</span>","                doJustify<span class=\"k\">(</span>range<span class=\"k\">,</span>align<span class=\"k\">);</span>","                <span class=\"k\">if</span><span class=\"k\">(</span>txt<span class=\"k\">)</span><span class=\"k\">{</span>","                    range<span class=\"k\">.</span>setStartBefore<span class=\"k\">(</span>txt<span class=\"k\">).</span>collapse<span class=\"k\">(</span><span class=\"k\">true</span><span class=\"k\">);</span>","                    domUtils<span class=\"k\">.</span>remove<span class=\"k\">(</span>txt<span class=\"k\">);</span>","                <span class=\"k\">}</span>","                ","                range<span class=\"k\">.</span>select<span class=\"k\">();</span>","","            <span class=\"k\">}</span>","            <span class=\"k\">return</span> <span class=\"k\">true</span><span class=\"k\">;</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        queryCommandValue <span class=\"k\">:</span> <span class=\"k\">function</span><span class=\"k\">()</span> <span class=\"k\">{</span>","            <span class=\"k\">var</span> startNode <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>selection<span class=\"k\">.</span>getStart<span class=\"k\">(),</span>","                value <span class=\"k\">=</span> domUtils<span class=\"k\">.</span>getComputedStyle<span class=\"k\">(</span>startNode<span class=\"k\">,</span><span class=\"s\">'text-align'</span><span class=\"k\">);</span>","            <span class=\"k\">return</span> defaultValue<span class=\"k\">[</span>value<span class=\"k\">]</span> <span class=\"k\">?</span> value <span class=\"k\">:</span> <span class=\"s\">'left'</span><span class=\"k\">;</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        queryCommandState <span class=\"k\">:</span> <span class=\"k\">function</span><span class=\"k\">()</span><span class=\"k\">{</span>","            <span class=\"k\">return</span> <span class=\"k\">this</span><span class=\"k\">.</span>highlight <span class=\"k\">?</span> <span class=\"k\">-</span><span class=\"s\">1</span> <span class=\"k\">:</span> <span class=\"s\">0</span><span class=\"k\">;</span>","                ","        <span class=\"k\">}</span>","","    <span class=\"k\">}</span><span class=\"k\">;</span>","","","<span class=\"k\">}</span><span class=\"k\">)();</span>"]);
_$jscoverage['plugins/keystrokes.js'] && (_$jscoverage['plugins/keystrokes.js'].source = ["<span class=\"c\">/*</span>","<span class=\"c\">*   &#22788;&#29702;&#29305;&#27530;&#38190;&#30340;&#20860;&#23481;&#24615;&#38382;&#39064;</span>","<span class=\"c\">*/</span>","UE<span class=\"k\">.</span>plugins<span class=\"k\">[</span><span class=\"s\">'keystrokes'</span><span class=\"k\">]</span> <span class=\"k\">=</span> <span class=\"k\">function</span><span class=\"k\">()</span> <span class=\"k\">{</span>","    <span class=\"k\">var</span> me <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">,</span>","        flag <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">,</span>","        keys <span class=\"k\">=</span> domUtils<span class=\"k\">.</span>keys<span class=\"k\">,</span>","        trans <span class=\"k\">=</span> <span class=\"k\">{</span>","            <span class=\"s\">'B'</span> <span class=\"k\">:</span> <span class=\"s\">'strong'</span><span class=\"k\">,</span>","            <span class=\"s\">'I'</span> <span class=\"k\">:</span> <span class=\"s\">'em'</span><span class=\"k\">,</span>","            <span class=\"s\">'FONT'</span> <span class=\"k\">:</span> <span class=\"s\">'span'</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        sizeMap <span class=\"k\">=</span> <span class=\"k\">[</span><span class=\"s\">0</span><span class=\"k\">,</span> <span class=\"s\">10</span><span class=\"k\">,</span> <span class=\"s\">12</span><span class=\"k\">,</span> <span class=\"s\">16</span><span class=\"k\">,</span> <span class=\"s\">18</span><span class=\"k\">,</span> <span class=\"s\">24</span><span class=\"k\">,</span> <span class=\"s\">32</span><span class=\"k\">,</span> <span class=\"s\">48</span><span class=\"k\">],</span>","        listStyle <span class=\"k\">=</span> <span class=\"k\">{</span>","            <span class=\"s\">'OL'</span><span class=\"k\">:[</span><span class=\"s\">'decimal'</span><span class=\"k\">,</span><span class=\"s\">'lower-alpha'</span><span class=\"k\">,</span><span class=\"s\">'lower-roman'</span><span class=\"k\">,</span><span class=\"s\">'upper-alpha'</span><span class=\"k\">,</span><span class=\"s\">'upper-roman'</span><span class=\"k\">],</span>","","            <span class=\"s\">'UL'</span><span class=\"k\">:[</span> <span class=\"s\">'circle'</span><span class=\"k\">,</span><span class=\"s\">'disc'</span><span class=\"k\">,</span><span class=\"s\">'square'</span><span class=\"k\">]</span>","        <span class=\"k\">}</span><span class=\"k\">;</span>","    me<span class=\"k\">.</span>addListener<span class=\"k\">(</span><span class=\"s\">'keydown'</span><span class=\"k\">,</span> <span class=\"k\">function</span><span class=\"k\">(</span>type<span class=\"k\">,</span> evt<span class=\"k\">)</span> <span class=\"k\">{</span>","        <span class=\"k\">var</span> keyCode <span class=\"k\">=</span> evt<span class=\"k\">.</span>keyCode <span class=\"k\">||</span> evt<span class=\"k\">.</span>which<span class=\"k\">;</span>","","        <span class=\"k\">if</span><span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>selectAll<span class=\"k\">)</span><span class=\"k\">{</span>","            <span class=\"k\">this</span><span class=\"k\">.</span>selectAll <span class=\"k\">=</span> <span class=\"k\">false</span><span class=\"k\">;</span>","            <span class=\"k\">if</span><span class=\"k\">((</span>keyCode <span class=\"k\">==</span> <span class=\"s\">8</span> <span class=\"k\">||</span> keyCode <span class=\"k\">==</span> <span class=\"s\">46</span><span class=\"k\">))</span><span class=\"k\">{</span>","                me<span class=\"k\">.</span>undoManger <span class=\"k\">&amp;&amp;</span> me<span class=\"k\">.</span>undoManger<span class=\"k\">.</span>save<span class=\"k\">();</span>","                 <span class=\"c\">//trace:1633</span>","                me<span class=\"k\">.</span>body<span class=\"k\">.</span>innerHTML <span class=\"k\">=</span> <span class=\"s\">'&lt;p&gt;'</span><span class=\"k\">+(</span>browser<span class=\"k\">.</span>ie <span class=\"k\">?</span> <span class=\"s\">''</span> <span class=\"k\">:</span> <span class=\"s\">'&lt;br/&gt;'</span><span class=\"k\">)+</span><span class=\"s\">'&lt;/p&gt;'</span><span class=\"k\">;</span>","","                <span class=\"k\">new</span> dom<span class=\"k\">.</span>Range<span class=\"k\">(</span>me<span class=\"k\">.</span>document<span class=\"k\">).</span>setStart<span class=\"k\">(</span>me<span class=\"k\">.</span>body<span class=\"k\">.</span>firstChild<span class=\"k\">,</span><span class=\"s\">0</span><span class=\"k\">).</span>setCursor<span class=\"k\">(</span><span class=\"k\">false</span><span class=\"k\">,</span><span class=\"k\">true</span><span class=\"k\">);</span>","                me<span class=\"k\">.</span>undoManger <span class=\"k\">&amp;&amp;</span> me<span class=\"k\">.</span>undoManger<span class=\"k\">.</span>save<span class=\"k\">();</span>","                <span class=\"c\">//todo &#23545;&#24615;&#33021;&#20250;&#26377;&#24433;&#21709;</span>","                browser<span class=\"k\">.</span>ie <span class=\"k\">&amp;&amp;</span> me<span class=\"k\">.</span>_selectionChange<span class=\"k\">();</span>","                domUtils<span class=\"k\">.</span>preventDefault<span class=\"k\">(</span>evt<span class=\"k\">);</span>","                <span class=\"k\">return</span><span class=\"k\">;</span>","            <span class=\"k\">}</span>","","","        <span class=\"k\">}</span>","","        <span class=\"c\">//&#22788;&#29702;backspace/del</span>","        <span class=\"k\">if</span> <span class=\"k\">(</span>keyCode <span class=\"k\">==</span> <span class=\"s\">8</span> <span class=\"k\">)</span> <span class=\"k\">{</span><span class=\"c\">//|| keyCode == 46</span>","","","            <span class=\"k\">var</span> range <span class=\"k\">=</span> me<span class=\"k\">.</span>selection<span class=\"k\">.</span>getRange<span class=\"k\">(),</span>","                tmpRange<span class=\"k\">,</span>","                start<span class=\"k\">,</span>end<span class=\"k\">;</span>","","            <span class=\"c\">//&#24403;&#21024;&#38500;&#21040;body&#26368;&#24320;&#22987;&#30340;&#20301;&#32622;&#26102;&#65292;&#20250;&#21024;&#38500;&#21040;body,&#38459;&#27490;&#36825;&#20010;&#21160;&#20316;</span>","            <span class=\"k\">if</span><span class=\"k\">(</span>range<span class=\"k\">.</span>collapsed<span class=\"k\">)</span><span class=\"k\">{</span>","                start <span class=\"k\">=</span> range<span class=\"k\">.</span>startContainer<span class=\"k\">;</span>","                <span class=\"c\">//&#26377;&#21487;&#33021;&#26159;&#23637;&#20301;&#31526;&#21495;</span>","                <span class=\"k\">if</span><span class=\"k\">(</span>domUtils<span class=\"k\">.</span>isWhitespace<span class=\"k\">(</span>start<span class=\"k\">))</span><span class=\"k\">{</span>","                    start <span class=\"k\">=</span> start<span class=\"k\">.</span>parentNode<span class=\"k\">;</span>","                <span class=\"k\">}</span>","                <span class=\"k\">if</span><span class=\"k\">(</span>domUtils<span class=\"k\">.</span>isEmptyNode<span class=\"k\">(</span>start<span class=\"k\">)</span> <span class=\"k\">&amp;&amp;</span> start <span class=\"k\">===</span> me<span class=\"k\">.</span>body<span class=\"k\">.</span>firstChild<span class=\"k\">)</span><span class=\"k\">{</span>","","                    <span class=\"k\">if</span><span class=\"k\">(</span>start<span class=\"k\">.</span>tagName <span class=\"k\">!=</span> <span class=\"s\">'P'</span><span class=\"k\">)</span><span class=\"k\">{</span>","                        p <span class=\"k\">=</span> me<span class=\"k\">.</span>document<span class=\"k\">.</span>createElement<span class=\"k\">(</span><span class=\"s\">'p'</span><span class=\"k\">);</span>","                        me<span class=\"k\">.</span>body<span class=\"k\">.</span>insertBefore<span class=\"k\">(</span>p<span class=\"k\">,</span>start<span class=\"k\">);</span>","                        domUtils<span class=\"k\">.</span>fillNode<span class=\"k\">(</span>me<span class=\"k\">.</span>document<span class=\"k\">,</span>p<span class=\"k\">);</span>","                        range<span class=\"k\">.</span>setStart<span class=\"k\">(</span>p<span class=\"k\">,</span><span class=\"s\">0</span><span class=\"k\">).</span>setCursor<span class=\"k\">(</span><span class=\"k\">false</span><span class=\"k\">,</span><span class=\"k\">true</span><span class=\"k\">);</span>","                        <span class=\"c\">//trace:1645</span>","                        domUtils<span class=\"k\">.</span>remove<span class=\"k\">(</span>start<span class=\"k\">);</span>","                    <span class=\"k\">}</span>","                    domUtils<span class=\"k\">.</span>preventDefault<span class=\"k\">(</span>evt<span class=\"k\">);</span>","                    <span class=\"k\">return</span><span class=\"k\">;</span>","","                <span class=\"k\">}</span>","            <span class=\"k\">}</span>","","            <span class=\"k\">if</span> <span class=\"k\">(</span>range<span class=\"k\">.</span>collapsed <span class=\"k\">&amp;&amp;</span> range<span class=\"k\">.</span>startContainer<span class=\"k\">.</span>nodeType <span class=\"k\">==</span> <span class=\"s\">3</span> <span class=\"k\">&amp;&amp;</span> range<span class=\"k\">.</span>startContainer<span class=\"k\">.</span>nodeValue<span class=\"k\">.</span>replace<span class=\"k\">(</span><span class=\"k\">new</span> RegExp<span class=\"k\">(</span>domUtils<span class=\"k\">.</span>fillChar<span class=\"k\">,</span> <span class=\"s\">'g'</span><span class=\"k\">),</span> <span class=\"s\">''</span><span class=\"k\">).</span>length <span class=\"k\">==</span> <span class=\"s\">0</span><span class=\"k\">)</span> <span class=\"k\">{</span>","                range<span class=\"k\">.</span>setStartBefore<span class=\"k\">(</span>range<span class=\"k\">.</span>startContainer<span class=\"k\">).</span>collapse<span class=\"k\">(</span><span class=\"k\">true</span><span class=\"k\">);</span>","            <span class=\"k\">}</span>","            <span class=\"c\">//&#35299;&#20915;&#36873;&#20013;control&#20803;&#32032;&#19981;&#33021;&#21024;&#38500;&#30340;&#38382;&#39064;</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span>start <span class=\"k\">=</span> range<span class=\"k\">.</span>getClosedNode<span class=\"k\">())</span> <span class=\"k\">{</span>","                me<span class=\"k\">.</span>undoManger <span class=\"k\">&amp;&amp;</span> me<span class=\"k\">.</span>undoManger<span class=\"k\">.</span>save<span class=\"k\">();</span>","                range<span class=\"k\">.</span>setStartBefore<span class=\"k\">(</span>start<span class=\"k\">);</span>","                domUtils<span class=\"k\">.</span>remove<span class=\"k\">(</span>start<span class=\"k\">);</span>","                range<span class=\"k\">.</span>setCursor<span class=\"k\">();</span>","                me<span class=\"k\">.</span>undoManger <span class=\"k\">&amp;&amp;</span> me<span class=\"k\">.</span>undoManger<span class=\"k\">.</span>save<span class=\"k\">();</span>","                domUtils<span class=\"k\">.</span>preventDefault<span class=\"k\">(</span>evt<span class=\"k\">);</span>","                <span class=\"k\">return</span><span class=\"k\">;</span>","            <span class=\"k\">}</span>","            <span class=\"c\">//&#38459;&#27490;&#22312;table&#19978;&#30340;&#21024;&#38500;</span>","            <span class=\"k\">if</span> <span class=\"k\">(!</span>browser<span class=\"k\">.</span>ie<span class=\"k\">)</span> <span class=\"k\">{</span>","","                start <span class=\"k\">=</span> domUtils<span class=\"k\">.</span>findParentByTagName<span class=\"k\">(</span>range<span class=\"k\">.</span>startContainer<span class=\"k\">,</span> <span class=\"s\">'table'</span><span class=\"k\">,</span> <span class=\"k\">true</span><span class=\"k\">);</span>","                end <span class=\"k\">=</span> domUtils<span class=\"k\">.</span>findParentByTagName<span class=\"k\">(</span>range<span class=\"k\">.</span>endContainer<span class=\"k\">,</span> <span class=\"s\">'table'</span><span class=\"k\">,</span> <span class=\"k\">true</span><span class=\"k\">);</span>","                <span class=\"k\">if</span> <span class=\"k\">(</span>start <span class=\"k\">&amp;&amp;</span> <span class=\"k\">!</span>end <span class=\"k\">||</span> <span class=\"k\">!</span>start <span class=\"k\">&amp;&amp;</span> end <span class=\"k\">||</span> start <span class=\"k\">!==</span> end<span class=\"k\">)</span> <span class=\"k\">{</span>","                    evt<span class=\"k\">.</span>preventDefault<span class=\"k\">();</span>","                    <span class=\"k\">return</span><span class=\"k\">;</span>","                <span class=\"k\">}</span>","                <span class=\"c\">//&#34920;&#26684;&#37324;&#22238;&#36710;&#65292;&#21024;&#38500;&#26102;&#65292;&#20809;&#26631;&#34987;&#23450;&#20301;&#21040;&#20102;p&#22806;&#36793;&#65292;&#23548;&#33268;&#22810;&#27425;&#21024;&#38500;&#25165;&#33021;&#21040;&#19978;&#19968;&#34892;&#65292;&#36825;&#37324;&#30340;&#22788;&#29702;&#24536;&#35760;&#26159;&#20026;&#20160;&#20040;&#65292;&#26242;&#26102;&#27880;&#35270;&#25481;</span>","                <span class=\"c\">//&#35299;&#20915;trace:1966&#30340;&#38382;&#39064;</span>","<span class=\"c\">//                if (browser.webkit &amp;&amp; range.collapsed &amp;&amp; start) {</span>","<span class=\"c\">//                    tmpRange = range.cloneRange().txtToElmBoundary();</span>","<span class=\"c\">//                    start = tmpRange.startContainer;</span>","<span class=\"c\">//                           debugger</span>","<span class=\"c\">//                    if (domUtils.isBlockElm(start) &amp;&amp; !dtd.$tableContent[start.tagName] &amp;&amp; !domUtils.getChildCount(start, function(node) {</span>","<span class=\"c\">//                        return node.nodeType == 1 ? node.tagName !== 'BR' : 1;</span>","<span class=\"c\">//                    })) {</span>","<span class=\"c\">//</span>","<span class=\"c\">//                        tmpRange.setStartBefore(start).setCursor();</span>","<span class=\"c\">//                        domUtils.remove(start, true);</span>","<span class=\"c\">//                        evt.preventDefault();</span>","<span class=\"c\">//                        return;</span>","<span class=\"c\">//                    }</span>","<span class=\"c\">//                }</span>","            <span class=\"k\">}</span>","","","            <span class=\"k\">if</span> <span class=\"k\">(</span>me<span class=\"k\">.</span>undoManger<span class=\"k\">)</span> <span class=\"k\">{</span>","","                <span class=\"k\">if</span> <span class=\"k\">(!</span>range<span class=\"k\">.</span>collapsed<span class=\"k\">)</span> <span class=\"k\">{</span>","                    me<span class=\"k\">.</span>undoManger<span class=\"k\">.</span>save<span class=\"k\">();</span>","                    flag <span class=\"k\">=</span> <span class=\"s\">1</span><span class=\"k\">;</span>","                <span class=\"k\">}</span>","            <span class=\"k\">}</span>","","        <span class=\"k\">}</span>","        <span class=\"c\">//&#22788;&#29702;tab&#38190;&#30340;&#36923;&#36753;</span>","        <span class=\"k\">if</span> <span class=\"k\">(</span>keyCode <span class=\"k\">==</span> <span class=\"s\">9</span><span class=\"k\">)</span> <span class=\"k\">{</span>","            range <span class=\"k\">=</span> me<span class=\"k\">.</span>selection<span class=\"k\">.</span>getRange<span class=\"k\">();</span>","            me<span class=\"k\">.</span>undoManger <span class=\"k\">&amp;&amp;</span> me<span class=\"k\">.</span>undoManger<span class=\"k\">.</span>save<span class=\"k\">();</span>","","            <span class=\"k\">for</span> <span class=\"k\">(</span><span class=\"k\">var</span> i <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">,</span>txt <span class=\"k\">=</span> <span class=\"s\">''</span><span class=\"k\">,</span>tabSize <span class=\"k\">=</span> me<span class=\"k\">.</span>options<span class=\"k\">.</span>tabSize<span class=\"k\">||</span> <span class=\"s\">4</span><span class=\"k\">,</span>tabNode <span class=\"k\">=</span>  me<span class=\"k\">.</span>options<span class=\"k\">.</span>tabNode <span class=\"k\">||</span> <span class=\"s\">'&amp;nbsp;'</span><span class=\"k\">;</span> i <span class=\"k\">&lt;</span> tabSize<span class=\"k\">;</span> i<span class=\"k\">++)</span> <span class=\"k\">{</span>","                txt <span class=\"k\">+=</span> tabNode<span class=\"k\">;</span>","            <span class=\"k\">}</span>","            <span class=\"k\">var</span> span <span class=\"k\">=</span> me<span class=\"k\">.</span>document<span class=\"k\">.</span>createElement<span class=\"k\">(</span><span class=\"s\">'span'</span><span class=\"k\">);</span>","            span<span class=\"k\">.</span>innerHTML <span class=\"k\">=</span> txt<span class=\"k\">;</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span>range<span class=\"k\">.</span>collapsed<span class=\"k\">)</span> <span class=\"k\">{</span>","","                <span class=\"k\">var</span> li <span class=\"k\">=</span> domUtils<span class=\"k\">.</span>findParentByTagName<span class=\"k\">(</span>range<span class=\"k\">.</span>startContainer<span class=\"k\">,</span> <span class=\"s\">'li'</span><span class=\"k\">,</span> <span class=\"k\">true</span><span class=\"k\">);</span>","","                <span class=\"k\">if</span> <span class=\"k\">(</span>li <span class=\"k\">&amp;&amp;</span> domUtils<span class=\"k\">.</span>isStartInblock<span class=\"k\">(</span>range<span class=\"k\">))</span> <span class=\"k\">{</span>","                    bk <span class=\"k\">=</span> range<span class=\"k\">.</span>createBookmark<span class=\"k\">();</span>","                    <span class=\"k\">var</span> parentLi <span class=\"k\">=</span> li<span class=\"k\">.</span>parentNode<span class=\"k\">,</span>","                        list <span class=\"k\">=</span> me<span class=\"k\">.</span>document<span class=\"k\">.</span>createElement<span class=\"k\">(</span>parentLi<span class=\"k\">.</span>tagName<span class=\"k\">);</span>","                    <span class=\"k\">var</span> index <span class=\"k\">=</span> utils<span class=\"k\">.</span>indexOf<span class=\"k\">(</span>listStyle<span class=\"k\">[</span>list<span class=\"k\">.</span>tagName<span class=\"k\">],</span> domUtils<span class=\"k\">.</span>getComputedStyle<span class=\"k\">(</span>parentLi<span class=\"k\">,</span> <span class=\"s\">'list-style-type'</span><span class=\"k\">));</span>","                    index <span class=\"k\">=</span> index <span class=\"k\">+</span> <span class=\"s\">1</span> <span class=\"k\">==</span> listStyle<span class=\"k\">[</span>list<span class=\"k\">.</span>tagName<span class=\"k\">].</span>length <span class=\"k\">?</span> <span class=\"s\">0</span> <span class=\"k\">:</span> index <span class=\"k\">+</span> <span class=\"s\">1</span><span class=\"k\">;</span>","                    domUtils<span class=\"k\">.</span>setStyle<span class=\"k\">(</span>list<span class=\"k\">,</span> <span class=\"s\">'list-style-type'</span><span class=\"k\">,</span> listStyle<span class=\"k\">[</span>list<span class=\"k\">.</span>tagName<span class=\"k\">][</span>index<span class=\"k\">]);</span>","","                    parentLi<span class=\"k\">.</span>insertBefore<span class=\"k\">(</span>list<span class=\"k\">,</span> li<span class=\"k\">);</span>","                    list<span class=\"k\">.</span>appendChild<span class=\"k\">(</span>li<span class=\"k\">);</span>","                    range<span class=\"k\">.</span>moveToBookmark<span class=\"k\">(</span>bk<span class=\"k\">).</span>select<span class=\"k\">();</span>","","                <span class=\"k\">}</span> <span class=\"k\">else</span><span class=\"k\">{</span>","                    range<span class=\"k\">.</span>insertNode<span class=\"k\">(</span>span<span class=\"k\">.</span>cloneNode<span class=\"k\">(</span><span class=\"k\">true</span><span class=\"k\">).</span>firstChild<span class=\"k\">).</span>setCursor<span class=\"k\">(</span><span class=\"k\">true</span><span class=\"k\">);</span>","                <span class=\"k\">}</span>","","            <span class=\"k\">}</span> <span class=\"k\">else</span> <span class=\"k\">{</span>","                <span class=\"c\">//&#22788;&#29702;table</span>","                start <span class=\"k\">=</span> domUtils<span class=\"k\">.</span>findParentByTagName<span class=\"k\">(</span>range<span class=\"k\">.</span>startContainer<span class=\"k\">,</span> <span class=\"s\">'table'</span><span class=\"k\">,</span> <span class=\"k\">true</span><span class=\"k\">);</span>","                end <span class=\"k\">=</span> domUtils<span class=\"k\">.</span>findParentByTagName<span class=\"k\">(</span>range<span class=\"k\">.</span>endContainer<span class=\"k\">,</span> <span class=\"s\">'table'</span><span class=\"k\">,</span> <span class=\"k\">true</span><span class=\"k\">);</span>","                <span class=\"k\">if</span> <span class=\"k\">(</span>start <span class=\"k\">||</span> end<span class=\"k\">)</span> <span class=\"k\">{</span>","                    evt<span class=\"k\">.</span>preventDefault <span class=\"k\">?</span> evt<span class=\"k\">.</span>preventDefault<span class=\"k\">()</span> <span class=\"k\">:</span> <span class=\"k\">(</span>evt<span class=\"k\">.</span>returnValue <span class=\"k\">=</span> <span class=\"k\">false</span><span class=\"k\">);</span>","                    <span class=\"k\">return</span><span class=\"k\">;</span>","                <span class=\"k\">}</span>","                <span class=\"c\">//&#22788;&#29702;&#21015;&#34920; &#20877;&#19968;&#20010;list&#37324;&#22788;&#29702;</span>","                start <span class=\"k\">=</span> domUtils<span class=\"k\">.</span>findParentByTagName<span class=\"k\">(</span>range<span class=\"k\">.</span>startContainer<span class=\"k\">,</span> <span class=\"k\">[</span><span class=\"s\">'ol'</span><span class=\"k\">,</span><span class=\"s\">'ul'</span><span class=\"k\">],</span> <span class=\"k\">true</span><span class=\"k\">);</span>","                end <span class=\"k\">=</span> domUtils<span class=\"k\">.</span>findParentByTagName<span class=\"k\">(</span>range<span class=\"k\">.</span>endContainer<span class=\"k\">,</span> <span class=\"k\">[</span><span class=\"s\">'ol'</span><span class=\"k\">,</span><span class=\"s\">'ul'</span><span class=\"k\">],</span> <span class=\"k\">true</span><span class=\"k\">);</span>","                <span class=\"k\">if</span> <span class=\"k\">(</span>start <span class=\"k\">&amp;&amp;</span> end <span class=\"k\">&amp;&amp;</span> start <span class=\"k\">===</span> end<span class=\"k\">)</span> <span class=\"k\">{</span>","                    <span class=\"k\">var</span> bk <span class=\"k\">=</span> range<span class=\"k\">.</span>createBookmark<span class=\"k\">();</span>","                    start <span class=\"k\">=</span> domUtils<span class=\"k\">.</span>findParentByTagName<span class=\"k\">(</span>range<span class=\"k\">.</span>startContainer<span class=\"k\">,</span> <span class=\"s\">'li'</span><span class=\"k\">,</span> <span class=\"k\">true</span><span class=\"k\">);</span>","                    end <span class=\"k\">=</span> domUtils<span class=\"k\">.</span>findParentByTagName<span class=\"k\">(</span>range<span class=\"k\">.</span>endContainer<span class=\"k\">,</span> <span class=\"s\">'li'</span><span class=\"k\">,</span> <span class=\"k\">true</span><span class=\"k\">);</span>","                    <span class=\"c\">//&#22312;&#24320;&#22987;&#21333;&#29420;&#22788;&#29702;</span>","                    <span class=\"k\">if</span> <span class=\"k\">(</span>start <span class=\"k\">===</span> start<span class=\"k\">.</span>parentNode<span class=\"k\">.</span>firstChild<span class=\"k\">)</span> <span class=\"k\">{</span>","                        <span class=\"k\">var</span> parentList <span class=\"k\">=</span> me<span class=\"k\">.</span>document<span class=\"k\">.</span>createElement<span class=\"k\">(</span>start<span class=\"k\">.</span>parentNode<span class=\"k\">.</span>tagName<span class=\"k\">);</span>","","                        start<span class=\"k\">.</span>parentNode<span class=\"k\">.</span>parentNode<span class=\"k\">.</span>insertBefore<span class=\"k\">(</span>parentList<span class=\"k\">,</span> start<span class=\"k\">.</span>parentNode<span class=\"k\">);</span>","                        parentList<span class=\"k\">.</span>appendChild<span class=\"k\">(</span>start<span class=\"k\">.</span>parentNode<span class=\"k\">);</span>","                    <span class=\"k\">}</span> <span class=\"k\">else</span> <span class=\"k\">{</span>","                        parentLi <span class=\"k\">=</span> start<span class=\"k\">.</span>parentNode<span class=\"k\">;</span>","                            list <span class=\"k\">=</span> me<span class=\"k\">.</span>document<span class=\"k\">.</span>createElement<span class=\"k\">(</span>parentLi<span class=\"k\">.</span>tagName<span class=\"k\">);</span>","","                        index <span class=\"k\">=</span> utils<span class=\"k\">.</span>indexOf<span class=\"k\">(</span>listStyle<span class=\"k\">[</span>list<span class=\"k\">.</span>tagName<span class=\"k\">],</span> domUtils<span class=\"k\">.</span>getComputedStyle<span class=\"k\">(</span>parentLi<span class=\"k\">,</span> <span class=\"s\">'list-style-type'</span><span class=\"k\">));</span>","                        index <span class=\"k\">=</span> index <span class=\"k\">+</span> <span class=\"s\">1</span> <span class=\"k\">==</span> listStyle<span class=\"k\">[</span>list<span class=\"k\">.</span>tagName<span class=\"k\">].</span>length <span class=\"k\">?</span> <span class=\"s\">0</span> <span class=\"k\">:</span> index <span class=\"k\">+</span> <span class=\"s\">1</span><span class=\"k\">;</span>","                        domUtils<span class=\"k\">.</span>setStyle<span class=\"k\">(</span>list<span class=\"k\">,</span> <span class=\"s\">'list-style-type'</span><span class=\"k\">,</span> listStyle<span class=\"k\">[</span>list<span class=\"k\">.</span>tagName<span class=\"k\">][</span>index<span class=\"k\">]);</span>","                        start<span class=\"k\">.</span>parentNode<span class=\"k\">.</span>insertBefore<span class=\"k\">(</span>list<span class=\"k\">,</span> start<span class=\"k\">);</span>","                        <span class=\"k\">var</span> nextLi<span class=\"k\">;</span>","                        <span class=\"k\">while</span> <span class=\"k\">(</span>start <span class=\"k\">!==</span> end<span class=\"k\">)</span> <span class=\"k\">{</span>","                            nextLi <span class=\"k\">=</span> start<span class=\"k\">.</span>nextSibling<span class=\"k\">;</span>","                            list<span class=\"k\">.</span>appendChild<span class=\"k\">(</span>start<span class=\"k\">);</span>","                            start <span class=\"k\">=</span> nextLi<span class=\"k\">;</span>","                        <span class=\"k\">}</span>","                        list<span class=\"k\">.</span>appendChild<span class=\"k\">(</span>end<span class=\"k\">);</span>","","                    <span class=\"k\">}</span>","                    range<span class=\"k\">.</span>moveToBookmark<span class=\"k\">(</span>bk<span class=\"k\">).</span>select<span class=\"k\">();</span>","","                <span class=\"k\">}</span> <span class=\"k\">else</span> <span class=\"k\">{</span>","                    <span class=\"k\">if</span> <span class=\"k\">(</span>start <span class=\"k\">||</span> end<span class=\"k\">)</span> <span class=\"k\">{</span>","                        evt<span class=\"k\">.</span>preventDefault <span class=\"k\">?</span> evt<span class=\"k\">.</span>preventDefault<span class=\"k\">()</span> <span class=\"k\">:</span> <span class=\"k\">(</span>evt<span class=\"k\">.</span>returnValue <span class=\"k\">=</span> <span class=\"k\">false</span><span class=\"k\">);</span>","                        <span class=\"k\">return</span>","                    <span class=\"k\">}</span>","                    <span class=\"c\">//&#26222;&#36890;&#30340;&#24773;&#20917;</span>","                    start <span class=\"k\">=</span> domUtils<span class=\"k\">.</span>findParent<span class=\"k\">(</span>range<span class=\"k\">.</span>startContainer<span class=\"k\">,</span> filterFn<span class=\"k\">);</span>","                    end <span class=\"k\">=</span> domUtils<span class=\"k\">.</span>findParent<span class=\"k\">(</span>range<span class=\"k\">.</span>endContainer<span class=\"k\">,</span> filterFn<span class=\"k\">);</span>","                    <span class=\"k\">if</span> <span class=\"k\">(</span>start <span class=\"k\">&amp;&amp;</span> end <span class=\"k\">&amp;&amp;</span> start <span class=\"k\">===</span> end<span class=\"k\">)</span> <span class=\"k\">{</span>","                        range<span class=\"k\">.</span>deleteContents<span class=\"k\">();</span>","                        range<span class=\"k\">.</span>insertNode<span class=\"k\">(</span>span<span class=\"k\">.</span>cloneNode<span class=\"k\">(</span><span class=\"k\">true</span><span class=\"k\">).</span>firstChild<span class=\"k\">).</span>setCursor<span class=\"k\">(</span><span class=\"k\">true</span><span class=\"k\">);</span>","                    <span class=\"k\">}</span> <span class=\"k\">else</span> <span class=\"k\">{</span>","                        <span class=\"k\">var</span> bookmark <span class=\"k\">=</span> range<span class=\"k\">.</span>createBookmark<span class=\"k\">(),</span>","                            filterFn <span class=\"k\">=</span> <span class=\"k\">function</span><span class=\"k\">(</span>node<span class=\"k\">)</span> <span class=\"k\">{</span>","                                <span class=\"k\">return</span> domUtils<span class=\"k\">.</span>isBlockElm<span class=\"k\">(</span>node<span class=\"k\">);</span>","","                            <span class=\"k\">}</span><span class=\"k\">;</span>","","                        range<span class=\"k\">.</span>enlarge<span class=\"k\">(</span><span class=\"k\">true</span><span class=\"k\">);</span>","                        <span class=\"k\">var</span> bookmark2 <span class=\"k\">=</span> range<span class=\"k\">.</span>createBookmark<span class=\"k\">(),</span>","                            current <span class=\"k\">=</span> domUtils<span class=\"k\">.</span>getNextDomNode<span class=\"k\">(</span>bookmark2<span class=\"k\">.</span>start<span class=\"k\">,</span> <span class=\"k\">false</span><span class=\"k\">,</span> filterFn<span class=\"k\">);</span>","","","                        <span class=\"k\">while</span> <span class=\"k\">(</span>current <span class=\"k\">&amp;&amp;</span> <span class=\"k\">!(</span>domUtils<span class=\"k\">.</span>getPosition<span class=\"k\">(</span>current<span class=\"k\">,</span> bookmark2<span class=\"k\">.</span>end<span class=\"k\">)</span> <span class=\"k\">&amp;</span> domUtils<span class=\"k\">.</span>POSITION_FOLLOWING<span class=\"k\">))</span> <span class=\"k\">{</span>","","","                            current<span class=\"k\">.</span>insertBefore<span class=\"k\">(</span>span<span class=\"k\">.</span>cloneNode<span class=\"k\">(</span><span class=\"k\">true</span><span class=\"k\">).</span>firstChild<span class=\"k\">,</span> current<span class=\"k\">.</span>firstChild<span class=\"k\">);</span>","","                            current <span class=\"k\">=</span> domUtils<span class=\"k\">.</span>getNextDomNode<span class=\"k\">(</span>current<span class=\"k\">,</span> <span class=\"k\">false</span><span class=\"k\">,</span> filterFn<span class=\"k\">);</span>","","                        <span class=\"k\">}</span>","","                        range<span class=\"k\">.</span>moveToBookmark<span class=\"k\">(</span>bookmark2<span class=\"k\">).</span>moveToBookmark<span class=\"k\">(</span>bookmark<span class=\"k\">).</span>select<span class=\"k\">();</span>","                    <span class=\"k\">}</span>","","                <span class=\"k\">}</span>","","","            <span class=\"k\">}</span>","            me<span class=\"k\">.</span>undoManger <span class=\"k\">&amp;&amp;</span> me<span class=\"k\">.</span>undoManger<span class=\"k\">.</span>save<span class=\"k\">();</span>","            evt<span class=\"k\">.</span>preventDefault <span class=\"k\">?</span> evt<span class=\"k\">.</span>preventDefault<span class=\"k\">()</span> <span class=\"k\">:</span> <span class=\"k\">(</span>evt<span class=\"k\">.</span>returnValue <span class=\"k\">=</span> <span class=\"k\">false</span><span class=\"k\">);</span>","        <span class=\"k\">}</span>","        <span class=\"c\">//trace:1634</span>","        <span class=\"c\">//ff&#30340;del&#38190;&#22312;&#23481;&#22120;&#31354;&#30340;&#26102;&#20505;&#65292;&#20063;&#20250;&#21024;&#38500;</span>","        <span class=\"k\">if</span><span class=\"k\">(</span>browser<span class=\"k\">.</span>gecko <span class=\"k\">&amp;&amp;</span> keyCode <span class=\"k\">==</span> <span class=\"s\">46</span><span class=\"k\">)</span><span class=\"k\">{</span>","            range <span class=\"k\">=</span> me<span class=\"k\">.</span>selection<span class=\"k\">.</span>getRange<span class=\"k\">();</span>","            <span class=\"k\">if</span><span class=\"k\">(</span>range<span class=\"k\">.</span>collapsed<span class=\"k\">)</span><span class=\"k\">{</span>","                start <span class=\"k\">=</span> range<span class=\"k\">.</span>startContainer<span class=\"k\">;</span>","                <span class=\"k\">if</span><span class=\"k\">(</span>domUtils<span class=\"k\">.</span>isEmptyBlock<span class=\"k\">(</span>start<span class=\"k\">))</span><span class=\"k\">{</span>","                    <span class=\"k\">var</span> parent <span class=\"k\">=</span> start<span class=\"k\">.</span>parentNode<span class=\"k\">;</span>","                    <span class=\"k\">while</span><span class=\"k\">(</span>domUtils<span class=\"k\">.</span>getChildCount<span class=\"k\">(</span>parent<span class=\"k\">)</span> <span class=\"k\">==</span> <span class=\"s\">1</span> <span class=\"k\">&amp;&amp;</span> <span class=\"k\">!</span>domUtils<span class=\"k\">.</span>isBody<span class=\"k\">(</span>parent<span class=\"k\">))</span><span class=\"k\">{</span>","                        start <span class=\"k\">=</span> parent<span class=\"k\">;</span>","                        parent <span class=\"k\">=</span> parent<span class=\"k\">.</span>parentNode<span class=\"k\">;</span>","                    <span class=\"k\">}</span>","                    <span class=\"k\">if</span><span class=\"k\">(</span>start <span class=\"k\">===</span> parent<span class=\"k\">.</span>lastChild<span class=\"k\">)</span>","                        evt<span class=\"k\">.</span>preventDefault<span class=\"k\">();</span>","                    <span class=\"k\">return</span><span class=\"k\">;</span>","                <span class=\"k\">}</span>","            <span class=\"k\">}</span>","        <span class=\"k\">}</span>","    <span class=\"k\">}</span><span class=\"k\">);</span>","    me<span class=\"k\">.</span>addListener<span class=\"k\">(</span><span class=\"s\">'keyup'</span><span class=\"k\">,</span> <span class=\"k\">function</span><span class=\"k\">(</span>type<span class=\"k\">,</span> evt<span class=\"k\">)</span> <span class=\"k\">{</span>","        <span class=\"k\">var</span> keyCode <span class=\"k\">=</span> evt<span class=\"k\">.</span>keyCode <span class=\"k\">||</span> evt<span class=\"k\">.</span>which<span class=\"k\">;</span>","        <span class=\"c\">//&#20462;&#22797;ie/chrome &lt;strong&gt;&lt;em&gt;x|&lt;/em&gt;&lt;/strong&gt; &#24403;&#28857;&#36864;&#26684;&#21518;&#22312;&#36755;&#20837;&#25991;&#23383;&#21518;&#20250;&#20986;&#29616;  &lt;b&gt;&lt;i&gt;x&lt;/i&gt;&lt;/b&gt;</span>","        <span class=\"k\">if</span> <span class=\"k\">(!</span>browser<span class=\"k\">.</span>gecko <span class=\"k\">&amp;&amp;</span> <span class=\"k\">!</span>keys<span class=\"k\">[</span>keyCode<span class=\"k\">]</span> <span class=\"k\">&amp;&amp;</span> <span class=\"k\">!</span>evt<span class=\"k\">.</span>ctrlKey <span class=\"k\">&amp;&amp;</span> <span class=\"k\">!</span>evt<span class=\"k\">.</span>metaKey <span class=\"k\">&amp;&amp;</span> <span class=\"k\">!</span>evt<span class=\"k\">.</span>shiftKey <span class=\"k\">&amp;&amp;</span> <span class=\"k\">!</span>evt<span class=\"k\">.</span>altKey<span class=\"k\">)</span> <span class=\"k\">{</span>","            range <span class=\"k\">=</span> me<span class=\"k\">.</span>selection<span class=\"k\">.</span>getRange<span class=\"k\">();</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span>range<span class=\"k\">.</span>collapsed<span class=\"k\">)</span> <span class=\"k\">{</span>","                <span class=\"k\">var</span> start <span class=\"k\">=</span> range<span class=\"k\">.</span>startContainer<span class=\"k\">,</span>","                    isFixed <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">;</span>","","                <span class=\"k\">while</span> <span class=\"k\">(!</span>domUtils<span class=\"k\">.</span>isBlockElm<span class=\"k\">(</span>start<span class=\"k\">))</span> <span class=\"k\">{</span>","                    <span class=\"k\">if</span> <span class=\"k\">(</span>start<span class=\"k\">.</span>nodeType <span class=\"k\">==</span> <span class=\"s\">1</span> <span class=\"k\">&amp;&amp;</span> utils<span class=\"k\">.</span>indexOf<span class=\"k\">([</span><span class=\"s\">'FONT'</span><span class=\"k\">,</span><span class=\"s\">'B'</span><span class=\"k\">,</span><span class=\"s\">'I'</span><span class=\"k\">],</span> start<span class=\"k\">.</span>tagName<span class=\"k\">)</span> <span class=\"k\">!=</span> <span class=\"k\">-</span><span class=\"s\">1</span><span class=\"k\">)</span> <span class=\"k\">{</span>","","                        <span class=\"k\">var</span> tmpNode <span class=\"k\">=</span> me<span class=\"k\">.</span>document<span class=\"k\">.</span>createElement<span class=\"k\">(</span>trans<span class=\"k\">[</span>start<span class=\"k\">.</span>tagName<span class=\"k\">]);</span>","                        <span class=\"k\">if</span> <span class=\"k\">(</span>start<span class=\"k\">.</span>tagName <span class=\"k\">==</span> <span class=\"s\">'FONT'</span><span class=\"k\">)</span> <span class=\"k\">{</span>","                            <span class=\"c\">//chrome only remember color property</span>","                            tmpNode<span class=\"k\">.</span>style<span class=\"k\">.</span>cssText <span class=\"k\">=</span> <span class=\"k\">(</span>start<span class=\"k\">.</span>getAttribute<span class=\"k\">(</span><span class=\"s\">'size'</span><span class=\"k\">)</span> <span class=\"k\">?</span> <span class=\"s\">'font-size:'</span> <span class=\"k\">+</span> <span class=\"k\">(</span>sizeMap<span class=\"k\">[</span>start<span class=\"k\">.</span>getAttribute<span class=\"k\">(</span><span class=\"s\">'size'</span><span class=\"k\">)]</span> <span class=\"k\">||</span> <span class=\"s\">12</span><span class=\"k\">)</span> <span class=\"k\">+</span> <span class=\"s\">'px'</span> <span class=\"k\">:</span> <span class=\"s\">''</span><span class=\"k\">)</span>","                                <span class=\"k\">+</span> <span class=\"s\">';'</span> <span class=\"k\">+</span> <span class=\"k\">(</span>start<span class=\"k\">.</span>getAttribute<span class=\"k\">(</span><span class=\"s\">'color'</span><span class=\"k\">)</span> <span class=\"k\">?</span> <span class=\"s\">'color:'</span> <span class=\"k\">+</span> start<span class=\"k\">.</span>getAttribute<span class=\"k\">(</span><span class=\"s\">'color'</span><span class=\"k\">)</span> <span class=\"k\">:</span> <span class=\"s\">''</span><span class=\"k\">)</span>","                                <span class=\"k\">+</span> <span class=\"s\">';'</span> <span class=\"k\">+</span> <span class=\"k\">(</span>start<span class=\"k\">.</span>getAttribute<span class=\"k\">(</span><span class=\"s\">'face'</span><span class=\"k\">)</span> <span class=\"k\">?</span> <span class=\"s\">'font-family:'</span> <span class=\"k\">+</span> start<span class=\"k\">.</span>getAttribute<span class=\"k\">(</span><span class=\"s\">'face'</span><span class=\"k\">)</span> <span class=\"k\">:</span> <span class=\"s\">''</span><span class=\"k\">)</span>","                                <span class=\"k\">+</span> <span class=\"s\">';'</span> <span class=\"k\">+</span> start<span class=\"k\">.</span>style<span class=\"k\">.</span>cssText<span class=\"k\">;</span>","                        <span class=\"k\">}</span>","                        <span class=\"k\">while</span> <span class=\"k\">(</span>start<span class=\"k\">.</span>firstChild<span class=\"k\">)</span> <span class=\"k\">{</span>","                            tmpNode<span class=\"k\">.</span>appendChild<span class=\"k\">(</span>start<span class=\"k\">.</span>firstChild<span class=\"k\">)</span>","                        <span class=\"k\">}</span>","                        start<span class=\"k\">.</span>parentNode<span class=\"k\">.</span>insertBefore<span class=\"k\">(</span>tmpNode<span class=\"k\">,</span> start<span class=\"k\">);</span>","                        domUtils<span class=\"k\">.</span>remove<span class=\"k\">(</span>start<span class=\"k\">);</span>","                        <span class=\"k\">if</span> <span class=\"k\">(!</span>isFixed<span class=\"k\">)</span> <span class=\"k\">{</span>","                            range<span class=\"k\">.</span>setEnd<span class=\"k\">(</span>tmpNode<span class=\"k\">,</span> tmpNode<span class=\"k\">.</span>childNodes<span class=\"k\">.</span>length<span class=\"k\">).</span>collapse<span class=\"k\">(</span><span class=\"k\">true</span><span class=\"k\">)</span>","","                        <span class=\"k\">}</span>","                        start <span class=\"k\">=</span> tmpNode<span class=\"k\">;</span>","                        isFixed <span class=\"k\">=</span> <span class=\"s\">1</span><span class=\"k\">;</span>","                    <span class=\"k\">}</span>","                    start <span class=\"k\">=</span> start<span class=\"k\">.</span>parentNode<span class=\"k\">;</span>","","                <span class=\"k\">}</span>","","                isFixed <span class=\"k\">&amp;&amp;</span> range<span class=\"k\">.</span>select<span class=\"k\">()</span>","","            <span class=\"k\">}</span>","        <span class=\"k\">}</span>","","        <span class=\"k\">if</span> <span class=\"k\">(</span>keyCode <span class=\"k\">==</span> <span class=\"s\">8</span> <span class=\"k\">)</span> <span class=\"k\">{</span><span class=\"c\">//|| keyCode == 46</span>","","            <span class=\"c\">//&#38024;&#23545;ff&#19979;&#22312;&#21015;&#34920;&#39318;&#34892;&#36864;&#26684;&#65292;&#19981;&#33021;&#21024;&#38500;&#31354;&#26684;&#34892;&#30340;&#38382;&#39064;</span>","            <span class=\"k\">if</span><span class=\"k\">(</span>browser<span class=\"k\">.</span>gecko<span class=\"k\">)</span><span class=\"k\">{</span>","                <span class=\"k\">for</span><span class=\"k\">(</span><span class=\"k\">var</span> i<span class=\"k\">=</span><span class=\"s\">0</span><span class=\"k\">,</span>li<span class=\"k\">,</span>lis <span class=\"k\">=</span> domUtils<span class=\"k\">.</span>getElementsByTagName<span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>body<span class=\"k\">,</span><span class=\"s\">'li'</span><span class=\"k\">);</span>li<span class=\"k\">=</span>lis<span class=\"k\">[</span>i<span class=\"k\">++];)</span><span class=\"k\">{</span>","                    <span class=\"k\">if</span><span class=\"k\">(</span>domUtils<span class=\"k\">.</span>isEmptyNode<span class=\"k\">(</span>li<span class=\"k\">)</span> <span class=\"k\">&amp;&amp;</span> <span class=\"k\">!</span>li<span class=\"k\">.</span>previousSibling<span class=\"k\">)</span><span class=\"k\">{</span>","                        <span class=\"k\">var</span> liOfPn <span class=\"k\">=</span> li<span class=\"k\">.</span>parentNode<span class=\"k\">;</span>","                        domUtils<span class=\"k\">.</span>remove<span class=\"k\">(</span>li<span class=\"k\">);</span>","                        <span class=\"k\">if</span><span class=\"k\">(</span>domUtils<span class=\"k\">.</span>isEmptyNode<span class=\"k\">(</span>liOfPn<span class=\"k\">))</span><span class=\"k\">{</span>","                            domUtils<span class=\"k\">.</span>remove<span class=\"k\">(</span>liOfPn<span class=\"k\">)</span>","                        <span class=\"k\">}</span>","","                    <span class=\"k\">}</span>","                <span class=\"k\">}</span>","            <span class=\"k\">}</span>","","            <span class=\"k\">var</span> range<span class=\"k\">,</span>start<span class=\"k\">,</span>parent<span class=\"k\">,</span>","                tds <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>currentSelectedArr<span class=\"k\">;</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span>tds <span class=\"k\">&amp;&amp;</span> tds<span class=\"k\">.</span>length <span class=\"k\">&gt;</span> <span class=\"s\">0</span><span class=\"k\">)</span> <span class=\"k\">{</span>","                <span class=\"k\">for</span> <span class=\"k\">(</span><span class=\"k\">var</span> i <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">,</span>ti<span class=\"k\">;</span> ti <span class=\"k\">=</span> tds<span class=\"k\">[</span>i<span class=\"k\">++];)</span> <span class=\"k\">{</span>","                    ti<span class=\"k\">.</span>innerHTML <span class=\"k\">=</span> browser<span class=\"k\">.</span>ie <span class=\"k\">?</span> <span class=\"k\">(</span> browser<span class=\"k\">.</span>version <span class=\"k\">&lt;</span> <span class=\"s\">9</span> <span class=\"k\">?</span> <span class=\"s\">'&amp;#65279'</span> <span class=\"k\">:</span> <span class=\"s\">''</span> <span class=\"k\">)</span> <span class=\"k\">:</span> <span class=\"s\">'&lt;br/&gt;'</span><span class=\"k\">;</span>","","                <span class=\"k\">}</span>","                range <span class=\"k\">=</span> <span class=\"k\">new</span> dom<span class=\"k\">.</span>Range<span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>document<span class=\"k\">);</span>","                range<span class=\"k\">.</span>setStart<span class=\"k\">(</span>tds<span class=\"k\">[</span><span class=\"s\">0</span><span class=\"k\">],</span> <span class=\"s\">0</span><span class=\"k\">).</span>setCursor<span class=\"k\">();</span>","                <span class=\"k\">if</span> <span class=\"k\">(</span>flag<span class=\"k\">)</span> <span class=\"k\">{</span>","                    me<span class=\"k\">.</span>undoManger<span class=\"k\">.</span>save<span class=\"k\">();</span>","                    flag <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">;</span>","                <span class=\"k\">}</span>","                <span class=\"c\">//&#38459;&#27490;chrome&#25191;&#34892;&#40664;&#35748;&#30340;&#21160;&#20316;</span>","                <span class=\"k\">if</span> <span class=\"k\">(</span>browser<span class=\"k\">.</span>webkit<span class=\"k\">)</span> <span class=\"k\">{</span>","                    evt<span class=\"k\">.</span>preventDefault<span class=\"k\">();</span>","                <span class=\"k\">}</span>","                <span class=\"k\">return</span><span class=\"k\">;</span>","            <span class=\"k\">}</span>","","            range <span class=\"k\">=</span> me<span class=\"k\">.</span>selection<span class=\"k\">.</span>getRange<span class=\"k\">();</span>","","            <span class=\"c\">//ctrl+a &#21518;&#20840;&#37096;&#21024;&#38500;&#20570;&#22788;&#29702;</span>","<span class=\"c\">//</span>","<span class=\"c\">//            if (domUtils.isEmptyBlock(me.body) &amp;&amp; !range.startOffset) {</span>","<span class=\"c\">//                //trace:1633</span>","<span class=\"c\">//                me.body.innerHTML = '&lt;p&gt;'+(browser.ie ? '&amp;nbsp;' : '&lt;br/&gt;')+'&lt;/p&gt;';</span>","<span class=\"c\">//                range.setStart(me.body.firstChild,0).setCursor(false,true);</span>","<span class=\"c\">//                me.undoManger &amp;&amp; me.undoManger.save();</span>","<span class=\"c\">//                //todo &#23545;&#24615;&#33021;&#20250;&#26377;&#24433;&#21709;</span>","<span class=\"c\">//                browser.ie &amp;&amp; me._selectionChange();</span>","<span class=\"c\">//                return;</span>","<span class=\"c\">//            }</span>","","            <span class=\"c\">//&#22788;&#29702;&#21024;&#38500;&#19981;&#24178;&#20928;&#30340;&#38382;&#39064;</span>","","            start <span class=\"k\">=</span> range<span class=\"k\">.</span>startContainer<span class=\"k\">;</span>","            <span class=\"k\">if</span><span class=\"k\">(</span>domUtils<span class=\"k\">.</span>isWhitespace<span class=\"k\">(</span>start<span class=\"k\">))</span><span class=\"k\">{</span>","                start <span class=\"k\">=</span> start<span class=\"k\">.</span>parentNode","            <span class=\"k\">}</span>","            <span class=\"c\">//&#26631;&#24535;&#20301;&#38450;&#27490;&#31354;&#30340;p&#26080;&#27861;&#21024;&#38500;</span>","            <span class=\"k\">var</span> removeFlag <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">;</span>","            <span class=\"k\">while</span> <span class=\"k\">(</span>start<span class=\"k\">.</span>nodeType <span class=\"k\">==</span> <span class=\"s\">1</span> <span class=\"k\">&amp;&amp;</span> domUtils<span class=\"k\">.</span>isEmptyNode<span class=\"k\">(</span>start<span class=\"k\">)</span> <span class=\"k\">&amp;&amp;</span> dtd<span class=\"k\">.</span>$removeEmpty<span class=\"k\">[</span>start<span class=\"k\">.</span>tagName<span class=\"k\">])</span> <span class=\"k\">{</span>","                removeFlag <span class=\"k\">=</span> <span class=\"s\">1</span><span class=\"k\">;</span>","                parent <span class=\"k\">=</span> start<span class=\"k\">.</span>parentNode<span class=\"k\">;</span>","                domUtils<span class=\"k\">.</span>remove<span class=\"k\">(</span>start<span class=\"k\">);</span>","                start <span class=\"k\">=</span> parent<span class=\"k\">;</span>","            <span class=\"k\">}</span>","","            <span class=\"k\">if</span> <span class=\"k\">(</span> removeFlag <span class=\"k\">&amp;&amp;</span> start<span class=\"k\">.</span>nodeType <span class=\"k\">==</span> <span class=\"s\">1</span> <span class=\"k\">&amp;&amp;</span> domUtils<span class=\"k\">.</span>isEmptyNode<span class=\"k\">(</span>start<span class=\"k\">))</span> <span class=\"k\">{</span>","                <span class=\"c\">//ie&#19979;&#30340;&#38382;&#39064;&#65292;&#34429;&#28982;&#27809;&#26377;&#20102;&#30456;&#24212;&#30340;&#33410;&#28857;&#20294;&#19968;&#26086;&#20320;&#36755;&#20837;&#25991;&#23383;&#36824;&#26159;&#20250;&#33258;&#21160;&#25226;&#21024;&#38500;&#30340;&#33410;&#28857;&#21152;&#19978;&#65292;</span>","                <span class=\"k\">if</span> <span class=\"k\">(</span>browser<span class=\"k\">.</span>ie<span class=\"k\">)</span> <span class=\"k\">{</span>","                    <span class=\"k\">var</span> span <span class=\"k\">=</span> range<span class=\"k\">.</span>document<span class=\"k\">.</span>createElement<span class=\"k\">(</span><span class=\"s\">'span'</span><span class=\"k\">);</span>","                    start<span class=\"k\">.</span>appendChild<span class=\"k\">(</span>span<span class=\"k\">);</span>","                    range<span class=\"k\">.</span>setStart<span class=\"k\">(</span>start<span class=\"k\">,</span><span class=\"s\">0</span><span class=\"k\">).</span>setCursor<span class=\"k\">();</span>","                    <span class=\"c\">//for ie</span>","                    li <span class=\"k\">=</span> domUtils<span class=\"k\">.</span>findParentByTagName<span class=\"k\">(</span>start<span class=\"k\">,</span><span class=\"s\">'li'</span><span class=\"k\">,</span><span class=\"k\">true</span><span class=\"k\">);</span>","                    <span class=\"k\">if</span><span class=\"k\">(</span>li<span class=\"k\">)</span><span class=\"k\">{</span>","                        <span class=\"k\">var</span> next <span class=\"k\">=</span> li<span class=\"k\">.</span>nextSibling<span class=\"k\">;</span>","                        <span class=\"k\">while</span><span class=\"k\">(</span>next<span class=\"k\">)</span><span class=\"k\">{</span>","                            <span class=\"k\">if</span><span class=\"k\">(</span>domUtils<span class=\"k\">.</span>isEmptyBlock<span class=\"k\">(</span>next<span class=\"k\">))</span><span class=\"k\">{</span>","                                li <span class=\"k\">=</span> next<span class=\"k\">;</span>","                                next <span class=\"k\">=</span> next<span class=\"k\">.</span>nextSibling<span class=\"k\">;</span>","                                domUtils<span class=\"k\">.</span>remove<span class=\"k\">(</span>li<span class=\"k\">);</span>","                                <span class=\"k\">continue</span><span class=\"k\">;</span>","","                            <span class=\"k\">}</span>","                            <span class=\"k\">break</span><span class=\"k\">;</span>","                        <span class=\"k\">}</span>","                    <span class=\"k\">}</span>","                <span class=\"k\">}</span> <span class=\"k\">else</span> <span class=\"k\">{</span>","                    start<span class=\"k\">.</span>innerHTML <span class=\"k\">=</span> <span class=\"s\">'&lt;br/&gt;'</span><span class=\"k\">;</span>","                    range<span class=\"k\">.</span>setStart<span class=\"k\">(</span>start<span class=\"k\">,</span> <span class=\"s\">0</span><span class=\"k\">).</span>setCursor<span class=\"k\">(</span><span class=\"k\">false</span><span class=\"k\">,</span><span class=\"k\">true</span><span class=\"k\">);</span>","                <span class=\"k\">}</span>","","                setTimeout<span class=\"k\">(</span><span class=\"k\">function</span><span class=\"k\">()</span> <span class=\"k\">{</span>","                    <span class=\"k\">if</span> <span class=\"k\">(</span>browser<span class=\"k\">.</span>ie<span class=\"k\">)</span> <span class=\"k\">{</span>","                        domUtils<span class=\"k\">.</span>remove<span class=\"k\">(</span>span<span class=\"k\">);</span>","                    <span class=\"k\">}</span>","","                    <span class=\"k\">if</span> <span class=\"k\">(</span>flag<span class=\"k\">)</span> <span class=\"k\">{</span>","                        me<span class=\"k\">.</span>undoManger<span class=\"k\">.</span>save<span class=\"k\">();</span>","                        flag <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">;</span>","                    <span class=\"k\">}</span>","                <span class=\"k\">}</span><span class=\"k\">,</span> <span class=\"s\">0</span><span class=\"k\">)</span>","            <span class=\"k\">}</span> <span class=\"k\">else</span> <span class=\"k\">{</span>","","                <span class=\"k\">if</span> <span class=\"k\">(</span>flag<span class=\"k\">)</span> <span class=\"k\">{</span>","                    me<span class=\"k\">.</span>undoManger<span class=\"k\">.</span>save<span class=\"k\">();</span>","                    flag <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">;</span>","                <span class=\"k\">}</span>","","            <span class=\"k\">}</span>","        <span class=\"k\">}</span>","    <span class=\"k\">}</span><span class=\"k\">)</span>","<span class=\"k\">}</span><span class=\"k\">;</span>"]);
_$jscoverage['plugins/lineheight.js'] && (_$jscoverage['plugins/lineheight.js'].source = ["<span class=\"c\">///import core</span>","<span class=\"c\">///import plugins\\paragraph.js</span>","<span class=\"c\">///commands &#34892;&#38388;&#36317;</span>","<span class=\"c\">///commandsName  LineHeight</span>","<span class=\"c\">///commandsTitle  &#34892;&#38388;&#36317;</span>","<span class=\"c\">/**</span>","<span class=\"c\"> * @description &#35774;&#32622;&#34892;&#20869;&#38388;&#36317;</span>","<span class=\"c\"> * @name baidu.editor.execCommand</span>","<span class=\"c\"> * @param   {String}   cmdName     lineheight&#35774;&#32622;&#34892;&#20869;&#38388;&#36317;</span>","<span class=\"c\"> * @param   {String}   value              &#20540;</span>","<span class=\"c\"> * @author zhuwenxuan</span>","<span class=\"c\"> */</span>","UE<span class=\"k\">.</span>plugins<span class=\"k\">[</span><span class=\"s\">'lineheight'</span><span class=\"k\">]</span> <span class=\"k\">=</span> <span class=\"k\">function</span><span class=\"k\">()</span><span class=\"k\">{</span>","    <span class=\"k\">var</span> me <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">;</span>","    me<span class=\"k\">.</span>setOpt<span class=\"k\">(</span><span class=\"k\">{</span><span class=\"s\">'lineheight'</span><span class=\"k\">:[</span><span class=\"s\">'1'</span><span class=\"k\">,</span> <span class=\"s\">'1.5'</span><span class=\"k\">,</span><span class=\"s\">'1.75'</span><span class=\"k\">,</span><span class=\"s\">'2'</span><span class=\"k\">,</span> <span class=\"s\">'3'</span><span class=\"k\">,</span> <span class=\"s\">'4'</span><span class=\"k\">,</span> <span class=\"s\">'5'</span><span class=\"k\">]</span><span class=\"k\">}</span><span class=\"k\">);</span>","    me<span class=\"k\">.</span>commands<span class=\"k\">[</span><span class=\"s\">'lineheight'</span><span class=\"k\">]</span> <span class=\"k\">=</span>  <span class=\"k\">{</span>","        execCommand <span class=\"k\">:</span> <span class=\"k\">function</span><span class=\"k\">(</span> cmdName<span class=\"k\">,</span>value <span class=\"k\">)</span> <span class=\"k\">{</span>","            <span class=\"k\">this</span><span class=\"k\">.</span>execCommand<span class=\"k\">(</span><span class=\"s\">'paragraph'</span><span class=\"k\">,</span><span class=\"s\">'p'</span><span class=\"k\">,</span><span class=\"k\">{</span>style<span class=\"k\">:</span><span class=\"s\">'line-height:'</span><span class=\"k\">+</span> <span class=\"k\">(</span>value <span class=\"k\">==</span> <span class=\"s\">\"1\"</span> <span class=\"k\">?</span> <span class=\"s\">\"normal\"</span> <span class=\"k\">:</span> value <span class=\"k\">+</span> <span class=\"s\">'em'</span><span class=\"k\">)</span> <span class=\"k\">}</span><span class=\"k\">);</span>","            <span class=\"k\">return</span> <span class=\"k\">true</span><span class=\"k\">;</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        queryCommandValue <span class=\"k\">:</span> <span class=\"k\">function</span><span class=\"k\">()</span> <span class=\"k\">{</span>","            <span class=\"k\">var</span> pN <span class=\"k\">=</span> utils<span class=\"k\">.</span>findNode<span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>selection<span class=\"k\">.</span>getStartElementPath<span class=\"k\">(),</span><span class=\"k\">null</span><span class=\"k\">,</span><span class=\"k\">function</span><span class=\"k\">(</span>node<span class=\"k\">)</span><span class=\"k\">{</span><span class=\"k\">return</span> domUtils<span class=\"k\">.</span>isBlockElm<span class=\"k\">(</span>node<span class=\"k\">)</span><span class=\"k\">}</span><span class=\"k\">);</span>","            <span class=\"k\">if</span><span class=\"k\">(</span>pN<span class=\"k\">)</span><span class=\"k\">{</span>","                <span class=\"k\">var</span> value <span class=\"k\">=</span> domUtils<span class=\"k\">.</span>getComputedStyle<span class=\"k\">(</span>pN<span class=\"k\">,</span><span class=\"s\">'line-height'</span><span class=\"k\">);</span>","                <span class=\"k\">return</span> value <span class=\"k\">==</span> <span class=\"s\">'normal'</span> <span class=\"k\">?</span> <span class=\"s\">1</span> <span class=\"k\">:</span> value<span class=\"k\">.</span>replace<span class=\"k\">(</span><span class=\"s\">/[^\\d.]*/ig</span><span class=\"k\">,</span><span class=\"s\">\"\"</span><span class=\"k\">);</span>","            <span class=\"k\">}</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        queryCommandState <span class=\"k\">:</span> <span class=\"k\">function</span><span class=\"k\">()</span><span class=\"k\">{</span>","            <span class=\"k\">return</span> <span class=\"k\">this</span><span class=\"k\">.</span>highlight <span class=\"k\">?</span> <span class=\"k\">-</span><span class=\"s\">1</span> <span class=\"k\">:</span><span class=\"s\">0</span><span class=\"k\">;</span>","        <span class=\"k\">}</span>","    <span class=\"k\">}</span><span class=\"k\">;</span>","<span class=\"k\">}</span><span class=\"k\">;</span>","",""]);
_$jscoverage['plugins/link.js'] && (_$jscoverage['plugins/link.js'].source = ["<span class=\"c\">///import core</span>","<span class=\"c\">///commands &#36229;&#38142;&#25509;,&#21462;&#28040;&#38142;&#25509;</span>","<span class=\"c\">///commandsName  Link,Unlink</span>","<span class=\"c\">///commandsTitle  &#36229;&#38142;&#25509;,&#21462;&#28040;&#38142;&#25509;</span>","<span class=\"c\">///commandsDialog  dialogs\\link\\link.html</span>","<span class=\"c\">/**</span>","<span class=\"c\"> * &#36229;&#38142;&#25509;</span>","<span class=\"c\"> * @function</span>","<span class=\"c\"> * @name baidu.editor.execCommand</span>","<span class=\"c\"> * @param   {String}   cmdName     link&#25554;&#20837;&#36229;&#38142;&#25509;</span>","<span class=\"c\"> * @param   {Object}  options         url&#22320;&#22336;&#65292;title&#26631;&#39064;&#65292;target&#26159;&#21542;&#25171;&#24320;&#26032;&#39029;</span>","<span class=\"c\"> * @author zhanyi</span>","<span class=\"c\"> */</span>","<span class=\"c\">/**</span>","<span class=\"c\"> * &#21462;&#28040;&#38142;&#25509;</span>","<span class=\"c\"> * @function</span>","<span class=\"c\"> * @name baidu.editor.execCommand</span>","<span class=\"c\"> * @param   {String}   cmdName     unlink&#21462;&#28040;&#38142;&#25509;</span>","<span class=\"c\"> * @author zhanyi</span>","<span class=\"c\"> */</span>","<span class=\"k\">(</span><span class=\"k\">function</span><span class=\"k\">()</span> <span class=\"k\">{</span>","    <span class=\"k\">function</span> optimize<span class=\"k\">(</span> range <span class=\"k\">)</span> <span class=\"k\">{</span>","        <span class=\"k\">var</span> start <span class=\"k\">=</span> range<span class=\"k\">.</span>startContainer<span class=\"k\">,</span>end <span class=\"k\">=</span> range<span class=\"k\">.</span>endContainer<span class=\"k\">;</span>","","        <span class=\"k\">if</span> <span class=\"k\">(</span> start <span class=\"k\">=</span> domUtils<span class=\"k\">.</span>findParentByTagName<span class=\"k\">(</span> start<span class=\"k\">,</span> <span class=\"s\">'a'</span><span class=\"k\">,</span> <span class=\"k\">true</span> <span class=\"k\">)</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","            range<span class=\"k\">.</span>setStartBefore<span class=\"k\">(</span> start <span class=\"k\">);</span>","        <span class=\"k\">}</span>","        <span class=\"k\">if</span> <span class=\"k\">(</span> end <span class=\"k\">=</span> domUtils<span class=\"k\">.</span>findParentByTagName<span class=\"k\">(</span> end<span class=\"k\">,</span> <span class=\"s\">'a'</span><span class=\"k\">,</span> <span class=\"k\">true</span> <span class=\"k\">)</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","            range<span class=\"k\">.</span>setEndAfter<span class=\"k\">(</span> end <span class=\"k\">);</span>","        <span class=\"k\">}</span>","    <span class=\"k\">}</span>","","    UE<span class=\"k\">.</span>commands<span class=\"k\">[</span><span class=\"s\">'unlink'</span><span class=\"k\">]</span> <span class=\"k\">=</span> <span class=\"k\">{</span>","        execCommand <span class=\"k\">:</span> <span class=\"k\">function</span><span class=\"k\">()</span> <span class=\"k\">{</span>","            <span class=\"k\">var</span> as<span class=\"k\">,</span>","                range <span class=\"k\">=</span> <span class=\"k\">new</span> dom<span class=\"k\">.</span>Range<span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>document<span class=\"k\">),</span>","                tds <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>currentSelectedArr<span class=\"k\">,</span>","                bookmark<span class=\"k\">;</span>","            <span class=\"k\">if</span><span class=\"k\">(</span>tds <span class=\"k\">&amp;&amp;</span> tds<span class=\"k\">.</span>length <span class=\"k\">&gt;</span><span class=\"s\">0</span><span class=\"k\">)</span><span class=\"k\">{</span>","                <span class=\"k\">for</span><span class=\"k\">(</span><span class=\"k\">var</span> i<span class=\"k\">=</span><span class=\"s\">0</span><span class=\"k\">,</span>ti<span class=\"k\">;</span>ti<span class=\"k\">=</span>tds<span class=\"k\">[</span>i<span class=\"k\">++];)</span><span class=\"k\">{</span>","                    as <span class=\"k\">=</span> domUtils<span class=\"k\">.</span>getElementsByTagName<span class=\"k\">(</span>ti<span class=\"k\">,</span><span class=\"s\">'a'</span><span class=\"k\">);</span>","                    <span class=\"k\">for</span><span class=\"k\">(</span><span class=\"k\">var</span> j<span class=\"k\">=</span><span class=\"s\">0</span><span class=\"k\">,</span>aj<span class=\"k\">;</span>aj<span class=\"k\">=</span>as<span class=\"k\">[</span>j<span class=\"k\">++];)</span><span class=\"k\">{</span>","                        domUtils<span class=\"k\">.</span>remove<span class=\"k\">(</span>aj<span class=\"k\">,</span><span class=\"k\">true</span><span class=\"k\">);</span>","                    <span class=\"k\">}</span>","                <span class=\"k\">}</span>","                <span class=\"k\">if</span><span class=\"k\">(</span>domUtils<span class=\"k\">.</span>isEmptyNode<span class=\"k\">(</span>tds<span class=\"k\">[</span><span class=\"s\">0</span><span class=\"k\">]))</span><span class=\"k\">{</span>","                    range<span class=\"k\">.</span>setStart<span class=\"k\">(</span>tds<span class=\"k\">[</span><span class=\"s\">0</span><span class=\"k\">],</span><span class=\"s\">0</span><span class=\"k\">).</span>setCursor<span class=\"k\">();</span>","                <span class=\"k\">}</span><span class=\"k\">else</span><span class=\"k\">{</span>","                    range<span class=\"k\">.</span>selectNodeContents<span class=\"k\">(</span>tds<span class=\"k\">[</span><span class=\"s\">0</span><span class=\"k\">]).</span>select<span class=\"k\">();</span>","                <span class=\"k\">}</span>","            <span class=\"k\">}</span><span class=\"k\">else</span><span class=\"k\">{</span>","                range <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>selection<span class=\"k\">.</span>getRange<span class=\"k\">();</span>","                <span class=\"k\">if</span><span class=\"k\">(</span>range<span class=\"k\">.</span>collapsed <span class=\"k\">&amp;&amp;</span> <span class=\"k\">!</span>domUtils<span class=\"k\">.</span>findParentByTagName<span class=\"k\">(</span> range<span class=\"k\">.</span>startContainer<span class=\"k\">,</span> <span class=\"s\">'a'</span><span class=\"k\">,</span> <span class=\"k\">true</span> <span class=\"k\">))</span><span class=\"k\">{</span>","                    <span class=\"k\">return</span><span class=\"k\">;</span>","                <span class=\"k\">}</span>","                bookmark <span class=\"k\">=</span> range<span class=\"k\">.</span>createBookmark<span class=\"k\">();</span>","                optimize<span class=\"k\">(</span> range <span class=\"k\">);</span>","                range<span class=\"k\">.</span>removeInlineStyle<span class=\"k\">(</span> <span class=\"s\">'a'</span> <span class=\"k\">).</span>moveToBookmark<span class=\"k\">(</span> bookmark <span class=\"k\">).</span>select<span class=\"k\">();</span>","            <span class=\"k\">}</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        queryCommandState <span class=\"k\">:</span> <span class=\"k\">function</span><span class=\"k\">()</span><span class=\"k\">{</span>","            <span class=\"k\">return</span> <span class=\"k\">!</span><span class=\"k\">this</span><span class=\"k\">.</span>highlight <span class=\"k\">&amp;&amp;</span> <span class=\"k\">this</span><span class=\"k\">.</span>queryCommandValue<span class=\"k\">(</span><span class=\"s\">'link'</span><span class=\"k\">)</span> <span class=\"k\">?</span>  <span class=\"s\">0</span> <span class=\"k\">:</span> <span class=\"k\">-</span><span class=\"s\">1</span><span class=\"k\">;</span>","        <span class=\"k\">}</span>","","    <span class=\"k\">}</span><span class=\"k\">;</span>","    <span class=\"k\">function</span> doLink<span class=\"k\">(</span>range<span class=\"k\">,</span>opt<span class=\"k\">)</span><span class=\"k\">{</span>","        optimize<span class=\"k\">(</span> range <span class=\"k\">=</span> range<span class=\"k\">.</span>adjustmentBoundary<span class=\"k\">()</span> <span class=\"k\">);</span>","        <span class=\"k\">var</span> start <span class=\"k\">=</span> range<span class=\"k\">.</span>startContainer<span class=\"k\">;</span>","        <span class=\"k\">if</span><span class=\"k\">(</span>start<span class=\"k\">.</span>nodeType <span class=\"k\">==</span> <span class=\"s\">1</span><span class=\"k\">)</span><span class=\"k\">{</span>","            start <span class=\"k\">=</span> start<span class=\"k\">.</span>childNodes<span class=\"k\">[</span>range<span class=\"k\">.</span>startOffset<span class=\"k\">];</span>","            <span class=\"k\">if</span><span class=\"k\">(</span>start <span class=\"k\">&amp;&amp;</span> start<span class=\"k\">.</span>nodeType <span class=\"k\">==</span> <span class=\"s\">1</span> <span class=\"k\">&amp;&amp;</span> start<span class=\"k\">.</span>tagName <span class=\"k\">==</span> <span class=\"s\">'A'</span> <span class=\"k\">&amp;&amp;</span> <span class=\"s\">/^(?:https?|ftp|file)\\s*:\\s*\\/\\//</span><span class=\"k\">.</span>test<span class=\"k\">(</span>start<span class=\"k\">[</span>browser<span class=\"k\">.</span>ie<span class=\"k\">?</span><span class=\"s\">'innerText'</span><span class=\"k\">:</span><span class=\"s\">'textContent'</span><span class=\"k\">]))</span><span class=\"k\">{</span>","                start<span class=\"k\">[</span>browser<span class=\"k\">.</span>ie <span class=\"k\">?</span> <span class=\"s\">'innerText'</span> <span class=\"k\">:</span> <span class=\"s\">'textContent'</span><span class=\"k\">]</span> <span class=\"k\">=</span>  utils<span class=\"k\">.</span>html<span class=\"k\">(</span>opt<span class=\"k\">.</span>textValue<span class=\"k\">||</span>opt<span class=\"k\">.</span>href<span class=\"k\">);</span>","","            <span class=\"k\">}</span>","        <span class=\"k\">}</span>","        range<span class=\"k\">.</span>removeInlineStyle<span class=\"k\">(</span> <span class=\"s\">'a'</span> <span class=\"k\">);</span>","        <span class=\"k\">if</span> <span class=\"k\">(</span> range<span class=\"k\">.</span>collapsed <span class=\"k\">)</span> <span class=\"k\">{</span>","            <span class=\"k\">var</span> a <span class=\"k\">=</span> range<span class=\"k\">.</span>document<span class=\"k\">.</span>createElement<span class=\"k\">(</span> <span class=\"s\">'a'</span><span class=\"k\">),</span>","                text <span class=\"k\">=</span> <span class=\"s\">''</span><span class=\"k\">;</span>","            <span class=\"k\">if</span><span class=\"k\">(</span>opt<span class=\"k\">.</span>textValue<span class=\"k\">)</span><span class=\"k\">{</span>","","                text <span class=\"k\">=</span>   utils<span class=\"k\">.</span>html<span class=\"k\">(</span>opt<span class=\"k\">.</span>textValue<span class=\"k\">);</span>","                <span class=\"k\">delete</span> opt<span class=\"k\">.</span>textValue<span class=\"k\">;</span>","            <span class=\"k\">}</span><span class=\"k\">else</span><span class=\"k\">{</span>","                text <span class=\"k\">=</span>   utils<span class=\"k\">.</span>html<span class=\"k\">(</span>opt<span class=\"k\">.</span>href<span class=\"k\">);</span>","","            <span class=\"k\">}</span>","            domUtils<span class=\"k\">.</span>setAttributes<span class=\"k\">(</span> a<span class=\"k\">,</span> opt <span class=\"k\">);</span>","            range<span class=\"k\">.</span>insertNode<span class=\"k\">(</span> a <span class=\"k\">);</span>","            a<span class=\"k\">[</span>browser<span class=\"k\">.</span>ie <span class=\"k\">?</span> <span class=\"s\">'innerText'</span> <span class=\"k\">:</span> <span class=\"s\">'textContent'</span><span class=\"k\">]</span> <span class=\"k\">=</span> text<span class=\"k\">;</span>","            range<span class=\"k\">.</span>selectNode<span class=\"k\">(</span> a <span class=\"k\">);</span>","        <span class=\"k\">}</span> <span class=\"k\">else</span> <span class=\"k\">{</span>","            range<span class=\"k\">.</span>applyInlineStyle<span class=\"k\">(</span> <span class=\"s\">'a'</span><span class=\"k\">,</span> opt <span class=\"k\">);</span>","","        <span class=\"k\">}</span>","    <span class=\"k\">}</span>","    UE<span class=\"k\">.</span>commands<span class=\"k\">[</span><span class=\"s\">'link'</span><span class=\"k\">]</span> <span class=\"k\">=</span> <span class=\"k\">{</span>","        queryCommandState <span class=\"k\">:</span> <span class=\"k\">function</span><span class=\"k\">()</span><span class=\"k\">{</span>","            <span class=\"k\">return</span> <span class=\"k\">this</span><span class=\"k\">.</span>highlight <span class=\"k\">?</span> <span class=\"k\">-</span><span class=\"s\">1</span> <span class=\"k\">:</span><span class=\"s\">0</span><span class=\"k\">;</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        execCommand <span class=\"k\">:</span> <span class=\"k\">function</span><span class=\"k\">(</span> cmdName<span class=\"k\">,</span> opt <span class=\"k\">)</span> <span class=\"k\">{</span>","","            <span class=\"k\">var</span> range <span class=\"k\">=</span> <span class=\"k\">new</span> dom<span class=\"k\">.</span>Range<span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>document<span class=\"k\">),</span>","                tds <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>currentSelectedArr<span class=\"k\">;</span>","","            opt<span class=\"k\">.</span>data_ue_src <span class=\"k\">&amp;&amp;</span> <span class=\"k\">(</span>opt<span class=\"k\">.</span>data_ue_src <span class=\"k\">=</span> utils<span class=\"k\">.</span>unhtml<span class=\"k\">(</span>opt<span class=\"k\">.</span>data_ue_src<span class=\"k\">,</span><span class=\"s\">/[&lt;\"&gt;]/g</span><span class=\"k\">));</span>","            opt<span class=\"k\">.</span>href <span class=\"k\">&amp;&amp;</span> <span class=\"k\">(</span>opt<span class=\"k\">.</span>href <span class=\"k\">=</span> utils<span class=\"k\">.</span>unhtml<span class=\"k\">(</span>opt<span class=\"k\">.</span>href<span class=\"k\">,</span><span class=\"s\">/[&lt;\"&gt;]/g</span><span class=\"k\">));</span>","            opt<span class=\"k\">.</span>textValue <span class=\"k\">&amp;&amp;</span> <span class=\"k\">(</span>opt<span class=\"k\">.</span>textValue <span class=\"k\">=</span> utils<span class=\"k\">.</span>unhtml<span class=\"k\">(</span>opt<span class=\"k\">.</span>textValue<span class=\"k\">,</span><span class=\"s\">/[&lt;\"&gt;]/g</span><span class=\"k\">));</span>","            <span class=\"k\">if</span><span class=\"k\">(</span>tds <span class=\"k\">&amp;&amp;</span> tds<span class=\"k\">.</span>length<span class=\"k\">)</span><span class=\"k\">{</span>","                <span class=\"k\">for</span><span class=\"k\">(</span><span class=\"k\">var</span> i<span class=\"k\">=</span><span class=\"s\">0</span><span class=\"k\">,</span>ti<span class=\"k\">;</span>ti<span class=\"k\">=</span>tds<span class=\"k\">[</span>i<span class=\"k\">++];)</span><span class=\"k\">{</span>","                    <span class=\"k\">if</span><span class=\"k\">(</span>domUtils<span class=\"k\">.</span>isEmptyNode<span class=\"k\">(</span>ti<span class=\"k\">))</span><span class=\"k\">{</span>","                        ti<span class=\"k\">[</span>browser<span class=\"k\">.</span>ie <span class=\"k\">?</span> <span class=\"s\">'innerText'</span> <span class=\"k\">:</span> <span class=\"s\">'textContent'</span><span class=\"k\">]</span> <span class=\"k\">=</span>   utils<span class=\"k\">.</span>html<span class=\"k\">(</span>opt<span class=\"k\">.</span>textValue <span class=\"k\">||</span> opt<span class=\"k\">.</span>href<span class=\"k\">);</span>","                    <span class=\"k\">}</span>","                    doLink<span class=\"k\">(</span>range<span class=\"k\">.</span>selectNodeContents<span class=\"k\">(</span>ti<span class=\"k\">),</span>opt<span class=\"k\">);</span>","                <span class=\"k\">}</span>","                range<span class=\"k\">.</span>selectNodeContents<span class=\"k\">(</span>tds<span class=\"k\">[</span><span class=\"s\">0</span><span class=\"k\">]).</span>select<span class=\"k\">();</span>","","               ","            <span class=\"k\">}</span><span class=\"k\">else</span><span class=\"k\">{</span>","                doLink<span class=\"k\">(</span>range<span class=\"k\">=</span><span class=\"k\">this</span><span class=\"k\">.</span>selection<span class=\"k\">.</span>getRange<span class=\"k\">(),</span>opt<span class=\"k\">);</span>","                <span class=\"c\">//&#38381;&#21512;&#37117;&#19981;&#21152;&#21344;&#20301;&#31526;&#65292;&#22914;&#26524;&#21152;&#20102;&#20250;&#22312;a&#21518;&#36793;&#22810;&#20010;&#21344;&#20301;&#31526;&#33410;&#28857;&#65292;&#23548;&#33268;a&#26159;&#22270;&#29255;&#32972;&#26223;&#32452;&#25104;&#30340;&#21015;&#34920;&#65292;&#20986;&#29616;&#31354;&#30333;&#38382;&#39064;</span>","                range<span class=\"k\">.</span>collapse<span class=\"k\">().</span>select<span class=\"k\">(</span><span class=\"k\">true</span><span class=\"k\">);</span>","","            <span class=\"k\">}</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        queryCommandValue <span class=\"k\">:</span> <span class=\"k\">function</span><span class=\"k\">()</span> <span class=\"k\">{</span>","","            <span class=\"k\">var</span> range <span class=\"k\">=</span> <span class=\"k\">new</span> dom<span class=\"k\">.</span>Range<span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>document<span class=\"k\">),</span>","                tds <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>currentSelectedArr<span class=\"k\">,</span>","                as<span class=\"k\">,</span>","                node<span class=\"k\">;</span>","            <span class=\"k\">if</span><span class=\"k\">(</span>tds <span class=\"k\">&amp;&amp;</span> tds<span class=\"k\">.</span>length<span class=\"k\">)</span><span class=\"k\">{</span>","                <span class=\"k\">for</span><span class=\"k\">(</span><span class=\"k\">var</span> i<span class=\"k\">=</span><span class=\"s\">0</span><span class=\"k\">,</span>ti<span class=\"k\">;</span>ti<span class=\"k\">=</span>tds<span class=\"k\">[</span>i<span class=\"k\">++];)</span><span class=\"k\">{</span>","                    as <span class=\"k\">=</span> ti<span class=\"k\">.</span>getElementsByTagName<span class=\"k\">(</span><span class=\"s\">'a'</span><span class=\"k\">);</span>","                    <span class=\"k\">if</span><span class=\"k\">(</span>as<span class=\"k\">[</span><span class=\"s\">0</span><span class=\"k\">])</span><span class=\"k\">{</span>","                        <span class=\"k\">return</span> as<span class=\"k\">[</span><span class=\"s\">0</span><span class=\"k\">];</span>","                    <span class=\"k\">}</span>","                <span class=\"k\">}</span>","            <span class=\"k\">}</span><span class=\"k\">else</span><span class=\"k\">{</span>","                range <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>selection<span class=\"k\">.</span>getRange<span class=\"k\">();</span>","","","","                <span class=\"k\">if</span> <span class=\"k\">(</span> range<span class=\"k\">.</span>collapsed <span class=\"k\">)</span> <span class=\"k\">{</span>","                    node <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>selection<span class=\"k\">.</span>getStart<span class=\"k\">();</span>","                    <span class=\"k\">if</span> <span class=\"k\">(</span> node <span class=\"k\">&amp;&amp;</span> <span class=\"k\">(</span>node <span class=\"k\">=</span> domUtils<span class=\"k\">.</span>findParentByTagName<span class=\"k\">(</span> node<span class=\"k\">,</span> <span class=\"s\">'a'</span><span class=\"k\">,</span> <span class=\"k\">true</span> <span class=\"k\">))</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                        <span class=\"k\">return</span> node<span class=\"k\">;</span>","                    <span class=\"k\">}</span>","                <span class=\"k\">}</span> <span class=\"k\">else</span> <span class=\"k\">{</span>","                    <span class=\"c\">//trace:1111  &#22914;&#26524;&#26159;&lt;p&gt;&lt;a&gt;xx&lt;/a&gt;&lt;/p&gt; startContainer&#26159;p&#23601;&#20250;&#25214;&#19981;&#21040;a</span>","                    range<span class=\"k\">.</span>shrinkBoundary<span class=\"k\">();</span>","                    <span class=\"k\">var</span> start <span class=\"k\">=</span> range<span class=\"k\">.</span>startContainer<span class=\"k\">.</span>nodeType  <span class=\"k\">==</span> <span class=\"s\">3</span> <span class=\"k\">||</span> <span class=\"k\">!</span>range<span class=\"k\">.</span>startContainer<span class=\"k\">.</span>childNodes<span class=\"k\">[</span>range<span class=\"k\">.</span>startOffset<span class=\"k\">]</span> <span class=\"k\">?</span> range<span class=\"k\">.</span>startContainer <span class=\"k\">:</span> range<span class=\"k\">.</span>startContainer<span class=\"k\">.</span>childNodes<span class=\"k\">[</span>range<span class=\"k\">.</span>startOffset<span class=\"k\">],</span>","                        end <span class=\"k\">=</span>  range<span class=\"k\">.</span>endContainer<span class=\"k\">.</span>nodeType <span class=\"k\">==</span> <span class=\"s\">3</span> <span class=\"k\">||</span> range<span class=\"k\">.</span>endOffset <span class=\"k\">==</span> <span class=\"s\">0</span> <span class=\"k\">?</span> range<span class=\"k\">.</span>endContainer <span class=\"k\">:</span> range<span class=\"k\">.</span>endContainer<span class=\"k\">.</span>childNodes<span class=\"k\">[</span>range<span class=\"k\">.</span>endOffset<span class=\"k\">-</span><span class=\"s\">1</span><span class=\"k\">],</span>","","                        common <span class=\"k\">=</span> range<span class=\"k\">.</span>getCommonAncestor<span class=\"k\">();</span>","","","                    node <span class=\"k\">=</span> domUtils<span class=\"k\">.</span>findParentByTagName<span class=\"k\">(</span> common<span class=\"k\">,</span> <span class=\"s\">'a'</span><span class=\"k\">,</span> <span class=\"k\">true</span> <span class=\"k\">);</span>","                    <span class=\"k\">if</span> <span class=\"k\">(</span> <span class=\"k\">!</span>node <span class=\"k\">&amp;&amp;</span> common<span class=\"k\">.</span>nodeType <span class=\"k\">==</span> <span class=\"s\">1</span><span class=\"k\">)</span><span class=\"k\">{</span>","","                        <span class=\"k\">var</span> as <span class=\"k\">=</span> common<span class=\"k\">.</span>getElementsByTagName<span class=\"k\">(</span> <span class=\"s\">'a'</span> <span class=\"k\">),</span>","                            ps<span class=\"k\">,</span>pe<span class=\"k\">;</span>","","                        <span class=\"k\">for</span> <span class=\"k\">(</span> <span class=\"k\">var</span> i <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">,</span>ci<span class=\"k\">;</span> ci <span class=\"k\">=</span> as<span class=\"k\">[</span>i<span class=\"k\">++];</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                            ps <span class=\"k\">=</span> domUtils<span class=\"k\">.</span>getPosition<span class=\"k\">(</span> ci<span class=\"k\">,</span> start <span class=\"k\">),</span>pe <span class=\"k\">=</span> domUtils<span class=\"k\">.</span>getPosition<span class=\"k\">(</span> ci<span class=\"k\">,</span>end<span class=\"k\">);</span>","                            <span class=\"k\">if</span> <span class=\"k\">(</span> <span class=\"k\">(</span>ps <span class=\"k\">&amp;</span> domUtils<span class=\"k\">.</span>POSITION_FOLLOWING <span class=\"k\">||</span> ps <span class=\"k\">&amp;</span> domUtils<span class=\"k\">.</span>POSITION_CONTAINS<span class=\"k\">)</span>","                                <span class=\"k\">&amp;&amp;</span>","                                <span class=\"k\">(</span>pe <span class=\"k\">&amp;</span> domUtils<span class=\"k\">.</span>POSITION_PRECEDING <span class=\"k\">||</span> pe <span class=\"k\">&amp;</span> domUtils<span class=\"k\">.</span>POSITION_CONTAINS<span class=\"k\">)</span>","                                <span class=\"k\">)</span> <span class=\"k\">{</span>","                                node <span class=\"k\">=</span> ci<span class=\"k\">;</span>","                                <span class=\"k\">break</span><span class=\"k\">;</span>","                            <span class=\"k\">}</span>","                        <span class=\"k\">}</span>","                    <span class=\"k\">}</span>","","                    <span class=\"k\">return</span> node<span class=\"k\">;</span>","                <span class=\"k\">}</span>","            <span class=\"k\">}</span>","","","        <span class=\"k\">}</span>","    <span class=\"k\">}</span><span class=\"k\">;</span>","","","<span class=\"k\">}</span><span class=\"k\">)();</span>"]);
_$jscoverage['plugins/list.js'] && (_$jscoverage['plugins/list.js'].source = ["<span class=\"c\">///import core</span>","<span class=\"c\">///commands &#26377;&#24207;&#21015;&#34920;,&#26080;&#24207;&#21015;&#34920;</span>","<span class=\"c\">///commandsName  InsertOrderedList,InsertUnorderedList</span>","<span class=\"c\">///commandsTitle  &#26377;&#24207;&#21015;&#34920;,&#26080;&#24207;&#21015;&#34920;</span>","<span class=\"c\">/**</span>","<span class=\"c\"> * &#26377;&#24207;&#21015;&#34920;</span>","<span class=\"c\"> * @function</span>","<span class=\"c\"> * @name baidu.editor.execCommand</span>","<span class=\"c\"> * @param   {String}   cmdName     insertorderlist&#25554;&#20837;&#26377;&#24207;&#21015;&#34920;</span>","<span class=\"c\"> * @param   {String}   style               &#20540;&#20026;&#65306;decimal,lower-alpha,lower-roman,upper-alpha,upper-roman</span>","<span class=\"c\"> * @author zhanyi</span>","<span class=\"c\"> */</span>","<span class=\"c\">/**</span>","<span class=\"c\"> * &#26080;&#24207;&#38142;&#25509;</span>","<span class=\"c\"> * @function</span>","<span class=\"c\"> * @name baidu.editor.execCommand</span>","<span class=\"c\"> * @param   {String}   cmdName     insertunorderlist&#25554;&#20837;&#26080;&#24207;&#21015;&#34920;</span>","<span class=\"c\"> * * @param   {String}   style            &#20540;&#20026;&#65306;circle,disc,square</span>","<span class=\"c\"> * @author zhanyi</span>","<span class=\"c\"> */</span>","","UE<span class=\"k\">.</span>plugins<span class=\"k\">[</span><span class=\"s\">'list'</span><span class=\"k\">]</span> <span class=\"k\">=</span> <span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","    <span class=\"k\">var</span> me <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">,</span>","            notExchange <span class=\"k\">=</span> <span class=\"k\">{</span>","                <span class=\"s\">'TD'</span><span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>","                <span class=\"s\">'PRE'</span><span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>","                <span class=\"s\">'BLOCKQUOTE'</span><span class=\"k\">:</span><span class=\"s\">1</span>","            <span class=\"k\">}</span><span class=\"k\">;</span>","    me<span class=\"k\">.</span>setOpt<span class=\"k\">(</span> <span class=\"k\">{</span>","        <span class=\"s\">'insertorderedlist'</span><span class=\"k\">:</span><span class=\"k\">{</span>","            <span class=\"s\">'decimal'</span><span class=\"k\">:</span><span class=\"s\">''</span><span class=\"k\">,</span> <span class=\"c\">//'1,2,3...'</span>","            <span class=\"s\">'lower-alpha'</span><span class=\"k\">:</span><span class=\"s\">''</span><span class=\"k\">,</span> <span class=\"c\">// 'a,b,c...'</span>","            <span class=\"s\">'lower-roman'</span><span class=\"k\">:</span><span class=\"s\">''</span><span class=\"k\">,</span> <span class=\"c\">//'i,ii,iii...'</span>","            <span class=\"s\">'upper-alpha'</span><span class=\"k\">:</span><span class=\"s\">''</span><span class=\"k\">,</span> <span class=\"c\">//'A,B,C'</span>","            <span class=\"s\">'upper-roman'</span><span class=\"k\">:</span><span class=\"s\">''</span>     <span class=\"c\">//'I,II,III...'</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        <span class=\"s\">'insertunorderedlist'</span><span class=\"k\">:</span><span class=\"k\">{</span>","            <span class=\"s\">'circle'</span><span class=\"k\">:</span><span class=\"s\">''</span><span class=\"k\">,</span>","            <span class=\"s\">'disc'</span><span class=\"k\">:</span><span class=\"s\">''</span><span class=\"k\">,</span>","            <span class=\"s\">'square'</span><span class=\"k\">:</span><span class=\"s\">''</span>","        <span class=\"k\">}</span>","    <span class=\"k\">}</span> <span class=\"k\">);</span>","","    me<span class=\"k\">.</span>ready<span class=\"k\">(</span><span class=\"k\">function</span><span class=\"k\">()</span><span class=\"k\">{</span>","        utils<span class=\"k\">.</span>cssRule<span class=\"k\">(</span><span class=\"s\">'list'</span><span class=\"k\">,</span><span class=\"s\">'li{clear:both}'</span><span class=\"k\">,</span>me<span class=\"k\">.</span>document<span class=\"k\">);</span>","    <span class=\"k\">}</span><span class=\"k\">);</span>","","","","    <span class=\"k\">function</span> adjustList<span class=\"k\">(</span> list<span class=\"k\">,</span> tag<span class=\"k\">,</span> style <span class=\"k\">)</span> <span class=\"k\">{</span>","        <span class=\"k\">var</span> nextList <span class=\"k\">=</span> list<span class=\"k\">.</span>nextSibling<span class=\"k\">;</span>","        <span class=\"k\">if</span> <span class=\"k\">(</span> nextList <span class=\"k\">&amp;&amp;</span> nextList<span class=\"k\">.</span>nodeType <span class=\"k\">==</span> <span class=\"s\">1</span> <span class=\"k\">&amp;&amp;</span> nextList<span class=\"k\">.</span>tagName<span class=\"k\">.</span>toLowerCase<span class=\"k\">()</span> <span class=\"k\">==</span> tag <span class=\"k\">&amp;&amp;</span> <span class=\"k\">(</span>domUtils<span class=\"k\">.</span>getStyle<span class=\"k\">(</span> nextList<span class=\"k\">,</span> <span class=\"s\">'list-style-type'</span> <span class=\"k\">)</span> <span class=\"k\">||</span> <span class=\"k\">(</span>tag <span class=\"k\">==</span> <span class=\"s\">'ol'</span> <span class=\"k\">?</span> <span class=\"s\">'decimal'</span> <span class=\"k\">:</span> <span class=\"s\">'disc'</span><span class=\"k\">))</span> <span class=\"k\">==</span> style <span class=\"k\">)</span> <span class=\"k\">{</span>","            domUtils<span class=\"k\">.</span>moveChild<span class=\"k\">(</span> nextList<span class=\"k\">,</span> list <span class=\"k\">);</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span> nextList<span class=\"k\">.</span>childNodes<span class=\"k\">.</span>length <span class=\"k\">==</span> <span class=\"s\">0</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                domUtils<span class=\"k\">.</span>remove<span class=\"k\">(</span> nextList <span class=\"k\">);</span>","            <span class=\"k\">}</span>","        <span class=\"k\">}</span>","        <span class=\"k\">var</span> preList <span class=\"k\">=</span> list<span class=\"k\">.</span>previousSibling<span class=\"k\">;</span>","        <span class=\"k\">if</span> <span class=\"k\">(</span> preList <span class=\"k\">&amp;&amp;</span> preList<span class=\"k\">.</span>nodeType <span class=\"k\">==</span> <span class=\"s\">1</span> <span class=\"k\">&amp;&amp;</span> preList<span class=\"k\">.</span>tagName<span class=\"k\">.</span>toLowerCase<span class=\"k\">()</span> <span class=\"k\">==</span> tag <span class=\"k\">&amp;&amp;</span> <span class=\"k\">(</span>domUtils<span class=\"k\">.</span>getStyle<span class=\"k\">(</span> preList<span class=\"k\">,</span> <span class=\"s\">'list-style-type'</span> <span class=\"k\">)</span> <span class=\"k\">||</span> <span class=\"k\">(</span>tag <span class=\"k\">==</span> <span class=\"s\">'ol'</span> <span class=\"k\">?</span> <span class=\"s\">'decimal'</span> <span class=\"k\">:</span> <span class=\"s\">'disc'</span><span class=\"k\">))</span> <span class=\"k\">==</span> style <span class=\"k\">)</span> <span class=\"k\">{</span>","            domUtils<span class=\"k\">.</span>moveChild<span class=\"k\">(</span> list<span class=\"k\">,</span> preList <span class=\"k\">);</span>","        <span class=\"k\">}</span>","","","        <span class=\"k\">if</span> <span class=\"k\">(</span> list<span class=\"k\">.</span>childNodes<span class=\"k\">.</span>length <span class=\"k\">==</span> <span class=\"s\">0</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","            domUtils<span class=\"k\">.</span>remove<span class=\"k\">(</span> list <span class=\"k\">);</span>","        <span class=\"k\">}</span>","    <span class=\"k\">}</span>","","    me<span class=\"k\">.</span>addListener<span class=\"k\">(</span> <span class=\"s\">'keydown'</span><span class=\"k\">,</span> <span class=\"k\">function</span> <span class=\"k\">(</span> type<span class=\"k\">,</span> evt <span class=\"k\">)</span> <span class=\"k\">{</span>","        <span class=\"k\">function</span> preventAndSave<span class=\"k\">()</span> <span class=\"k\">{</span>","            evt<span class=\"k\">.</span>preventDefault <span class=\"k\">?</span> evt<span class=\"k\">.</span>preventDefault<span class=\"k\">()</span> <span class=\"k\">:</span> <span class=\"k\">(</span>evt<span class=\"k\">.</span>returnValue <span class=\"k\">=</span> <span class=\"k\">false</span><span class=\"k\">);</span>","            me<span class=\"k\">.</span>undoManger <span class=\"k\">&amp;&amp;</span> me<span class=\"k\">.</span>undoManger<span class=\"k\">.</span>save<span class=\"k\">();</span>","        <span class=\"k\">}</span>","","        <span class=\"k\">var</span> keyCode <span class=\"k\">=</span> evt<span class=\"k\">.</span>keyCode <span class=\"k\">||</span> evt<span class=\"k\">.</span>which<span class=\"k\">;</span>","        <span class=\"k\">if</span> <span class=\"k\">(</span> keyCode <span class=\"k\">==</span> <span class=\"s\">13</span> <span class=\"k\">)</span> <span class=\"k\">{</span><span class=\"c\">//&#22238;&#36710;</span>","","            <span class=\"k\">var</span> range <span class=\"k\">=</span> me<span class=\"k\">.</span>selection<span class=\"k\">.</span>getRange<span class=\"k\">(),</span>","                    start <span class=\"k\">=</span> domUtils<span class=\"k\">.</span>findParentByTagName<span class=\"k\">(</span> range<span class=\"k\">.</span>startContainer<span class=\"k\">,</span> <span class=\"k\">[</span><span class=\"s\">'ol'</span><span class=\"k\">,</span> <span class=\"s\">'ul'</span><span class=\"k\">],</span> <span class=\"k\">true</span><span class=\"k\">,</span> <span class=\"k\">function</span> <span class=\"k\">(</span> node <span class=\"k\">)</span> <span class=\"k\">{</span>","                        <span class=\"k\">return</span> node<span class=\"k\">.</span>tagName <span class=\"k\">==</span> <span class=\"s\">'TABLE'</span><span class=\"k\">;</span>","                    <span class=\"k\">}</span> <span class=\"k\">),</span>","                    end <span class=\"k\">=</span> domUtils<span class=\"k\">.</span>findParentByTagName<span class=\"k\">(</span> range<span class=\"k\">.</span>endContainer<span class=\"k\">,</span> <span class=\"k\">[</span><span class=\"s\">'ol'</span><span class=\"k\">,</span> <span class=\"s\">'ul'</span><span class=\"k\">],</span> <span class=\"k\">true</span><span class=\"k\">,</span> <span class=\"k\">function</span> <span class=\"k\">(</span> node <span class=\"k\">)</span> <span class=\"k\">{</span>","                        <span class=\"k\">return</span> node<span class=\"k\">.</span>tagName <span class=\"k\">==</span> <span class=\"s\">'TABLE'</span><span class=\"k\">;</span>","                    <span class=\"k\">}</span> <span class=\"k\">);</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span> start <span class=\"k\">&amp;&amp;</span> end <span class=\"k\">&amp;&amp;</span> start <span class=\"k\">===</span> end <span class=\"k\">)</span> <span class=\"k\">{</span>","","                <span class=\"k\">if</span> <span class=\"k\">(</span> <span class=\"k\">!</span>range<span class=\"k\">.</span>collapsed <span class=\"k\">)</span> <span class=\"k\">{</span>","                    start <span class=\"k\">=</span> domUtils<span class=\"k\">.</span>findParentByTagName<span class=\"k\">(</span> range<span class=\"k\">.</span>startContainer<span class=\"k\">,</span> <span class=\"s\">'li'</span><span class=\"k\">,</span> <span class=\"k\">true</span> <span class=\"k\">);</span>","                    end <span class=\"k\">=</span> domUtils<span class=\"k\">.</span>findParentByTagName<span class=\"k\">(</span> range<span class=\"k\">.</span>endContainer<span class=\"k\">,</span> <span class=\"s\">'li'</span><span class=\"k\">,</span> <span class=\"k\">true</span> <span class=\"k\">);</span>","                    <span class=\"k\">if</span> <span class=\"k\">(</span> start <span class=\"k\">&amp;&amp;</span> end <span class=\"k\">&amp;&amp;</span> start <span class=\"k\">===</span> end <span class=\"k\">)</span> <span class=\"k\">{</span>","                        range<span class=\"k\">.</span>deleteContents<span class=\"k\">();</span>","                        li <span class=\"k\">=</span> domUtils<span class=\"k\">.</span>findParentByTagName<span class=\"k\">(</span> range<span class=\"k\">.</span>startContainer<span class=\"k\">,</span> <span class=\"s\">'li'</span><span class=\"k\">,</span> <span class=\"k\">true</span> <span class=\"k\">);</span>","                        <span class=\"k\">if</span> <span class=\"k\">(</span> li <span class=\"k\">&amp;&amp;</span> domUtils<span class=\"k\">.</span>isEmptyBlock<span class=\"k\">(</span> li <span class=\"k\">)</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","","                            pre <span class=\"k\">=</span> li<span class=\"k\">.</span>previousSibling<span class=\"k\">;</span>","                            next <span class=\"k\">=</span> li<span class=\"k\">.</span>nextSibling<span class=\"k\">;</span>","                            p <span class=\"k\">=</span> me<span class=\"k\">.</span>document<span class=\"k\">.</span>createElement<span class=\"k\">(</span> <span class=\"s\">'p'</span> <span class=\"k\">);</span>","","                            domUtils<span class=\"k\">.</span>fillNode<span class=\"k\">(</span> me<span class=\"k\">.</span>document<span class=\"k\">,</span> p <span class=\"k\">);</span>","                            parentList <span class=\"k\">=</span> li<span class=\"k\">.</span>parentNode<span class=\"k\">;</span>","                            <span class=\"k\">if</span> <span class=\"k\">(</span> pre <span class=\"k\">&amp;&amp;</span> next <span class=\"k\">)</span> <span class=\"k\">{</span>","                                range<span class=\"k\">.</span>setStart<span class=\"k\">(</span> next<span class=\"k\">,</span> <span class=\"s\">0</span> <span class=\"k\">).</span>collapse<span class=\"k\">(</span> <span class=\"k\">true</span> <span class=\"k\">).</span>select<span class=\"k\">(</span> <span class=\"k\">true</span> <span class=\"k\">);</span>","                                domUtils<span class=\"k\">.</span>remove<span class=\"k\">(</span> li <span class=\"k\">);</span>","","                            <span class=\"k\">}</span> <span class=\"k\">else</span> <span class=\"k\">{</span>","                                <span class=\"k\">if</span> <span class=\"k\">(</span> <span class=\"k\">!</span>pre <span class=\"k\">&amp;&amp;</span> <span class=\"k\">!</span>next <span class=\"k\">||</span> <span class=\"k\">!</span>pre <span class=\"k\">)</span> <span class=\"k\">{</span>","","                                    parentList<span class=\"k\">.</span>parentNode<span class=\"k\">.</span>insertBefore<span class=\"k\">(</span> p<span class=\"k\">,</span> parentList <span class=\"k\">);</span>","","","                                <span class=\"k\">}</span> <span class=\"k\">else</span> <span class=\"k\">{</span>","                                    li<span class=\"k\">.</span>parentNode<span class=\"k\">.</span>parentNode<span class=\"k\">.</span>insertBefore<span class=\"k\">(</span> p<span class=\"k\">,</span> parentList<span class=\"k\">.</span>nextSibling <span class=\"k\">);</span>","                                <span class=\"k\">}</span>","                                domUtils<span class=\"k\">.</span>remove<span class=\"k\">(</span> li <span class=\"k\">);</span>","                                <span class=\"k\">if</span> <span class=\"k\">(</span> <span class=\"k\">!</span>parentList<span class=\"k\">.</span>firstChild <span class=\"k\">)</span> <span class=\"k\">{</span>","                                    domUtils<span class=\"k\">.</span>remove<span class=\"k\">(</span> parentList <span class=\"k\">);</span>","                                <span class=\"k\">}</span>","                                range<span class=\"k\">.</span>setStart<span class=\"k\">(</span> p<span class=\"k\">,</span> <span class=\"s\">0</span> <span class=\"k\">).</span>setCursor<span class=\"k\">();</span>","","","                            <span class=\"k\">}</span>","                            preventAndSave<span class=\"k\">();</span>","                            <span class=\"k\">return</span><span class=\"k\">;</span>","","                        <span class=\"k\">}</span>","                    <span class=\"k\">}</span> <span class=\"k\">else</span> <span class=\"k\">{</span>","                        <span class=\"k\">var</span> tmpRange <span class=\"k\">=</span> range<span class=\"k\">.</span>cloneRange<span class=\"k\">(),</span>","                                bk <span class=\"k\">=</span> tmpRange<span class=\"k\">.</span>collapse<span class=\"k\">(</span> <span class=\"k\">false</span> <span class=\"k\">).</span>createBookmark<span class=\"k\">();</span>","","                        range<span class=\"k\">.</span>deleteContents<span class=\"k\">();</span>","                        tmpRange<span class=\"k\">.</span>moveToBookmark<span class=\"k\">(</span> bk <span class=\"k\">);</span>","                        <span class=\"k\">var</span> li <span class=\"k\">=</span> domUtils<span class=\"k\">.</span>findParentByTagName<span class=\"k\">(</span> tmpRange<span class=\"k\">.</span>startContainer<span class=\"k\">,</span> <span class=\"s\">'li'</span><span class=\"k\">,</span> <span class=\"k\">true</span> <span class=\"k\">),</span>","                                pre <span class=\"k\">=</span> li<span class=\"k\">.</span>previousSibling<span class=\"k\">,</span>","                                next <span class=\"k\">=</span> li<span class=\"k\">.</span>nextSibling<span class=\"k\">;</span>","","                        <span class=\"k\">if</span> <span class=\"k\">(</span> pre <span class=\"k\">)</span> <span class=\"k\">{</span>","                            li <span class=\"k\">=</span> pre<span class=\"k\">;</span>","                            <span class=\"k\">if</span> <span class=\"k\">(</span> pre<span class=\"k\">.</span>firstChild <span class=\"k\">&amp;&amp;</span> domUtils<span class=\"k\">.</span>isBlockElm<span class=\"k\">(</span> pre<span class=\"k\">.</span>firstChild <span class=\"k\">)</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                                pre <span class=\"k\">=</span> pre<span class=\"k\">.</span>firstChild<span class=\"k\">;</span>","","                            <span class=\"k\">}</span>","                            <span class=\"k\">if</span> <span class=\"k\">(</span> domUtils<span class=\"k\">.</span>isEmptyNode<span class=\"k\">(</span> pre <span class=\"k\">)</span> <span class=\"k\">)</span><span class=\"k\">{</span>","                                domUtils<span class=\"k\">.</span>remove<span class=\"k\">(</span> li <span class=\"k\">);</span>","                            <span class=\"k\">}</span>","                        <span class=\"k\">}</span>","                        <span class=\"k\">if</span> <span class=\"k\">(</span> next <span class=\"k\">)</span> <span class=\"k\">{</span>","                            li <span class=\"k\">=</span> next<span class=\"k\">;</span>","                            <span class=\"k\">if</span> <span class=\"k\">(</span> next<span class=\"k\">.</span>firstChild <span class=\"k\">&amp;&amp;</span> domUtils<span class=\"k\">.</span>isBlockElm<span class=\"k\">(</span> next<span class=\"k\">.</span>firstChild <span class=\"k\">)</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                                next <span class=\"k\">=</span> next<span class=\"k\">.</span>firstChild<span class=\"k\">;</span>","                            <span class=\"k\">}</span>","                            <span class=\"k\">if</span> <span class=\"k\">(</span> domUtils<span class=\"k\">.</span>isEmptyNode<span class=\"k\">(</span> next <span class=\"k\">)</span> <span class=\"k\">)</span><span class=\"k\">{</span>","                                domUtils<span class=\"k\">.</span>remove<span class=\"k\">(</span> li <span class=\"k\">);</span>","                            <span class=\"k\">}</span>","                        <span class=\"k\">}</span>","                        tmpRange<span class=\"k\">.</span>select<span class=\"k\">();</span>","                        preventAndSave<span class=\"k\">();</span>","                        <span class=\"k\">return</span><span class=\"k\">;</span>","                    <span class=\"k\">}</span>","                <span class=\"k\">}</span>","","","                li <span class=\"k\">=</span> domUtils<span class=\"k\">.</span>findParentByTagName<span class=\"k\">(</span> range<span class=\"k\">.</span>startContainer<span class=\"k\">,</span> <span class=\"s\">'li'</span><span class=\"k\">,</span> <span class=\"k\">true</span> <span class=\"k\">);</span>","","                <span class=\"k\">if</span> <span class=\"k\">(</span> li <span class=\"k\">)</span> <span class=\"k\">{</span>","                    <span class=\"k\">if</span> <span class=\"k\">(</span> domUtils<span class=\"k\">.</span>isEmptyBlock<span class=\"k\">(</span> li <span class=\"k\">)</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                        bk <span class=\"k\">=</span> range<span class=\"k\">.</span>createBookmark<span class=\"k\">();</span>","                        <span class=\"k\">var</span> parentList <span class=\"k\">=</span> li<span class=\"k\">.</span>parentNode<span class=\"k\">;</span>","                        <span class=\"k\">if</span> <span class=\"k\">(</span> li <span class=\"k\">!==</span> parentList<span class=\"k\">.</span>lastChild <span class=\"k\">)</span> <span class=\"k\">{</span>","                            domUtils<span class=\"k\">.</span>breakParent<span class=\"k\">(</span> li<span class=\"k\">,</span> parentList <span class=\"k\">);</span>","                        <span class=\"k\">}</span> <span class=\"k\">else</span> <span class=\"k\">{</span>","","                            parentList<span class=\"k\">.</span>parentNode<span class=\"k\">.</span>insertBefore<span class=\"k\">(</span> li<span class=\"k\">,</span> parentList<span class=\"k\">.</span>nextSibling <span class=\"k\">);</span>","                            <span class=\"k\">if</span> <span class=\"k\">(</span> domUtils<span class=\"k\">.</span>isEmptyNode<span class=\"k\">(</span> parentList <span class=\"k\">)</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                                domUtils<span class=\"k\">.</span>remove<span class=\"k\">(</span> parentList <span class=\"k\">);</span>","                            <span class=\"k\">}</span>","                        <span class=\"k\">}</span>","                        <span class=\"c\">//&#23884;&#22871;&#19981;&#22788;&#29702;</span>","                        <span class=\"k\">if</span> <span class=\"k\">(</span> <span class=\"k\">!</span>dtd<span class=\"k\">.</span>$list<span class=\"k\">[</span>li<span class=\"k\">.</span>parentNode<span class=\"k\">.</span>tagName<span class=\"k\">]</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                            <span class=\"k\">if</span> <span class=\"k\">(</span> <span class=\"k\">!</span>domUtils<span class=\"k\">.</span>isBlockElm<span class=\"k\">(</span> li<span class=\"k\">.</span>firstChild <span class=\"k\">)</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                                p <span class=\"k\">=</span> me<span class=\"k\">.</span>document<span class=\"k\">.</span>createElement<span class=\"k\">(</span> <span class=\"s\">'p'</span> <span class=\"k\">);</span>","                                li<span class=\"k\">.</span>parentNode<span class=\"k\">.</span>insertBefore<span class=\"k\">(</span> p<span class=\"k\">,</span> li <span class=\"k\">);</span>","                                <span class=\"k\">while</span> <span class=\"k\">(</span> li<span class=\"k\">.</span>firstChild <span class=\"k\">)</span> <span class=\"k\">{</span>","                                    p<span class=\"k\">.</span>appendChild<span class=\"k\">(</span> li<span class=\"k\">.</span>firstChild <span class=\"k\">);</span>","                                <span class=\"k\">}</span>","                                domUtils<span class=\"k\">.</span>remove<span class=\"k\">(</span> li <span class=\"k\">);</span>","                            <span class=\"k\">}</span> <span class=\"k\">else</span> <span class=\"k\">{</span>","                                domUtils<span class=\"k\">.</span>remove<span class=\"k\">(</span> li<span class=\"k\">,</span> <span class=\"k\">true</span> <span class=\"k\">);</span>","                            <span class=\"k\">}</span>","                        <span class=\"k\">}</span>","                        range<span class=\"k\">.</span>moveToBookmark<span class=\"k\">(</span> bk <span class=\"k\">).</span>select<span class=\"k\">();</span>","","","                    <span class=\"k\">}</span> <span class=\"k\">else</span> <span class=\"k\">{</span>","                        <span class=\"k\">var</span> first <span class=\"k\">=</span> li<span class=\"k\">.</span>firstChild<span class=\"k\">;</span>","                        <span class=\"k\">if</span> <span class=\"k\">(</span> <span class=\"k\">!</span>first <span class=\"k\">||</span> <span class=\"k\">!</span>domUtils<span class=\"k\">.</span>isBlockElm<span class=\"k\">(</span> first <span class=\"k\">)</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                            <span class=\"k\">var</span> p <span class=\"k\">=</span> me<span class=\"k\">.</span>document<span class=\"k\">.</span>createElement<span class=\"k\">(</span> <span class=\"s\">'p'</span> <span class=\"k\">);</span>","","                            <span class=\"k\">!</span>li<span class=\"k\">.</span>firstChild <span class=\"k\">&amp;&amp;</span> domUtils<span class=\"k\">.</span>fillNode<span class=\"k\">(</span> me<span class=\"k\">.</span>document<span class=\"k\">,</span> p <span class=\"k\">);</span>","                            <span class=\"k\">while</span> <span class=\"k\">(</span> li<span class=\"k\">.</span>firstChild <span class=\"k\">)</span> <span class=\"k\">{</span>","","                                p<span class=\"k\">.</span>appendChild<span class=\"k\">(</span> li<span class=\"k\">.</span>firstChild <span class=\"k\">);</span>","                            <span class=\"k\">}</span>","                            li<span class=\"k\">.</span>appendChild<span class=\"k\">(</span> p <span class=\"k\">);</span>","                            first <span class=\"k\">=</span> p<span class=\"k\">;</span>","                        <span class=\"k\">}</span>","","                        <span class=\"k\">var</span> span <span class=\"k\">=</span> me<span class=\"k\">.</span>document<span class=\"k\">.</span>createElement<span class=\"k\">(</span> <span class=\"s\">'span'</span> <span class=\"k\">);</span>","","                        range<span class=\"k\">.</span>insertNode<span class=\"k\">(</span> span <span class=\"k\">);</span>","                        domUtils<span class=\"k\">.</span>breakParent<span class=\"k\">(</span> span<span class=\"k\">,</span> li <span class=\"k\">);</span>","","                        <span class=\"k\">var</span> nextLi <span class=\"k\">=</span> span<span class=\"k\">.</span>nextSibling<span class=\"k\">;</span>","                        first <span class=\"k\">=</span> nextLi<span class=\"k\">.</span>firstChild<span class=\"k\">;</span>","","                        <span class=\"k\">if</span> <span class=\"k\">(</span> <span class=\"k\">!</span>first <span class=\"k\">)</span> <span class=\"k\">{</span>","                            p <span class=\"k\">=</span> me<span class=\"k\">.</span>document<span class=\"k\">.</span>createElement<span class=\"k\">(</span> <span class=\"s\">'p'</span> <span class=\"k\">);</span>","","                            domUtils<span class=\"k\">.</span>fillNode<span class=\"k\">(</span> me<span class=\"k\">.</span>document<span class=\"k\">,</span> p <span class=\"k\">);</span>","                            nextLi<span class=\"k\">.</span>appendChild<span class=\"k\">(</span> p <span class=\"k\">);</span>","                            first <span class=\"k\">=</span> p<span class=\"k\">;</span>","                        <span class=\"k\">}</span>","                        <span class=\"k\">if</span> <span class=\"k\">(</span> domUtils<span class=\"k\">.</span>isEmptyNode<span class=\"k\">(</span> first <span class=\"k\">)</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                            first<span class=\"k\">.</span>innerHTML <span class=\"k\">=</span> <span class=\"s\">''</span><span class=\"k\">;</span>","                            domUtils<span class=\"k\">.</span>fillNode<span class=\"k\">(</span> me<span class=\"k\">.</span>document<span class=\"k\">,</span> first <span class=\"k\">);</span>","                        <span class=\"k\">}</span>","","                        range<span class=\"k\">.</span>setStart<span class=\"k\">(</span> first<span class=\"k\">,</span> <span class=\"s\">0</span> <span class=\"k\">).</span>collapse<span class=\"k\">(</span> <span class=\"k\">true</span> <span class=\"k\">).</span>shrinkBoundary<span class=\"k\">().</span>select<span class=\"k\">();</span>","                        domUtils<span class=\"k\">.</span>remove<span class=\"k\">(</span> span <span class=\"k\">);</span>","                        pre <span class=\"k\">=</span> nextLi<span class=\"k\">.</span>previousSibling<span class=\"k\">;</span>","                        <span class=\"k\">if</span> <span class=\"k\">(</span> pre <span class=\"k\">&amp;&amp;</span> domUtils<span class=\"k\">.</span>isEmptyBlock<span class=\"k\">(</span> pre <span class=\"k\">)</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                            pre<span class=\"k\">.</span>innerHTML <span class=\"k\">=</span> <span class=\"s\">'&lt;p&gt;&lt;/p&gt;'</span><span class=\"k\">;</span>","                            domUtils<span class=\"k\">.</span>fillNode<span class=\"k\">(</span> me<span class=\"k\">.</span>document<span class=\"k\">,</span> pre<span class=\"k\">.</span>firstChild <span class=\"k\">);</span>","                        <span class=\"k\">}</span>","","                    <span class=\"k\">}</span>","<span class=\"c\">//                        }</span>","","                    preventAndSave<span class=\"k\">();</span>","                <span class=\"k\">}</span>","","","            <span class=\"k\">}</span>","        <span class=\"k\">}</span>","        <span class=\"k\">if</span> <span class=\"k\">(</span> keyCode <span class=\"k\">==</span> <span class=\"s\">8</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","            <span class=\"c\">//&#20462;&#20013;ie&#20013;li&#19979;&#30340;&#38382;&#39064;</span>","            range <span class=\"k\">=</span> me<span class=\"k\">.</span>selection<span class=\"k\">.</span>getRange<span class=\"k\">();</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span> range<span class=\"k\">.</span>collapsed <span class=\"k\">&amp;&amp;</span> domUtils<span class=\"k\">.</span>isStartInblock<span class=\"k\">(</span> range <span class=\"k\">)</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                tmpRange <span class=\"k\">=</span> range<span class=\"k\">.</span>cloneRange<span class=\"k\">().</span>trimBoundary<span class=\"k\">();</span>","                li <span class=\"k\">=</span> domUtils<span class=\"k\">.</span>findParentByTagName<span class=\"k\">(</span> range<span class=\"k\">.</span>startContainer<span class=\"k\">,</span> <span class=\"s\">'li'</span><span class=\"k\">,</span> <span class=\"k\">true</span> <span class=\"k\">);</span>","","                <span class=\"c\">//&#35201;&#22312;li&#30340;&#26368;&#24038;&#36793;&#65292;&#25165;&#33021;&#22788;&#29702;</span>","                <span class=\"k\">if</span> <span class=\"k\">(</span> li <span class=\"k\">&amp;&amp;</span> domUtils<span class=\"k\">.</span>isStartInblock<span class=\"k\">(</span> tmpRange <span class=\"k\">)</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","","                    <span class=\"k\">if</span> <span class=\"k\">(</span> li <span class=\"k\">&amp;&amp;</span> <span class=\"k\">(</span>pre <span class=\"k\">=</span> li<span class=\"k\">.</span>previousSibling<span class=\"k\">)</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                        <span class=\"k\">if</span> <span class=\"k\">(</span> keyCode <span class=\"k\">==</span> <span class=\"s\">46</span> <span class=\"k\">&amp;&amp;</span> li<span class=\"k\">.</span>childNodes<span class=\"k\">.</span>length <span class=\"k\">)</span><span class=\"k\">{</span>","                            <span class=\"k\">return</span><span class=\"k\">;</span>","                        <span class=\"k\">}</span>","                        <span class=\"c\">//&#26377;&#21487;&#33021;&#19978;&#36793;&#30340;&#20804;&#24351;&#33410;&#28857;&#26159;&#20010;2&#32423;&#33756;&#21333;&#65292;&#35201;&#36861;&#21152;&#21040;2&#32423;&#33756;&#21333;&#30340;&#26368;&#21518;&#30340;li</span>","                        <span class=\"k\">if</span> <span class=\"k\">(</span> dtd<span class=\"k\">.</span>$list<span class=\"k\">[</span>pre<span class=\"k\">.</span>tagName<span class=\"k\">]</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                            pre <span class=\"k\">=</span> pre<span class=\"k\">.</span>lastChild<span class=\"k\">;</span>","                        <span class=\"k\">}</span>","                        me<span class=\"k\">.</span>undoManger <span class=\"k\">&amp;&amp;</span> me<span class=\"k\">.</span>undoManger<span class=\"k\">.</span>save<span class=\"k\">();</span>","                        first <span class=\"k\">=</span> li<span class=\"k\">.</span>firstChild<span class=\"k\">;</span>","                        <span class=\"k\">if</span> <span class=\"k\">(</span> domUtils<span class=\"k\">.</span>isBlockElm<span class=\"k\">(</span> first <span class=\"k\">)</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                            <span class=\"k\">if</span> <span class=\"k\">(</span> domUtils<span class=\"k\">.</span>isEmptyNode<span class=\"k\">(</span> first <span class=\"k\">)</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","<span class=\"c\">//                                    range.setEnd(pre, pre.childNodes.length).shrinkBoundary().collapse().select(true);</span>","                                pre<span class=\"k\">.</span>appendChild<span class=\"k\">(</span> first <span class=\"k\">);</span>","                                range<span class=\"k\">.</span>setStart<span class=\"k\">(</span> first<span class=\"k\">,</span> <span class=\"s\">0</span> <span class=\"k\">).</span>setCursor<span class=\"k\">(</span> <span class=\"k\">false</span><span class=\"k\">,</span> <span class=\"k\">true</span> <span class=\"k\">);</span>","                                <span class=\"c\">//first&#19981;&#26159;&#21807;&#19968;&#30340;&#33410;&#28857;</span>","                                <span class=\"k\">while</span> <span class=\"k\">(</span> li<span class=\"k\">.</span>firstChild <span class=\"k\">)</span> <span class=\"k\">{</span>","                                    pre<span class=\"k\">.</span>appendChild<span class=\"k\">(</span> li<span class=\"k\">.</span>firstChild <span class=\"k\">);</span>","                                <span class=\"k\">}</span>","                            <span class=\"k\">}</span> <span class=\"k\">else</span> <span class=\"k\">{</span>","                                start <span class=\"k\">=</span> domUtils<span class=\"k\">.</span>findParentByTagName<span class=\"k\">(</span> range<span class=\"k\">.</span>startContainer<span class=\"k\">,</span> <span class=\"s\">'p'</span><span class=\"k\">,</span> <span class=\"k\">true</span> <span class=\"k\">);</span>","                                <span class=\"k\">if</span> <span class=\"k\">(</span> start <span class=\"k\">&amp;&amp;</span> start <span class=\"k\">!==</span> first <span class=\"k\">)</span> <span class=\"k\">{</span>","                                    <span class=\"k\">return</span><span class=\"k\">;</span>","                                <span class=\"k\">}</span>","                                span <span class=\"k\">=</span> me<span class=\"k\">.</span>document<span class=\"k\">.</span>createElement<span class=\"k\">(</span> <span class=\"s\">'span'</span> <span class=\"k\">);</span>","                                range<span class=\"k\">.</span>insertNode<span class=\"k\">(</span> span <span class=\"k\">);</span>","                                <span class=\"c\">//&#21028;&#26029;pre&#26159;&#21542;&#26159;&#31354;&#30340;&#33410;&#28857;,&#22914;&#26524;&#26159;&lt;p&gt;&lt;br/&gt;&lt;/p&gt;&#31867;&#22411;&#30340;&#31354;&#33410;&#28857;&#65292;&#24178;&#25481;p&#26631;&#31614;&#38450;&#27490;&#23427;&#21344;&#20301;</span>","                                <span class=\"k\">if</span><span class=\"k\">(</span>domUtils<span class=\"k\">.</span>isEmptyBlock<span class=\"k\">(</span>pre<span class=\"k\">))</span><span class=\"k\">{</span>","                                    pre<span class=\"k\">.</span>innerHTML <span class=\"k\">=</span> <span class=\"s\">''</span><span class=\"k\">;</span>","                                <span class=\"k\">}</span>","                                domUtils<span class=\"k\">.</span>moveChild<span class=\"k\">(</span> li<span class=\"k\">,</span> pre <span class=\"k\">);</span>","                                range<span class=\"k\">.</span>setStartBefore<span class=\"k\">(</span> span <span class=\"k\">).</span>collapse<span class=\"k\">(</span> <span class=\"k\">true</span> <span class=\"k\">).</span>select<span class=\"k\">(</span> <span class=\"k\">true</span> <span class=\"k\">);</span>","","                                domUtils<span class=\"k\">.</span>remove<span class=\"k\">(</span> span <span class=\"k\">);</span>","","                            <span class=\"k\">}</span>","                        <span class=\"k\">}</span> <span class=\"k\">else</span> <span class=\"k\">{</span>","                            <span class=\"k\">if</span> <span class=\"k\">(</span> domUtils<span class=\"k\">.</span>isEmptyNode<span class=\"k\">(</span> li <span class=\"k\">)</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                                <span class=\"k\">var</span> p <span class=\"k\">=</span> me<span class=\"k\">.</span>document<span class=\"k\">.</span>createElement<span class=\"k\">(</span> <span class=\"s\">'p'</span> <span class=\"k\">);</span>","                                pre<span class=\"k\">.</span>appendChild<span class=\"k\">(</span> p <span class=\"k\">);</span>","                                range<span class=\"k\">.</span>setStart<span class=\"k\">(</span> p<span class=\"k\">,</span> <span class=\"s\">0</span> <span class=\"k\">).</span>setCursor<span class=\"k\">();</span>","<span class=\"c\">//                                    range.setEnd(pre, pre.childNodes.length).shrinkBoundary().collapse().select(true);</span>","                            <span class=\"k\">}</span> <span class=\"k\">else</span> <span class=\"k\">{</span>","                                range<span class=\"k\">.</span>setEnd<span class=\"k\">(</span> pre<span class=\"k\">,</span> pre<span class=\"k\">.</span>childNodes<span class=\"k\">.</span>length <span class=\"k\">).</span>collapse<span class=\"k\">().</span>select<span class=\"k\">(</span> <span class=\"k\">true</span> <span class=\"k\">);</span>","                                <span class=\"k\">while</span> <span class=\"k\">(</span> li<span class=\"k\">.</span>firstChild <span class=\"k\">)</span> <span class=\"k\">{</span>","                                    pre<span class=\"k\">.</span>appendChild<span class=\"k\">(</span> li<span class=\"k\">.</span>firstChild <span class=\"k\">);</span>","                                <span class=\"k\">}</span>","","","                            <span class=\"k\">}</span>","                        <span class=\"k\">}</span>","","                        domUtils<span class=\"k\">.</span>remove<span class=\"k\">(</span> li <span class=\"k\">);</span>","","                        me<span class=\"k\">.</span>undoManger <span class=\"k\">&amp;&amp;</span> me<span class=\"k\">.</span>undoManger<span class=\"k\">.</span>save<span class=\"k\">();</span>","                        domUtils<span class=\"k\">.</span>preventDefault<span class=\"k\">(</span> evt <span class=\"k\">);</span>","                        <span class=\"k\">return</span><span class=\"k\">;</span>","","                    <span class=\"k\">}</span>","                    <span class=\"c\">//trace:980</span>","","                    <span class=\"k\">if</span> <span class=\"k\">(</span> li <span class=\"k\">&amp;&amp;</span> <span class=\"k\">!</span>li<span class=\"k\">.</span>previousSibling <span class=\"k\">)</span> <span class=\"k\">{</span>","                        first <span class=\"k\">=</span> li<span class=\"k\">.</span>firstChild<span class=\"k\">;</span>","                        <span class=\"c\">//trace:1648 &#35201;&#21028;&#26029;li&#19979;&#21482;&#26377;&#19968;&#20010;&#33410;&#28857;</span>","                        <span class=\"k\">if</span> <span class=\"k\">(</span> <span class=\"k\">!</span>first <span class=\"k\">||</span> li<span class=\"k\">.</span>lastChild <span class=\"k\">===</span> first <span class=\"k\">&amp;&amp;</span> domUtils<span class=\"k\">.</span>isEmptyNode<span class=\"k\">(</span> domUtils<span class=\"k\">.</span>isBlockElm<span class=\"k\">(</span> first <span class=\"k\">)</span> <span class=\"k\">?</span> first <span class=\"k\">:</span> li <span class=\"k\">)</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                            <span class=\"k\">var</span> p <span class=\"k\">=</span> me<span class=\"k\">.</span>document<span class=\"k\">.</span>createElement<span class=\"k\">(</span> <span class=\"s\">'p'</span> <span class=\"k\">);</span>","","                            li<span class=\"k\">.</span>parentNode<span class=\"k\">.</span>parentNode<span class=\"k\">.</span>insertBefore<span class=\"k\">(</span> p<span class=\"k\">,</span> li<span class=\"k\">.</span>parentNode <span class=\"k\">);</span>","                            domUtils<span class=\"k\">.</span>fillNode<span class=\"k\">(</span> me<span class=\"k\">.</span>document<span class=\"k\">,</span> p <span class=\"k\">);</span>","                            range<span class=\"k\">.</span>setStart<span class=\"k\">(</span> p<span class=\"k\">,</span> <span class=\"s\">0</span> <span class=\"k\">).</span>setCursor<span class=\"k\">();</span>","                            domUtils<span class=\"k\">.</span>remove<span class=\"k\">(</span> <span class=\"k\">!</span>li<span class=\"k\">.</span>nextSibling <span class=\"k\">?</span> li<span class=\"k\">.</span>parentNode <span class=\"k\">:</span> li <span class=\"k\">);</span>","                            me<span class=\"k\">.</span>undoManger <span class=\"k\">&amp;&amp;</span> me<span class=\"k\">.</span>undoManger<span class=\"k\">.</span>save<span class=\"k\">();</span>","                            domUtils<span class=\"k\">.</span>preventDefault<span class=\"k\">(</span> evt <span class=\"k\">);</span>","                            <span class=\"k\">return</span><span class=\"k\">;</span>","                        <span class=\"k\">}</span>","","","                    <span class=\"k\">}</span>","","","                <span class=\"k\">}</span>","","","            <span class=\"k\">}</span>","","        <span class=\"k\">}</span>","    <span class=\"k\">}</span> <span class=\"k\">);</span>","    me<span class=\"k\">.</span>commands<span class=\"k\">[</span><span class=\"s\">'insertorderedlist'</span><span class=\"k\">]</span> <span class=\"k\">=</span>","            me<span class=\"k\">.</span>commands<span class=\"k\">[</span><span class=\"s\">'insertunorderedlist'</span><span class=\"k\">]</span> <span class=\"k\">=</span> <span class=\"k\">{</span>","                execCommand<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">(</span> command<span class=\"k\">,</span> style <span class=\"k\">)</span> <span class=\"k\">{</span>","                    <span class=\"k\">if</span> <span class=\"k\">(</span> <span class=\"k\">!</span>style <span class=\"k\">)</span> <span class=\"k\">{</span>","                        style <span class=\"k\">=</span> command<span class=\"k\">.</span>toLowerCase<span class=\"k\">()</span> <span class=\"k\">==</span> <span class=\"s\">'insertorderedlist'</span> <span class=\"k\">?</span> <span class=\"s\">'decimal'</span> <span class=\"k\">:</span> <span class=\"s\">'disc'</span><span class=\"k\">;</span>","                    <span class=\"k\">}</span>","                    <span class=\"k\">var</span> me <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">,</span>","                            range <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>selection<span class=\"k\">.</span>getRange<span class=\"k\">(),</span>","                            filterFn <span class=\"k\">=</span> <span class=\"k\">function</span> <span class=\"k\">(</span> node <span class=\"k\">)</span> <span class=\"k\">{</span>","                                <span class=\"k\">return</span>   node<span class=\"k\">.</span>nodeType <span class=\"k\">==</span> <span class=\"s\">1</span> <span class=\"k\">?</span> node<span class=\"k\">.</span>tagName<span class=\"k\">.</span>toLowerCase<span class=\"k\">()</span> <span class=\"k\">!=</span> <span class=\"s\">'br'</span> <span class=\"k\">:</span> <span class=\"k\">!</span>domUtils<span class=\"k\">.</span>isWhitespace<span class=\"k\">(</span> node <span class=\"k\">);</span>","                            <span class=\"k\">}</span><span class=\"k\">,</span>","                            tag <span class=\"k\">=</span> command<span class=\"k\">.</span>toLowerCase<span class=\"k\">()</span> <span class=\"k\">==</span> <span class=\"s\">'insertorderedlist'</span> <span class=\"k\">?</span> <span class=\"s\">'ol'</span> <span class=\"k\">:</span> <span class=\"s\">'ul'</span><span class=\"k\">,</span>","                            frag <span class=\"k\">=</span> me<span class=\"k\">.</span>document<span class=\"k\">.</span>createDocumentFragment<span class=\"k\">();</span>","                    <span class=\"c\">//&#21435;&#25481;&#26159;&#22240;&#20026;&#20250;&#20986;&#29616;&#36873;&#21040;&#26411;&#23614;&#65292;&#23548;&#33268;adjustmentBoundary&#32553;&#21040;ol/ul&#30340;&#20301;&#32622;</span>","                    <span class=\"c\">//range.shrinkBoundary();//.adjustmentBoundary();</span>","                    range<span class=\"k\">.</span>adjustmentBoundary<span class=\"k\">().</span>shrinkBoundary<span class=\"k\">();</span>","                    <span class=\"k\">var</span> bko <span class=\"k\">=</span> range<span class=\"k\">.</span>createBookmark<span class=\"k\">(</span> <span class=\"k\">true</span> <span class=\"k\">),</span>","                            start <span class=\"k\">=</span> domUtils<span class=\"k\">.</span>findParentByTagName<span class=\"k\">(</span> me<span class=\"k\">.</span>document<span class=\"k\">.</span>getElementById<span class=\"k\">(</span> bko<span class=\"k\">.</span>start <span class=\"k\">),</span> <span class=\"s\">'li'</span> <span class=\"k\">),</span>","                            modifyStart <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">,</span>","                            end <span class=\"k\">=</span> domUtils<span class=\"k\">.</span>findParentByTagName<span class=\"k\">(</span> me<span class=\"k\">.</span>document<span class=\"k\">.</span>getElementById<span class=\"k\">(</span> bko<span class=\"k\">.</span>end <span class=\"k\">),</span> <span class=\"s\">'li'</span> <span class=\"k\">),</span>","                            modifyEnd <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">,</span>","                            startParent<span class=\"k\">,</span> endParent<span class=\"k\">,</span>","                            list<span class=\"k\">,</span> tmp<span class=\"k\">;</span>","","                    <span class=\"k\">if</span> <span class=\"k\">(</span> start <span class=\"k\">||</span> end <span class=\"k\">)</span> <span class=\"k\">{</span>","                        start <span class=\"k\">&amp;&amp;</span> <span class=\"k\">(</span>startParent <span class=\"k\">=</span> start<span class=\"k\">.</span>parentNode<span class=\"k\">);</span>","                        <span class=\"k\">if</span> <span class=\"k\">(</span> <span class=\"k\">!</span>bko<span class=\"k\">.</span>end <span class=\"k\">)</span> <span class=\"k\">{</span>","                            end <span class=\"k\">=</span> start<span class=\"k\">;</span>","                        <span class=\"k\">}</span>","                        end <span class=\"k\">&amp;&amp;</span> <span class=\"k\">(</span>endParent <span class=\"k\">=</span> end<span class=\"k\">.</span>parentNode<span class=\"k\">);</span>","","                        <span class=\"k\">if</span> <span class=\"k\">(</span> startParent <span class=\"k\">===</span> endParent <span class=\"k\">)</span> <span class=\"k\">{</span>","                            <span class=\"k\">while</span> <span class=\"k\">(</span> start <span class=\"k\">!==</span> end <span class=\"k\">)</span> <span class=\"k\">{</span>","                                tmp <span class=\"k\">=</span> start<span class=\"k\">;</span>","                                start <span class=\"k\">=</span> start<span class=\"k\">.</span>nextSibling<span class=\"k\">;</span>","                                <span class=\"k\">if</span> <span class=\"k\">(</span> <span class=\"k\">!</span>domUtils<span class=\"k\">.</span>isBlockElm<span class=\"k\">(</span> tmp<span class=\"k\">.</span>firstChild <span class=\"k\">)</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                                    <span class=\"k\">var</span> p <span class=\"k\">=</span> me<span class=\"k\">.</span>document<span class=\"k\">.</span>createElement<span class=\"k\">(</span> <span class=\"s\">'p'</span> <span class=\"k\">);</span>","                                    <span class=\"k\">while</span> <span class=\"k\">(</span> tmp<span class=\"k\">.</span>firstChild <span class=\"k\">)</span> <span class=\"k\">{</span>","                                        p<span class=\"k\">.</span>appendChild<span class=\"k\">(</span> tmp<span class=\"k\">.</span>firstChild <span class=\"k\">);</span>","                                    <span class=\"k\">}</span>","                                    tmp<span class=\"k\">.</span>appendChild<span class=\"k\">(</span> p <span class=\"k\">);</span>","                                <span class=\"k\">}</span>","                                frag<span class=\"k\">.</span>appendChild<span class=\"k\">(</span> tmp <span class=\"k\">);</span>","                            <span class=\"k\">}</span>","                            tmp <span class=\"k\">=</span> me<span class=\"k\">.</span>document<span class=\"k\">.</span>createElement<span class=\"k\">(</span> <span class=\"s\">'span'</span> <span class=\"k\">);</span>","                            startParent<span class=\"k\">.</span>insertBefore<span class=\"k\">(</span> tmp<span class=\"k\">,</span> end <span class=\"k\">);</span>","                            <span class=\"k\">if</span> <span class=\"k\">(</span> <span class=\"k\">!</span>domUtils<span class=\"k\">.</span>isBlockElm<span class=\"k\">(</span> end<span class=\"k\">.</span>firstChild <span class=\"k\">)</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                                p <span class=\"k\">=</span> me<span class=\"k\">.</span>document<span class=\"k\">.</span>createElement<span class=\"k\">(</span> <span class=\"s\">'p'</span> <span class=\"k\">);</span>","                                <span class=\"k\">while</span> <span class=\"k\">(</span> end<span class=\"k\">.</span>firstChild <span class=\"k\">)</span> <span class=\"k\">{</span>","                                    p<span class=\"k\">.</span>appendChild<span class=\"k\">(</span> end<span class=\"k\">.</span>firstChild <span class=\"k\">);</span>","                                <span class=\"k\">}</span>","                                end<span class=\"k\">.</span>appendChild<span class=\"k\">(</span> p <span class=\"k\">);</span>","                            <span class=\"k\">}</span>","                            frag<span class=\"k\">.</span>appendChild<span class=\"k\">(</span> end <span class=\"k\">);</span>","                            domUtils<span class=\"k\">.</span>breakParent<span class=\"k\">(</span> tmp<span class=\"k\">,</span> startParent <span class=\"k\">);</span>","                            <span class=\"k\">if</span> <span class=\"k\">(</span> domUtils<span class=\"k\">.</span>isEmptyNode<span class=\"k\">(</span> tmp<span class=\"k\">.</span>previousSibling <span class=\"k\">)</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                                domUtils<span class=\"k\">.</span>remove<span class=\"k\">(</span> tmp<span class=\"k\">.</span>previousSibling <span class=\"k\">);</span>","                            <span class=\"k\">}</span>","                            <span class=\"k\">if</span> <span class=\"k\">(</span> domUtils<span class=\"k\">.</span>isEmptyNode<span class=\"k\">(</span> tmp<span class=\"k\">.</span>nextSibling <span class=\"k\">)</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                                domUtils<span class=\"k\">.</span>remove<span class=\"k\">(</span> tmp<span class=\"k\">.</span>nextSibling <span class=\"k\">)</span>","                            <span class=\"k\">}</span>","                            <span class=\"k\">var</span> nodeStyle <span class=\"k\">=</span> domUtils<span class=\"k\">.</span>getComputedStyle<span class=\"k\">(</span> startParent<span class=\"k\">,</span> <span class=\"s\">'list-style-type'</span> <span class=\"k\">)</span> <span class=\"k\">||</span> <span class=\"k\">(</span>command<span class=\"k\">.</span>toLowerCase<span class=\"k\">()</span> <span class=\"k\">==</span> <span class=\"s\">'insertorderedlist'</span> <span class=\"k\">?</span> <span class=\"s\">'decimal'</span> <span class=\"k\">:</span> <span class=\"s\">'disc'</span><span class=\"k\">);</span>","                            <span class=\"k\">if</span> <span class=\"k\">(</span> startParent<span class=\"k\">.</span>tagName<span class=\"k\">.</span>toLowerCase<span class=\"k\">()</span> <span class=\"k\">==</span> tag <span class=\"k\">&amp;&amp;</span> nodeStyle <span class=\"k\">==</span> style <span class=\"k\">)</span> <span class=\"k\">{</span>","                                <span class=\"k\">for</span> <span class=\"k\">(</span> <span class=\"k\">var</span> i <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">,</span> ci<span class=\"k\">,</span> tmpFrag <span class=\"k\">=</span> me<span class=\"k\">.</span>document<span class=\"k\">.</span>createDocumentFragment<span class=\"k\">();</span> ci <span class=\"k\">=</span> frag<span class=\"k\">.</span>childNodes<span class=\"k\">[</span>i<span class=\"k\">++];</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                                    <span class=\"k\">while</span> <span class=\"k\">(</span> ci<span class=\"k\">.</span>firstChild <span class=\"k\">)</span> <span class=\"k\">{</span>","                                        tmpFrag<span class=\"k\">.</span>appendChild<span class=\"k\">(</span> ci<span class=\"k\">.</span>firstChild <span class=\"k\">);</span>","                                    <span class=\"k\">}</span>","","                                <span class=\"k\">}</span>","                                tmp<span class=\"k\">.</span>parentNode<span class=\"k\">.</span>insertBefore<span class=\"k\">(</span> tmpFrag<span class=\"k\">,</span> tmp <span class=\"k\">);</span>","                            <span class=\"k\">}</span> <span class=\"k\">else</span> <span class=\"k\">{</span>","                                list <span class=\"k\">=</span> me<span class=\"k\">.</span>document<span class=\"k\">.</span>createElement<span class=\"k\">(</span> tag <span class=\"k\">);</span>","                                domUtils<span class=\"k\">.</span>setStyle<span class=\"k\">(</span> list<span class=\"k\">,</span> <span class=\"s\">'list-style-type'</span><span class=\"k\">,</span> style <span class=\"k\">);</span>","                                list<span class=\"k\">.</span>appendChild<span class=\"k\">(</span> frag <span class=\"k\">);</span>","                                tmp<span class=\"k\">.</span>parentNode<span class=\"k\">.</span>insertBefore<span class=\"k\">(</span> list<span class=\"k\">,</span> tmp <span class=\"k\">);</span>","                            <span class=\"k\">}</span>","","                            domUtils<span class=\"k\">.</span>remove<span class=\"k\">(</span> tmp <span class=\"k\">);</span>","                            list <span class=\"k\">&amp;&amp;</span> adjustList<span class=\"k\">(</span> list<span class=\"k\">,</span> tag<span class=\"k\">,</span> style <span class=\"k\">);</span>","                            range<span class=\"k\">.</span>moveToBookmark<span class=\"k\">(</span> bko <span class=\"k\">).</span>select<span class=\"k\">();</span>","                            <span class=\"k\">return</span><span class=\"k\">;</span>","                        <span class=\"k\">}</span>","                        <span class=\"c\">//&#24320;&#22987;</span>","                        <span class=\"k\">if</span> <span class=\"k\">(</span> start <span class=\"k\">)</span> <span class=\"k\">{</span>","                            <span class=\"k\">while</span> <span class=\"k\">(</span> start <span class=\"k\">)</span> <span class=\"k\">{</span>","                                tmp <span class=\"k\">=</span> start<span class=\"k\">.</span>nextSibling<span class=\"k\">;</span>","                                <span class=\"k\">var</span> tmpfrag <span class=\"k\">=</span> me<span class=\"k\">.</span>document<span class=\"k\">.</span>createDocumentFragment<span class=\"k\">(),</span>","                                        hasBlock <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">;</span>","                                <span class=\"k\">while</span> <span class=\"k\">(</span> start<span class=\"k\">.</span>firstChild <span class=\"k\">)</span> <span class=\"k\">{</span>","                                    <span class=\"k\">if</span> <span class=\"k\">(</span> domUtils<span class=\"k\">.</span>isBlockElm<span class=\"k\">(</span> start<span class=\"k\">.</span>firstChild <span class=\"k\">)</span> <span class=\"k\">)</span><span class=\"k\">{</span>","                                        hasBlock <span class=\"k\">=</span> <span class=\"s\">1</span><span class=\"k\">;</span>","                                    <span class=\"k\">}</span>","                                    tmpfrag<span class=\"k\">.</span>appendChild<span class=\"k\">(</span> start<span class=\"k\">.</span>firstChild <span class=\"k\">);</span>","                                <span class=\"k\">}</span>","                                <span class=\"k\">if</span> <span class=\"k\">(</span> <span class=\"k\">!</span>hasBlock <span class=\"k\">)</span> <span class=\"k\">{</span>","                                    <span class=\"k\">var</span> tmpP <span class=\"k\">=</span> me<span class=\"k\">.</span>document<span class=\"k\">.</span>createElement<span class=\"k\">(</span> <span class=\"s\">'p'</span> <span class=\"k\">);</span>","                                    tmpP<span class=\"k\">.</span>appendChild<span class=\"k\">(</span> tmpfrag <span class=\"k\">);</span>","                                    frag<span class=\"k\">.</span>appendChild<span class=\"k\">(</span> tmpP <span class=\"k\">);</span>","                                <span class=\"k\">}</span> <span class=\"k\">else</span> <span class=\"k\">{</span>","                                    frag<span class=\"k\">.</span>appendChild<span class=\"k\">(</span> tmpfrag <span class=\"k\">);</span>","                                <span class=\"k\">}</span>","                                domUtils<span class=\"k\">.</span>remove<span class=\"k\">(</span> start <span class=\"k\">);</span>","                                start <span class=\"k\">=</span> tmp<span class=\"k\">;</span>","                            <span class=\"k\">}</span>","                            startParent<span class=\"k\">.</span>parentNode<span class=\"k\">.</span>insertBefore<span class=\"k\">(</span> frag<span class=\"k\">,</span> startParent<span class=\"k\">.</span>nextSibling <span class=\"k\">);</span>","                            <span class=\"k\">if</span> <span class=\"k\">(</span> domUtils<span class=\"k\">.</span>isEmptyNode<span class=\"k\">(</span> startParent <span class=\"k\">)</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                                range<span class=\"k\">.</span>setStartBefore<span class=\"k\">(</span> startParent <span class=\"k\">);</span>","                                domUtils<span class=\"k\">.</span>remove<span class=\"k\">(</span> startParent <span class=\"k\">);</span>","                            <span class=\"k\">}</span> <span class=\"k\">else</span> <span class=\"k\">{</span>","                                range<span class=\"k\">.</span>setStartAfter<span class=\"k\">(</span> startParent <span class=\"k\">);</span>","                            <span class=\"k\">}</span>","","","                            modifyStart <span class=\"k\">=</span> <span class=\"s\">1</span><span class=\"k\">;</span>","                        <span class=\"k\">}</span>","","                        <span class=\"k\">if</span> <span class=\"k\">(</span> end <span class=\"k\">)</span> <span class=\"k\">{</span>","                            <span class=\"c\">//&#32467;&#26463;</span>","                            start <span class=\"k\">=</span> endParent<span class=\"k\">.</span>firstChild<span class=\"k\">;</span>","                            <span class=\"k\">while</span> <span class=\"k\">(</span> start <span class=\"k\">!==</span> end <span class=\"k\">)</span> <span class=\"k\">{</span>","                                tmp <span class=\"k\">=</span> start<span class=\"k\">.</span>nextSibling<span class=\"k\">;</span>","","                                tmpfrag <span class=\"k\">=</span> me<span class=\"k\">.</span>document<span class=\"k\">.</span>createDocumentFragment<span class=\"k\">();</span>","                                hasBlock <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">;</span>","                                <span class=\"k\">while</span> <span class=\"k\">(</span> start<span class=\"k\">.</span>firstChild <span class=\"k\">)</span> <span class=\"k\">{</span>","                                    <span class=\"k\">if</span> <span class=\"k\">(</span> domUtils<span class=\"k\">.</span>isBlockElm<span class=\"k\">(</span> start<span class=\"k\">.</span>firstChild <span class=\"k\">)</span> <span class=\"k\">)</span><span class=\"k\">{</span>","                                        hasBlock <span class=\"k\">=</span> <span class=\"s\">1</span><span class=\"k\">;</span>","                                    <span class=\"k\">}</span>","                                    tmpfrag<span class=\"k\">.</span>appendChild<span class=\"k\">(</span> start<span class=\"k\">.</span>firstChild <span class=\"k\">);</span>","                                <span class=\"k\">}</span>","                                <span class=\"k\">if</span> <span class=\"k\">(</span> <span class=\"k\">!</span>hasBlock <span class=\"k\">)</span> <span class=\"k\">{</span>","                                    tmpP <span class=\"k\">=</span> me<span class=\"k\">.</span>document<span class=\"k\">.</span>createElement<span class=\"k\">(</span> <span class=\"s\">'p'</span> <span class=\"k\">);</span>","                                    tmpP<span class=\"k\">.</span>appendChild<span class=\"k\">(</span> tmpfrag <span class=\"k\">);</span>","                                    frag<span class=\"k\">.</span>appendChild<span class=\"k\">(</span> tmpP <span class=\"k\">);</span>","                                <span class=\"k\">}</span> <span class=\"k\">else</span> <span class=\"k\">{</span>","                                    frag<span class=\"k\">.</span>appendChild<span class=\"k\">(</span> tmpfrag <span class=\"k\">);</span>","                                <span class=\"k\">}</span>","                                domUtils<span class=\"k\">.</span>remove<span class=\"k\">(</span> start <span class=\"k\">);</span>","                                start <span class=\"k\">=</span> tmp<span class=\"k\">;</span>","                            <span class=\"k\">}</span>","                            frag<span class=\"k\">.</span>appendChild<span class=\"k\">(</span> end<span class=\"k\">.</span>firstChild <span class=\"k\">);</span>","                            domUtils<span class=\"k\">.</span>remove<span class=\"k\">(</span> end <span class=\"k\">);</span>","                            endParent<span class=\"k\">.</span>parentNode<span class=\"k\">.</span>insertBefore<span class=\"k\">(</span> frag<span class=\"k\">,</span> endParent <span class=\"k\">);</span>","                            range<span class=\"k\">.</span>setEndBefore<span class=\"k\">(</span> endParent <span class=\"k\">);</span>","                            <span class=\"k\">if</span> <span class=\"k\">(</span> domUtils<span class=\"k\">.</span>isEmptyNode<span class=\"k\">(</span> endParent <span class=\"k\">)</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                                domUtils<span class=\"k\">.</span>remove<span class=\"k\">(</span> endParent <span class=\"k\">);</span>","                            <span class=\"k\">}</span>","","                            modifyEnd <span class=\"k\">=</span> <span class=\"s\">1</span><span class=\"k\">;</span>","                        <span class=\"k\">}</span>","","","                    <span class=\"k\">}</span>","","                    <span class=\"k\">if</span> <span class=\"k\">(</span> <span class=\"k\">!</span>modifyStart <span class=\"k\">)</span> <span class=\"k\">{</span>","                        range<span class=\"k\">.</span>setStartBefore<span class=\"k\">(</span> me<span class=\"k\">.</span>document<span class=\"k\">.</span>getElementById<span class=\"k\">(</span> bko<span class=\"k\">.</span>start <span class=\"k\">)</span> <span class=\"k\">);</span>","                    <span class=\"k\">}</span>","                    <span class=\"k\">if</span> <span class=\"k\">(</span> bko<span class=\"k\">.</span>end <span class=\"k\">&amp;&amp;</span> <span class=\"k\">!</span>modifyEnd <span class=\"k\">)</span> <span class=\"k\">{</span>","                        range<span class=\"k\">.</span>setEndAfter<span class=\"k\">(</span> me<span class=\"k\">.</span>document<span class=\"k\">.</span>getElementById<span class=\"k\">(</span> bko<span class=\"k\">.</span>end <span class=\"k\">)</span> <span class=\"k\">);</span>","                    <span class=\"k\">}</span>","                    range<span class=\"k\">.</span>enlarge<span class=\"k\">(</span> <span class=\"k\">true</span><span class=\"k\">,</span> <span class=\"k\">function</span> <span class=\"k\">(</span> node <span class=\"k\">)</span> <span class=\"k\">{</span>","                        <span class=\"k\">return</span> notExchange<span class=\"k\">[</span>node<span class=\"k\">.</span>tagName<span class=\"k\">];</span>","                    <span class=\"k\">}</span> <span class=\"k\">);</span>","","                    frag <span class=\"k\">=</span> me<span class=\"k\">.</span>document<span class=\"k\">.</span>createDocumentFragment<span class=\"k\">();</span>","","                    <span class=\"k\">var</span> bk <span class=\"k\">=</span> range<span class=\"k\">.</span>createBookmark<span class=\"k\">(),</span>","                            current <span class=\"k\">=</span> domUtils<span class=\"k\">.</span>getNextDomNode<span class=\"k\">(</span> bk<span class=\"k\">.</span>start<span class=\"k\">,</span> <span class=\"k\">false</span><span class=\"k\">,</span> filterFn <span class=\"k\">),</span>","                            tmpRange <span class=\"k\">=</span> range<span class=\"k\">.</span>cloneRange<span class=\"k\">(),</span>","                            tmpNode<span class=\"k\">,</span>","                            block <span class=\"k\">=</span> domUtils<span class=\"k\">.</span>isBlockElm<span class=\"k\">;</span>","","                    <span class=\"k\">while</span> <span class=\"k\">(</span> current <span class=\"k\">&amp;&amp;</span> current <span class=\"k\">!==</span> bk<span class=\"k\">.</span>end <span class=\"k\">&amp;&amp;</span> <span class=\"k\">(</span>domUtils<span class=\"k\">.</span>getPosition<span class=\"k\">(</span> current<span class=\"k\">,</span> bk<span class=\"k\">.</span>end <span class=\"k\">)</span> <span class=\"k\">&amp;</span> domUtils<span class=\"k\">.</span>POSITION_PRECEDING<span class=\"k\">)</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","","                        <span class=\"k\">if</span> <span class=\"k\">(</span> current<span class=\"k\">.</span>nodeType <span class=\"k\">==</span> <span class=\"s\">3</span> <span class=\"k\">||</span> dtd<span class=\"k\">.</span>li<span class=\"k\">[</span>current<span class=\"k\">.</span>tagName<span class=\"k\">]</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                            <span class=\"k\">if</span> <span class=\"k\">(</span> current<span class=\"k\">.</span>nodeType <span class=\"k\">==</span> <span class=\"s\">1</span> <span class=\"k\">&amp;&amp;</span> dtd<span class=\"k\">.</span>$list<span class=\"k\">[</span>current<span class=\"k\">.</span>tagName<span class=\"k\">]</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                                <span class=\"k\">while</span> <span class=\"k\">(</span> current<span class=\"k\">.</span>firstChild <span class=\"k\">)</span> <span class=\"k\">{</span>","                                    frag<span class=\"k\">.</span>appendChild<span class=\"k\">(</span> current<span class=\"k\">.</span>firstChild <span class=\"k\">);</span>","                                <span class=\"k\">}</span>","                                tmpNode <span class=\"k\">=</span> domUtils<span class=\"k\">.</span>getNextDomNode<span class=\"k\">(</span> current<span class=\"k\">,</span> <span class=\"k\">false</span><span class=\"k\">,</span> filterFn <span class=\"k\">);</span>","                                domUtils<span class=\"k\">.</span>remove<span class=\"k\">(</span> current <span class=\"k\">);</span>","                                current <span class=\"k\">=</span> tmpNode<span class=\"k\">;</span>","                                <span class=\"k\">continue</span><span class=\"k\">;</span>","","                            <span class=\"k\">}</span>","                            tmpNode <span class=\"k\">=</span> current<span class=\"k\">;</span>","                            tmpRange<span class=\"k\">.</span>setStartBefore<span class=\"k\">(</span> current <span class=\"k\">);</span>","","                            <span class=\"k\">while</span> <span class=\"k\">(</span> current <span class=\"k\">&amp;&amp;</span> current <span class=\"k\">!==</span> bk<span class=\"k\">.</span>end <span class=\"k\">&amp;&amp;</span> <span class=\"k\">(!</span>block<span class=\"k\">(</span> current <span class=\"k\">)</span> <span class=\"k\">||</span> domUtils<span class=\"k\">.</span>isBookmarkNode<span class=\"k\">(</span> current <span class=\"k\">)</span> <span class=\"k\">)</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                                tmpNode <span class=\"k\">=</span> current<span class=\"k\">;</span>","                                current <span class=\"k\">=</span> domUtils<span class=\"k\">.</span>getNextDomNode<span class=\"k\">(</span> current<span class=\"k\">,</span> <span class=\"k\">false</span><span class=\"k\">,</span> <span class=\"k\">null</span><span class=\"k\">,</span> <span class=\"k\">function</span> <span class=\"k\">(</span> node <span class=\"k\">)</span> <span class=\"k\">{</span>","                                    <span class=\"k\">return</span> <span class=\"k\">!</span>notExchange<span class=\"k\">[</span>node<span class=\"k\">.</span>tagName<span class=\"k\">];</span>","                                <span class=\"k\">}</span> <span class=\"k\">);</span>","                            <span class=\"k\">}</span>","","                            <span class=\"k\">if</span> <span class=\"k\">(</span> current <span class=\"k\">&amp;&amp;</span> block<span class=\"k\">(</span> current <span class=\"k\">)</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                                tmp <span class=\"k\">=</span> domUtils<span class=\"k\">.</span>getNextDomNode<span class=\"k\">(</span> tmpNode<span class=\"k\">,</span> <span class=\"k\">false</span><span class=\"k\">,</span> filterFn <span class=\"k\">);</span>","                                <span class=\"k\">if</span> <span class=\"k\">(</span> tmp <span class=\"k\">&amp;&amp;</span> domUtils<span class=\"k\">.</span>isBookmarkNode<span class=\"k\">(</span> tmp <span class=\"k\">)</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                                    current <span class=\"k\">=</span> domUtils<span class=\"k\">.</span>getNextDomNode<span class=\"k\">(</span> tmp<span class=\"k\">,</span> <span class=\"k\">false</span><span class=\"k\">,</span> filterFn <span class=\"k\">);</span>","                                    tmpNode <span class=\"k\">=</span> tmp<span class=\"k\">;</span>","                                <span class=\"k\">}</span>","                            <span class=\"k\">}</span>","                            tmpRange<span class=\"k\">.</span>setEndAfter<span class=\"k\">(</span> tmpNode <span class=\"k\">);</span>","","                            current <span class=\"k\">=</span> domUtils<span class=\"k\">.</span>getNextDomNode<span class=\"k\">(</span> tmpNode<span class=\"k\">,</span> <span class=\"k\">false</span><span class=\"k\">,</span> filterFn <span class=\"k\">);</span>","","                            <span class=\"k\">var</span> li <span class=\"k\">=</span> range<span class=\"k\">.</span>document<span class=\"k\">.</span>createElement<span class=\"k\">(</span> <span class=\"s\">'li'</span> <span class=\"k\">);</span>","","                            li<span class=\"k\">.</span>appendChild<span class=\"k\">(</span> tmpRange<span class=\"k\">.</span>extractContents<span class=\"k\">()</span> <span class=\"k\">);</span>","                            frag<span class=\"k\">.</span>appendChild<span class=\"k\">(</span> li <span class=\"k\">);</span>","","","                        <span class=\"k\">}</span> <span class=\"k\">else</span> <span class=\"k\">{</span>","","                            current <span class=\"k\">=</span> domUtils<span class=\"k\">.</span>getNextDomNode<span class=\"k\">(</span> current<span class=\"k\">,</span> <span class=\"k\">true</span><span class=\"k\">,</span> filterFn <span class=\"k\">);</span>","                        <span class=\"k\">}</span>","                    <span class=\"k\">}</span>","                    range<span class=\"k\">.</span>moveToBookmark<span class=\"k\">(</span> bk <span class=\"k\">).</span>collapse<span class=\"k\">(</span> <span class=\"k\">true</span> <span class=\"k\">);</span>","                    list <span class=\"k\">=</span> me<span class=\"k\">.</span>document<span class=\"k\">.</span>createElement<span class=\"k\">(</span> tag <span class=\"k\">);</span>","                    domUtils<span class=\"k\">.</span>setStyle<span class=\"k\">(</span> list<span class=\"k\">,</span> <span class=\"s\">'list-style-type'</span><span class=\"k\">,</span> style <span class=\"k\">);</span>","                    list<span class=\"k\">.</span>appendChild<span class=\"k\">(</span> frag <span class=\"k\">);</span>","                    range<span class=\"k\">.</span>insertNode<span class=\"k\">(</span> list <span class=\"k\">);</span>","                    <span class=\"c\">//&#24403;&#21069;list&#19978;&#19979;&#30475;&#33021;&#21542;&#21512;&#24182;</span>","                    adjustList<span class=\"k\">(</span> list<span class=\"k\">,</span> tag<span class=\"k\">,</span> style <span class=\"k\">);</span>","                    range<span class=\"k\">.</span>moveToBookmark<span class=\"k\">(</span> bko <span class=\"k\">).</span>select<span class=\"k\">();</span>","","                <span class=\"k\">}</span><span class=\"k\">,</span>","                queryCommandState<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">(</span> command <span class=\"k\">)</span> <span class=\"k\">{</span>","                    <span class=\"k\">return</span> <span class=\"k\">this</span><span class=\"k\">.</span>highlight <span class=\"k\">?</span> <span class=\"k\">-</span><span class=\"s\">1</span> <span class=\"k\">:</span>","                            utils<span class=\"k\">.</span>findNode<span class=\"k\">(</span> <span class=\"k\">this</span><span class=\"k\">.</span>selection<span class=\"k\">.</span>getStartElementPath<span class=\"k\">(),</span> <span class=\"k\">[</span>command<span class=\"k\">.</span>toLowerCase<span class=\"k\">()</span> <span class=\"k\">==</span> <span class=\"s\">'insertorderedlist'</span> <span class=\"k\">?</span> <span class=\"s\">'ol'</span> <span class=\"k\">:</span> <span class=\"s\">'ul'</span><span class=\"k\">]</span> <span class=\"k\">)</span> <span class=\"k\">?</span> <span class=\"s\">1</span> <span class=\"k\">:</span> <span class=\"s\">0</span><span class=\"k\">;</span>","                <span class=\"k\">}</span><span class=\"k\">,</span>","                queryCommandValue<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">(</span> command <span class=\"k\">)</span> <span class=\"k\">{</span>","                    <span class=\"k\">var</span> node <span class=\"k\">=</span> utils<span class=\"k\">.</span>findNode<span class=\"k\">(</span> <span class=\"k\">this</span><span class=\"k\">.</span>selection<span class=\"k\">.</span>getStartElementPath<span class=\"k\">(),</span> <span class=\"k\">[</span>command<span class=\"k\">.</span>toLowerCase<span class=\"k\">()</span> <span class=\"k\">==</span> <span class=\"s\">'insertorderedlist'</span> <span class=\"k\">?</span> <span class=\"s\">'ol'</span> <span class=\"k\">:</span> <span class=\"s\">'ul'</span><span class=\"k\">]</span> <span class=\"k\">);</span>","                    <span class=\"k\">return</span> node <span class=\"k\">?</span> domUtils<span class=\"k\">.</span>getComputedStyle<span class=\"k\">(</span> node<span class=\"k\">,</span> <span class=\"s\">'list-style-type'</span> <span class=\"k\">)</span> <span class=\"k\">:</span> <span class=\"k\">null</span><span class=\"k\">;</span>","                <span class=\"k\">}</span>","            <span class=\"k\">}</span><span class=\"k\">;</span>","<span class=\"k\">}</span><span class=\"k\">;</span>",""]);
_$jscoverage['plugins/map.js'] && (_$jscoverage['plugins/map.js'].source = ["<span class=\"c\">///import core</span>","<span class=\"c\">///import plugins\\inserthtml.js</span>","<span class=\"c\">///commands &#22320;&#22270;</span>","<span class=\"c\">///commandsName  Map,GMap</span>","<span class=\"c\">///commandsTitle  Baidu&#22320;&#22270;,Google&#22320;&#22270;</span>","<span class=\"c\">///commandsDialog  dialogs\\map\\map.html,dialogs\\gmap\\gmap.html</span>","UE<span class=\"k\">.</span>commands<span class=\"k\">[</span><span class=\"s\">'gmap'</span><span class=\"k\">]</span> <span class=\"k\">=</span>","UE<span class=\"k\">.</span>commands<span class=\"k\">[</span><span class=\"s\">'map'</span><span class=\"k\">]</span> <span class=\"k\">=</span> <span class=\"k\">{</span>","     queryCommandState <span class=\"k\">:</span> <span class=\"k\">function</span><span class=\"k\">()</span><span class=\"k\">{</span>","        <span class=\"k\">return</span> <span class=\"k\">this</span><span class=\"k\">.</span>highlight <span class=\"k\">?</span> <span class=\"k\">-</span><span class=\"s\">1</span> <span class=\"k\">:</span><span class=\"s\">0</span><span class=\"k\">;</span>","    <span class=\"k\">}</span>","<span class=\"k\">}</span><span class=\"k\">;</span>"]);
_$jscoverage['plugins/pagebreak.js'] && (_$jscoverage['plugins/pagebreak.js'].source = ["<span class=\"c\">///import core</span>","<span class=\"c\">///commands &#28155;&#21152;&#20998;&#39029;&#21151;&#33021;</span>","<span class=\"c\">///commandsName  PageBreak</span>","<span class=\"c\">///commandsTitle  &#20998;&#39029;</span>","<span class=\"c\">/**</span>","<span class=\"c\"> * @description &#28155;&#21152;&#20998;&#39029;&#21151;&#33021;</span>","<span class=\"c\"> * @author zhanyi</span>","<span class=\"c\"> */</span>","UE<span class=\"k\">.</span>plugins<span class=\"k\">[</span><span class=\"s\">'pagebreak'</span><span class=\"k\">]</span> <span class=\"k\">=</span> <span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","    <span class=\"k\">var</span> me <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">,</span>","        notBreakTags <span class=\"k\">=</span> <span class=\"k\">[</span><span class=\"s\">'td'</span><span class=\"k\">];</span>","","    <span class=\"k\">function</span> fillNode<span class=\"k\">(</span>node<span class=\"k\">)</span><span class=\"k\">{</span>","        <span class=\"k\">if</span><span class=\"k\">(</span>domUtils<span class=\"k\">.</span>isEmptyBlock<span class=\"k\">(</span>node<span class=\"k\">))</span><span class=\"k\">{</span>","            <span class=\"k\">var</span> firstChild <span class=\"k\">=</span> node<span class=\"k\">.</span>firstChild<span class=\"k\">,</span>tmpNode<span class=\"k\">;</span>","","            <span class=\"k\">while</span><span class=\"k\">(</span>firstChild <span class=\"k\">&amp;&amp;</span> firstChild<span class=\"k\">.</span>nodeType <span class=\"k\">==</span> <span class=\"s\">1</span> <span class=\"k\">&amp;&amp;</span> domUtils<span class=\"k\">.</span>isEmptyBlock<span class=\"k\">(</span>firstChild<span class=\"k\">))</span><span class=\"k\">{</span>","                tmpNode <span class=\"k\">=</span> firstChild<span class=\"k\">;</span>","                firstChild <span class=\"k\">=</span> firstChild<span class=\"k\">.</span>firstChild<span class=\"k\">;</span>","            <span class=\"k\">}</span>","            <span class=\"k\">!</span>tmpNode <span class=\"k\">&amp;&amp;</span> <span class=\"k\">(</span>tmpNode <span class=\"k\">=</span> node<span class=\"k\">);</span>","            domUtils<span class=\"k\">.</span>fillNode<span class=\"k\">(</span>me<span class=\"k\">.</span>document<span class=\"k\">,</span>tmpNode<span class=\"k\">);</span>","        <span class=\"k\">}</span>","    <span class=\"k\">}</span>","    <span class=\"c\">//&#20998;&#39029;&#31526;&#26679;&#24335;&#28155;&#21152;</span>","","    me<span class=\"k\">.</span>ready<span class=\"k\">(</span><span class=\"k\">function</span><span class=\"k\">()</span><span class=\"k\">{</span>","        utils<span class=\"k\">.</span>cssRule<span class=\"k\">(</span><span class=\"s\">'pagebreak'</span><span class=\"k\">,</span><span class=\"s\">'.pagebreak{display:block;clear:both !important;cursor:default !important;width: 100% !important;margin:0;}'</span><span class=\"k\">,</span>me<span class=\"k\">.</span>document<span class=\"k\">);</span>","    <span class=\"k\">}</span><span class=\"k\">);</span>","    <span class=\"k\">function</span> isHr<span class=\"k\">(</span>node<span class=\"k\">)</span><span class=\"k\">{</span>","        <span class=\"k\">return</span> node <span class=\"k\">&amp;&amp;</span> node<span class=\"k\">.</span>nodeType <span class=\"k\">==</span> <span class=\"s\">1</span> <span class=\"k\">&amp;&amp;</span> node<span class=\"k\">.</span>tagName <span class=\"k\">==</span> <span class=\"s\">'HR'</span> <span class=\"k\">&amp;&amp;</span> node<span class=\"k\">.</span>className <span class=\"k\">==</span> <span class=\"s\">'pagebreak'</span><span class=\"k\">;</span>","    <span class=\"k\">}</span>","    me<span class=\"k\">.</span>commands<span class=\"k\">[</span><span class=\"s\">'pagebreak'</span><span class=\"k\">]</span> <span class=\"k\">=</span> <span class=\"k\">{</span>","        execCommand<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","            <span class=\"k\">var</span> range <span class=\"k\">=</span> me<span class=\"k\">.</span>selection<span class=\"k\">.</span>getRange<span class=\"k\">(),</span>hr <span class=\"k\">=</span> me<span class=\"k\">.</span>document<span class=\"k\">.</span>createElement<span class=\"k\">(</span><span class=\"s\">'hr'</span><span class=\"k\">);</span>","            domUtils<span class=\"k\">.</span>setAttributes<span class=\"k\">(</span>hr<span class=\"k\">,</span><span class=\"k\">{</span>","                <span class=\"s\">'class'</span> <span class=\"k\">:</span> <span class=\"s\">'pagebreak'</span><span class=\"k\">,</span>","                noshade<span class=\"k\">:</span><span class=\"s\">\"noshade\"</span><span class=\"k\">,</span>","                size<span class=\"k\">:</span><span class=\"s\">\"5\"</span>","            <span class=\"k\">}</span><span class=\"k\">);</span>","            domUtils<span class=\"k\">.</span>unSelectable<span class=\"k\">(</span>hr<span class=\"k\">);</span>","            <span class=\"c\">//table&#21333;&#29420;&#22788;&#29702;</span>","            <span class=\"k\">var</span> node <span class=\"k\">=</span> domUtils<span class=\"k\">.</span>findParentByTagName<span class=\"k\">(</span>range<span class=\"k\">.</span>startContainer<span class=\"k\">,</span> notBreakTags<span class=\"k\">,</span> <span class=\"k\">true</span><span class=\"k\">),</span>","","                parents <span class=\"k\">=</span> <span class=\"k\">[],</span> pN<span class=\"k\">;</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span>node<span class=\"k\">)</span> <span class=\"k\">{</span>","                <span class=\"k\">switch</span> <span class=\"k\">(</span>node<span class=\"k\">.</span>tagName<span class=\"k\">)</span> <span class=\"k\">{</span>","                    <span class=\"k\">case</span> <span class=\"s\">'TD'</span><span class=\"k\">:</span>","                        pN <span class=\"k\">=</span> node<span class=\"k\">.</span>parentNode<span class=\"k\">;</span>","                        <span class=\"k\">if</span> <span class=\"k\">(!</span>pN<span class=\"k\">.</span>previousSibling<span class=\"k\">)</span> <span class=\"k\">{</span>","                            <span class=\"k\">var</span> table <span class=\"k\">=</span> domUtils<span class=\"k\">.</span>findParentByTagName<span class=\"k\">(</span>pN<span class=\"k\">,</span> <span class=\"s\">'table'</span><span class=\"k\">);</span>","<span class=\"c\">//                            var tableWrapDiv = table.parentNode;</span>","<span class=\"c\">//                            if(tableWrapDiv &amp;&amp; tableWrapDiv.nodeType == 1</span>","<span class=\"c\">//                                &amp;&amp; tableWrapDiv.tagName == 'DIV'</span>","<span class=\"c\">//                                &amp;&amp; tableWrapDiv.getAttribute('dropdrag')</span>","<span class=\"c\">//                                ){</span>","<span class=\"c\">//                                domUtils.remove(tableWrapDiv,true);</span>","<span class=\"c\">//                            }</span>","                            table<span class=\"k\">.</span>parentNode<span class=\"k\">.</span>insertBefore<span class=\"k\">(</span>hr<span class=\"k\">,</span> table<span class=\"k\">);</span>","                            parents <span class=\"k\">=</span> domUtils<span class=\"k\">.</span>findParents<span class=\"k\">(</span>hr<span class=\"k\">,</span> <span class=\"k\">true</span><span class=\"k\">);</span>","","                        <span class=\"k\">}</span> <span class=\"k\">else</span> <span class=\"k\">{</span>","                            pN<span class=\"k\">.</span>parentNode<span class=\"k\">.</span>insertBefore<span class=\"k\">(</span>hr<span class=\"k\">,</span> pN<span class=\"k\">);</span>","                            parents <span class=\"k\">=</span> domUtils<span class=\"k\">.</span>findParents<span class=\"k\">(</span>hr<span class=\"k\">);</span>","","                        <span class=\"k\">}</span>","                        pN <span class=\"k\">=</span> parents<span class=\"k\">[</span><span class=\"s\">1</span><span class=\"k\">];</span>","                        <span class=\"k\">if</span> <span class=\"k\">(</span>hr <span class=\"k\">!==</span> pN<span class=\"k\">)</span> <span class=\"k\">{</span>","                            domUtils<span class=\"k\">.</span>breakParent<span class=\"k\">(</span>hr<span class=\"k\">,</span> pN<span class=\"k\">);</span>","","                        <span class=\"k\">}</span>","                        domUtils<span class=\"k\">.</span>clearSelectedArr<span class=\"k\">(</span>me<span class=\"k\">.</span>currentSelectedArr<span class=\"k\">);</span>","                        <span class=\"c\">//table&#35201;&#37325;&#20889;&#32465;&#23450;&#19968;&#19979;&#25302;&#25341;</span>","                        me<span class=\"k\">.</span>fireEvent<span class=\"k\">(</span><span class=\"s\">'afteradjusttable'</span><span class=\"k\">,</span>me<span class=\"k\">.</span>document<span class=\"k\">);</span>","                <span class=\"k\">}</span>","","            <span class=\"k\">}</span> <span class=\"k\">else</span> <span class=\"k\">{</span>","","                <span class=\"k\">if</span> <span class=\"k\">(!</span>range<span class=\"k\">.</span>collapsed<span class=\"k\">)</span> <span class=\"k\">{</span>","                    range<span class=\"k\">.</span>deleteContents<span class=\"k\">();</span>","                    <span class=\"k\">var</span> start <span class=\"k\">=</span> range<span class=\"k\">.</span>startContainer<span class=\"k\">;</span>","                    <span class=\"k\">while</span> <span class=\"k\">(</span> <span class=\"k\">!</span>domUtils<span class=\"k\">.</span>isBody<span class=\"k\">(</span>start<span class=\"k\">)</span> <span class=\"k\">&amp;&amp;</span> domUtils<span class=\"k\">.</span>isBlockElm<span class=\"k\">(</span>start<span class=\"k\">)</span> <span class=\"k\">&amp;&amp;</span> domUtils<span class=\"k\">.</span>isEmptyNode<span class=\"k\">(</span>start<span class=\"k\">))</span> <span class=\"k\">{</span>","                        range<span class=\"k\">.</span>setStartBefore<span class=\"k\">(</span>start<span class=\"k\">).</span>collapse<span class=\"k\">(</span><span class=\"k\">true</span><span class=\"k\">);</span>","                        domUtils<span class=\"k\">.</span>remove<span class=\"k\">(</span>start<span class=\"k\">);</span>","                        start <span class=\"k\">=</span> range<span class=\"k\">.</span>startContainer<span class=\"k\">;</span>","                    <span class=\"k\">}</span>","","                <span class=\"k\">}</span>","                range<span class=\"k\">.</span>insertNode<span class=\"k\">(</span>hr<span class=\"k\">);</span>","","                <span class=\"k\">var</span> pN <span class=\"k\">=</span> hr<span class=\"k\">.</span>parentNode<span class=\"k\">,</span> nextNode<span class=\"k\">;</span>","                <span class=\"k\">while</span> <span class=\"k\">(!</span>domUtils<span class=\"k\">.</span>isBody<span class=\"k\">(</span>pN<span class=\"k\">))</span> <span class=\"k\">{</span>","                    domUtils<span class=\"k\">.</span>breakParent<span class=\"k\">(</span>hr<span class=\"k\">,</span> pN<span class=\"k\">);</span>","                    nextNode <span class=\"k\">=</span> hr<span class=\"k\">.</span>nextSibling<span class=\"k\">;</span>","                    <span class=\"k\">if</span> <span class=\"k\">(</span>nextNode <span class=\"k\">&amp;&amp;</span> domUtils<span class=\"k\">.</span>isEmptyBlock<span class=\"k\">(</span>nextNode<span class=\"k\">))</span> <span class=\"k\">{</span>","                        domUtils<span class=\"k\">.</span>remove<span class=\"k\">(</span>nextNode<span class=\"k\">);</span>","                    <span class=\"k\">}</span>","                    pN <span class=\"k\">=</span> hr<span class=\"k\">.</span>parentNode<span class=\"k\">;</span>","                <span class=\"k\">}</span>","                nextNode <span class=\"k\">=</span> hr<span class=\"k\">.</span>nextSibling<span class=\"k\">;</span>","                <span class=\"k\">var</span> pre <span class=\"k\">=</span> hr<span class=\"k\">.</span>previousSibling<span class=\"k\">;</span>","                <span class=\"k\">if</span><span class=\"k\">(</span>isHr<span class=\"k\">(</span>pre<span class=\"k\">))</span><span class=\"k\">{</span>","                    domUtils<span class=\"k\">.</span>remove<span class=\"k\">(</span>pre<span class=\"k\">);</span>","                <span class=\"k\">}</span><span class=\"k\">else</span><span class=\"k\">{</span>","                    pre <span class=\"k\">&amp;&amp;</span> fillNode<span class=\"k\">(</span>pre<span class=\"k\">);</span>","                <span class=\"k\">}</span>","","                <span class=\"k\">if</span><span class=\"k\">(!</span>nextNode<span class=\"k\">)</span><span class=\"k\">{</span>","                    <span class=\"k\">var</span> p <span class=\"k\">=</span> me<span class=\"k\">.</span>document<span class=\"k\">.</span>createElement<span class=\"k\">(</span><span class=\"s\">'p'</span><span class=\"k\">);</span>","","                    hr<span class=\"k\">.</span>parentNode<span class=\"k\">.</span>appendChild<span class=\"k\">(</span>p<span class=\"k\">);</span>","                    domUtils<span class=\"k\">.</span>fillNode<span class=\"k\">(</span>me<span class=\"k\">.</span>document<span class=\"k\">,</span>p<span class=\"k\">);</span>","                    range<span class=\"k\">.</span>setStart<span class=\"k\">(</span>p<span class=\"k\">,</span><span class=\"s\">0</span><span class=\"k\">).</span>collapse<span class=\"k\">(</span><span class=\"k\">true</span><span class=\"k\">);</span>","                <span class=\"k\">}</span><span class=\"k\">else</span><span class=\"k\">{</span>","                    <span class=\"k\">if</span><span class=\"k\">(</span>isHr<span class=\"k\">(</span>nextNode<span class=\"k\">))</span><span class=\"k\">{</span>","                        domUtils<span class=\"k\">.</span>remove<span class=\"k\">(</span>nextNode<span class=\"k\">);</span>","                    <span class=\"k\">}</span><span class=\"k\">else</span><span class=\"k\">{</span>","                        fillNode<span class=\"k\">(</span>nextNode<span class=\"k\">);</span>","                    <span class=\"k\">}</span>","                    range<span class=\"k\">.</span>setEndAfter<span class=\"k\">(</span>hr<span class=\"k\">).</span>collapse<span class=\"k\">(</span><span class=\"k\">false</span><span class=\"k\">);</span>","                <span class=\"k\">}</span>","","                range<span class=\"k\">.</span>select<span class=\"k\">(</span><span class=\"k\">true</span><span class=\"k\">);</span>","","            <span class=\"k\">}</span>","","        <span class=\"k\">}</span><span class=\"k\">,</span>","        queryCommandState<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","            <span class=\"k\">return</span> <span class=\"k\">this</span><span class=\"k\">.</span>highlight <span class=\"k\">?</span> <span class=\"k\">-</span><span class=\"s\">1</span> <span class=\"k\">:</span> <span class=\"s\">0</span><span class=\"k\">;</span>","        <span class=\"k\">}</span>","    <span class=\"k\">}</span><span class=\"k\">;</span>","<span class=\"k\">}</span><span class=\"k\">;</span>"]);
_$jscoverage['plugins/paragraph.js'] && (_$jscoverage['plugins/paragraph.js'].source = ["<span class=\"c\">///import core</span>","<span class=\"c\">///commands &#26684;&#24335;</span>","<span class=\"c\">///commandsName  Paragraph</span>","<span class=\"c\">///commandsTitle  &#27573;&#33853;&#26684;&#24335;</span>","<span class=\"c\">/**</span>","<span class=\"c\"> * &#27573;&#33853;&#26679;&#24335;</span>","<span class=\"c\"> * @function</span>","<span class=\"c\"> * @name baidu.editor.execCommand</span>","<span class=\"c\"> * @param   {String}   cmdName     paragraph&#25554;&#20837;&#27573;&#33853;&#25191;&#34892;&#21629;&#20196;</span>","<span class=\"c\"> * @param   {String}   style               &#26631;&#31614;&#20540;&#20026;&#65306;'p', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6'</span>","<span class=\"c\"> * @param   {String}   attrs               &#26631;&#31614;&#30340;&#23646;&#24615;</span>","<span class=\"c\"> * @author zhanyi</span>","<span class=\"c\"> */</span>","UE<span class=\"k\">.</span>plugins<span class=\"k\">[</span><span class=\"s\">'paragraph'</span><span class=\"k\">]</span> <span class=\"k\">=</span> <span class=\"k\">function</span><span class=\"k\">()</span> <span class=\"k\">{</span>","    <span class=\"k\">var</span> me <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">,</span>","        block <span class=\"k\">=</span> domUtils<span class=\"k\">.</span>isBlockElm<span class=\"k\">,</span>","        notExchange <span class=\"k\">=</span> <span class=\"k\">[</span><span class=\"s\">'TD'</span><span class=\"k\">,</span><span class=\"s\">'LI'</span><span class=\"k\">,</span><span class=\"s\">'PRE'</span><span class=\"k\">],</span>","","        doParagraph <span class=\"k\">=</span> <span class=\"k\">function</span><span class=\"k\">(</span>range<span class=\"k\">,</span>style<span class=\"k\">,</span>attrs<span class=\"k\">,</span>sourceCmdName<span class=\"k\">)</span><span class=\"k\">{</span>","            <span class=\"k\">var</span> bookmark <span class=\"k\">=</span> range<span class=\"k\">.</span>createBookmark<span class=\"k\">(),</span>","                filterFn <span class=\"k\">=</span> <span class=\"k\">function</span><span class=\"k\">(</span> node <span class=\"k\">)</span> <span class=\"k\">{</span>","                    <span class=\"k\">return</span>   node<span class=\"k\">.</span>nodeType <span class=\"k\">==</span> <span class=\"s\">1</span> <span class=\"k\">?</span> node<span class=\"k\">.</span>tagName<span class=\"k\">.</span>toLowerCase<span class=\"k\">()</span> <span class=\"k\">!=</span> <span class=\"s\">'br'</span> <span class=\"k\">&amp;&amp;</span>  <span class=\"k\">!</span>domUtils<span class=\"k\">.</span>isBookmarkNode<span class=\"k\">(</span>node<span class=\"k\">)</span> <span class=\"k\">:</span> <span class=\"k\">!</span>domUtils<span class=\"k\">.</span>isWhitespace<span class=\"k\">(</span> node <span class=\"k\">);</span>","                <span class=\"k\">}</span><span class=\"k\">,</span>","                para<span class=\"k\">;</span>","","            range<span class=\"k\">.</span>enlarge<span class=\"k\">(</span> <span class=\"k\">true</span> <span class=\"k\">);</span>","            <span class=\"k\">var</span> bookmark2 <span class=\"k\">=</span> range<span class=\"k\">.</span>createBookmark<span class=\"k\">(),</span>","                current <span class=\"k\">=</span> domUtils<span class=\"k\">.</span>getNextDomNode<span class=\"k\">(</span> bookmark2<span class=\"k\">.</span>start<span class=\"k\">,</span> <span class=\"k\">false</span><span class=\"k\">,</span> filterFn <span class=\"k\">),</span>","                tmpRange <span class=\"k\">=</span> range<span class=\"k\">.</span>cloneRange<span class=\"k\">(),</span>","                tmpNode<span class=\"k\">;</span>","            <span class=\"k\">while</span> <span class=\"k\">(</span> current <span class=\"k\">&amp;&amp;</span> <span class=\"k\">!(</span>domUtils<span class=\"k\">.</span>getPosition<span class=\"k\">(</span> current<span class=\"k\">,</span> bookmark2<span class=\"k\">.</span>end <span class=\"k\">)</span> <span class=\"k\">&amp;</span> domUtils<span class=\"k\">.</span>POSITION_FOLLOWING<span class=\"k\">)</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                <span class=\"k\">if</span> <span class=\"k\">(</span> current<span class=\"k\">.</span>nodeType <span class=\"k\">==</span> <span class=\"s\">3</span> <span class=\"k\">||</span> <span class=\"k\">!</span>block<span class=\"k\">(</span> current <span class=\"k\">)</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                    tmpRange<span class=\"k\">.</span>setStartBefore<span class=\"k\">(</span> current <span class=\"k\">);</span>","                    <span class=\"k\">while</span> <span class=\"k\">(</span> current <span class=\"k\">&amp;&amp;</span> current <span class=\"k\">!==</span> bookmark2<span class=\"k\">.</span>end <span class=\"k\">&amp;&amp;</span> <span class=\"k\">!</span>block<span class=\"k\">(</span> current <span class=\"k\">)</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                        tmpNode <span class=\"k\">=</span> current<span class=\"k\">;</span>","                        current <span class=\"k\">=</span> domUtils<span class=\"k\">.</span>getNextDomNode<span class=\"k\">(</span> current<span class=\"k\">,</span> <span class=\"k\">false</span><span class=\"k\">,</span> <span class=\"k\">null</span><span class=\"k\">,</span> <span class=\"k\">function</span><span class=\"k\">(</span> node <span class=\"k\">)</span> <span class=\"k\">{</span>","                            <span class=\"k\">return</span> <span class=\"k\">!</span>block<span class=\"k\">(</span> node <span class=\"k\">);</span>","                        <span class=\"k\">}</span> <span class=\"k\">);</span>","                    <span class=\"k\">}</span>","                    tmpRange<span class=\"k\">.</span>setEndAfter<span class=\"k\">(</span> tmpNode <span class=\"k\">);</span>","                    ","                    para <span class=\"k\">=</span> range<span class=\"k\">.</span>document<span class=\"k\">.</span>createElement<span class=\"k\">(</span> style <span class=\"k\">);</span>","                    <span class=\"k\">if</span><span class=\"k\">(</span>attrs<span class=\"k\">)</span><span class=\"k\">{</span>","                        domUtils<span class=\"k\">.</span>setAttributes<span class=\"k\">(</span>para<span class=\"k\">,</span>attrs<span class=\"k\">);</span>","                        <span class=\"k\">if</span><span class=\"k\">(</span>sourceCmdName <span class=\"k\">&amp;&amp;</span> sourceCmdName <span class=\"k\">==</span> <span class=\"s\">'customstyle'</span> <span class=\"k\">&amp;&amp;</span> attrs<span class=\"k\">.</span>style<span class=\"k\">)</span><span class=\"k\">{</span>","                            para<span class=\"k\">.</span>style<span class=\"k\">.</span>cssText <span class=\"k\">=</span> attrs<span class=\"k\">.</span>style<span class=\"k\">;</span>","                        <span class=\"k\">}</span>","                    <span class=\"k\">}</span>","                    para<span class=\"k\">.</span>appendChild<span class=\"k\">(</span> tmpRange<span class=\"k\">.</span>extractContents<span class=\"k\">()</span> <span class=\"k\">);</span>","                    <span class=\"c\">//&#38656;&#35201;&#20869;&#23481;&#21344;&#20301;</span>","                    <span class=\"k\">if</span><span class=\"k\">(</span>domUtils<span class=\"k\">.</span>isEmptyNode<span class=\"k\">(</span>para<span class=\"k\">))</span><span class=\"k\">{</span>","                        domUtils<span class=\"k\">.</span>fillChar<span class=\"k\">(</span>range<span class=\"k\">.</span>document<span class=\"k\">,</span>para<span class=\"k\">);</span>","                        ","                    <span class=\"k\">}</span>","","                    tmpRange<span class=\"k\">.</span>insertNode<span class=\"k\">(</span> para <span class=\"k\">);</span>","","                    <span class=\"k\">var</span> parent <span class=\"k\">=</span> para<span class=\"k\">.</span>parentNode<span class=\"k\">;</span>","                    <span class=\"c\">//&#22914;&#26524;para&#19978;&#19968;&#32423;&#26159;&#19968;&#20010;block&#20803;&#32032;&#19988;&#19981;&#26159;body,td&#23601;&#21024;&#38500;&#23427;</span>","                    <span class=\"k\">if</span> <span class=\"k\">(</span> block<span class=\"k\">(</span> parent <span class=\"k\">)</span> <span class=\"k\">&amp;&amp;</span> <span class=\"k\">!</span>domUtils<span class=\"k\">.</span>isBody<span class=\"k\">(</span> para<span class=\"k\">.</span>parentNode <span class=\"k\">)</span> <span class=\"k\">&amp;&amp;</span> utils<span class=\"k\">.</span>indexOf<span class=\"k\">(</span>notExchange<span class=\"k\">,</span>parent<span class=\"k\">.</span>tagName<span class=\"k\">)==-</span><span class=\"s\">1</span><span class=\"k\">)</span> <span class=\"k\">{</span>","                        <span class=\"c\">//&#23384;&#20648;dir,style</span>","                        <span class=\"k\">if</span><span class=\"k\">(!(</span>sourceCmdName <span class=\"k\">&amp;&amp;</span> sourceCmdName <span class=\"k\">==</span> <span class=\"s\">'customstyle'</span><span class=\"k\">))</span><span class=\"k\">{</span>","                            parent<span class=\"k\">.</span>getAttribute<span class=\"k\">(</span><span class=\"s\">'dir'</span><span class=\"k\">)</span> <span class=\"k\">&amp;&amp;</span> para<span class=\"k\">.</span>setAttribute<span class=\"k\">(</span><span class=\"s\">'dir'</span><span class=\"k\">,</span>parent<span class=\"k\">.</span>getAttribute<span class=\"k\">(</span><span class=\"s\">'dir'</span><span class=\"k\">));</span>","                            <span class=\"c\">//trace:1070</span>","                            parent<span class=\"k\">.</span>style<span class=\"k\">.</span>cssText <span class=\"k\">&amp;&amp;</span> <span class=\"k\">(</span>para<span class=\"k\">.</span>style<span class=\"k\">.</span>cssText <span class=\"k\">=</span> parent<span class=\"k\">.</span>style<span class=\"k\">.</span>cssText <span class=\"k\">+</span> <span class=\"s\">';'</span> <span class=\"k\">+</span> para<span class=\"k\">.</span>style<span class=\"k\">.</span>cssText<span class=\"k\">);</span>","                            <span class=\"c\">//trace:1030</span>","                            parent<span class=\"k\">.</span>style<span class=\"k\">.</span>textAlign <span class=\"k\">&amp;&amp;</span> <span class=\"k\">!</span>para<span class=\"k\">.</span>style<span class=\"k\">.</span>textAlign <span class=\"k\">&amp;&amp;</span> <span class=\"k\">(</span>para<span class=\"k\">.</span>style<span class=\"k\">.</span>textAlign <span class=\"k\">=</span> parent<span class=\"k\">.</span>style<span class=\"k\">.</span>textAlign<span class=\"k\">);</span>","                            parent<span class=\"k\">.</span>style<span class=\"k\">.</span>textIndent <span class=\"k\">&amp;&amp;</span> <span class=\"k\">!</span>para<span class=\"k\">.</span>style<span class=\"k\">.</span>textIndent <span class=\"k\">&amp;&amp;</span> <span class=\"k\">(</span>para<span class=\"k\">.</span>style<span class=\"k\">.</span>textIndent <span class=\"k\">=</span> parent<span class=\"k\">.</span>style<span class=\"k\">.</span>textIndent<span class=\"k\">);</span>","                            parent<span class=\"k\">.</span>style<span class=\"k\">.</span>padding <span class=\"k\">&amp;&amp;</span> <span class=\"k\">!</span>para<span class=\"k\">.</span>style<span class=\"k\">.</span>padding <span class=\"k\">&amp;&amp;</span> <span class=\"k\">(</span>para<span class=\"k\">.</span>style<span class=\"k\">.</span>padding <span class=\"k\">=</span> parent<span class=\"k\">.</span>style<span class=\"k\">.</span>padding<span class=\"k\">);</span>","                        <span class=\"k\">}</span>","","                        <span class=\"c\">//trace:1706 &#36873;&#25321;&#30340;&#23601;&#26159;h1-6&#35201;&#21024;&#38500;</span>","                        <span class=\"k\">if</span><span class=\"k\">(</span>attrs <span class=\"k\">&amp;&amp;</span> <span class=\"s\">/h\\d/i</span><span class=\"k\">.</span>test<span class=\"k\">(</span>parent<span class=\"k\">.</span>tagName<span class=\"k\">)</span> <span class=\"k\">&amp;&amp;</span> <span class=\"k\">!</span><span class=\"s\">/h\\d/i</span><span class=\"k\">.</span>test<span class=\"k\">(</span>para<span class=\"k\">.</span>tagName<span class=\"k\">)</span> <span class=\"k\">)</span><span class=\"k\">{</span>","                            domUtils<span class=\"k\">.</span>setAttributes<span class=\"k\">(</span>parent<span class=\"k\">,</span>attrs<span class=\"k\">);</span>","                            <span class=\"k\">if</span><span class=\"k\">(</span>sourceCmdName <span class=\"k\">&amp;&amp;</span> sourceCmdName <span class=\"k\">==</span> <span class=\"s\">'customstyle'</span> <span class=\"k\">&amp;&amp;</span> attrs<span class=\"k\">.</span>style<span class=\"k\">)</span><span class=\"k\">{</span>","                                parent<span class=\"k\">.</span>style<span class=\"k\">.</span>cssText <span class=\"k\">=</span> attrs<span class=\"k\">.</span>style<span class=\"k\">;</span>","                            <span class=\"k\">}</span>","                            domUtils<span class=\"k\">.</span>remove<span class=\"k\">(</span>para<span class=\"k\">,</span><span class=\"k\">true</span><span class=\"k\">);</span>","                            para <span class=\"k\">=</span> parent<span class=\"k\">;</span>","                        <span class=\"k\">}</span><span class=\"k\">else</span><span class=\"k\">{</span>","                            domUtils<span class=\"k\">.</span>remove<span class=\"k\">(</span> para<span class=\"k\">.</span>parentNode<span class=\"k\">,</span> <span class=\"k\">true</span> <span class=\"k\">);</span>","                        <span class=\"k\">}</span>","","                    <span class=\"k\">}</span>","                    <span class=\"k\">if</span><span class=\"k\">(</span>  utils<span class=\"k\">.</span>indexOf<span class=\"k\">(</span>notExchange<span class=\"k\">,</span>parent<span class=\"k\">.</span>tagName<span class=\"k\">)!=-</span><span class=\"s\">1</span><span class=\"k\">)</span><span class=\"k\">{</span>","                        current <span class=\"k\">=</span> parent<span class=\"k\">;</span>","                    <span class=\"k\">}</span><span class=\"k\">else</span><span class=\"k\">{</span>","                       current <span class=\"k\">=</span> para<span class=\"k\">;</span>","                    <span class=\"k\">}</span>","","","                    current <span class=\"k\">=</span> domUtils<span class=\"k\">.</span>getNextDomNode<span class=\"k\">(</span> current<span class=\"k\">,</span> <span class=\"k\">false</span><span class=\"k\">,</span> filterFn <span class=\"k\">);</span>","                <span class=\"k\">}</span> <span class=\"k\">else</span> <span class=\"k\">{</span>","                    current <span class=\"k\">=</span> domUtils<span class=\"k\">.</span>getNextDomNode<span class=\"k\">(</span> current<span class=\"k\">,</span> <span class=\"k\">true</span><span class=\"k\">,</span> filterFn <span class=\"k\">);</span>","                <span class=\"k\">}</span>","            <span class=\"k\">}</span>","            <span class=\"k\">return</span> range<span class=\"k\">.</span>moveToBookmark<span class=\"k\">(</span> bookmark2 <span class=\"k\">).</span>moveToBookmark<span class=\"k\">(</span> bookmark <span class=\"k\">);</span>","        <span class=\"k\">}</span><span class=\"k\">;</span>","    me<span class=\"k\">.</span>setOpt<span class=\"k\">(</span><span class=\"s\">'paragraph'</span><span class=\"k\">,</span><span class=\"k\">{</span><span class=\"s\">'p'</span><span class=\"k\">:</span><span class=\"s\">''</span><span class=\"k\">,</span> <span class=\"s\">'h1'</span><span class=\"k\">:</span><span class=\"s\">''</span><span class=\"k\">,</span> <span class=\"s\">'h2'</span><span class=\"k\">:</span><span class=\"s\">''</span><span class=\"k\">,</span> <span class=\"s\">'h3'</span><span class=\"k\">:</span><span class=\"s\">''</span><span class=\"k\">,</span> <span class=\"s\">'h4'</span><span class=\"k\">:</span><span class=\"s\">''</span><span class=\"k\">,</span> <span class=\"s\">'h5'</span><span class=\"k\">:</span><span class=\"s\">''</span><span class=\"k\">,</span> <span class=\"s\">'h6'</span><span class=\"k\">:</span><span class=\"s\">''</span><span class=\"k\">}</span><span class=\"k\">);</span>","    me<span class=\"k\">.</span>commands<span class=\"k\">[</span><span class=\"s\">'paragraph'</span><span class=\"k\">]</span> <span class=\"k\">=</span> <span class=\"k\">{</span>","        execCommand <span class=\"k\">:</span> <span class=\"k\">function</span><span class=\"k\">(</span> cmdName<span class=\"k\">,</span> style<span class=\"k\">,</span>attrs<span class=\"k\">,</span>sourceCmdName <span class=\"k\">)</span> <span class=\"k\">{</span>","            <span class=\"k\">var</span> range <span class=\"k\">=</span> <span class=\"k\">new</span> dom<span class=\"k\">.</span>Range<span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>document<span class=\"k\">);</span>","            <span class=\"k\">if</span><span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>currentSelectedArr <span class=\"k\">&amp;&amp;</span> <span class=\"k\">this</span><span class=\"k\">.</span>currentSelectedArr<span class=\"k\">.</span>length <span class=\"k\">&gt;</span> <span class=\"s\">0</span><span class=\"k\">)</span><span class=\"k\">{</span>","                <span class=\"k\">for</span><span class=\"k\">(</span><span class=\"k\">var</span> i<span class=\"k\">=</span><span class=\"s\">0</span><span class=\"k\">,</span>ti<span class=\"k\">;</span>ti<span class=\"k\">=</span><span class=\"k\">this</span><span class=\"k\">.</span>currentSelectedArr<span class=\"k\">[</span>i<span class=\"k\">++];)</span><span class=\"k\">{</span>","                    <span class=\"c\">//trace:1079 &#19981;&#26174;&#31034;&#30340;&#19981;&#22788;&#29702;&#65292;&#25554;&#20837;&#25991;&#26412;&#65292;&#31354;&#30340;td&#20063;&#33021;&#21152;&#19978;&#30456;&#24212;&#30340;&#26631;&#31614;</span>","                    <span class=\"k\">if</span><span class=\"k\">(</span>ti<span class=\"k\">.</span>style<span class=\"k\">.</span>display <span class=\"k\">==</span> <span class=\"s\">'none'</span><span class=\"k\">)</span><span class=\"k\">{</span>","                        <span class=\"k\">continue</span><span class=\"k\">;</span>","                    <span class=\"k\">}</span>","                    <span class=\"k\">if</span><span class=\"k\">(</span>domUtils<span class=\"k\">.</span>isEmptyNode<span class=\"k\">(</span>ti<span class=\"k\">))</span><span class=\"k\">{</span>","                      ","                        <span class=\"k\">var</span> tmpTxt <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>document<span class=\"k\">.</span>createTextNode<span class=\"k\">(</span><span class=\"s\">'paragraph'</span><span class=\"k\">);</span>","                        ti<span class=\"k\">.</span>innerHTML <span class=\"k\">=</span> <span class=\"s\">''</span><span class=\"k\">;</span>","                        ti<span class=\"k\">.</span>appendChild<span class=\"k\">(</span>tmpTxt<span class=\"k\">);</span>","                    <span class=\"k\">}</span>","                    doParagraph<span class=\"k\">(</span>range<span class=\"k\">.</span>selectNodeContents<span class=\"k\">(</span>ti<span class=\"k\">),</span>style<span class=\"k\">,</span>attrs<span class=\"k\">,</span>sourceCmdName<span class=\"k\">);</span>","                    <span class=\"k\">if</span><span class=\"k\">(</span>tmpTxt<span class=\"k\">)</span><span class=\"k\">{</span>","                        <span class=\"k\">var</span> pN <span class=\"k\">=</span> tmpTxt<span class=\"k\">.</span>parentNode<span class=\"k\">;</span>","                        domUtils<span class=\"k\">.</span>remove<span class=\"k\">(</span>tmpTxt<span class=\"k\">);</span>","                        <span class=\"k\">if</span><span class=\"k\">(</span>domUtils<span class=\"k\">.</span>isEmptyNode<span class=\"k\">(</span>pN<span class=\"k\">))</span><span class=\"k\">{</span>","                            domUtils<span class=\"k\">.</span>fillNode<span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>document<span class=\"k\">,</span>pN<span class=\"k\">);</span>","                        <span class=\"k\">}</span>","                         ","                    <span class=\"k\">}</span>","","","                <span class=\"k\">}</span>","                <span class=\"k\">var</span> td <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>currentSelectedArr<span class=\"k\">[</span><span class=\"s\">0</span><span class=\"k\">];</span>","","                <span class=\"k\">if</span><span class=\"k\">(</span>domUtils<span class=\"k\">.</span>isEmptyBlock<span class=\"k\">(</span>td<span class=\"k\">))</span><span class=\"k\">{</span>","                    range<span class=\"k\">.</span>setStart<span class=\"k\">(</span>td<span class=\"k\">,</span><span class=\"s\">0</span><span class=\"k\">).</span>setCursor<span class=\"k\">(</span><span class=\"k\">false</span><span class=\"k\">,</span><span class=\"k\">true</span><span class=\"k\">);</span>","                <span class=\"k\">}</span><span class=\"k\">else</span><span class=\"k\">{</span>","                    range<span class=\"k\">.</span>selectNode<span class=\"k\">(</span>td<span class=\"k\">).</span>select<span class=\"k\">();</span>","                <span class=\"k\">}</span>","","            <span class=\"k\">}</span><span class=\"k\">else</span><span class=\"k\">{</span>","                range <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>selection<span class=\"k\">.</span>getRange<span class=\"k\">();</span>","                 <span class=\"c\">//&#38381;&#21512;&#26102;&#21333;&#29420;&#22788;&#29702;</span>","                <span class=\"k\">if</span><span class=\"k\">(</span>range<span class=\"k\">.</span>collapsed<span class=\"k\">)</span><span class=\"k\">{</span>","                    <span class=\"k\">var</span> txt <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>document<span class=\"k\">.</span>createTextNode<span class=\"k\">(</span><span class=\"s\">'p'</span><span class=\"k\">);</span>","                    range<span class=\"k\">.</span>insertNode<span class=\"k\">(</span>txt<span class=\"k\">);</span>","                    <span class=\"c\">//&#21435;&#25481;&#20887;&#20313;&#30340;fillchar</span>","                    <span class=\"k\">if</span><span class=\"k\">(</span>browser<span class=\"k\">.</span>ie<span class=\"k\">)</span><span class=\"k\">{</span>","                        <span class=\"k\">var</span> node <span class=\"k\">=</span> txt<span class=\"k\">.</span>previousSibling<span class=\"k\">;</span>","                        <span class=\"k\">if</span><span class=\"k\">(</span>node <span class=\"k\">&amp;&amp;</span> domUtils<span class=\"k\">.</span>isWhitespace<span class=\"k\">(</span>node<span class=\"k\">))</span><span class=\"k\">{</span>","                            domUtils<span class=\"k\">.</span>remove<span class=\"k\">(</span>node<span class=\"k\">);</span>","                        <span class=\"k\">}</span>","                        node <span class=\"k\">=</span> txt<span class=\"k\">.</span>nextSibling<span class=\"k\">;</span>","                        <span class=\"k\">if</span><span class=\"k\">(</span>node <span class=\"k\">&amp;&amp;</span> domUtils<span class=\"k\">.</span>isWhitespace<span class=\"k\">(</span>node<span class=\"k\">))</span><span class=\"k\">{</span>","                            domUtils<span class=\"k\">.</span>remove<span class=\"k\">(</span>node<span class=\"k\">);</span>","                        <span class=\"k\">}</span> ","                    <span class=\"k\">}</span>","","                <span class=\"k\">}</span>","                range <span class=\"k\">=</span> doParagraph<span class=\"k\">(</span>range<span class=\"k\">,</span>style<span class=\"k\">,</span>attrs<span class=\"k\">,</span>sourceCmdName<span class=\"k\">);</span>","                <span class=\"k\">if</span><span class=\"k\">(</span>txt<span class=\"k\">)</span><span class=\"k\">{</span>","                    range<span class=\"k\">.</span>setStartBefore<span class=\"k\">(</span>txt<span class=\"k\">).</span>collapse<span class=\"k\">(</span><span class=\"k\">true</span><span class=\"k\">);</span>","                    pN <span class=\"k\">=</span> txt<span class=\"k\">.</span>parentNode<span class=\"k\">;</span>","","                    domUtils<span class=\"k\">.</span>remove<span class=\"k\">(</span>txt<span class=\"k\">);</span>","                    ","                    <span class=\"k\">if</span><span class=\"k\">(</span>domUtils<span class=\"k\">.</span>isBlockElm<span class=\"k\">(</span>pN<span class=\"k\">)&amp;&amp;</span>domUtils<span class=\"k\">.</span>isEmptyNode<span class=\"k\">(</span>pN<span class=\"k\">))</span><span class=\"k\">{</span>","                        domUtils<span class=\"k\">.</span>fillNode<span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>document<span class=\"k\">,</span>pN<span class=\"k\">);</span>","                    <span class=\"k\">}</span>","","                <span class=\"k\">}</span>","","                <span class=\"k\">if</span><span class=\"k\">(</span>browser<span class=\"k\">.</span>gecko <span class=\"k\">&amp;&amp;</span> range<span class=\"k\">.</span>collapsed <span class=\"k\">&amp;&amp;</span> range<span class=\"k\">.</span>startContainer<span class=\"k\">.</span>nodeType <span class=\"k\">==</span> <span class=\"s\">1</span><span class=\"k\">)</span><span class=\"k\">{</span>","                    <span class=\"k\">var</span> child <span class=\"k\">=</span> range<span class=\"k\">.</span>startContainer<span class=\"k\">.</span>childNodes<span class=\"k\">[</span>range<span class=\"k\">.</span>startOffset<span class=\"k\">];</span>","                    <span class=\"k\">if</span><span class=\"k\">(</span>child <span class=\"k\">&amp;&amp;</span> child<span class=\"k\">.</span>nodeType <span class=\"k\">==</span> <span class=\"s\">1</span> <span class=\"k\">&amp;&amp;</span> child<span class=\"k\">.</span>tagName<span class=\"k\">.</span>toLowerCase<span class=\"k\">()</span> <span class=\"k\">==</span> style<span class=\"k\">)</span><span class=\"k\">{</span>","                        range<span class=\"k\">.</span>setStart<span class=\"k\">(</span>child<span class=\"k\">,</span><span class=\"s\">0</span><span class=\"k\">).</span>collapse<span class=\"k\">(</span><span class=\"k\">true</span><span class=\"k\">);</span>","                    <span class=\"k\">}</span>","                <span class=\"k\">}</span>","                <span class=\"c\">//trace:1097 &#21407;&#26469;&#26377;true&#65292;&#21407;&#22240;&#24536;&#20102;&#65292;&#20294;&#21435;&#20102;&#23601;&#19981;&#33021;&#28165;&#38500;&#22810;&#20313;&#30340;&#21344;&#20301;&#31526;&#20102;</span>","                range<span class=\"k\">.</span>select<span class=\"k\">();</span>","","            <span class=\"k\">}</span>","            <span class=\"k\">return</span> <span class=\"k\">true</span><span class=\"k\">;</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        queryCommandValue <span class=\"k\">:</span> <span class=\"k\">function</span><span class=\"k\">()</span> <span class=\"k\">{</span>","            <span class=\"k\">var</span> node <span class=\"k\">=</span> utils<span class=\"k\">.</span>findNode<span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>selection<span class=\"k\">.</span>getStartElementPath<span class=\"k\">(),[</span><span class=\"s\">'p'</span><span class=\"k\">,</span><span class=\"s\">'h1'</span><span class=\"k\">,</span><span class=\"s\">'h2'</span><span class=\"k\">,</span><span class=\"s\">'h3'</span><span class=\"k\">,</span><span class=\"s\">'h4'</span><span class=\"k\">,</span><span class=\"s\">'h5'</span><span class=\"k\">,</span><span class=\"s\">'h6'</span><span class=\"k\">]);</span>","            <span class=\"k\">return</span> node <span class=\"k\">?</span> node<span class=\"k\">.</span>tagName<span class=\"k\">.</span>toLowerCase<span class=\"k\">()</span> <span class=\"k\">:</span> <span class=\"s\">''</span><span class=\"k\">;</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        queryCommandState <span class=\"k\">:</span> <span class=\"k\">function</span><span class=\"k\">()</span><span class=\"k\">{</span>","            <span class=\"k\">return</span> <span class=\"k\">this</span><span class=\"k\">.</span>highlight <span class=\"k\">?</span> <span class=\"k\">-</span><span class=\"s\">1</span> <span class=\"k\">:</span><span class=\"s\">0</span><span class=\"k\">;</span>","        <span class=\"k\">}</span>","    <span class=\"k\">}</span><span class=\"k\">;</span>","<span class=\"k\">}</span><span class=\"k\">;</span>"]);
_$jscoverage['plugins/paste.js'] && (_$jscoverage['plugins/paste.js'].source = ["<span class=\"c\">///import core</span>","<span class=\"c\">///import plugins/inserthtml.js</span>","<span class=\"c\">///import plugins/undo.js</span>","<span class=\"c\">///import plugins/serialize.js</span>","<span class=\"c\">///commands &#31896;&#36148;</span>","<span class=\"c\">///commandsName  PastePlain</span>","<span class=\"c\">///commandsTitle  &#32431;&#25991;&#26412;&#31896;&#36148;&#27169;&#24335;</span>","<span class=\"c\">/*</span>","<span class=\"c\"> ** @description &#31896;&#36148;</span>","<span class=\"c\"> * @author zhanyi</span>","<span class=\"c\"> */</span>","<span class=\"k\">(</span><span class=\"k\">function</span><span class=\"k\">()</span> <span class=\"k\">{</span>","    <span class=\"k\">function</span> getClipboardData<span class=\"k\">(</span> callback <span class=\"k\">)</span> <span class=\"k\">{</span>","","        <span class=\"k\">var</span> doc <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>document<span class=\"k\">;</span>","","        <span class=\"k\">if</span> <span class=\"k\">(</span> doc<span class=\"k\">.</span>getElementById<span class=\"k\">(</span> <span class=\"s\">'baidu_pastebin'</span> <span class=\"k\">)</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","            <span class=\"k\">return</span><span class=\"k\">;</span>","        <span class=\"k\">}</span>","","        <span class=\"k\">var</span> range <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>selection<span class=\"k\">.</span>getRange<span class=\"k\">(),</span>","            bk <span class=\"k\">=</span> range<span class=\"k\">.</span>createBookmark<span class=\"k\">(),</span>","            <span class=\"c\">//&#21019;&#24314;&#21098;&#36148;&#30340;&#23481;&#22120;div</span>","            pastebin <span class=\"k\">=</span> doc<span class=\"k\">.</span>createElement<span class=\"k\">(</span> <span class=\"s\">'div'</span> <span class=\"k\">);</span>","","        pastebin<span class=\"k\">.</span>id <span class=\"k\">=</span> <span class=\"s\">'baidu_pastebin'</span><span class=\"k\">;</span>","","","        <span class=\"c\">// Safari &#35201;&#27714;div&#24517;&#39035;&#26377;&#20869;&#23481;&#65292;&#25165;&#33021;&#31896;&#36148;&#20869;&#23481;&#36827;&#26469;</span>","        browser<span class=\"k\">.</span>webkit <span class=\"k\">&amp;&amp;</span> pastebin<span class=\"k\">.</span>appendChild<span class=\"k\">(</span> doc<span class=\"k\">.</span>createTextNode<span class=\"k\">(</span> domUtils<span class=\"k\">.</span>fillChar <span class=\"k\">+</span> domUtils<span class=\"k\">.</span>fillChar <span class=\"k\">)</span> <span class=\"k\">);</span>","        doc<span class=\"k\">.</span>body<span class=\"k\">.</span>appendChild<span class=\"k\">(</span> pastebin <span class=\"k\">);</span>","        <span class=\"c\">//trace:717 &#38544;&#34255;&#30340;span&#19981;&#33021;&#24471;&#21040;top</span>","        <span class=\"c\">//bk.start.innerHTML = '&amp;nbsp;';</span>","        bk<span class=\"k\">.</span>start<span class=\"k\">.</span>style<span class=\"k\">.</span>display <span class=\"k\">=</span> <span class=\"s\">''</span><span class=\"k\">;</span>","        pastebin<span class=\"k\">.</span>style<span class=\"k\">.</span>cssText <span class=\"k\">=</span> <span class=\"s\">\"position:absolute;width:1px;height:1px;overflow:hidden;left:-1000px;white-space:nowrap;top:\"</span> <span class=\"k\">+</span>","            <span class=\"c\">//&#35201;&#22312;&#29616;&#22312;&#20809;&#26631;&#24179;&#34892;&#30340;&#20301;&#32622;&#21152;&#20837;&#65292;&#21542;&#21017;&#20250;&#20986;&#29616;&#36339;&#21160;&#30340;&#38382;&#39064;</span>","            domUtils<span class=\"k\">.</span>getXY<span class=\"k\">(</span> bk<span class=\"k\">.</span>start <span class=\"k\">).</span>y <span class=\"k\">+</span> <span class=\"s\">'px'</span><span class=\"k\">;</span>","","        range<span class=\"k\">.</span>selectNodeContents<span class=\"k\">(</span> pastebin <span class=\"k\">).</span>select<span class=\"k\">(</span> <span class=\"k\">true</span> <span class=\"k\">);</span>","","        setTimeout<span class=\"k\">(</span> <span class=\"k\">function</span><span class=\"k\">()</span> <span class=\"k\">{</span>","            ","            <span class=\"k\">if</span> <span class=\"k\">(</span>browser<span class=\"k\">.</span>webkit<span class=\"k\">)</span> <span class=\"k\">{</span>","                ","                <span class=\"k\">for</span><span class=\"k\">(</span><span class=\"k\">var</span> i<span class=\"k\">=</span><span class=\"s\">0</span><span class=\"k\">,</span>pastebins <span class=\"k\">=</span> doc<span class=\"k\">.</span>querySelectorAll<span class=\"k\">(</span><span class=\"s\">'#baidu_pastebin'</span><span class=\"k\">),</span>pi<span class=\"k\">;</span>pi<span class=\"k\">=</span>pastebins<span class=\"k\">[</span>i<span class=\"k\">++];)</span><span class=\"k\">{</span>","                    <span class=\"k\">if</span><span class=\"k\">(</span>domUtils<span class=\"k\">.</span>isEmptyNode<span class=\"k\">(</span>pi<span class=\"k\">))</span><span class=\"k\">{</span>","                        domUtils<span class=\"k\">.</span>remove<span class=\"k\">(</span>pi<span class=\"k\">);</span>","                    <span class=\"k\">}</span><span class=\"k\">else</span><span class=\"k\">{</span>","                        pastebin <span class=\"k\">=</span> pi<span class=\"k\">;</span>","                        <span class=\"k\">break</span><span class=\"k\">;</span>","                    <span class=\"k\">}</span>","                <span class=\"k\">}</span>","","","            <span class=\"k\">}</span>","","\t\t\t<span class=\"k\">try</span><span class=\"k\">{</span>","                pastebin<span class=\"k\">.</span>parentNode<span class=\"k\">.</span>removeChild<span class=\"k\">(</span>pastebin<span class=\"k\">);</span>","            <span class=\"k\">}</span><span class=\"k\">catch</span><span class=\"k\">(</span>e<span class=\"k\">)</span><span class=\"k\">{}</span>","","            range<span class=\"k\">.</span>moveToBookmark<span class=\"k\">(</span> bk <span class=\"k\">).</span>select<span class=\"k\">(</span><span class=\"k\">true</span><span class=\"k\">);</span>","            callback<span class=\"k\">(</span> pastebin <span class=\"k\">);</span>","        <span class=\"k\">}</span><span class=\"k\">,</span> <span class=\"s\">0</span> <span class=\"k\">);</span>","","","    <span class=\"k\">}</span>","","    UE<span class=\"k\">.</span>plugins<span class=\"k\">[</span><span class=\"s\">'paste'</span><span class=\"k\">]</span> <span class=\"k\">=</span> <span class=\"k\">function</span><span class=\"k\">()</span> <span class=\"k\">{</span>","        <span class=\"k\">var</span> me <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">;</span>","        <span class=\"k\">var</span> word_img_flag <span class=\"k\">=</span> <span class=\"k\">{</span>flag<span class=\"k\">:</span><span class=\"s\">\"\"</span><span class=\"k\">}</span><span class=\"k\">;</span>","","        <span class=\"k\">var</span> pasteplain <span class=\"k\">=</span> me<span class=\"k\">.</span>options<span class=\"k\">.</span>pasteplain <span class=\"k\">===</span> <span class=\"k\">true</span><span class=\"k\">;</span>","        <span class=\"k\">var</span> modify_num <span class=\"k\">=</span> <span class=\"k\">{</span>flag<span class=\"k\">:</span><span class=\"s\">\"\"</span><span class=\"k\">}</span><span class=\"k\">;</span>","        me<span class=\"k\">.</span>commands<span class=\"k\">[</span><span class=\"s\">'pasteplain'</span><span class=\"k\">]</span> <span class=\"k\">=</span> <span class=\"k\">{</span>","            queryCommandState<span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">()</span><span class=\"k\">{</span>","                <span class=\"k\">return</span> pasteplain<span class=\"k\">;</span>","            <span class=\"k\">}</span><span class=\"k\">,</span>","            execCommand<span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">()</span><span class=\"k\">{</span>","                pasteplain <span class=\"k\">=</span> <span class=\"k\">!</span>pasteplain<span class=\"k\">|</span><span class=\"s\">0</span><span class=\"k\">;</span>","            <span class=\"k\">}</span><span class=\"k\">,</span>","            notNeedUndo <span class=\"k\">:</span> <span class=\"s\">1</span>","        <span class=\"k\">}</span><span class=\"k\">;</span>","","        <span class=\"k\">function</span> filter<span class=\"k\">(</span>div<span class=\"k\">)</span><span class=\"k\">{</span>","            ","            <span class=\"k\">var</span> html<span class=\"k\">;</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span> div<span class=\"k\">.</span>firstChild <span class=\"k\">)</span> <span class=\"k\">{</span>","                    <span class=\"c\">//&#21435;&#25481;cut&#20013;&#28155;&#21152;&#30340;&#36793;&#30028;&#20540;</span>","                    <span class=\"k\">var</span> nodes <span class=\"k\">=</span> domUtils<span class=\"k\">.</span>getElementsByTagName<span class=\"k\">(</span>div<span class=\"k\">,</span><span class=\"s\">'span'</span><span class=\"k\">);</span>","                    <span class=\"k\">for</span><span class=\"k\">(</span><span class=\"k\">var</span> i<span class=\"k\">=</span><span class=\"s\">0</span><span class=\"k\">,</span>ni<span class=\"k\">;</span>ni<span class=\"k\">=</span>nodes<span class=\"k\">[</span>i<span class=\"k\">++];)</span><span class=\"k\">{</span>","                        <span class=\"k\">if</span><span class=\"k\">(</span>ni<span class=\"k\">.</span>id <span class=\"k\">==</span> <span class=\"s\">'_baidu_cut_start'</span> <span class=\"k\">||</span> ni<span class=\"k\">.</span>id <span class=\"k\">==</span> <span class=\"s\">'_baidu_cut_end'</span><span class=\"k\">)</span><span class=\"k\">{</span>","                            domUtils<span class=\"k\">.</span>remove<span class=\"k\">(</span>ni<span class=\"k\">);</span>","                        <span class=\"k\">}</span>","                    <span class=\"k\">}</span>","","                    <span class=\"k\">if</span><span class=\"k\">(</span>browser<span class=\"k\">.</span>webkit<span class=\"k\">)</span><span class=\"k\">{</span>","","                        <span class=\"k\">var</span> brs <span class=\"k\">=</span> div<span class=\"k\">.</span>querySelectorAll<span class=\"k\">(</span><span class=\"s\">'div br'</span><span class=\"k\">);</span>","                        <span class=\"k\">for</span><span class=\"k\">(</span><span class=\"k\">var</span> i<span class=\"k\">=</span><span class=\"s\">0</span><span class=\"k\">,</span>bi<span class=\"k\">;</span>bi<span class=\"k\">=</span>brs<span class=\"k\">[</span>i<span class=\"k\">++];)</span><span class=\"k\">{</span>","                            <span class=\"k\">var</span> pN <span class=\"k\">=</span> bi<span class=\"k\">.</span>parentNode<span class=\"k\">;</span>","                            <span class=\"k\">if</span><span class=\"k\">(</span>pN<span class=\"k\">.</span>tagName <span class=\"k\">==</span> <span class=\"s\">'DIV'</span> <span class=\"k\">&amp;&amp;</span> pN<span class=\"k\">.</span>childNodes<span class=\"k\">.</span>length <span class=\"k\">==</span><span class=\"s\">1</span><span class=\"k\">)</span><span class=\"k\">{</span>","                                pN<span class=\"k\">.</span>innerHTML <span class=\"k\">=</span> <span class=\"s\">'&lt;p&gt;&lt;br/&gt;&lt;/p&gt;'</span><span class=\"k\">;</span>","                                ","                                domUtils<span class=\"k\">.</span>remove<span class=\"k\">(</span>pN<span class=\"k\">);</span>","                            <span class=\"k\">}</span>","                        <span class=\"k\">}</span>","                        <span class=\"k\">var</span> divs <span class=\"k\">=</span> div<span class=\"k\">.</span>querySelectorAll<span class=\"k\">(</span><span class=\"s\">'#baidu_pastebin'</span><span class=\"k\">);</span>","                        <span class=\"k\">for</span><span class=\"k\">(</span><span class=\"k\">var</span> i<span class=\"k\">=</span><span class=\"s\">0</span><span class=\"k\">,</span>di<span class=\"k\">;</span>di<span class=\"k\">=</span>divs<span class=\"k\">[</span>i<span class=\"k\">++];)</span><span class=\"k\">{</span>","                            <span class=\"k\">var</span> tmpP <span class=\"k\">=</span> me<span class=\"k\">.</span>document<span class=\"k\">.</span>createElement<span class=\"k\">(</span><span class=\"s\">'p'</span><span class=\"k\">);</span>","                            di<span class=\"k\">.</span>parentNode<span class=\"k\">.</span>insertBefore<span class=\"k\">(</span>tmpP<span class=\"k\">,</span>di<span class=\"k\">);</span>","                            <span class=\"k\">while</span><span class=\"k\">(</span>di<span class=\"k\">.</span>firstChild<span class=\"k\">)</span><span class=\"k\">{</span>","                                tmpP<span class=\"k\">.</span>appendChild<span class=\"k\">(</span>di<span class=\"k\">.</span>firstChild<span class=\"k\">);</span>","                            <span class=\"k\">}</span>","                            domUtils<span class=\"k\">.</span>remove<span class=\"k\">(</span>di<span class=\"k\">);</span>","                        <span class=\"k\">}</span>","","","","                        <span class=\"k\">var</span> metas <span class=\"k\">=</span> div<span class=\"k\">.</span>querySelectorAll<span class=\"k\">(</span><span class=\"s\">'meta'</span><span class=\"k\">);</span>","                        <span class=\"k\">for</span><span class=\"k\">(</span><span class=\"k\">var</span> i<span class=\"k\">=</span><span class=\"s\">0</span><span class=\"k\">,</span>ci<span class=\"k\">;</span>ci<span class=\"k\">=</span>metas<span class=\"k\">[</span>i<span class=\"k\">++];)</span><span class=\"k\">{</span>","                            domUtils<span class=\"k\">.</span>remove<span class=\"k\">(</span>ci<span class=\"k\">);</span>","                        <span class=\"k\">}</span>","","                        <span class=\"k\">var</span> brs <span class=\"k\">=</span> div<span class=\"k\">.</span>querySelectorAll<span class=\"k\">(</span><span class=\"s\">'br'</span><span class=\"k\">);</span>","                        <span class=\"k\">for</span><span class=\"k\">(</span>i<span class=\"k\">=</span><span class=\"s\">0</span><span class=\"k\">;</span>ci<span class=\"k\">=</span>brs<span class=\"k\">[</span>i<span class=\"k\">++];)</span><span class=\"k\">{</span>","                            <span class=\"k\">if</span><span class=\"k\">(</span><span class=\"s\">/^apple-/</span><span class=\"k\">.</span>test<span class=\"k\">(</span>ci<span class=\"k\">))</span><span class=\"k\">{</span>","                                domUtils<span class=\"k\">.</span>remove<span class=\"k\">(</span>ci<span class=\"k\">);</span>","                            <span class=\"k\">}</span>","                        <span class=\"k\">}</span>","","                    <span class=\"k\">}</span>","                    <span class=\"k\">if</span><span class=\"k\">(</span>browser<span class=\"k\">.</span>gecko<span class=\"k\">)</span><span class=\"k\">{</span>","                        <span class=\"k\">var</span> dirtyNodes <span class=\"k\">=</span> div<span class=\"k\">.</span>querySelectorAll<span class=\"k\">(</span><span class=\"s\">'[_moz_dirty]'</span><span class=\"k\">);</span>","                        <span class=\"k\">for</span><span class=\"k\">(</span>i<span class=\"k\">=</span><span class=\"s\">0</span><span class=\"k\">;</span>ci<span class=\"k\">=</span>dirtyNodes<span class=\"k\">[</span>i<span class=\"k\">++];)</span><span class=\"k\">{</span>","                            ci<span class=\"k\">.</span>removeAttribute<span class=\"k\">(</span> <span class=\"s\">'_moz_dirty'</span> <span class=\"k\">);</span>","                        <span class=\"k\">}</span>","                    <span class=\"k\">}</span>","                    <span class=\"k\">if</span><span class=\"k\">(!</span>browser<span class=\"k\">.</span>ie <span class=\"k\">)</span><span class=\"k\">{</span>","                        <span class=\"k\">var</span> spans <span class=\"k\">=</span> div<span class=\"k\">.</span>querySelectorAll<span class=\"k\">(</span><span class=\"s\">'span.apple-style-span'</span><span class=\"k\">);</span>","                        <span class=\"k\">for</span><span class=\"k\">(</span><span class=\"k\">var</span> i<span class=\"k\">=</span><span class=\"s\">0</span><span class=\"k\">,</span>ci<span class=\"k\">;</span>ci<span class=\"k\">=</span>spans<span class=\"k\">[</span>i<span class=\"k\">++];)</span><span class=\"k\">{</span>","                            domUtils<span class=\"k\">.</span>remove<span class=\"k\">(</span>ci<span class=\"k\">,</span><span class=\"k\">true</span><span class=\"k\">);</span>","                        <span class=\"k\">}</span>","                    <span class=\"k\">}</span>","","","                    html <span class=\"k\">=</span> div<span class=\"k\">.</span>innerHTML<span class=\"k\">;</span>","","                    <span class=\"k\">var</span> f <span class=\"k\">=</span> me<span class=\"k\">.</span>serialize<span class=\"k\">;</span>","                    <span class=\"k\">if</span><span class=\"k\">(</span>f<span class=\"k\">)</span><span class=\"k\">{</span>","                        <span class=\"c\">//&#22914;&#26524;&#36807;&#28388;&#20986;&#29616;&#38382;&#39064;&#65292;&#25429;&#33719;&#23427;&#65292;&#30452;&#25509;&#25554;&#20837;&#20869;&#23481;&#65292;&#36991;&#20813;&#20986;&#29616;&#38169;&#35823;&#23548;&#33268;&#31896;&#36148;&#25972;&#20010;&#22833;&#36133;</span>","                        <span class=\"k\">try</span><span class=\"k\">{</span>","                            <span class=\"k\">var</span> node <span class=\"k\">=</span>  f<span class=\"k\">.</span>transformInput<span class=\"k\">(</span>","                                        f<span class=\"k\">.</span>parseHTML<span class=\"k\">(</span>","                                            <span class=\"c\">//todo: &#26242;&#26102;&#19981;&#36208;dtd&#30340;&#36807;&#28388;</span>","                                            f<span class=\"k\">.</span>word<span class=\"k\">(</span>html<span class=\"k\">)</span><span class=\"c\">//, true</span>","                                        <span class=\"k\">),</span>word_img_flag","                                    <span class=\"k\">);</span>","                            <span class=\"c\">//trace:924</span>","                            <span class=\"c\">//&#32431;&#25991;&#26412;&#27169;&#24335;&#20063;&#35201;&#20445;&#30041;&#27573;&#33853;</span>","                            node <span class=\"k\">=</span> f<span class=\"k\">.</span>filter<span class=\"k\">(</span>node<span class=\"k\">,</span>pasteplain <span class=\"k\">?</span> <span class=\"k\">{</span>","                                whiteList<span class=\"k\">:</span> <span class=\"k\">{</span>","                                    <span class=\"s\">'p'</span><span class=\"k\">:</span> <span class=\"k\">{</span><span class=\"s\">'br'</span><span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span><span class=\"s\">'BR'</span><span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>$<span class=\"k\">:</span><span class=\"k\">{}}</span><span class=\"k\">,</span>","                                    <span class=\"s\">'br'</span><span class=\"k\">:</span><span class=\"k\">{</span><span class=\"s\">'$'</span><span class=\"k\">:</span><span class=\"k\">{}}</span><span class=\"k\">,</span>","                                    <span class=\"s\">'div'</span><span class=\"k\">:</span><span class=\"k\">{</span><span class=\"s\">'br'</span><span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span><span class=\"s\">'BR'</span><span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span><span class=\"s\">'$'</span><span class=\"k\">:</span><span class=\"k\">{}}</span><span class=\"k\">,</span>","                                    <span class=\"s\">'li'</span><span class=\"k\">:</span><span class=\"k\">{</span><span class=\"s\">'$'</span><span class=\"k\">:</span><span class=\"k\">{}}</span><span class=\"k\">,</span>","                                    <span class=\"s\">'tr'</span><span class=\"k\">:</span><span class=\"k\">{</span><span class=\"s\">'td'</span><span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span><span class=\"s\">'$'</span><span class=\"k\">:</span><span class=\"k\">{}}</span><span class=\"k\">,</span>","                                    <span class=\"s\">'td'</span><span class=\"k\">:</span><span class=\"k\">{</span><span class=\"s\">'$'</span><span class=\"k\">:</span><span class=\"k\">{}}</span>","","                                <span class=\"k\">}</span><span class=\"k\">,</span>","                                blackList<span class=\"k\">:</span> <span class=\"k\">{</span>","                                    <span class=\"s\">'style'</span><span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>","                                    <span class=\"s\">'script'</span><span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>","                                    <span class=\"s\">'object'</span><span class=\"k\">:</span><span class=\"s\">1</span>","                                <span class=\"k\">}</span>","                            <span class=\"k\">}</span> <span class=\"k\">:</span> <span class=\"k\">null</span><span class=\"k\">,</span> <span class=\"k\">!</span>pasteplain <span class=\"k\">?</span> modify_num <span class=\"k\">:</span> <span class=\"k\">null</span><span class=\"k\">);</span>","","                            <span class=\"k\">if</span><span class=\"k\">(</span>browser<span class=\"k\">.</span>webkit<span class=\"k\">)</span><span class=\"k\">{</span>","                                <span class=\"k\">var</span> length <span class=\"k\">=</span> node<span class=\"k\">.</span>children<span class=\"k\">.</span>length<span class=\"k\">,</span>","                                    child<span class=\"k\">;</span>","                                <span class=\"k\">while</span><span class=\"k\">((</span>child <span class=\"k\">=</span> node<span class=\"k\">.</span>children<span class=\"k\">[</span>length<span class=\"k\">-</span><span class=\"s\">1</span><span class=\"k\">])</span> <span class=\"k\">&amp;&amp;</span> child<span class=\"k\">.</span>tag <span class=\"k\">==</span> <span class=\"s\">'br'</span><span class=\"k\">)</span><span class=\"k\">{</span>","                                    node<span class=\"k\">.</span>children<span class=\"k\">.</span>splice<span class=\"k\">(</span>length<span class=\"k\">-</span><span class=\"s\">1</span><span class=\"k\">,</span><span class=\"s\">1</span><span class=\"k\">);</span>","                                    length <span class=\"k\">=</span> node<span class=\"k\">.</span>children<span class=\"k\">.</span>length<span class=\"k\">;</span>","                                <span class=\"k\">}</span>","                            <span class=\"k\">}</span>","                            html <span class=\"k\">=</span> f<span class=\"k\">.</span>toHTML<span class=\"k\">(</span>node<span class=\"k\">,</span>pasteplain<span class=\"k\">);</span>","","                        <span class=\"k\">}</span><span class=\"k\">catch</span><span class=\"k\">(</span>e<span class=\"k\">)</span><span class=\"k\">{}</span>","","                    <span class=\"k\">}</span>","","","                    <span class=\"c\">//&#33258;&#23450;&#20041;&#30340;&#22788;&#29702;</span>","                   html <span class=\"k\">=</span> <span class=\"k\">{</span><span class=\"s\">'html'</span><span class=\"k\">:</span>html<span class=\"k\">}</span><span class=\"k\">;</span>","","                   me<span class=\"k\">.</span>fireEvent<span class=\"k\">(</span><span class=\"s\">'beforepaste'</span><span class=\"k\">,</span>html<span class=\"k\">);</span>","                    <span class=\"c\">//&#19981;&#29992;&#22312;&#36208;&#36807;&#28388;&#20102;</span>","                   me<span class=\"k\">.</span>execCommand<span class=\"k\">(</span> <span class=\"s\">'insertHtml'</span><span class=\"k\">,</span>html<span class=\"k\">.</span>html<span class=\"k\">,</span><span class=\"k\">true</span><span class=\"k\">);</span>","","\t               me<span class=\"k\">.</span>fireEvent<span class=\"k\">(</span><span class=\"s\">\"afterpaste\"</span><span class=\"k\">);</span>","","                <span class=\"k\">}</span>","        <span class=\"k\">}</span>","","        me<span class=\"k\">.</span>addListener<span class=\"k\">(</span><span class=\"s\">'ready'</span><span class=\"k\">,</span><span class=\"k\">function</span><span class=\"k\">()</span><span class=\"k\">{</span>","            domUtils<span class=\"k\">.</span>on<span class=\"k\">(</span>me<span class=\"k\">.</span>body<span class=\"k\">,</span><span class=\"s\">'cut'</span><span class=\"k\">,</span><span class=\"k\">function</span><span class=\"k\">()</span><span class=\"k\">{</span>","","                <span class=\"k\">var</span> range <span class=\"k\">=</span> me<span class=\"k\">.</span>selection<span class=\"k\">.</span>getRange<span class=\"k\">();</span>","                <span class=\"k\">if</span><span class=\"k\">(!</span>range<span class=\"k\">.</span>collapsed <span class=\"k\">&amp;&amp;</span> me<span class=\"k\">.</span>undoManger<span class=\"k\">)</span><span class=\"k\">{</span>","                    me<span class=\"k\">.</span>undoManger<span class=\"k\">.</span>save<span class=\"k\">();</span>","                <span class=\"k\">}</span>","       ","            <span class=\"k\">}</span><span class=\"k\">);</span>","            <span class=\"c\">//ie&#19979;beforepaste&#22312;&#28857;&#20987;&#21491;&#38190;&#26102;&#20063;&#20250;&#35302;&#21457;&#65292;&#25152;&#20197;&#29992;&#30417;&#25511;&#38190;&#30424;&#25165;&#22788;&#29702;</span>","                domUtils<span class=\"k\">.</span>on<span class=\"k\">(</span>me<span class=\"k\">.</span>body<span class=\"k\">,</span> browser<span class=\"k\">.</span>ie <span class=\"k\">||</span> browser<span class=\"k\">.</span>opera <span class=\"k\">?</span> <span class=\"s\">'keydown'</span> <span class=\"k\">:</span> <span class=\"s\">'paste'</span><span class=\"k\">,</span><span class=\"k\">function</span><span class=\"k\">(</span>e<span class=\"k\">)</span><span class=\"k\">{</span>","","                    <span class=\"k\">if</span><span class=\"k\">((</span>browser<span class=\"k\">.</span>ie <span class=\"k\">||</span> browser<span class=\"k\">.</span>opera<span class=\"k\">)</span> <span class=\"k\">&amp;&amp;</span> <span class=\"k\">(!</span>e<span class=\"k\">.</span>ctrlKey <span class=\"k\">||</span> e<span class=\"k\">.</span>keyCode <span class=\"k\">!=</span> <span class=\"s\">'86'</span><span class=\"k\">))</span><span class=\"k\">{</span>","                        <span class=\"k\">return</span><span class=\"k\">;</span>","                    <span class=\"k\">}</span>","","                    getClipboardData<span class=\"k\">.</span>call<span class=\"k\">(</span> me<span class=\"k\">,</span> <span class=\"k\">function</span><span class=\"k\">(</span> div <span class=\"k\">)</span> <span class=\"k\">{</span>","                        filter<span class=\"k\">(</span>div<span class=\"k\">);</span>","                    <span class=\"k\">}</span> <span class=\"k\">);</span>","","","                <span class=\"k\">}</span><span class=\"k\">);</span>","","        <span class=\"k\">}</span><span class=\"k\">);</span>","","    <span class=\"k\">}</span><span class=\"k\">;</span>","","<span class=\"k\">}</span><span class=\"k\">)();</span>",""]);
_$jscoverage['plugins/preview.js'] && (_$jscoverage['plugins/preview.js'].source = ["<span class=\"c\">///import core</span>","<span class=\"c\">///commands &#39044;&#35272;</span>","<span class=\"c\">///commandsName  Preview</span>","<span class=\"c\">///commandsTitle  &#39044;&#35272;</span>","<span class=\"c\">/**</span>","<span class=\"c\"> * &#39044;&#35272;</span>","<span class=\"c\"> * @function</span>","<span class=\"c\"> * @name baidu.editor.execCommand</span>","<span class=\"c\"> * @param   {String}   cmdName     preview&#39044;&#35272;&#32534;&#36753;&#22120;&#20869;&#23481;</span>","<span class=\"c\"> */</span>","UE<span class=\"k\">.</span>commands<span class=\"k\">[</span><span class=\"s\">'preview'</span><span class=\"k\">]</span> <span class=\"k\">=</span> <span class=\"k\">{</span>","    execCommand <span class=\"k\">:</span> <span class=\"k\">function</span><span class=\"k\">()</span><span class=\"k\">{</span>","        <span class=\"k\">var</span> w <span class=\"k\">=</span> window<span class=\"k\">.</span>open<span class=\"k\">(</span><span class=\"s\">''</span><span class=\"k\">,</span> <span class=\"s\">'_blank'</span><span class=\"k\">,</span> <span class=\"s\">''</span><span class=\"k\">),</span>","            d <span class=\"k\">=</span> w<span class=\"k\">.</span>document<span class=\"k\">;</span>","        d<span class=\"k\">.</span>open<span class=\"k\">();</span>","        d<span class=\"k\">.</span>write<span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>getAllHtml<span class=\"k\">());</span>","        d<span class=\"k\">.</span>close<span class=\"k\">();</span>","    <span class=\"k\">}</span><span class=\"k\">,</span>","    notNeedUndo <span class=\"k\">:</span> <span class=\"s\">1</span>","<span class=\"k\">}</span><span class=\"k\">;</span>"]);
_$jscoverage['plugins/print.js'] && (_$jscoverage['plugins/print.js'].source = ["<span class=\"c\">///import core</span>","<span class=\"c\">///commands &#25171;&#21360;</span>","<span class=\"c\">///commandsName  Print</span>","<span class=\"c\">///commandsTitle  &#25171;&#21360;</span>","<span class=\"c\">/**</span>","<span class=\"c\"> * @description &#25171;&#21360;</span>","<span class=\"c\"> * @name baidu.editor.execCommand</span>","<span class=\"c\"> * @param   {String}   cmdName     print&#25171;&#21360;&#32534;&#36753;&#22120;&#20869;&#23481;</span>","<span class=\"c\"> * @author zhanyi</span>","<span class=\"c\"> */</span>","UE<span class=\"k\">.</span>commands<span class=\"k\">[</span><span class=\"s\">'print'</span><span class=\"k\">]</span> <span class=\"k\">=</span> <span class=\"k\">{</span>","    execCommand <span class=\"k\">:</span> <span class=\"k\">function</span><span class=\"k\">()</span><span class=\"k\">{</span>","        <span class=\"k\">this</span><span class=\"k\">.</span>window<span class=\"k\">.</span>print<span class=\"k\">();</span>","    <span class=\"k\">}</span><span class=\"k\">,</span>","    notNeedUndo <span class=\"k\">:</span> <span class=\"s\">1</span>","<span class=\"k\">}</span><span class=\"k\">;</span>",""]);
_$jscoverage['plugins/removeformat.js'] && (_$jscoverage['plugins/removeformat.js'].source = ["<span class=\"c\">///import core</span>","<span class=\"c\">///commands &#28165;&#38500;&#26684;&#24335;</span>","<span class=\"c\">///commandsName  RemoveFormat</span>","<span class=\"c\">///commandsTitle  &#28165;&#38500;&#26684;&#24335;</span>","<span class=\"c\">/**</span>","<span class=\"c\"> * @description &#28165;&#38500;&#26684;&#24335;</span>","<span class=\"c\"> * @name baidu.editor.execCommand</span>","<span class=\"c\"> * @param   {String}   cmdName     removeformat&#28165;&#38500;&#26684;&#24335;&#21629;&#20196;</span>","<span class=\"c\"> * @param   {String}   tags                &#20197;&#36887;&#21495;&#38548;&#24320;&#30340;&#26631;&#31614;&#12290;&#22914;&#65306;span,a</span>","<span class=\"c\"> * @param   {String}   style               &#26679;&#24335;</span>","<span class=\"c\"> * @param   {String}   attrs               &#23646;&#24615;</span>","<span class=\"c\"> * @param   {String}   notIncluedA    &#26159;&#21542;&#25226;a&#26631;&#31614;&#20999;&#24320;</span>","<span class=\"c\"> * @author zhanyi</span>","<span class=\"c\"> */</span>","UE<span class=\"k\">.</span>plugins<span class=\"k\">[</span><span class=\"s\">'removeformat'</span><span class=\"k\">]</span> <span class=\"k\">=</span> <span class=\"k\">function</span><span class=\"k\">()</span><span class=\"k\">{</span>","    <span class=\"k\">var</span> me <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">;</span>","    me<span class=\"k\">.</span>setOpt<span class=\"k\">(</span><span class=\"k\">{</span>","       <span class=\"s\">'removeFormatTags'</span><span class=\"k\">:</span> <span class=\"s\">'b,big,code,del,dfn,em,font,i,ins,kbd,q,samp,small,span,strike,strong,sub,sup,tt,u,var'</span><span class=\"k\">,</span>","       <span class=\"s\">'removeFormatAttributes'</span><span class=\"k\">:</span><span class=\"s\">'class,style,lang,width,height,align,hspace,valign'</span>","    <span class=\"k\">}</span><span class=\"k\">);</span>","    me<span class=\"k\">.</span>commands<span class=\"k\">[</span><span class=\"s\">'removeformat'</span><span class=\"k\">]</span> <span class=\"k\">=</span> <span class=\"k\">{</span>","        execCommand <span class=\"k\">:</span> <span class=\"k\">function</span><span class=\"k\">(</span> cmdName<span class=\"k\">,</span> tags<span class=\"k\">,</span> style<span class=\"k\">,</span> attrs<span class=\"k\">,</span>notIncludeA <span class=\"k\">)</span> <span class=\"k\">{</span>","","            <span class=\"k\">var</span> tagReg <span class=\"k\">=</span> <span class=\"k\">new</span> RegExp<span class=\"k\">(</span> <span class=\"s\">'^(?:'</span> <span class=\"k\">+</span> <span class=\"k\">(</span>tags <span class=\"k\">||</span> <span class=\"k\">this</span><span class=\"k\">.</span>options<span class=\"k\">.</span>removeFormatTags<span class=\"k\">).</span>replace<span class=\"k\">(</span> <span class=\"s\">/,/g</span><span class=\"k\">,</span> <span class=\"s\">'|'</span> <span class=\"k\">)</span> <span class=\"k\">+</span> <span class=\"s\">')$'</span><span class=\"k\">,</span> <span class=\"s\">'i'</span> <span class=\"k\">)</span> <span class=\"k\">,</span>","                removeFormatAttributes <span class=\"k\">=</span> style <span class=\"k\">?</span> <span class=\"k\">[]</span> <span class=\"k\">:</span> <span class=\"k\">(</span>attrs <span class=\"k\">||</span> <span class=\"k\">this</span><span class=\"k\">.</span>options<span class=\"k\">.</span>removeFormatAttributes<span class=\"k\">).</span>split<span class=\"k\">(</span> <span class=\"s\">','</span> <span class=\"k\">),</span>","                range <span class=\"k\">=</span> <span class=\"k\">new</span> dom<span class=\"k\">.</span>Range<span class=\"k\">(</span> <span class=\"k\">this</span><span class=\"k\">.</span>document <span class=\"k\">),</span>","                bookmark<span class=\"k\">,</span>node<span class=\"k\">,</span>parent<span class=\"k\">,</span>","                filter <span class=\"k\">=</span> <span class=\"k\">function</span><span class=\"k\">(</span> node <span class=\"k\">)</span> <span class=\"k\">{</span>","                    <span class=\"k\">return</span> node<span class=\"k\">.</span>nodeType <span class=\"k\">==</span> <span class=\"s\">1</span><span class=\"k\">;</span>","                <span class=\"k\">}</span><span class=\"k\">;</span>","","            <span class=\"k\">function</span> isRedundantSpan <span class=\"k\">(</span>node<span class=\"k\">)</span> <span class=\"k\">{</span>","                <span class=\"k\">if</span> <span class=\"k\">(</span>node<span class=\"k\">.</span>nodeType <span class=\"k\">==</span> <span class=\"s\">3</span> <span class=\"k\">||</span> node<span class=\"k\">.</span>tagName<span class=\"k\">.</span>toLowerCase<span class=\"k\">()</span> <span class=\"k\">!=</span> <span class=\"s\">'span'</span><span class=\"k\">)</span><span class=\"k\">{</span>","                    <span class=\"k\">return</span> <span class=\"s\">0</span><span class=\"k\">;</span>","                <span class=\"k\">}</span>","                <span class=\"k\">if</span> <span class=\"k\">(</span>browser<span class=\"k\">.</span>ie<span class=\"k\">)</span> <span class=\"k\">{</span>","                    <span class=\"c\">//ie &#19979;&#21028;&#26029;&#23454;&#25928;&#65292;&#25152;&#20197;&#21482;&#33021;&#31616;&#21333;&#29992;style&#26469;&#21028;&#26029;</span>","                    <span class=\"c\">//return node.style.cssText == '' ? 1 : 0;</span>","                    <span class=\"k\">var</span> attrs <span class=\"k\">=</span> node<span class=\"k\">.</span>attributes<span class=\"k\">;</span>","                    <span class=\"k\">if</span> <span class=\"k\">(</span> attrs<span class=\"k\">.</span>length <span class=\"k\">)</span> <span class=\"k\">{</span>","                        <span class=\"k\">for</span> <span class=\"k\">(</span> <span class=\"k\">var</span> i <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">,</span>l <span class=\"k\">=</span> attrs<span class=\"k\">.</span>length<span class=\"k\">;</span> i<span class=\"k\">&lt;</span>l<span class=\"k\">;</span> i<span class=\"k\">++</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                            <span class=\"k\">if</span> <span class=\"k\">(</span> attrs<span class=\"k\">[</span>i<span class=\"k\">].</span>specified <span class=\"k\">)</span> <span class=\"k\">{</span>","                                <span class=\"k\">return</span> <span class=\"s\">0</span><span class=\"k\">;</span>","                            <span class=\"k\">}</span>","                        <span class=\"k\">}</span>","                        <span class=\"k\">return</span> <span class=\"s\">1</span><span class=\"k\">;</span>","                    <span class=\"k\">}</span>","                <span class=\"k\">}</span>","                <span class=\"k\">return</span> <span class=\"k\">!</span>node<span class=\"k\">.</span>attributes<span class=\"k\">.</span>length<span class=\"k\">;</span>","            <span class=\"k\">}</span>","            <span class=\"k\">function</span> doRemove<span class=\"k\">(</span> range <span class=\"k\">)</span> <span class=\"k\">{</span>","","                <span class=\"k\">var</span> bookmark1 <span class=\"k\">=</span> range<span class=\"k\">.</span>createBookmark<span class=\"k\">();</span>","                <span class=\"k\">if</span> <span class=\"k\">(</span> range<span class=\"k\">.</span>collapsed <span class=\"k\">)</span> <span class=\"k\">{</span>","                    range<span class=\"k\">.</span>enlarge<span class=\"k\">(</span> <span class=\"k\">true</span> <span class=\"k\">);</span>","                <span class=\"k\">}</span>","","                <span class=\"c\">//&#19981;&#33021;&#25226;a&#26631;&#31614;&#20999;&#20102;</span>","                <span class=\"k\">if</span><span class=\"k\">(!</span>notIncludeA<span class=\"k\">)</span><span class=\"k\">{</span>","                    <span class=\"k\">var</span> aNode <span class=\"k\">=</span> domUtils<span class=\"k\">.</span>findParentByTagName<span class=\"k\">(</span>range<span class=\"k\">.</span>startContainer<span class=\"k\">,</span><span class=\"s\">'a'</span><span class=\"k\">,</span><span class=\"k\">true</span><span class=\"k\">);</span>","                    <span class=\"k\">if</span><span class=\"k\">(</span>aNode<span class=\"k\">)</span><span class=\"k\">{</span>","                        range<span class=\"k\">.</span>setStartBefore<span class=\"k\">(</span>aNode<span class=\"k\">);</span>","                    <span class=\"k\">}</span>","","                    aNode <span class=\"k\">=</span> domUtils<span class=\"k\">.</span>findParentByTagName<span class=\"k\">(</span>range<span class=\"k\">.</span>endContainer<span class=\"k\">,</span><span class=\"s\">'a'</span><span class=\"k\">,</span><span class=\"k\">true</span><span class=\"k\">);</span>","                    <span class=\"k\">if</span><span class=\"k\">(</span>aNode<span class=\"k\">)</span><span class=\"k\">{</span>","                        range<span class=\"k\">.</span>setEndAfter<span class=\"k\">(</span>aNode<span class=\"k\">);</span>","                    <span class=\"k\">}</span>","","                <span class=\"k\">}</span>","","","                bookmark <span class=\"k\">=</span> range<span class=\"k\">.</span>createBookmark<span class=\"k\">();</span>","","                node <span class=\"k\">=</span> bookmark<span class=\"k\">.</span>start<span class=\"k\">;</span>","","                <span class=\"c\">//&#20999;&#24320;&#22987;</span>","                <span class=\"k\">while</span> <span class=\"k\">(</span> <span class=\"k\">(</span>parent <span class=\"k\">=</span> node<span class=\"k\">.</span>parentNode<span class=\"k\">)</span> <span class=\"k\">&amp;&amp;</span> <span class=\"k\">!</span>domUtils<span class=\"k\">.</span>isBlockElm<span class=\"k\">(</span> parent <span class=\"k\">)</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                    domUtils<span class=\"k\">.</span>breakParent<span class=\"k\">(</span> node<span class=\"k\">,</span> parent <span class=\"k\">);</span>","","                    domUtils<span class=\"k\">.</span>clearEmptySibling<span class=\"k\">(</span> node <span class=\"k\">);</span>","                <span class=\"k\">}</span>","                <span class=\"k\">if</span> <span class=\"k\">(</span> bookmark<span class=\"k\">.</span>end <span class=\"k\">)</span> <span class=\"k\">{</span>","                    <span class=\"c\">//&#20999;&#32467;&#26463;</span>","                    node <span class=\"k\">=</span> bookmark<span class=\"k\">.</span>end<span class=\"k\">;</span>","                    <span class=\"k\">while</span> <span class=\"k\">(</span> <span class=\"k\">(</span>parent <span class=\"k\">=</span> node<span class=\"k\">.</span>parentNode<span class=\"k\">)</span> <span class=\"k\">&amp;&amp;</span> <span class=\"k\">!</span>domUtils<span class=\"k\">.</span>isBlockElm<span class=\"k\">(</span> parent <span class=\"k\">)</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                        domUtils<span class=\"k\">.</span>breakParent<span class=\"k\">(</span> node<span class=\"k\">,</span> parent <span class=\"k\">);</span>","                        domUtils<span class=\"k\">.</span>clearEmptySibling<span class=\"k\">(</span> node <span class=\"k\">);</span>","                    <span class=\"k\">}</span>","","                    <span class=\"c\">//&#24320;&#22987;&#21435;&#38500;&#26679;&#24335;</span>","                    <span class=\"k\">var</span> current <span class=\"k\">=</span> domUtils<span class=\"k\">.</span>getNextDomNode<span class=\"k\">(</span> bookmark<span class=\"k\">.</span>start<span class=\"k\">,</span> <span class=\"k\">false</span><span class=\"k\">,</span> filter <span class=\"k\">),</span>","                        next<span class=\"k\">;</span>","                    <span class=\"k\">while</span> <span class=\"k\">(</span> current <span class=\"k\">)</span> <span class=\"k\">{</span>","                        <span class=\"k\">if</span> <span class=\"k\">(</span> current <span class=\"k\">==</span> bookmark<span class=\"k\">.</span>end <span class=\"k\">)</span> <span class=\"k\">{</span>","                            <span class=\"k\">break</span><span class=\"k\">;</span>","                        <span class=\"k\">}</span>","","                        next <span class=\"k\">=</span> domUtils<span class=\"k\">.</span>getNextDomNode<span class=\"k\">(</span> current<span class=\"k\">,</span> <span class=\"k\">true</span><span class=\"k\">,</span> filter <span class=\"k\">);</span>","","                        <span class=\"k\">if</span> <span class=\"k\">(</span> <span class=\"k\">!</span>dtd<span class=\"k\">.</span>$empty<span class=\"k\">[</span>current<span class=\"k\">.</span>tagName<span class=\"k\">.</span>toLowerCase<span class=\"k\">()]</span> <span class=\"k\">&amp;&amp;</span> <span class=\"k\">!</span>domUtils<span class=\"k\">.</span>isBookmarkNode<span class=\"k\">(</span> current <span class=\"k\">)</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                            <span class=\"k\">if</span> <span class=\"k\">(</span> tagReg<span class=\"k\">.</span>test<span class=\"k\">(</span> current<span class=\"k\">.</span>tagName <span class=\"k\">)</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                                <span class=\"k\">if</span> <span class=\"k\">(</span> style <span class=\"k\">)</span> <span class=\"k\">{</span>","                                    domUtils<span class=\"k\">.</span>removeStyle<span class=\"k\">(</span> current<span class=\"k\">,</span> style <span class=\"k\">);</span>","                                    <span class=\"k\">if</span> <span class=\"k\">(</span> isRedundantSpan<span class=\"k\">(</span> current <span class=\"k\">)</span> <span class=\"k\">&amp;&amp;</span> style <span class=\"k\">!=</span> <span class=\"s\">'text-decoration'</span><span class=\"k\">)</span><span class=\"k\">{</span>","                                        domUtils<span class=\"k\">.</span>remove<span class=\"k\">(</span> current<span class=\"k\">,</span> <span class=\"k\">true</span> <span class=\"k\">);</span>","                                    <span class=\"k\">}</span>","                                <span class=\"k\">}</span> <span class=\"k\">else</span> <span class=\"k\">{</span>","                                    domUtils<span class=\"k\">.</span>remove<span class=\"k\">(</span> current<span class=\"k\">,</span> <span class=\"k\">true</span> <span class=\"k\">);</span>","                                <span class=\"k\">}</span>","                            <span class=\"k\">}</span> <span class=\"k\">else</span> <span class=\"k\">{</span>","                                <span class=\"c\">//trace:939  &#19981;&#33021;&#25226;list&#19978;&#30340;&#26679;&#24335;&#21435;&#25481;</span>","                                <span class=\"k\">if</span><span class=\"k\">(!</span>dtd<span class=\"k\">.</span>$tableContent<span class=\"k\">[</span>current<span class=\"k\">.</span>tagName<span class=\"k\">]</span> <span class=\"k\">&amp;&amp;</span> <span class=\"k\">!</span>dtd<span class=\"k\">.</span>$list<span class=\"k\">[</span>current<span class=\"k\">.</span>tagName<span class=\"k\">])</span><span class=\"k\">{</span>","                                    domUtils<span class=\"k\">.</span>removeAttributes<span class=\"k\">(</span> current<span class=\"k\">,</span> removeFormatAttributes <span class=\"k\">);</span>","                                    <span class=\"k\">if</span> <span class=\"k\">(</span> isRedundantSpan<span class=\"k\">(</span> current <span class=\"k\">)</span> <span class=\"k\">)</span><span class=\"k\">{</span>","                                        domUtils<span class=\"k\">.</span>remove<span class=\"k\">(</span> current<span class=\"k\">,</span> <span class=\"k\">true</span> <span class=\"k\">);</span>","                                    <span class=\"k\">}</span>","                                <span class=\"k\">}</span>","","                            <span class=\"k\">}</span>","                        <span class=\"k\">}</span>","                        current <span class=\"k\">=</span> next<span class=\"k\">;</span>","                    <span class=\"k\">}</span>","                <span class=\"k\">}</span>","                <span class=\"c\">//trace:1035</span>","                <span class=\"c\">//trace:1096 &#19981;&#33021;&#25226;td&#19978;&#30340;&#26679;&#24335;&#21435;&#25481;&#65292;&#27604;&#22914;&#36793;&#26694;</span>","                <span class=\"k\">var</span> pN <span class=\"k\">=</span> bookmark<span class=\"k\">.</span>start<span class=\"k\">.</span>parentNode<span class=\"k\">;</span>","                <span class=\"k\">if</span><span class=\"k\">(</span>domUtils<span class=\"k\">.</span>isBlockElm<span class=\"k\">(</span>pN<span class=\"k\">)</span> <span class=\"k\">&amp;&amp;</span> <span class=\"k\">!</span>dtd<span class=\"k\">.</span>$tableContent<span class=\"k\">[</span>pN<span class=\"k\">.</span>tagName<span class=\"k\">]</span> <span class=\"k\">&amp;&amp;</span> <span class=\"k\">!</span>dtd<span class=\"k\">.</span>$list<span class=\"k\">[</span>pN<span class=\"k\">.</span>tagName<span class=\"k\">])</span><span class=\"k\">{</span>","                    domUtils<span class=\"k\">.</span>removeAttributes<span class=\"k\">(</span>  pN<span class=\"k\">,</span>removeFormatAttributes <span class=\"k\">);</span>","                <span class=\"k\">}</span>","                pN <span class=\"k\">=</span> bookmark<span class=\"k\">.</span>end<span class=\"k\">.</span>parentNode<span class=\"k\">;</span>","                <span class=\"k\">if</span><span class=\"k\">(</span>bookmark<span class=\"k\">.</span>end <span class=\"k\">&amp;&amp;</span> domUtils<span class=\"k\">.</span>isBlockElm<span class=\"k\">(</span>pN<span class=\"k\">)</span> <span class=\"k\">&amp;&amp;</span> <span class=\"k\">!</span>dtd<span class=\"k\">.</span>$tableContent<span class=\"k\">[</span>pN<span class=\"k\">.</span>tagName<span class=\"k\">]&amp;&amp;</span> <span class=\"k\">!</span>dtd<span class=\"k\">.</span>$list<span class=\"k\">[</span>pN<span class=\"k\">.</span>tagName<span class=\"k\">])</span><span class=\"k\">{</span>","                    domUtils<span class=\"k\">.</span>removeAttributes<span class=\"k\">(</span>  pN<span class=\"k\">,</span>removeFormatAttributes <span class=\"k\">);</span>","                <span class=\"k\">}</span>","                range<span class=\"k\">.</span>moveToBookmark<span class=\"k\">(</span> bookmark <span class=\"k\">).</span>moveToBookmark<span class=\"k\">(</span>bookmark1<span class=\"k\">);</span>","                <span class=\"c\">//&#28165;&#38500;&#20887;&#20313;&#30340;&#20195;&#30721; &lt;b&gt;&lt;bookmark&gt;&lt;/b&gt;</span>","                <span class=\"k\">var</span> node <span class=\"k\">=</span> range<span class=\"k\">.</span>startContainer<span class=\"k\">,</span>","                    tmp<span class=\"k\">,</span>","                    collapsed <span class=\"k\">=</span> range<span class=\"k\">.</span>collapsed<span class=\"k\">;</span>","                <span class=\"k\">while</span><span class=\"k\">(</span>node<span class=\"k\">.</span>nodeType <span class=\"k\">==</span> <span class=\"s\">1</span> <span class=\"k\">&amp;&amp;</span> domUtils<span class=\"k\">.</span>isEmptyNode<span class=\"k\">(</span>node<span class=\"k\">)</span> <span class=\"k\">&amp;&amp;</span> dtd<span class=\"k\">.</span>$removeEmpty<span class=\"k\">[</span>node<span class=\"k\">.</span>tagName<span class=\"k\">])</span><span class=\"k\">{</span>","                    tmp <span class=\"k\">=</span> node<span class=\"k\">.</span>parentNode<span class=\"k\">;</span>","                    range<span class=\"k\">.</span>setStartBefore<span class=\"k\">(</span>node<span class=\"k\">);</span>","                    <span class=\"c\">//trace:937</span>","                    <span class=\"c\">//&#26356;&#26032;&#32467;&#26463;&#36793;&#30028;</span>","                    <span class=\"k\">if</span><span class=\"k\">(</span>range<span class=\"k\">.</span>startContainer <span class=\"k\">===</span> range<span class=\"k\">.</span>endContainer<span class=\"k\">)</span><span class=\"k\">{</span>","                        range<span class=\"k\">.</span>endOffset<span class=\"k\">--;</span>","                    <span class=\"k\">}</span>","                    domUtils<span class=\"k\">.</span>remove<span class=\"k\">(</span>node<span class=\"k\">);</span>","                    node <span class=\"k\">=</span> tmp<span class=\"k\">;</span>","                <span class=\"k\">}</span>","","                <span class=\"k\">if</span><span class=\"k\">(!</span>collapsed<span class=\"k\">)</span><span class=\"k\">{</span>","                    node <span class=\"k\">=</span> range<span class=\"k\">.</span>endContainer<span class=\"k\">;</span>","                    <span class=\"k\">while</span><span class=\"k\">(</span>node<span class=\"k\">.</span>nodeType <span class=\"k\">==</span> <span class=\"s\">1</span> <span class=\"k\">&amp;&amp;</span> domUtils<span class=\"k\">.</span>isEmptyNode<span class=\"k\">(</span>node<span class=\"k\">)</span> <span class=\"k\">&amp;&amp;</span> dtd<span class=\"k\">.</span>$removeEmpty<span class=\"k\">[</span>node<span class=\"k\">.</span>tagName<span class=\"k\">])</span><span class=\"k\">{</span>","                        tmp <span class=\"k\">=</span> node<span class=\"k\">.</span>parentNode<span class=\"k\">;</span>","                        range<span class=\"k\">.</span>setEndBefore<span class=\"k\">(</span>node<span class=\"k\">);</span>","                        domUtils<span class=\"k\">.</span>remove<span class=\"k\">(</span>node<span class=\"k\">);</span>","","                        node <span class=\"k\">=</span> tmp<span class=\"k\">;</span>","                    <span class=\"k\">}</span>","","","                <span class=\"k\">}</span>","            <span class=\"k\">}</span>","","            <span class=\"k\">if</span> <span class=\"k\">(</span> <span class=\"k\">this</span><span class=\"k\">.</span>currentSelectedArr <span class=\"k\">&amp;&amp;</span> <span class=\"k\">this</span><span class=\"k\">.</span>currentSelectedArr<span class=\"k\">.</span>length <span class=\"k\">)</span> <span class=\"k\">{</span>","                <span class=\"k\">for</span> <span class=\"k\">(</span> <span class=\"k\">var</span> i <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">,</span>ci<span class=\"k\">;</span> ci <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>currentSelectedArr<span class=\"k\">[</span>i<span class=\"k\">++];</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                    range<span class=\"k\">.</span>selectNodeContents<span class=\"k\">(</span> ci <span class=\"k\">);</span>","                    doRemove<span class=\"k\">(</span> range <span class=\"k\">);</span>","                <span class=\"k\">}</span>","                range<span class=\"k\">.</span>selectNodeContents<span class=\"k\">(</span> <span class=\"k\">this</span><span class=\"k\">.</span>currentSelectedArr<span class=\"k\">[</span><span class=\"s\">0</span><span class=\"k\">]</span> <span class=\"k\">).</span>select<span class=\"k\">();</span>","            <span class=\"k\">}</span> <span class=\"k\">else</span> <span class=\"k\">{</span>","","                range <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>selection<span class=\"k\">.</span>getRange<span class=\"k\">();</span>","                doRemove<span class=\"k\">(</span> range <span class=\"k\">);</span>","                range<span class=\"k\">.</span>select<span class=\"k\">();</span>","            <span class=\"k\">}</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        queryCommandState <span class=\"k\">:</span> <span class=\"k\">function</span><span class=\"k\">()</span><span class=\"k\">{</span>","            <span class=\"k\">return</span> <span class=\"k\">this</span><span class=\"k\">.</span>highlight <span class=\"k\">?</span> <span class=\"k\">-</span><span class=\"s\">1</span> <span class=\"k\">:</span><span class=\"s\">0</span><span class=\"k\">;</span>","        <span class=\"k\">}</span>","","    <span class=\"k\">}</span><span class=\"k\">;</span>","","<span class=\"k\">}</span><span class=\"k\">;</span>"]);
_$jscoverage['plugins/rowspacing.js'] && (_$jscoverage['plugins/rowspacing.js'].source = ["<span class=\"c\">///import core</span>","<span class=\"c\">///import plugins\\paragraph.js</span>","<span class=\"c\">///commands &#27573;&#38388;&#36317;</span>","<span class=\"c\">///commandsName  RowSpacingBottom,RowSpacingTop</span>","<span class=\"c\">///commandsTitle  &#27573;&#38388;&#36317;</span>","<span class=\"c\">/**</span>","<span class=\"c\"> * @description &#35774;&#32622;&#27573;&#21069;&#36317;,&#27573;&#21518;&#36317;</span>","<span class=\"c\"> * @name baidu.editor.execCommand</span>","<span class=\"c\"> * @param   {String}   cmdName     rowspacing&#35774;&#32622;&#27573;&#38388;&#36317;</span>","<span class=\"c\"> * @param   {String}   value              &#20540;&#65292;&#20197;px&#20026;&#21333;&#20301;</span>","<span class=\"c\"> * @param   {String}   dir          top&#25110;bottom&#27573;&#21069;&#21518;&#27573;&#21518;</span>","<span class=\"c\"> * @author zhanyi</span>","<span class=\"c\"> */</span>","UE<span class=\"k\">.</span>plugins<span class=\"k\">[</span><span class=\"s\">'rowspacing'</span><span class=\"k\">]</span> <span class=\"k\">=</span> <span class=\"k\">function</span><span class=\"k\">()</span><span class=\"k\">{</span>","    <span class=\"k\">var</span> me <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">;</span>","    me<span class=\"k\">.</span>setOpt<span class=\"k\">(</span><span class=\"k\">{</span>","        <span class=\"s\">'rowspacingtop'</span><span class=\"k\">:[</span><span class=\"s\">'5'</span><span class=\"k\">,</span> <span class=\"s\">'10'</span><span class=\"k\">,</span> <span class=\"s\">'15'</span><span class=\"k\">,</span> <span class=\"s\">'20'</span><span class=\"k\">,</span> <span class=\"s\">'25'</span><span class=\"k\">],</span>","        <span class=\"s\">'rowspacingbottom'</span><span class=\"k\">:[</span><span class=\"s\">'5'</span><span class=\"k\">,</span> <span class=\"s\">'10'</span><span class=\"k\">,</span> <span class=\"s\">'15'</span><span class=\"k\">,</span> <span class=\"s\">'20'</span><span class=\"k\">,</span> <span class=\"s\">'25'</span><span class=\"k\">]</span>","","    <span class=\"k\">}</span><span class=\"k\">);</span>","    me<span class=\"k\">.</span>commands<span class=\"k\">[</span><span class=\"s\">'rowspacing'</span><span class=\"k\">]</span> <span class=\"k\">=</span>  <span class=\"k\">{</span>","        execCommand <span class=\"k\">:</span> <span class=\"k\">function</span><span class=\"k\">(</span> cmdName<span class=\"k\">,</span>value<span class=\"k\">,</span>dir <span class=\"k\">)</span> <span class=\"k\">{</span>","            <span class=\"k\">this</span><span class=\"k\">.</span>execCommand<span class=\"k\">(</span><span class=\"s\">'paragraph'</span><span class=\"k\">,</span><span class=\"s\">'p'</span><span class=\"k\">,</span><span class=\"k\">{</span>style<span class=\"k\">:</span><span class=\"s\">'margin-'</span><span class=\"k\">+</span>dir<span class=\"k\">+</span><span class=\"s\">':'</span><span class=\"k\">+</span>value <span class=\"k\">+</span> <span class=\"s\">'px'</span><span class=\"k\">}</span><span class=\"k\">);</span>","            <span class=\"k\">return</span> <span class=\"k\">true</span><span class=\"k\">;</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        queryCommandValue <span class=\"k\">:</span> <span class=\"k\">function</span><span class=\"k\">(</span>cmdName<span class=\"k\">,</span>dir<span class=\"k\">)</span> <span class=\"k\">{</span>","            <span class=\"k\">var</span> pN <span class=\"k\">=</span> utils<span class=\"k\">.</span>findNode<span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>selection<span class=\"k\">.</span>getStartElementPath<span class=\"k\">(),</span><span class=\"k\">null</span><span class=\"k\">,</span><span class=\"k\">function</span><span class=\"k\">(</span>node<span class=\"k\">)</span><span class=\"k\">{</span><span class=\"k\">return</span> domUtils<span class=\"k\">.</span>isBlockElm<span class=\"k\">(</span>node<span class=\"k\">)</span> <span class=\"k\">}</span><span class=\"k\">),</span>","                value<span class=\"k\">;</span>","            <span class=\"c\">//trace:1026</span>","            <span class=\"k\">if</span><span class=\"k\">(</span>pN<span class=\"k\">)</span><span class=\"k\">{</span>","                value <span class=\"k\">=</span> domUtils<span class=\"k\">.</span>getComputedStyle<span class=\"k\">(</span>pN<span class=\"k\">,</span><span class=\"s\">'margin-'</span><span class=\"k\">+</span>dir<span class=\"k\">).</span>replace<span class=\"k\">(</span><span class=\"s\">/[^\\d]/g</span><span class=\"k\">,</span><span class=\"s\">''</span><span class=\"k\">);</span>","                <span class=\"k\">return</span> <span class=\"k\">!</span>value <span class=\"k\">?</span> <span class=\"s\">0</span> <span class=\"k\">:</span> value<span class=\"k\">;</span>","            <span class=\"k\">}</span>","            <span class=\"k\">return</span> <span class=\"s\">0</span><span class=\"k\">;</span>","","        <span class=\"k\">}</span><span class=\"k\">,</span>","        queryCommandState <span class=\"k\">:</span> <span class=\"k\">function</span><span class=\"k\">()</span><span class=\"k\">{</span>","            <span class=\"k\">return</span> <span class=\"k\">this</span><span class=\"k\">.</span>highlight <span class=\"k\">?</span> <span class=\"k\">-</span><span class=\"s\">1</span> <span class=\"k\">:</span><span class=\"s\">0</span><span class=\"k\">;</span>","        <span class=\"k\">}</span>","    <span class=\"k\">}</span><span class=\"k\">;</span>","<span class=\"k\">}</span><span class=\"k\">;</span>","",""]);
_$jscoverage['plugins/scrawl.js'] && (_$jscoverage['plugins/scrawl.js'].source = ["<span class=\"c\">/**</span>","<span class=\"c\"> * Created with JetBrains PhpStorm.</span>","<span class=\"c\"> * User: xuheng</span>","<span class=\"c\"> * Date: 12-7-2</span>","<span class=\"c\"> * Time: &#19979;&#21320;5:22</span>","<span class=\"c\"> * To change this template use File | Settings | File Templates.</span>","<span class=\"c\"> */</span>","UE<span class=\"k\">.</span>commands<span class=\"k\">[</span><span class=\"s\">'scrawl'</span><span class=\"k\">]</span> <span class=\"k\">=</span> <span class=\"k\">{</span>","    queryCommandState <span class=\"k\">:</span> <span class=\"k\">function</span><span class=\"k\">()</span><span class=\"k\">{</span>","        <span class=\"k\">return</span> <span class=\"k\">this</span><span class=\"k\">.</span>highlight<span class=\"k\">||</span> <span class=\"k\">(</span> browser<span class=\"k\">.</span>ie <span class=\"k\">&amp;&amp;</span> browser<span class=\"k\">.</span>version  <span class=\"k\">&lt;=</span> <span class=\"s\">8</span> <span class=\"k\">)</span> <span class=\"k\">?</span> <span class=\"k\">-</span><span class=\"s\">1</span> <span class=\"k\">:</span><span class=\"s\">0</span><span class=\"k\">;</span>","    <span class=\"k\">}</span>","<span class=\"k\">}</span><span class=\"k\">;</span>"]);
_$jscoverage['plugins/searchreplace.js'] && (_$jscoverage['plugins/searchreplace.js'].source = ["<span class=\"c\">///import core</span>","<span class=\"c\">///commands &#26597;&#25214;&#26367;&#25442;</span>","<span class=\"c\">///commandsName  SearchReplace</span>","<span class=\"c\">///commandsTitle  &#26597;&#35810;&#26367;&#25442;</span>","<span class=\"c\">///commandsDialog  dialogs\\searchreplace\\searchreplace.html</span>","<span class=\"c\">/**</span>","<span class=\"c\"> * @description &#26597;&#25214;&#26367;&#25442;</span>","<span class=\"c\"> * @author zhanyi</span>","<span class=\"c\"> */</span>","UE<span class=\"k\">.</span>plugins<span class=\"k\">[</span><span class=\"s\">'searchreplace'</span><span class=\"k\">]</span> <span class=\"k\">=</span> <span class=\"k\">function</span><span class=\"k\">()</span><span class=\"k\">{</span>","","    <span class=\"k\">var</span> currentRange<span class=\"k\">,</span>","        first<span class=\"k\">,</span>","        me <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">;</span>","    me<span class=\"k\">.</span>addListener<span class=\"k\">(</span><span class=\"s\">'reset'</span><span class=\"k\">,</span><span class=\"k\">function</span><span class=\"k\">()</span><span class=\"k\">{</span>","        currentRange <span class=\"k\">=</span> <span class=\"k\">null</span><span class=\"k\">;</span>","        first <span class=\"k\">=</span> <span class=\"k\">null</span><span class=\"k\">;</span>","    <span class=\"k\">}</span><span class=\"k\">);</span>","    me<span class=\"k\">.</span>commands<span class=\"k\">[</span><span class=\"s\">'searchreplace'</span><span class=\"k\">]</span> <span class=\"k\">=</span> <span class=\"k\">{</span>","","            execCommand <span class=\"k\">:</span> <span class=\"k\">function</span><span class=\"k\">(</span>cmdName<span class=\"k\">,</span>opt<span class=\"k\">)</span><span class=\"k\">{</span>","               \t<span class=\"k\">var</span> me <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">,</span>","                    sel <span class=\"k\">=</span> me<span class=\"k\">.</span>selection<span class=\"k\">,</span>","                    range<span class=\"k\">,</span>","                    nativeRange<span class=\"k\">,</span>","                    num <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">,</span>","                opt <span class=\"k\">=</span> utils<span class=\"k\">.</span>extend<span class=\"k\">(</span>opt<span class=\"k\">,</span><span class=\"k\">{</span>","                    all <span class=\"k\">:</span> <span class=\"k\">false</span><span class=\"k\">,</span>","                    casesensitive <span class=\"k\">:</span> <span class=\"k\">false</span><span class=\"k\">,</span>","                    dir <span class=\"k\">:</span> <span class=\"s\">1</span>","                <span class=\"k\">}</span><span class=\"k\">,</span><span class=\"k\">true</span><span class=\"k\">);</span>","","","                <span class=\"k\">if</span><span class=\"k\">(</span>browser<span class=\"k\">.</span>ie<span class=\"k\">)</span><span class=\"k\">{</span>","                    <span class=\"k\">while</span><span class=\"k\">(</span><span class=\"s\">1</span><span class=\"k\">)</span><span class=\"k\">{</span>","                        <span class=\"k\">var</span> tmpRange<span class=\"k\">;</span>","                        nativeRange <span class=\"k\">=</span> me<span class=\"k\">.</span>document<span class=\"k\">.</span>selection<span class=\"k\">.</span>createRange<span class=\"k\">();</span>","                        tmpRange <span class=\"k\">=</span> nativeRange<span class=\"k\">.</span>duplicate<span class=\"k\">();</span>","                        tmpRange<span class=\"k\">.</span>moveToElementText<span class=\"k\">(</span>me<span class=\"k\">.</span>document<span class=\"k\">.</span>body<span class=\"k\">);</span>","                        <span class=\"k\">if</span><span class=\"k\">(</span>opt<span class=\"k\">.</span>all<span class=\"k\">)</span><span class=\"k\">{</span>","                            first <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">;</span>","                            opt<span class=\"k\">.</span>dir <span class=\"k\">=</span> <span class=\"s\">1</span><span class=\"k\">;</span>","                            ","                            <span class=\"k\">if</span><span class=\"k\">(</span>currentRange<span class=\"k\">)</span><span class=\"k\">{</span>","                                tmpRange<span class=\"k\">.</span>setEndPoint<span class=\"k\">(</span>opt<span class=\"k\">.</span>dir <span class=\"k\">==</span> <span class=\"k\">-</span><span class=\"s\">1</span> <span class=\"k\">?</span> <span class=\"s\">'EndToStart'</span> <span class=\"k\">:</span> <span class=\"s\">'StartToEnd'</span><span class=\"k\">,</span>currentRange<span class=\"k\">);</span>","                            <span class=\"k\">}</span>","                        <span class=\"k\">}</span><span class=\"k\">else</span><span class=\"k\">{</span>","                            tmpRange<span class=\"k\">.</span>setEndPoint<span class=\"k\">(</span>opt<span class=\"k\">.</span>dir <span class=\"k\">==</span> <span class=\"k\">-</span><span class=\"s\">1</span> <span class=\"k\">?</span> <span class=\"s\">'EndToStart'</span> <span class=\"k\">:</span> <span class=\"s\">'StartToEnd'</span><span class=\"k\">,</span>nativeRange<span class=\"k\">);</span>","                            <span class=\"k\">if</span><span class=\"k\">(</span>opt<span class=\"k\">.</span>hasOwnProperty<span class=\"k\">(</span><span class=\"s\">\"replaceStr\"</span><span class=\"k\">))</span><span class=\"k\">{</span>","                                tmpRange<span class=\"k\">.</span>setEndPoint<span class=\"k\">(</span>opt<span class=\"k\">.</span>dir <span class=\"k\">==</span> <span class=\"k\">-</span><span class=\"s\">1</span> <span class=\"k\">?</span> <span class=\"s\">'StartToEnd'</span> <span class=\"k\">:</span> <span class=\"s\">'EndToStart'</span><span class=\"k\">,</span>nativeRange<span class=\"k\">);</span>","                            <span class=\"k\">}</span>","                        <span class=\"k\">}</span>","                        nativeRange <span class=\"k\">=</span> tmpRange<span class=\"k\">.</span>duplicate<span class=\"k\">();</span>","","","","                        <span class=\"k\">if</span><span class=\"k\">(!</span>tmpRange<span class=\"k\">.</span>findText<span class=\"k\">(</span>opt<span class=\"k\">.</span>searchStr<span class=\"k\">,</span>opt<span class=\"k\">.</span>dir<span class=\"k\">,</span>opt<span class=\"k\">.</span>casesensitive <span class=\"k\">?</span> <span class=\"s\">4</span> <span class=\"k\">:</span> <span class=\"s\">0</span><span class=\"k\">))</span><span class=\"k\">{</span>","                            currentRange <span class=\"k\">=</span> <span class=\"k\">null</span><span class=\"k\">;</span>","                            tmpRange <span class=\"k\">=</span> me<span class=\"k\">.</span>document<span class=\"k\">.</span>selection<span class=\"k\">.</span>createRange<span class=\"k\">();</span>","                            tmpRange<span class=\"k\">.</span>scrollIntoView<span class=\"k\">();</span>","                            <span class=\"k\">return</span> num<span class=\"k\">;</span>","                        <span class=\"k\">}</span>","                        tmpRange<span class=\"k\">.</span>select<span class=\"k\">();</span>","                        <span class=\"c\">//&#26367;&#25442;</span>","                        <span class=\"k\">if</span><span class=\"k\">(</span>opt<span class=\"k\">.</span>hasOwnProperty<span class=\"k\">(</span><span class=\"s\">\"replaceStr\"</span><span class=\"k\">))</span><span class=\"k\">{</span>","                            range <span class=\"k\">=</span> sel<span class=\"k\">.</span>getRange<span class=\"k\">();</span>","                            range<span class=\"k\">.</span>deleteContents<span class=\"k\">().</span>insertNode<span class=\"k\">(</span>range<span class=\"k\">.</span>document<span class=\"k\">.</span>createTextNode<span class=\"k\">(</span>opt<span class=\"k\">.</span>replaceStr<span class=\"k\">)).</span>select<span class=\"k\">();</span>","                            currentRange <span class=\"k\">=</span> sel<span class=\"k\">.</span>getNative<span class=\"k\">().</span>createRange<span class=\"k\">();</span>","","                        <span class=\"k\">}</span>","                        num<span class=\"k\">++;</span>","                        <span class=\"k\">if</span><span class=\"k\">(!</span>opt<span class=\"k\">.</span>all<span class=\"k\">)</span><span class=\"k\">{</span>","                            <span class=\"k\">break</span><span class=\"k\">;</span>","                        <span class=\"k\">}</span>","                    <span class=\"k\">}</span>","                <span class=\"k\">}</span><span class=\"k\">else</span><span class=\"k\">{</span>","                    <span class=\"k\">var</span> w <span class=\"k\">=</span> me<span class=\"k\">.</span>window<span class=\"k\">,</span>nativeSel <span class=\"k\">=</span> sel<span class=\"k\">.</span>getNative<span class=\"k\">(),</span>tmpRange<span class=\"k\">;</span>","                    <span class=\"k\">while</span><span class=\"k\">(</span><span class=\"s\">1</span><span class=\"k\">)</span><span class=\"k\">{</span>","                        <span class=\"k\">if</span><span class=\"k\">(</span>opt<span class=\"k\">.</span>all<span class=\"k\">)</span><span class=\"k\">{</span>","                            <span class=\"k\">if</span><span class=\"k\">(</span>currentRange<span class=\"k\">)</span><span class=\"k\">{</span>","                                currentRange<span class=\"k\">.</span>collapse<span class=\"k\">(</span><span class=\"k\">false</span><span class=\"k\">);</span>","                                nativeRange <span class=\"k\">=</span> currentRange<span class=\"k\">;</span>","","                            <span class=\"k\">}</span><span class=\"k\">else</span><span class=\"k\">{</span>","                                nativeRange  <span class=\"k\">=</span> me<span class=\"k\">.</span>document<span class=\"k\">.</span>createRange<span class=\"k\">();</span>","                                nativeRange<span class=\"k\">.</span>setStart<span class=\"k\">(</span>me<span class=\"k\">.</span>document<span class=\"k\">.</span>body<span class=\"k\">,</span><span class=\"s\">0</span><span class=\"k\">);</span>","","                            <span class=\"k\">}</span>","                            nativeSel<span class=\"k\">.</span>removeAllRanges<span class=\"k\">();</span>","                            nativeSel<span class=\"k\">.</span>addRange<span class=\"k\">(</span> nativeRange <span class=\"k\">);</span>","                            first <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">;</span>","                            opt<span class=\"k\">.</span>dir <span class=\"k\">=</span> <span class=\"s\">1</span><span class=\"k\">;</span>","                        <span class=\"k\">}</span><span class=\"k\">else</span><span class=\"k\">{</span>","                            nativeRange <span class=\"k\">=</span> w<span class=\"k\">.</span>getSelection<span class=\"k\">().</span>getRangeAt<span class=\"k\">(</span><span class=\"s\">0</span><span class=\"k\">);</span>","                           ","                            <span class=\"k\">if</span><span class=\"k\">(</span>opt<span class=\"k\">.</span>hasOwnProperty<span class=\"k\">(</span><span class=\"s\">\"replaceStr\"</span><span class=\"k\">))</span><span class=\"k\">{</span>","                                nativeRange<span class=\"k\">.</span>collapse<span class=\"k\">(</span>opt<span class=\"k\">.</span>dir <span class=\"k\">==</span> <span class=\"s\">1</span> <span class=\"k\">?</span> <span class=\"k\">true</span> <span class=\"k\">:</span> <span class=\"k\">false</span><span class=\"k\">);</span>","                            <span class=\"k\">}</span>","                        <span class=\"k\">}</span>","","                        <span class=\"c\">//&#22914;&#26524;&#26159;&#31532;&#19968;&#27425;&#24182;&#19988;&#28023;&#36873;&#20013;&#20102;&#20869;&#23481;&#37027;&#23601;&#35201;&#28165;&#38500;&#65292;&#20026;find&#20570;&#20934;&#22791;</span>","                       ","                        <span class=\"k\">if</span><span class=\"k\">(!</span>first<span class=\"k\">)</span><span class=\"k\">{</span>","                            nativeRange<span class=\"k\">.</span>collapse<span class=\"k\">(</span> opt<span class=\"k\">.</span>dir <span class=\"k\">&lt;</span><span class=\"s\">0</span> <span class=\"k\">?</span> <span class=\"k\">true</span> <span class=\"k\">:</span> <span class=\"k\">false</span><span class=\"k\">);</span>","                            nativeSel<span class=\"k\">.</span>removeAllRanges<span class=\"k\">();</span>","                            nativeSel<span class=\"k\">.</span>addRange<span class=\"k\">(</span> nativeRange <span class=\"k\">);</span>","                        <span class=\"k\">}</span><span class=\"k\">else</span><span class=\"k\">{</span>","                            nativeSel<span class=\"k\">.</span>removeAllRanges<span class=\"k\">();</span>","                        <span class=\"k\">}</span>","","                        <span class=\"k\">if</span><span class=\"k\">(!</span>w<span class=\"k\">.</span>find<span class=\"k\">(</span>opt<span class=\"k\">.</span>searchStr<span class=\"k\">,</span>opt<span class=\"k\">.</span>casesensitive<span class=\"k\">,</span>opt<span class=\"k\">.</span>dir <span class=\"k\">&lt;</span> <span class=\"s\">0</span> <span class=\"k\">?</span> <span class=\"k\">true</span> <span class=\"k\">:</span> <span class=\"k\">false</span><span class=\"k\">)</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                            currentRange <span class=\"k\">=</span> <span class=\"k\">null</span><span class=\"k\">;</span>","                            nativeSel<span class=\"k\">.</span>removeAllRanges<span class=\"k\">();</span>","","                            <span class=\"k\">return</span> num<span class=\"k\">;</span>","                        <span class=\"k\">}</span>","                        first <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">;</span>","                        range <span class=\"k\">=</span> w<span class=\"k\">.</span>getSelection<span class=\"k\">().</span>getRangeAt<span class=\"k\">(</span><span class=\"s\">0</span><span class=\"k\">);</span>","                        <span class=\"k\">if</span><span class=\"k\">(!</span>range<span class=\"k\">.</span>collapsed<span class=\"k\">)</span><span class=\"k\">{</span>","","                            <span class=\"k\">if</span><span class=\"k\">(</span>opt<span class=\"k\">.</span>hasOwnProperty<span class=\"k\">(</span><span class=\"s\">\"replaceStr\"</span><span class=\"k\">))</span><span class=\"k\">{</span>","                                range<span class=\"k\">.</span>deleteContents<span class=\"k\">();</span>","                                <span class=\"k\">var</span> text <span class=\"k\">=</span> w<span class=\"k\">.</span>document<span class=\"k\">.</span>createTextNode<span class=\"k\">(</span>opt<span class=\"k\">.</span>replaceStr<span class=\"k\">);</span>","                                range<span class=\"k\">.</span>insertNode<span class=\"k\">(</span>text<span class=\"k\">);</span>","                                range<span class=\"k\">.</span>selectNode<span class=\"k\">(</span>text<span class=\"k\">);</span>","                                nativeSel<span class=\"k\">.</span>addRange<span class=\"k\">(</span>range<span class=\"k\">);</span>","                                currentRange <span class=\"k\">=</span> range<span class=\"k\">.</span>cloneRange<span class=\"k\">();</span>","                            <span class=\"k\">}</span>","                        <span class=\"k\">}</span>","                        num<span class=\"k\">++;</span>","                        <span class=\"k\">if</span><span class=\"k\">(!</span>opt<span class=\"k\">.</span>all<span class=\"k\">)</span><span class=\"k\">{</span>","                            <span class=\"k\">break</span><span class=\"k\">;</span>","                        <span class=\"k\">}</span>","                    <span class=\"k\">}</span>","","                <span class=\"k\">}</span>","                <span class=\"k\">return</span> <span class=\"k\">true</span><span class=\"k\">;</span>","            <span class=\"k\">}</span>","    <span class=\"k\">}</span><span class=\"k\">;</span>","","<span class=\"k\">}</span><span class=\"k\">;</span>"]);
_$jscoverage['plugins/selectall.js'] && (_$jscoverage['plugins/selectall.js'].source = ["<span class=\"c\">///import core</span>","<span class=\"c\">///commands &#20840;&#36873;</span>","<span class=\"c\">///commandsName  SelectAll</span>","<span class=\"c\">///commandsTitle  &#20840;&#36873;</span>","<span class=\"c\">/**</span>","<span class=\"c\"> * &#36873;&#20013;&#25152;&#26377;</span>","<span class=\"c\"> * @function</span>","<span class=\"c\"> * @name baidu.editor.execCommand</span>","<span class=\"c\"> * @param   {String}   cmdName    selectall&#36873;&#20013;&#32534;&#36753;&#22120;&#37324;&#30340;&#25152;&#26377;&#20869;&#23481;</span>","<span class=\"c\"> * @author zhanyi</span>","<span class=\"c\">*/</span>","UE<span class=\"k\">.</span>plugins<span class=\"k\">[</span><span class=\"s\">'selectall'</span><span class=\"k\">]</span> <span class=\"k\">=</span> <span class=\"k\">function</span><span class=\"k\">()</span><span class=\"k\">{</span>","    <span class=\"k\">var</span> me <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">;</span>","    me<span class=\"k\">.</span>commands<span class=\"k\">[</span><span class=\"s\">'selectall'</span><span class=\"k\">]</span> <span class=\"k\">=</span> <span class=\"k\">{</span>","        execCommand <span class=\"k\">:</span> <span class=\"k\">function</span><span class=\"k\">()</span><span class=\"k\">{</span>","            <span class=\"c\">//&#21435;&#25481;&#20102;&#21407;&#29983;&#30340;selectAll,&#22240;&#20026;&#20250;&#20986;&#29616;&#25253;&#38169;&#21644;&#24403;&#20869;&#23481;&#20026;&#31354;&#26102;&#65292;&#19981;&#33021;&#20986;&#29616;&#38381;&#21512;&#29366;&#24577;&#30340;&#20809;&#26631;</span>","            <span class=\"k\">var</span> me <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">,</span>body <span class=\"k\">=</span> me<span class=\"k\">.</span>body<span class=\"k\">,</span>","                range <span class=\"k\">=</span> me<span class=\"k\">.</span>selection<span class=\"k\">.</span>getRange<span class=\"k\">();</span>","            range<span class=\"k\">.</span>selectNodeContents<span class=\"k\">(</span>body<span class=\"k\">);</span>","            <span class=\"k\">if</span><span class=\"k\">(</span>domUtils<span class=\"k\">.</span>isEmptyBlock<span class=\"k\">(</span>body<span class=\"k\">))</span><span class=\"k\">{</span>","                <span class=\"c\">//opera&#19981;&#33021;&#33258;&#21160;&#21512;&#24182;&#21040;&#20803;&#32032;&#30340;&#37324;&#36793;&#65292;&#35201;&#25163;&#21160;&#22788;&#29702;&#19968;&#19979;</span>","                <span class=\"k\">if</span><span class=\"k\">(</span>browser<span class=\"k\">.</span>opera <span class=\"k\">&amp;&amp;</span> body<span class=\"k\">.</span>firstChild <span class=\"k\">&amp;&amp;</span> body<span class=\"k\">.</span>firstChild<span class=\"k\">.</span>nodeType <span class=\"k\">==</span> <span class=\"s\">1</span><span class=\"k\">)</span><span class=\"k\">{</span>","                    range<span class=\"k\">.</span>setStartAtFirst<span class=\"k\">(</span>body<span class=\"k\">.</span>firstChild<span class=\"k\">);</span>","                <span class=\"k\">}</span>","                range<span class=\"k\">.</span>collapse<span class=\"k\">(</span><span class=\"k\">true</span><span class=\"k\">);</span>","            <span class=\"k\">}</span>","","            range<span class=\"k\">.</span>select<span class=\"k\">(</span><span class=\"k\">true</span><span class=\"k\">);</span>","            <span class=\"k\">this</span><span class=\"k\">.</span>selectAll <span class=\"k\">=</span> <span class=\"k\">true</span><span class=\"k\">;</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        notNeedUndo <span class=\"k\">:</span> <span class=\"s\">1</span>","    <span class=\"k\">}</span><span class=\"k\">;</span>","","    me<span class=\"k\">.</span>addListener<span class=\"k\">(</span><span class=\"s\">'ready'</span><span class=\"k\">,</span><span class=\"k\">function</span><span class=\"k\">()</span><span class=\"k\">{</span>","","        domUtils<span class=\"k\">.</span>on<span class=\"k\">(</span>me<span class=\"k\">.</span>document<span class=\"k\">,</span><span class=\"s\">'click'</span><span class=\"k\">,</span><span class=\"k\">function</span><span class=\"k\">(</span>evt<span class=\"k\">)</span><span class=\"k\">{</span>","","            me<span class=\"k\">.</span>selectAll <span class=\"k\">=</span> <span class=\"k\">false</span><span class=\"k\">;</span>","        <span class=\"k\">}</span><span class=\"k\">);</span>","    <span class=\"k\">}</span><span class=\"k\">);</span>","","<span class=\"k\">}</span><span class=\"k\">;</span>"]);
_$jscoverage['plugins/serialize.js'] && (_$jscoverage['plugins/serialize.js'].source = ["<span class=\"c\">///import core</span>","<span class=\"c\">///commands &#23450;&#21046;&#36807;&#28388;&#35268;&#21017;</span>","<span class=\"c\">///commandsName  Serialize</span>","<span class=\"c\">///commandsTitle  &#23450;&#21046;&#36807;&#28388;&#35268;&#21017;</span>","UE<span class=\"k\">.</span>plugins<span class=\"k\">[</span><span class=\"s\">'serialize'</span><span class=\"k\">]</span> <span class=\"k\">=</span> <span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","    <span class=\"k\">var</span> ie <span class=\"k\">=</span> browser<span class=\"k\">.</span>ie<span class=\"k\">,</span>","        version <span class=\"k\">=</span> browser<span class=\"k\">.</span>version<span class=\"k\">;</span>","","    <span class=\"k\">function</span> ptToPx<span class=\"k\">(</span>value<span class=\"k\">)</span><span class=\"k\">{</span>","        <span class=\"k\">return</span> <span class=\"s\">/pt/</span><span class=\"k\">.</span>test<span class=\"k\">(</span>value<span class=\"k\">)</span> <span class=\"k\">?</span> value<span class=\"k\">.</span>replace<span class=\"k\">(</span> <span class=\"s\">/([\\d.]+)pt/g</span><span class=\"k\">,</span> <span class=\"k\">function</span><span class=\"k\">(</span> str <span class=\"k\">)</span> <span class=\"k\">{</span>","            <span class=\"k\">return</span>  Math<span class=\"k\">.</span>round<span class=\"k\">(</span>parseFloat<span class=\"k\">(</span>str<span class=\"k\">)</span> <span class=\"k\">*</span> <span class=\"s\">96</span> <span class=\"k\">/</span> <span class=\"s\">72</span><span class=\"k\">)</span> <span class=\"k\">+</span> <span class=\"s\">\"px\"</span><span class=\"k\">;</span>","        <span class=\"k\">}</span> <span class=\"k\">)</span> <span class=\"k\">:</span> value<span class=\"k\">;</span>","    <span class=\"k\">}</span>","    <span class=\"k\">var</span> me <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">,</span> autoClearEmptyNode <span class=\"k\">=</span> me<span class=\"k\">.</span>options<span class=\"k\">.</span>autoClearEmptyNode<span class=\"k\">,</span>","            EMPTY_TAG <span class=\"k\">=</span> dtd<span class=\"k\">.</span>$empty<span class=\"k\">,</span>","            parseHTML <span class=\"k\">=</span> <span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","                 <span class=\"c\">//&#24178;&#25481;&lt;a&gt; &#21518;&#20415;&#21464;&#24471;&#31354;&#26684;&#65292;&#20445;&#30041;&lt;/a&gt;  &#36825;&#26679;&#30340;&#31354;&#26684;</span>","                <span class=\"k\">var</span> RE_PART <span class=\"k\">=</span> <span class=\"s\">/&lt;(?:(?:\\/([^&gt;]+)&gt;)|(?:!--([\\S|\\s]*?)--&gt;)|(?:([^\\s\\/&gt;]+)\\s*((?:(?:\"[^\"]*\")|(?:'[^']*')|[^\"'&lt;&gt;])*)\\/?&gt;))/g</span><span class=\"k\">,</span>","                        RE_ATTR <span class=\"k\">=</span> <span class=\"s\">/([\\w\\-:.]+)(?:(?:\\s*=\\s*(?:(?:\"([^\"]*)\")|(?:'([^']*)')|([^\\s&gt;]+)))|(?=\\s|$))/g</span><span class=\"k\">,</span>","                                        EMPTY_ATTR <span class=\"k\">=</span> <span class=\"k\">{</span>checked<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>compact<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>declare<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>defer<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>disabled<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>ismap<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>multiple<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>nohref<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>noresize<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>noshade<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>nowrap<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>readonly<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>selected<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">}</span><span class=\"k\">,</span>","                                        CDATA_TAG <span class=\"k\">=</span> <span class=\"k\">{</span>script<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>style<span class=\"k\">:</span> <span class=\"s\">1</span><span class=\"k\">}</span><span class=\"k\">,</span>","                                        NEED_PARENT_TAG <span class=\"k\">=</span> <span class=\"k\">{</span>","                                            <span class=\"s\">\"li\"</span><span class=\"k\">:</span> <span class=\"k\">{</span> <span class=\"s\">\"$\"</span><span class=\"k\">:</span> <span class=\"s\">'ul'</span><span class=\"k\">,</span> <span class=\"s\">\"ul\"</span><span class=\"k\">:</span> <span class=\"s\">1</span><span class=\"k\">,</span> <span class=\"s\">\"ol\"</span><span class=\"k\">:</span> <span class=\"s\">1</span> <span class=\"k\">}</span><span class=\"k\">,</span>","                                            <span class=\"s\">\"dd\"</span><span class=\"k\">:</span> <span class=\"k\">{</span> <span class=\"s\">\"$\"</span><span class=\"k\">:</span> <span class=\"s\">\"dl\"</span><span class=\"k\">,</span> <span class=\"s\">\"dl\"</span><span class=\"k\">:</span> <span class=\"s\">1</span> <span class=\"k\">}</span><span class=\"k\">,</span>","                                            <span class=\"s\">\"dt\"</span><span class=\"k\">:</span> <span class=\"k\">{</span> <span class=\"s\">\"$\"</span><span class=\"k\">:</span> <span class=\"s\">\"dl\"</span><span class=\"k\">,</span> <span class=\"s\">\"dl\"</span><span class=\"k\">:</span> <span class=\"s\">1</span> <span class=\"k\">}</span><span class=\"k\">,</span>","                                            <span class=\"s\">\"option\"</span><span class=\"k\">:</span> <span class=\"k\">{</span> <span class=\"s\">\"$\"</span><span class=\"k\">:</span> <span class=\"s\">\"select\"</span><span class=\"k\">,</span> <span class=\"s\">\"select\"</span><span class=\"k\">:</span> <span class=\"s\">1</span> <span class=\"k\">}</span><span class=\"k\">,</span>","                                            <span class=\"s\">\"td\"</span><span class=\"k\">:</span> <span class=\"k\">{</span> <span class=\"s\">\"$\"</span><span class=\"k\">:</span> <span class=\"s\">\"tr\"</span><span class=\"k\">,</span> <span class=\"s\">\"tr\"</span><span class=\"k\">:</span> <span class=\"s\">1</span> <span class=\"k\">}</span><span class=\"k\">,</span>","                                            <span class=\"s\">\"th\"</span><span class=\"k\">:</span> <span class=\"k\">{</span> <span class=\"s\">\"$\"</span><span class=\"k\">:</span> <span class=\"s\">\"tr\"</span><span class=\"k\">,</span> <span class=\"s\">\"tr\"</span><span class=\"k\">:</span> <span class=\"s\">1</span> <span class=\"k\">}</span><span class=\"k\">,</span>","                                            <span class=\"s\">\"tr\"</span><span class=\"k\">:</span> <span class=\"k\">{</span> <span class=\"s\">\"$\"</span><span class=\"k\">:</span> <span class=\"s\">\"tbody\"</span><span class=\"k\">,</span> <span class=\"s\">\"tbody\"</span><span class=\"k\">:</span> <span class=\"s\">1</span><span class=\"k\">,</span> <span class=\"s\">\"thead\"</span><span class=\"k\">:</span> <span class=\"s\">1</span><span class=\"k\">,</span> <span class=\"s\">\"tfoot\"</span><span class=\"k\">:</span> <span class=\"s\">1</span><span class=\"k\">,</span> <span class=\"s\">\"table\"</span><span class=\"k\">:</span> <span class=\"s\">1</span> <span class=\"k\">}</span><span class=\"k\">,</span>","                                            <span class=\"s\">\"tbody\"</span><span class=\"k\">:</span> <span class=\"k\">{</span> <span class=\"s\">\"$\"</span><span class=\"k\">:</span> <span class=\"s\">\"table\"</span><span class=\"k\">,</span> <span class=\"s\">'table'</span><span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span><span class=\"s\">\"colgroup\"</span><span class=\"k\">:</span> <span class=\"s\">1</span> <span class=\"k\">}</span><span class=\"k\">,</span>","                                            <span class=\"s\">\"thead\"</span><span class=\"k\">:</span> <span class=\"k\">{</span> <span class=\"s\">\"$\"</span><span class=\"k\">:</span> <span class=\"s\">\"table\"</span><span class=\"k\">,</span> <span class=\"s\">\"table\"</span><span class=\"k\">:</span> <span class=\"s\">1</span> <span class=\"k\">}</span><span class=\"k\">,</span>","                                            <span class=\"s\">\"tfoot\"</span><span class=\"k\">:</span> <span class=\"k\">{</span> <span class=\"s\">\"$\"</span><span class=\"k\">:</span> <span class=\"s\">\"table\"</span><span class=\"k\">,</span> <span class=\"s\">\"table\"</span><span class=\"k\">:</span> <span class=\"s\">1</span> <span class=\"k\">}</span><span class=\"k\">,</span>","                                            <span class=\"s\">\"col\"</span><span class=\"k\">:</span> <span class=\"k\">{</span> <span class=\"s\">\"$\"</span><span class=\"k\">:</span> <span class=\"s\">\"colgroup\"</span><span class=\"k\">,</span><span class=\"s\">\"colgroup\"</span><span class=\"k\">:</span><span class=\"s\">1</span> <span class=\"k\">}</span>","                                        <span class=\"k\">}</span><span class=\"k\">;</span>","                                <span class=\"k\">var</span> NEED_CHILD_TAG <span class=\"k\">=</span> <span class=\"k\">{</span>","                    <span class=\"s\">\"table\"</span><span class=\"k\">:</span> <span class=\"s\">\"td\"</span><span class=\"k\">,</span> <span class=\"s\">\"tbody\"</span><span class=\"k\">:</span> <span class=\"s\">\"td\"</span><span class=\"k\">,</span> <span class=\"s\">\"thead\"</span><span class=\"k\">:</span> <span class=\"s\">\"td\"</span><span class=\"k\">,</span> <span class=\"s\">\"tfoot\"</span><span class=\"k\">:</span> <span class=\"s\">\"td\"</span><span class=\"k\">,</span> <span class=\"s\">\"tr\"</span><span class=\"k\">:</span> <span class=\"s\">\"td\"</span><span class=\"k\">,</span>","                    <span class=\"s\">\"colgroup\"</span><span class=\"k\">:</span> <span class=\"s\">\"col\"</span><span class=\"k\">,</span>","                    <span class=\"s\">\"ul\"</span><span class=\"k\">:</span> <span class=\"s\">\"li\"</span><span class=\"k\">,</span> <span class=\"s\">\"ol\"</span><span class=\"k\">:</span> <span class=\"s\">\"li\"</span><span class=\"k\">,</span>","                    <span class=\"s\">\"dl\"</span><span class=\"k\">:</span> <span class=\"s\">\"dd\"</span><span class=\"k\">,</span>","                    <span class=\"s\">\"select\"</span><span class=\"k\">:</span> <span class=\"s\">\"option\"</span>","                <span class=\"k\">}</span><span class=\"k\">;</span>","","                <span class=\"k\">function</span> parse<span class=\"k\">(</span> html<span class=\"k\">,</span> callbacks <span class=\"k\">)</span> <span class=\"k\">{</span>","","                    <span class=\"k\">var</span> match<span class=\"k\">,</span>","                            nextIndex <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">,</span>","                            tagName<span class=\"k\">,</span>","                            cdata<span class=\"k\">;</span>","                    RE_PART<span class=\"k\">.</span>exec<span class=\"k\">(</span> <span class=\"s\">\"\"</span> <span class=\"k\">);</span>","                    <span class=\"k\">while</span> <span class=\"k\">(</span> <span class=\"k\">(</span>match <span class=\"k\">=</span> RE_PART<span class=\"k\">.</span>exec<span class=\"k\">(</span> html <span class=\"k\">))</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","","                        <span class=\"k\">var</span> tagIndex <span class=\"k\">=</span> match<span class=\"k\">.</span>index<span class=\"k\">;</span>","                        <span class=\"k\">if</span> <span class=\"k\">(</span> tagIndex <span class=\"k\">&gt;</span> nextIndex <span class=\"k\">)</span> <span class=\"k\">{</span>","                            <span class=\"k\">var</span> text <span class=\"k\">=</span> html<span class=\"k\">.</span>slice<span class=\"k\">(</span> nextIndex<span class=\"k\">,</span> tagIndex <span class=\"k\">);</span>","                            <span class=\"k\">if</span> <span class=\"k\">(</span> cdata <span class=\"k\">)</span> <span class=\"k\">{</span>","                                cdata<span class=\"k\">.</span>push<span class=\"k\">(</span> text <span class=\"k\">);</span>","                            <span class=\"k\">}</span> <span class=\"k\">else</span> <span class=\"k\">{</span>","                                callbacks<span class=\"k\">.</span>onText<span class=\"k\">(</span> text <span class=\"k\">);</span>","                            <span class=\"k\">}</span>","                        <span class=\"k\">}</span>","                        nextIndex <span class=\"k\">=</span> RE_PART<span class=\"k\">.</span>lastIndex<span class=\"k\">;</span>","                        <span class=\"k\">if</span> <span class=\"k\">(</span> <span class=\"k\">(</span>tagName <span class=\"k\">=</span> match<span class=\"k\">[</span><span class=\"s\">1</span><span class=\"k\">])</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                            tagName <span class=\"k\">=</span> tagName<span class=\"k\">.</span>toLowerCase<span class=\"k\">();</span>","                            <span class=\"k\">if</span> <span class=\"k\">(</span> cdata <span class=\"k\">&amp;&amp;</span> tagName <span class=\"k\">==</span> cdata<span class=\"k\">.</span>_tag_name <span class=\"k\">)</span> <span class=\"k\">{</span>","                                callbacks<span class=\"k\">.</span>onCDATA<span class=\"k\">(</span> cdata<span class=\"k\">.</span>join<span class=\"k\">(</span> <span class=\"s\">''</span> <span class=\"k\">)</span> <span class=\"k\">);</span>","                                cdata <span class=\"k\">=</span> <span class=\"k\">null</span><span class=\"k\">;</span>","                            <span class=\"k\">}</span>","                            <span class=\"k\">if</span> <span class=\"k\">(</span> <span class=\"k\">!</span>cdata <span class=\"k\">)</span> <span class=\"k\">{</span>","                                callbacks<span class=\"k\">.</span>onTagClose<span class=\"k\">(</span> tagName <span class=\"k\">);</span>","                                <span class=\"k\">continue</span><span class=\"k\">;</span>","                            <span class=\"k\">}</span>","                        <span class=\"k\">}</span>","                        <span class=\"k\">if</span> <span class=\"k\">(</span> cdata <span class=\"k\">)</span> <span class=\"k\">{</span>","                            cdata<span class=\"k\">.</span>push<span class=\"k\">(</span> match<span class=\"k\">[</span><span class=\"s\">0</span><span class=\"k\">]</span> <span class=\"k\">);</span>","                            <span class=\"k\">continue</span><span class=\"k\">;</span>","                        <span class=\"k\">}</span>","                        <span class=\"k\">if</span> <span class=\"k\">(</span> <span class=\"k\">(</span>tagName <span class=\"k\">=</span> match<span class=\"k\">[</span><span class=\"s\">3</span><span class=\"k\">])</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                            <span class=\"k\">if</span> <span class=\"k\">(</span> <span class=\"s\">/=\"/</span><span class=\"k\">.</span>test<span class=\"k\">(</span> tagName <span class=\"k\">)</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                                <span class=\"k\">continue</span><span class=\"k\">;</span>","                            <span class=\"k\">}</span>","                            tagName <span class=\"k\">=</span> tagName<span class=\"k\">.</span>toLowerCase<span class=\"k\">();</span>","                            <span class=\"k\">var</span> attrPart <span class=\"k\">=</span> match<span class=\"k\">[</span><span class=\"s\">4</span><span class=\"k\">],</span>","                                    attrMatch<span class=\"k\">,</span>","                                    attrMap <span class=\"k\">=</span> <span class=\"k\">{}</span><span class=\"k\">,</span>","                                    selfClosing <span class=\"k\">=</span> attrPart <span class=\"k\">&amp;&amp;</span> attrPart<span class=\"k\">.</span>slice<span class=\"k\">(</span> <span class=\"k\">-</span><span class=\"s\">1</span> <span class=\"k\">)</span> <span class=\"k\">==</span> <span class=\"s\">'/'</span><span class=\"k\">;</span>","                            <span class=\"k\">if</span> <span class=\"k\">(</span> attrPart <span class=\"k\">)</span> <span class=\"k\">{</span>","                                RE_ATTR<span class=\"k\">.</span>exec<span class=\"k\">(</span> <span class=\"s\">\"\"</span> <span class=\"k\">);</span>","                                <span class=\"k\">while</span> <span class=\"k\">(</span> <span class=\"k\">(</span>attrMatch <span class=\"k\">=</span> RE_ATTR<span class=\"k\">.</span>exec<span class=\"k\">(</span> attrPart <span class=\"k\">))</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                                    <span class=\"k\">var</span> attrName <span class=\"k\">=</span> attrMatch<span class=\"k\">[</span><span class=\"s\">1</span><span class=\"k\">].</span>toLowerCase<span class=\"k\">(),</span>","                                            attrValue <span class=\"k\">=</span> attrMatch<span class=\"k\">[</span><span class=\"s\">2</span><span class=\"k\">]</span> <span class=\"k\">||</span> attrMatch<span class=\"k\">[</span><span class=\"s\">3</span><span class=\"k\">]</span> <span class=\"k\">||</span> attrMatch<span class=\"k\">[</span><span class=\"s\">4</span><span class=\"k\">]</span> <span class=\"k\">||</span> <span class=\"s\">''</span><span class=\"k\">;</span>","                                    <span class=\"k\">if</span> <span class=\"k\">(</span> <span class=\"k\">!</span>attrValue <span class=\"k\">&amp;&amp;</span> EMPTY_ATTR<span class=\"k\">[</span>attrName<span class=\"k\">]</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                                        attrValue <span class=\"k\">=</span> attrName<span class=\"k\">;</span>","                                    <span class=\"k\">}</span>","                                    <span class=\"k\">if</span> <span class=\"k\">(</span> attrName <span class=\"k\">==</span> <span class=\"s\">'style'</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                                        <span class=\"k\">if</span> <span class=\"k\">(</span> ie <span class=\"k\">&amp;&amp;</span> version <span class=\"k\">&lt;=</span> <span class=\"s\">6</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                                            attrValue <span class=\"k\">=</span> attrValue<span class=\"k\">.</span>replace<span class=\"k\">(</span> <span class=\"s\">/(?!;)\\s*([\\w-]+):/g</span><span class=\"k\">,</span> <span class=\"k\">function</span> <span class=\"k\">(</span> m<span class=\"k\">,</span> p1 <span class=\"k\">)</span> <span class=\"k\">{</span>","                                                <span class=\"k\">return</span> p1<span class=\"k\">.</span>toLowerCase<span class=\"k\">()</span> <span class=\"k\">+</span> <span class=\"s\">':'</span><span class=\"k\">;</span>","                                            <span class=\"k\">}</span> <span class=\"k\">);</span>","                                        <span class=\"k\">}</span>","                                    <span class=\"k\">}</span>","                                    <span class=\"c\">//&#27809;&#26377;&#20540;&#30340;&#23646;&#24615;&#19981;&#28155;&#21152;</span>","                                    <span class=\"k\">if</span> <span class=\"k\">(</span> attrValue <span class=\"k\">)</span> <span class=\"k\">{</span>","                                        attrMap<span class=\"k\">[</span>attrName<span class=\"k\">]</span> <span class=\"k\">=</span> attrValue<span class=\"k\">.</span>replace<span class=\"k\">(</span> <span class=\"s\">/:\\s*/g</span><span class=\"k\">,</span> <span class=\"s\">':'</span> <span class=\"k\">)</span>","                                    <span class=\"k\">}</span>","","                                <span class=\"k\">}</span>","                            <span class=\"k\">}</span>","                            callbacks<span class=\"k\">.</span>onTagOpen<span class=\"k\">(</span> tagName<span class=\"k\">,</span> attrMap<span class=\"k\">,</span> selfClosing <span class=\"k\">);</span>","                            <span class=\"k\">if</span> <span class=\"k\">(</span> <span class=\"k\">!</span>cdata <span class=\"k\">&amp;&amp;</span> CDATA_TAG<span class=\"k\">[</span>tagName<span class=\"k\">]</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                                cdata <span class=\"k\">=</span> <span class=\"k\">[];</span>","                                cdata<span class=\"k\">.</span>_tag_name <span class=\"k\">=</span> tagName<span class=\"k\">;</span>","                            <span class=\"k\">}</span>","                            <span class=\"k\">continue</span><span class=\"k\">;</span>","                        <span class=\"k\">}</span>","                        <span class=\"k\">if</span> <span class=\"k\">(</span> <span class=\"k\">(</span>tagName <span class=\"k\">=</span> match<span class=\"k\">[</span><span class=\"s\">2</span><span class=\"k\">])</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                            callbacks<span class=\"k\">.</span>onComment<span class=\"k\">(</span> tagName <span class=\"k\">);</span>","                        <span class=\"k\">}</span>","                    <span class=\"k\">}</span>","                    <span class=\"k\">if</span> <span class=\"k\">(</span> html<span class=\"k\">.</span>length <span class=\"k\">&gt;</span> nextIndex <span class=\"k\">)</span> <span class=\"k\">{</span>","                        callbacks<span class=\"k\">.</span>onText<span class=\"k\">(</span> html<span class=\"k\">.</span>slice<span class=\"k\">(</span> nextIndex<span class=\"k\">,</span> html<span class=\"k\">.</span>length <span class=\"k\">)</span> <span class=\"k\">);</span>","                    <span class=\"k\">}</span>","                <span class=\"k\">}</span>","","                <span class=\"k\">return</span> <span class=\"k\">function</span> <span class=\"k\">(</span> html<span class=\"k\">,</span> forceDtd <span class=\"k\">)</span> <span class=\"k\">{</span>","","                    <span class=\"k\">var</span> fragment <span class=\"k\">=</span> <span class=\"k\">{</span>","                        type<span class=\"k\">:</span> <span class=\"s\">'fragment'</span><span class=\"k\">,</span>","                        parent<span class=\"k\">:</span> <span class=\"k\">null</span><span class=\"k\">,</span>","                        children<span class=\"k\">:</span> <span class=\"k\">[]</span>","                    <span class=\"k\">}</span><span class=\"k\">;</span>","                    <span class=\"k\">var</span> currentNode <span class=\"k\">=</span> fragment<span class=\"k\">;</span>","","                    <span class=\"k\">function</span> addChild<span class=\"k\">(</span> node <span class=\"k\">)</span> <span class=\"k\">{</span>","                        node<span class=\"k\">.</span>parent <span class=\"k\">=</span> currentNode<span class=\"k\">;</span>","                        currentNode<span class=\"k\">.</span>children<span class=\"k\">.</span>push<span class=\"k\">(</span> node <span class=\"k\">);</span>","                    <span class=\"k\">}</span>","","                    <span class=\"k\">function</span> addElement<span class=\"k\">(</span> element<span class=\"k\">,</span> open <span class=\"k\">)</span> <span class=\"k\">{</span>","                        <span class=\"k\">var</span> node <span class=\"k\">=</span> element<span class=\"k\">;</span>","                        <span class=\"c\">// &#36935;&#21040;&#32467;&#26500;&#21270;&#26631;&#31614;&#30340;&#26102;&#20505;</span>","                        <span class=\"k\">if</span> <span class=\"k\">(</span> NEED_PARENT_TAG<span class=\"k\">[</span>node<span class=\"k\">.</span>tag<span class=\"k\">]</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                            <span class=\"c\">// &#32771;&#34385;&#36825;&#31181;&#24773;&#20917;&#30340;&#26102;&#20505;, &#32467;&#26463;&#20043;&#21069;&#30340;&#26631;&#31614;</span>","                            <span class=\"c\">// e.g. &lt;table&gt;&lt;tr&gt;&lt;td&gt;12312`&lt;tr&gt;`4566</span>","                            <span class=\"k\">while</span> <span class=\"k\">(</span> NEED_PARENT_TAG<span class=\"k\">[</span>currentNode<span class=\"k\">.</span>tag<span class=\"k\">]</span> <span class=\"k\">&amp;&amp;</span> NEED_PARENT_TAG<span class=\"k\">[</span>currentNode<span class=\"k\">.</span>tag<span class=\"k\">][</span>node<span class=\"k\">.</span>tag<span class=\"k\">]</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                                currentNode <span class=\"k\">=</span> currentNode<span class=\"k\">.</span>parent<span class=\"k\">;</span>","                            <span class=\"k\">}</span>","                            <span class=\"c\">// &#22914;&#26524;&#21069;&#19968;&#20010;&#26631;&#31614;&#21644;&#36825;&#20010;&#26631;&#31614;&#26159;&#21516;&#19968;&#32423;, &#32467;&#26463;&#20043;&#21069;&#30340;&#26631;&#31614;</span>","                            <span class=\"c\">// e.g. &lt;ul&gt;&lt;li&gt;123&lt;li&gt;</span>","                            <span class=\"k\">if</span> <span class=\"k\">(</span> currentNode<span class=\"k\">.</span>tag <span class=\"k\">==</span> node<span class=\"k\">.</span>tag <span class=\"k\">)</span> <span class=\"k\">{</span>","                                currentNode <span class=\"k\">=</span> currentNode<span class=\"k\">.</span>parent<span class=\"k\">;</span>","                            <span class=\"k\">}</span>","                            <span class=\"c\">// &#21521;&#19978;&#34917;&#40784;&#29238;&#26631;&#31614;</span>","                            <span class=\"k\">while</span> <span class=\"k\">(</span> NEED_PARENT_TAG<span class=\"k\">[</span>node<span class=\"k\">.</span>tag<span class=\"k\">]</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                                <span class=\"k\">if</span> <span class=\"k\">(</span> NEED_PARENT_TAG<span class=\"k\">[</span>node<span class=\"k\">.</span>tag<span class=\"k\">][</span>currentNode<span class=\"k\">.</span>tag<span class=\"k\">]</span> <span class=\"k\">)</span> <span class=\"k\">break</span><span class=\"k\">;</span>","                                node <span class=\"k\">=</span> node<span class=\"k\">.</span>parent <span class=\"k\">=</span> <span class=\"k\">{</span>","                                    type<span class=\"k\">:</span> <span class=\"s\">'element'</span><span class=\"k\">,</span>","                                    tag<span class=\"k\">:</span> NEED_PARENT_TAG<span class=\"k\">[</span>node<span class=\"k\">.</span>tag<span class=\"k\">][</span><span class=\"s\">'$'</span><span class=\"k\">],</span>","                                    attributes<span class=\"k\">:</span> <span class=\"k\">{}</span><span class=\"k\">,</span>","                                    children<span class=\"k\">:</span> <span class=\"k\">[</span>node<span class=\"k\">]</span>","                                <span class=\"k\">}</span><span class=\"k\">;</span>","                            <span class=\"k\">}</span>","                        <span class=\"k\">}</span>","                        <span class=\"k\">if</span> <span class=\"k\">(</span> forceDtd <span class=\"k\">)</span> <span class=\"k\">{</span>","                            <span class=\"c\">// &#22914;&#26524;&#36935;&#21040;&#36825;&#20010;&#26631;&#31614;&#19981;&#33021;&#25918;&#22312;&#21069;&#19968;&#20010;&#26631;&#31614;&#20869;&#37096;&#65292;&#21017;&#32467;&#26463;&#21069;&#19968;&#20010;&#26631;&#31614;,span&#21333;&#29420;&#22788;&#29702;</span>","                            <span class=\"k\">while</span> <span class=\"k\">(</span> dtd<span class=\"k\">[</span>node<span class=\"k\">.</span>tag<span class=\"k\">]</span> <span class=\"k\">&amp;&amp;</span> <span class=\"k\">!(</span>currentNode<span class=\"k\">.</span>tag <span class=\"k\">==</span> <span class=\"s\">'span'</span> <span class=\"k\">?</span> utils<span class=\"k\">.</span>extend<span class=\"k\">(</span> dtd<span class=\"k\">[</span><span class=\"s\">'strong'</span><span class=\"k\">],</span> <span class=\"k\">{</span><span class=\"s\">'a'</span><span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span><span class=\"s\">'A'</span><span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">}</span> <span class=\"k\">)</span> <span class=\"k\">:</span> <span class=\"k\">(</span>dtd<span class=\"k\">[</span>currentNode<span class=\"k\">.</span>tag<span class=\"k\">]</span> <span class=\"k\">||</span> dtd<span class=\"k\">[</span><span class=\"s\">'div'</span><span class=\"k\">]))[</span>node<span class=\"k\">.</span>tag<span class=\"k\">]</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                                <span class=\"k\">if</span> <span class=\"k\">(</span> tagEnd<span class=\"k\">(</span> currentNode <span class=\"k\">)</span> <span class=\"k\">)</span> <span class=\"k\">continue</span><span class=\"k\">;</span>","                                <span class=\"k\">if</span> <span class=\"k\">(</span> <span class=\"k\">!</span>currentNode<span class=\"k\">.</span>parent <span class=\"k\">)</span> <span class=\"k\">break</span><span class=\"k\">;</span>","                                currentNode <span class=\"k\">=</span> currentNode<span class=\"k\">.</span>parent<span class=\"k\">;</span>","                            <span class=\"k\">}</span>","                        <span class=\"k\">}</span>","                        node<span class=\"k\">.</span>parent <span class=\"k\">=</span> currentNode<span class=\"k\">;</span>","                        currentNode<span class=\"k\">.</span>children<span class=\"k\">.</span>push<span class=\"k\">(</span> node <span class=\"k\">);</span>","                        <span class=\"k\">if</span> <span class=\"k\">(</span> open <span class=\"k\">)</span> <span class=\"k\">{</span>","                            currentNode <span class=\"k\">=</span> element<span class=\"k\">;</span>","                        <span class=\"k\">}</span>","                        <span class=\"k\">if</span> <span class=\"k\">(</span> element<span class=\"k\">.</span>attributes<span class=\"k\">.</span>style <span class=\"k\">)</span> <span class=\"k\">{</span>","                            element<span class=\"k\">.</span>attributes<span class=\"k\">.</span>style <span class=\"k\">=</span> element<span class=\"k\">.</span>attributes<span class=\"k\">.</span>style<span class=\"k\">.</span>toLowerCase<span class=\"k\">();</span>","                        <span class=\"k\">}</span>","                        <span class=\"k\">return</span> element<span class=\"k\">;</span>","                    <span class=\"k\">}</span>","","                    <span class=\"c\">// &#32467;&#26463;&#19968;&#20010;&#26631;&#31614;&#30340;&#26102;&#20505;&#65292;&#38656;&#35201;&#21028;&#26029;&#19968;&#19979;&#23427;&#26159;&#21542;&#32570;&#23569;&#23376;&#26631;&#31614;</span>","                    <span class=\"c\">// e.g. &lt;table&gt;&lt;/table&gt;</span>","                    <span class=\"k\">function</span> tagEnd<span class=\"k\">(</span> node <span class=\"k\">)</span> <span class=\"k\">{</span>","                        <span class=\"k\">var</span> needTag<span class=\"k\">;</span>","                        <span class=\"k\">if</span> <span class=\"k\">(</span> <span class=\"k\">!</span>node<span class=\"k\">.</span>children<span class=\"k\">.</span>length <span class=\"k\">&amp;&amp;</span> <span class=\"k\">(</span>needTag <span class=\"k\">=</span> NEED_CHILD_TAG<span class=\"k\">[</span>node<span class=\"k\">.</span>tag<span class=\"k\">])</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                            addElement<span class=\"k\">(</span> <span class=\"k\">{</span>","                                type<span class=\"k\">:</span> <span class=\"s\">'element'</span><span class=\"k\">,</span>","                                tag<span class=\"k\">:</span> needTag<span class=\"k\">,</span>","                                attributes<span class=\"k\">:</span> <span class=\"k\">{}</span><span class=\"k\">,</span>","                                children<span class=\"k\">:</span> <span class=\"k\">[]</span>","                            <span class=\"k\">}</span><span class=\"k\">,</span> <span class=\"k\">true</span> <span class=\"k\">);</span>","                            <span class=\"k\">return</span> <span class=\"k\">true</span><span class=\"k\">;</span>","                        <span class=\"k\">}</span>","                        <span class=\"k\">return</span> <span class=\"k\">false</span><span class=\"k\">;</span>","                    <span class=\"k\">}</span>","","                    parse<span class=\"k\">(</span> html<span class=\"k\">,</span> <span class=\"k\">{</span>","                        onText<span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">(</span> text <span class=\"k\">)</span> <span class=\"k\">{</span>","","                            <span class=\"k\">while</span> <span class=\"k\">(</span> <span class=\"k\">!(</span>dtd<span class=\"k\">[</span>currentNode<span class=\"k\">.</span>tag<span class=\"k\">]</span> <span class=\"k\">||</span> dtd<span class=\"k\">[</span><span class=\"s\">'div'</span><span class=\"k\">])[</span><span class=\"s\">'#'</span><span class=\"k\">]</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                                <span class=\"c\">//&#33410;&#28857;&#20043;&#38388;&#30340;&#31354;&#30333;&#19981;&#33021;&#24403;&#20316;&#33410;&#28857;&#22788;&#29702;</span>","<span class=\"c\">//                                if(/^[ \\t\\r\\n]+$/.test( text )){</span>","<span class=\"c\">//                                    return;</span>","<span class=\"c\">//                                }</span>","                                <span class=\"k\">if</span> <span class=\"k\">(</span> tagEnd<span class=\"k\">(</span> currentNode <span class=\"k\">)</span> <span class=\"k\">)</span> <span class=\"k\">continue</span><span class=\"k\">;</span>","                                currentNode <span class=\"k\">=</span> currentNode<span class=\"k\">.</span>parent<span class=\"k\">;</span>","                            <span class=\"k\">}</span>","                            <span class=\"c\">//if(/^[ \\t\\n\\r]*/.test(text))</span>","                                addChild<span class=\"k\">(</span> <span class=\"k\">{</span>","                                    type<span class=\"k\">:</span> <span class=\"s\">'text'</span><span class=\"k\">,</span>","                                    data<span class=\"k\">:</span> text","                                <span class=\"k\">}</span> <span class=\"k\">);</span>","","                        <span class=\"k\">}</span><span class=\"k\">,</span>","                        onComment<span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">(</span> text <span class=\"k\">)</span> <span class=\"k\">{</span>","                            addChild<span class=\"k\">(</span> <span class=\"k\">{</span>","                                type<span class=\"k\">:</span> <span class=\"s\">'comment'</span><span class=\"k\">,</span>","                                data<span class=\"k\">:</span> text","                            <span class=\"k\">}</span> <span class=\"k\">);</span>","                        <span class=\"k\">}</span><span class=\"k\">,</span>","                        onCDATA<span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">(</span> text <span class=\"k\">)</span> <span class=\"k\">{</span>","                            <span class=\"k\">while</span> <span class=\"k\">(</span> <span class=\"k\">!(</span>dtd<span class=\"k\">[</span>currentNode<span class=\"k\">.</span>tag<span class=\"k\">]</span> <span class=\"k\">||</span> dtd<span class=\"k\">[</span><span class=\"s\">'div'</span><span class=\"k\">])[</span><span class=\"s\">'#'</span><span class=\"k\">]</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                                <span class=\"k\">if</span> <span class=\"k\">(</span> tagEnd<span class=\"k\">(</span> currentNode <span class=\"k\">)</span> <span class=\"k\">)</span> <span class=\"k\">continue</span><span class=\"k\">;</span>","                                currentNode <span class=\"k\">=</span> currentNode<span class=\"k\">.</span>parent<span class=\"k\">;</span>","                            <span class=\"k\">}</span>","                            addChild<span class=\"k\">(</span> <span class=\"k\">{</span>","                                type<span class=\"k\">:</span> <span class=\"s\">'cdata'</span><span class=\"k\">,</span>","                                data<span class=\"k\">:</span> text","                            <span class=\"k\">}</span> <span class=\"k\">);</span>","                        <span class=\"k\">}</span><span class=\"k\">,</span>","                        onTagOpen<span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">(</span> tag<span class=\"k\">,</span> attrs<span class=\"k\">,</span> closed <span class=\"k\">)</span> <span class=\"k\">{</span>","                            closed <span class=\"k\">=</span> closed <span class=\"k\">||</span> EMPTY_TAG<span class=\"k\">[</span>tag<span class=\"k\">]</span> <span class=\"k\">;</span>","                            addElement<span class=\"k\">(</span> <span class=\"k\">{</span>","                                type<span class=\"k\">:</span> <span class=\"s\">'element'</span><span class=\"k\">,</span>","                                tag<span class=\"k\">:</span> tag<span class=\"k\">,</span>","                                attributes<span class=\"k\">:</span> attrs<span class=\"k\">,</span>","                                closed<span class=\"k\">:</span> closed<span class=\"k\">,</span>","                                children<span class=\"k\">:</span> <span class=\"k\">[]</span>","                            <span class=\"k\">}</span><span class=\"k\">,</span> <span class=\"k\">!</span>closed <span class=\"k\">);</span>","                        <span class=\"k\">}</span><span class=\"k\">,</span>","                        onTagClose<span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">(</span> tag <span class=\"k\">)</span> <span class=\"k\">{</span>","                            <span class=\"k\">var</span> node <span class=\"k\">=</span> currentNode<span class=\"k\">;</span>","                            <span class=\"c\">// &#21521;&#19978;&#25214;&#21305;&#37197;&#30340;&#26631;&#31614;, &#36825;&#37324;&#19981;&#32771;&#34385;dtd&#30340;&#24773;&#20917;&#26159;&#22240;&#20026;tagOpen&#30340;&#26102;&#20505;&#24050;&#32463;&#22788;&#29702;&#36807;&#20102;, &#36825;&#37324;&#19981;&#20250;&#36935;&#21040;</span>","                            <span class=\"k\">while</span> <span class=\"k\">(</span> node <span class=\"k\">&amp;&amp;</span> tag <span class=\"k\">!=</span> node<span class=\"k\">.</span>tag <span class=\"k\">)</span> <span class=\"k\">{</span>","                                node <span class=\"k\">=</span> node<span class=\"k\">.</span>parent<span class=\"k\">;</span>","                            <span class=\"k\">}</span>","                            <span class=\"k\">if</span> <span class=\"k\">(</span> node <span class=\"k\">)</span> <span class=\"k\">{</span>","                                <span class=\"c\">// &#20851;&#38381;&#20013;&#38388;&#30340;&#26631;&#31614;</span>","                                <span class=\"k\">for</span> <span class=\"k\">(</span> <span class=\"k\">var</span> tnode <span class=\"k\">=</span> currentNode<span class=\"k\">;</span> tnode <span class=\"k\">!==</span> node<span class=\"k\">.</span>parent<span class=\"k\">;</span> tnode <span class=\"k\">=</span> tnode<span class=\"k\">.</span>parent <span class=\"k\">)</span> <span class=\"k\">{</span>","                                    tagEnd<span class=\"k\">(</span> tnode <span class=\"k\">);</span>","                                <span class=\"k\">}</span>","                                <span class=\"c\">//&#21435;&#25481;&#31354;&#30333;&#30340;inline&#33410;&#28857;</span>","                                <span class=\"c\">//&#20998;&#39029;&#65292;&#38170;&#28857;&#20445;&#30041;</span>","                                <span class=\"c\">//|| dtd.$removeEmptyBlock[node.tag])</span>","<span class=\"c\">//                                if ( !node.children.length &amp;&amp; dtd.$removeEmpty[node.tag] &amp;&amp; !node.attributes.anchorname &amp;&amp; node.attributes['class'] != 'pagebreak' &amp;&amp; node.tag != 'a') {</span>","<span class=\"c\">//</span>","<span class=\"c\">//                                    node.parent.children.pop();</span>","<span class=\"c\">//                                }</span>","                                currentNode <span class=\"k\">=</span> node<span class=\"k\">.</span>parent<span class=\"k\">;</span>","                            <span class=\"k\">}</span> <span class=\"k\">else</span> <span class=\"k\">{</span>","                                <span class=\"c\">// &#22914;&#26524;&#27809;&#26377;&#25214;&#21040;&#24320;&#22987;&#26631;&#31614;, &#21017;&#21019;&#24314;&#26032;&#26631;&#31614;</span>","                                <span class=\"c\">// eg. &lt;/div&gt; =&gt; &lt;div&gt;&lt;/div&gt;</span>","                                <span class=\"c\">//&#38024;&#23545;&#35270;&#23631;&#32593;&#31449;embed&#20250;&#32473;&#32467;&#26463;&#31526;&#65292;&#36825;&#37324;&#29305;&#27530;&#22788;&#29702;&#19968;&#19979;</span>","                                <span class=\"k\">if</span> <span class=\"k\">(</span> <span class=\"k\">!(</span>dtd<span class=\"k\">.</span>$removeEmpty<span class=\"k\">[</span>tag<span class=\"k\">]</span> <span class=\"k\">||</span> dtd<span class=\"k\">.</span>$removeEmptyBlock<span class=\"k\">[</span>tag<span class=\"k\">]</span> <span class=\"k\">||</span> tag <span class=\"k\">==</span> <span class=\"s\">'embed'</span><span class=\"k\">)</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                                    node <span class=\"k\">=</span> <span class=\"k\">{</span>","                                        type<span class=\"k\">:</span> <span class=\"s\">'element'</span><span class=\"k\">,</span>","                                        tag<span class=\"k\">:</span> tag<span class=\"k\">,</span>","                                        attributes<span class=\"k\">:</span> <span class=\"k\">{}</span><span class=\"k\">,</span>","                                        children<span class=\"k\">:</span> <span class=\"k\">[]</span>","                                    <span class=\"k\">}</span><span class=\"k\">;</span>","                                    addElement<span class=\"k\">(</span> node<span class=\"k\">,</span> <span class=\"k\">true</span> <span class=\"k\">);</span>","                                    tagEnd<span class=\"k\">(</span> node <span class=\"k\">);</span>","                                    currentNode <span class=\"k\">=</span> node<span class=\"k\">.</span>parent<span class=\"k\">;</span>","                                <span class=\"k\">}</span>","","","                            <span class=\"k\">}</span>","                        <span class=\"k\">}</span>","                    <span class=\"k\">}</span> <span class=\"k\">);</span>","                    <span class=\"c\">// &#22788;&#29702;&#36825;&#31181;&#24773;&#20917;, &#21482;&#26377;&#24320;&#22987;&#26631;&#31614;&#27809;&#26377;&#32467;&#26463;&#26631;&#31614;&#30340;&#24773;&#20917;, &#38656;&#35201;&#20851;&#38381;&#24320;&#22987;&#26631;&#31614;</span>","                    <span class=\"c\">// eg. &lt;table&gt;</span>","                    <span class=\"k\">while</span> <span class=\"k\">(</span> currentNode <span class=\"k\">!==</span> fragment <span class=\"k\">)</span> <span class=\"k\">{</span>","                        tagEnd<span class=\"k\">(</span> currentNode <span class=\"k\">);</span>","                        currentNode <span class=\"k\">=</span> currentNode<span class=\"k\">.</span>parent<span class=\"k\">;</span>","                    <span class=\"k\">}</span>","                    <span class=\"k\">return</span> fragment<span class=\"k\">;</span>","                <span class=\"k\">}</span><span class=\"k\">;</span>","            <span class=\"k\">}</span><span class=\"k\">();</span>","    <span class=\"k\">var</span> unhtml1 <span class=\"k\">=</span> <span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","        <span class=\"k\">var</span> map <span class=\"k\">=</span> <span class=\"k\">{</span> <span class=\"s\">'&lt;'</span><span class=\"k\">:</span> <span class=\"s\">'&amp;lt;'</span><span class=\"k\">,</span> <span class=\"s\">'&gt;'</span><span class=\"k\">:</span> <span class=\"s\">'&amp;gt;'</span><span class=\"k\">,</span> <span class=\"s\">'\"'</span><span class=\"k\">:</span> <span class=\"s\">'&amp;quot;'</span><span class=\"k\">,</span> <span class=\"s\">\"'\"</span><span class=\"k\">:</span> <span class=\"s\">'&amp;#39;'</span> <span class=\"k\">}</span><span class=\"k\">;</span>","","        <span class=\"k\">function</span> rep<span class=\"k\">(</span> m <span class=\"k\">)</span> <span class=\"k\">{</span>","            <span class=\"k\">return</span> map<span class=\"k\">[</span>m<span class=\"k\">];</span>","        <span class=\"k\">}</span>","","        <span class=\"k\">return</span> <span class=\"k\">function</span> <span class=\"k\">(</span> str <span class=\"k\">)</span> <span class=\"k\">{</span>","            str <span class=\"k\">=</span> str <span class=\"k\">+</span> <span class=\"s\">''</span><span class=\"k\">;</span>","            <span class=\"k\">return</span> str <span class=\"k\">?</span> str<span class=\"k\">.</span>replace<span class=\"k\">(</span> <span class=\"s\">/[&lt;&gt;\"']/g</span><span class=\"k\">,</span> rep <span class=\"k\">)</span> <span class=\"k\">:</span> <span class=\"s\">''</span><span class=\"k\">;</span>","        <span class=\"k\">}</span><span class=\"k\">;</span>","    <span class=\"k\">}</span><span class=\"k\">();</span>","    <span class=\"k\">var</span> toHTML <span class=\"k\">=</span> <span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","        <span class=\"k\">function</span> printChildren<span class=\"k\">(</span> node<span class=\"k\">,</span> pasteplain <span class=\"k\">)</span> <span class=\"k\">{</span>","            <span class=\"k\">var</span> children <span class=\"k\">=</span> node<span class=\"k\">.</span>children<span class=\"k\">;</span>","","            <span class=\"k\">var</span> buff <span class=\"k\">=</span> <span class=\"k\">[];</span>","            <span class=\"k\">for</span> <span class=\"k\">(</span> <span class=\"k\">var</span> i <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">,</span>ci<span class=\"k\">;</span> ci <span class=\"k\">=</span> children<span class=\"k\">[</span>i<span class=\"k\">];</span> i<span class=\"k\">++</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","","                buff<span class=\"k\">.</span>push<span class=\"k\">(</span> toHTML<span class=\"k\">(</span> ci<span class=\"k\">,</span> pasteplain <span class=\"k\">)</span> <span class=\"k\">);</span>","            <span class=\"k\">}</span>","            <span class=\"k\">return</span> buff<span class=\"k\">.</span>join<span class=\"k\">(</span> <span class=\"s\">''</span> <span class=\"k\">);</span>","        <span class=\"k\">}</span>","","        <span class=\"k\">function</span> printAttrs<span class=\"k\">(</span> attrs <span class=\"k\">)</span> <span class=\"k\">{</span>","            <span class=\"k\">var</span> buff <span class=\"k\">=</span> <span class=\"k\">[];</span>","            <span class=\"k\">for</span> <span class=\"k\">(</span> <span class=\"k\">var</span> k <span class=\"k\">in</span> attrs <span class=\"k\">)</span> <span class=\"k\">{</span>","                <span class=\"k\">var</span> value <span class=\"k\">=</span> attrs<span class=\"k\">[</span>k<span class=\"k\">];</span>","                ","                <span class=\"k\">if</span><span class=\"k\">(</span>k <span class=\"k\">==</span> <span class=\"s\">'style'</span><span class=\"k\">)</span><span class=\"k\">{</span>","","                    <span class=\"c\">//pt==&gt;px</span>","                    value <span class=\"k\">=</span> ptToPx<span class=\"k\">(</span>value<span class=\"k\">);</span>","                    <span class=\"c\">//color rgb ==&gt; hex</span>","                    <span class=\"k\">if</span><span class=\"k\">(</span><span class=\"s\">/rgba?\\s*\\([^)]*\\)/</span><span class=\"k\">.</span>test<span class=\"k\">(</span>value<span class=\"k\">))</span><span class=\"k\">{</span>","                        value <span class=\"k\">=</span> value<span class=\"k\">.</span>replace<span class=\"k\">(</span> <span class=\"s\">/rgba?\\s*\\(([^)]*)\\)/g</span><span class=\"k\">,</span> <span class=\"k\">function</span><span class=\"k\">(</span> str <span class=\"k\">)</span> <span class=\"k\">{</span>","                            <span class=\"k\">return</span> utils<span class=\"k\">.</span>fixColor<span class=\"k\">(</span><span class=\"s\">'color'</span><span class=\"k\">,</span>str<span class=\"k\">);</span>","                        <span class=\"k\">}</span> <span class=\"k\">)</span>","                    <span class=\"k\">}</span>","                    <span class=\"c\">//&#36807;&#28388;&#25481;&#25152;&#26377;&#30340;white-space,&#22312;&#32431;&#25991;&#26412;&#32534;&#36753;&#22120;&#37324;&#31896;&#36148;&#36807;&#26469;&#30340;&#20869;&#23481;&#65292;&#21040;chrome&#20013;&#20250;&#24102;&#26377;span&#21644;white-space&#23646;&#24615;&#65292;&#23548;&#33268;&#20986;&#29616;&#19981;&#33021;&#25240;&#34892;&#30340;&#24773;&#20917;</span>","                    <span class=\"c\">//&#25152;&#20197;&#22312;&#36825;&#37324;&#21435;&#25481;&#36825;&#20010;&#23646;&#24615;</span>","                    attrs<span class=\"k\">[</span>k<span class=\"k\">]</span> <span class=\"k\">=</span> utils<span class=\"k\">.</span>optCss<span class=\"k\">(</span>value<span class=\"k\">.</span>replace<span class=\"k\">(</span><span class=\"s\">/windowtext/g</span><span class=\"k\">,</span><span class=\"s\">'#000'</span><span class=\"k\">))</span>","                                <span class=\"k\">.</span>replace<span class=\"k\">(</span><span class=\"s\">/white-space[^;]+;/g</span><span class=\"k\">,</span><span class=\"s\">''</span><span class=\"k\">);</span>","","                <span class=\"k\">}</span>","","                buff<span class=\"k\">.</span>push<span class=\"k\">(</span> k <span class=\"k\">+</span> <span class=\"s\">'=\"'</span> <span class=\"k\">+</span> unhtml1<span class=\"k\">(</span> attrs<span class=\"k\">[</span>k<span class=\"k\">]</span> <span class=\"k\">)</span> <span class=\"k\">+</span> <span class=\"s\">'\"'</span> <span class=\"k\">);</span>","            <span class=\"k\">}</span>","            <span class=\"k\">return</span> buff<span class=\"k\">.</span>join<span class=\"k\">(</span> <span class=\"s\">' '</span> <span class=\"k\">)</span>","        <span class=\"k\">}</span>","","        <span class=\"k\">function</span> printData<span class=\"k\">(</span> node<span class=\"k\">,</span> notTrans <span class=\"k\">)</span> <span class=\"k\">{</span>","            <span class=\"c\">//trace:1399 &#36755;&#20837;html&#20195;&#30721;&#26102;&#31354;&#26684;&#36716;&#25442;&#25104;&#20026;&amp;nbsp;</span>","            <span class=\"c\">//node.data.replace(/&amp;nbsp;/g,' ') &#38024;&#23545;pre&#20013;&#30340;&#31354;&#26684;&#21644;&#20986;&#29616;&#30340;&amp;nbsp;&#25226;&#20182;&#20204;&#22312;&#24471;&#21040;&#30340;html&#20195;&#30721;&#20013;&#37117;&#36716;&#25442;&#25104;&#20026;&#31354;&#26684;&#65292;&#20026;&#20102;&#22312;&#28304;&#30721;&#27169;&#24335;&#19979;&#26174;&#31034;&#20026;&#31354;&#26684;&#32780;&#19981;&#26159;&amp;nbsp;</span>","            <span class=\"k\">return</span> notTrans <span class=\"k\">?</span> node<span class=\"k\">.</span>data<span class=\"k\">.</span>replace<span class=\"k\">(</span><span class=\"s\">/&amp;nbsp;/g</span><span class=\"k\">,</span><span class=\"s\">' '</span><span class=\"k\">)</span> <span class=\"k\">:</span> unhtml1<span class=\"k\">(</span> node<span class=\"k\">.</span>data <span class=\"k\">).</span>replace<span class=\"k\">(</span><span class=\"s\">/ /g</span><span class=\"k\">,</span><span class=\"s\">'&amp;nbsp;'</span><span class=\"k\">);</span>","        <span class=\"k\">}</span>","","        <span class=\"c\">//&#32431;&#25991;&#26412;&#27169;&#24335;&#19979;&#26631;&#31614;&#36716;&#25442;</span>","        <span class=\"k\">var</span> transHtml <span class=\"k\">=</span> <span class=\"k\">{</span>","            <span class=\"s\">'div'</span><span class=\"k\">:</span><span class=\"s\">'p'</span><span class=\"k\">,</span>","            <span class=\"s\">'li'</span><span class=\"k\">:</span><span class=\"s\">'p'</span><span class=\"k\">,</span>","            <span class=\"s\">'tr'</span><span class=\"k\">:</span><span class=\"s\">'p'</span><span class=\"k\">,</span>","            <span class=\"s\">'br'</span><span class=\"k\">:</span><span class=\"s\">'br'</span><span class=\"k\">,</span>","            <span class=\"s\">'p'</span><span class=\"k\">:</span><span class=\"s\">'p'</span><span class=\"c\">//trace:1398 &#30896;&#21040;p&#26631;&#31614;&#33258;&#24049;&#35201;&#21152;&#19978;p,&#21542;&#21017;transHtml[tag]&#26159;undefined</span>","","        <span class=\"k\">}</span><span class=\"k\">;</span>","","        <span class=\"k\">function</span> printElement<span class=\"k\">(</span> node<span class=\"k\">,</span> pasteplain <span class=\"k\">)</span> <span class=\"k\">{</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span> node<span class=\"k\">.</span>type <span class=\"k\">==</span> <span class=\"s\">'element'</span> <span class=\"k\">&amp;&amp;</span> <span class=\"k\">!</span>node<span class=\"k\">.</span>children<span class=\"k\">.</span>length <span class=\"k\">&amp;&amp;</span> <span class=\"k\">(</span>dtd<span class=\"k\">.</span>$removeEmpty<span class=\"k\">[</span>node<span class=\"k\">.</span>tag<span class=\"k\">])</span> <span class=\"k\">&amp;&amp;</span> node<span class=\"k\">.</span>tag <span class=\"k\">!=</span> <span class=\"s\">'a'</span> <span class=\"k\">&amp;&amp;</span> utils<span class=\"k\">.</span>isEmptyObject<span class=\"k\">(</span>node<span class=\"k\">.</span>attributes<span class=\"k\">)</span> <span class=\"k\">&amp;&amp;</span> autoClearEmptyNode<span class=\"k\">)</span> <span class=\"k\">{</span><span class=\"c\">// &#38170;&#28857;&#20445;&#30041;</span>","                <span class=\"k\">return</span> html<span class=\"k\">;</span>","            <span class=\"k\">}</span>","            <span class=\"k\">var</span> tag <span class=\"k\">=</span> node<span class=\"k\">.</span>tag<span class=\"k\">;</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span> pasteplain <span class=\"k\">&amp;&amp;</span> tag <span class=\"k\">==</span> <span class=\"s\">'td'</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                <span class=\"k\">if</span> <span class=\"k\">(</span> <span class=\"k\">!</span>html <span class=\"k\">)</span> html <span class=\"k\">=</span> <span class=\"s\">''</span><span class=\"k\">;</span>","                html <span class=\"k\">+=</span> printChildren<span class=\"k\">(</span> node<span class=\"k\">,</span> pasteplain <span class=\"k\">)</span> <span class=\"k\">+</span> <span class=\"s\">'&amp;nbsp;&amp;nbsp;&amp;nbsp;'</span><span class=\"k\">;</span>","            <span class=\"k\">}</span> <span class=\"k\">else</span> <span class=\"k\">{</span>","                <span class=\"k\">var</span> attrs <span class=\"k\">=</span> printAttrs<span class=\"k\">(</span> node<span class=\"k\">.</span>attributes <span class=\"k\">);</span>","                <span class=\"k\">var</span> html <span class=\"k\">=</span> <span class=\"s\">'&lt;'</span> <span class=\"k\">+</span> <span class=\"k\">(</span>pasteplain <span class=\"k\">&amp;&amp;</span> transHtml<span class=\"k\">[</span>tag<span class=\"k\">]</span> <span class=\"k\">?</span> transHtml<span class=\"k\">[</span>tag<span class=\"k\">]</span> <span class=\"k\">:</span> tag<span class=\"k\">)</span> <span class=\"k\">+</span> <span class=\"k\">(</span>attrs <span class=\"k\">?</span> <span class=\"s\">' '</span> <span class=\"k\">+</span> attrs <span class=\"k\">:</span> <span class=\"s\">''</span><span class=\"k\">)</span> <span class=\"k\">+</span> <span class=\"k\">(</span>EMPTY_TAG<span class=\"k\">[</span>tag<span class=\"k\">]</span> <span class=\"k\">?</span> <span class=\"s\">' /&gt;'</span> <span class=\"k\">:</span> <span class=\"s\">'&gt;'</span><span class=\"k\">);</span>","                <span class=\"k\">if</span> <span class=\"k\">(</span> <span class=\"k\">!</span>EMPTY_TAG<span class=\"k\">[</span>tag<span class=\"k\">]</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                    <span class=\"c\">//trace:1627 ,2070</span>","                    <span class=\"c\">//p&#26631;&#31614;&#20026;&#31354;&#65292;&#23558;&#19981;&#21344;&#20301;&#36825;&#37324;&#21344;&#20301;&#31526;&#19981;&#36215;&#20316;&#29992;&#65292;&#29992;&amp;nbsp;&#25110;&#32773;br</span>","                    <span class=\"k\">if</span><span class=\"k\">(</span> tag <span class=\"k\">==</span> <span class=\"s\">'p'</span> <span class=\"k\">&amp;&amp;</span> <span class=\"k\">!</span>node<span class=\"k\">.</span>children<span class=\"k\">.</span>length<span class=\"k\">)</span><span class=\"k\">{</span>","                        html <span class=\"k\">+=</span> browser<span class=\"k\">.</span>ie <span class=\"k\">?</span> <span class=\"s\">'&amp;nbsp;'</span> <span class=\"k\">:</span> <span class=\"s\">'&lt;br/&gt;'</span><span class=\"k\">;</span>","                    <span class=\"k\">}</span>","                    html <span class=\"k\">+=</span> printChildren<span class=\"k\">(</span> node<span class=\"k\">,</span> pasteplain <span class=\"k\">);</span>","                    html <span class=\"k\">+=</span> <span class=\"s\">'&lt;/'</span> <span class=\"k\">+</span> <span class=\"k\">(</span>pasteplain <span class=\"k\">&amp;&amp;</span> transHtml<span class=\"k\">[</span>tag<span class=\"k\">]</span> <span class=\"k\">?</span> transHtml<span class=\"k\">[</span>tag<span class=\"k\">]</span> <span class=\"k\">:</span> tag<span class=\"k\">)</span> <span class=\"k\">+</span> <span class=\"s\">'&gt;'</span><span class=\"k\">;</span>","                <span class=\"k\">}</span>","            <span class=\"k\">}</span>","","            <span class=\"k\">return</span> html<span class=\"k\">;</span>","        <span class=\"k\">}</span>","","        <span class=\"k\">return</span> <span class=\"k\">function</span> <span class=\"k\">(</span> node<span class=\"k\">,</span> pasteplain <span class=\"k\">)</span> <span class=\"k\">{</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span> node<span class=\"k\">.</span>type <span class=\"k\">==</span> <span class=\"s\">'fragment'</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                <span class=\"k\">return</span> printChildren<span class=\"k\">(</span> node<span class=\"k\">,</span> pasteplain <span class=\"k\">);</span>","            <span class=\"k\">}</span> <span class=\"k\">else</span> <span class=\"k\">if</span> <span class=\"k\">(</span> node<span class=\"k\">.</span>type <span class=\"k\">==</span> <span class=\"s\">'element'</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                <span class=\"k\">return</span> printElement<span class=\"k\">(</span> node<span class=\"k\">,</span> pasteplain <span class=\"k\">);</span>","            <span class=\"k\">}</span> <span class=\"k\">else</span> <span class=\"k\">if</span> <span class=\"k\">(</span> node<span class=\"k\">.</span>type <span class=\"k\">==</span> <span class=\"s\">'text'</span> <span class=\"k\">||</span> node<span class=\"k\">.</span>type <span class=\"k\">==</span> <span class=\"s\">'cdata'</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                <span class=\"k\">return</span> printData<span class=\"k\">(</span> node<span class=\"k\">,</span> dtd<span class=\"k\">.</span>$notTransContent<span class=\"k\">[</span>node<span class=\"k\">.</span>parent<span class=\"k\">.</span>tag<span class=\"k\">]</span> <span class=\"k\">);</span>","            <span class=\"k\">}</span> <span class=\"k\">else</span> <span class=\"k\">if</span> <span class=\"k\">(</span> node<span class=\"k\">.</span>type <span class=\"k\">==</span> <span class=\"s\">'comment'</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                <span class=\"k\">return</span> <span class=\"s\">'&lt;!--'</span> <span class=\"k\">+</span> node<span class=\"k\">.</span>data <span class=\"k\">+</span> <span class=\"s\">'--&gt;'</span><span class=\"k\">;</span>","            <span class=\"k\">}</span>","            <span class=\"k\">return</span> <span class=\"s\">''</span><span class=\"k\">;</span>","        <span class=\"k\">}</span><span class=\"k\">;</span>","    <span class=\"k\">}</span><span class=\"k\">();</span>","","    <span class=\"k\">var</span> NODE_NAME_MAP <span class=\"k\">=</span> <span class=\"k\">{</span>","        <span class=\"s\">'text'</span><span class=\"k\">:</span> <span class=\"s\">'#text'</span><span class=\"k\">,</span>","        <span class=\"s\">'comment'</span><span class=\"k\">:</span> <span class=\"s\">'#comment'</span><span class=\"k\">,</span>","        <span class=\"s\">'cdata'</span><span class=\"k\">:</span> <span class=\"s\">'#cdata-section'</span><span class=\"k\">,</span>","        <span class=\"s\">'fragment'</span><span class=\"k\">:</span> <span class=\"s\">'#document-fragment'</span>","    <span class=\"k\">}</span><span class=\"k\">;</span>","","","    <span class=\"c\">//&#20889;&#20837;&#32534;&#36753;&#22120;&#26102;&#65292;&#35843;&#29992;&#65292;&#36827;&#34892;&#36716;&#25442;&#25805;&#20316;</span>","    <span class=\"k\">function</span> transNode<span class=\"k\">(</span> node<span class=\"k\">,</span> word_img_flag <span class=\"k\">)</span> <span class=\"k\">{</span>","","        <span class=\"k\">var</span> sizeMap <span class=\"k\">=</span> <span class=\"k\">[</span><span class=\"s\">0</span><span class=\"k\">,</span> <span class=\"s\">10</span><span class=\"k\">,</span> <span class=\"s\">12</span><span class=\"k\">,</span> <span class=\"s\">16</span><span class=\"k\">,</span> <span class=\"s\">18</span><span class=\"k\">,</span> <span class=\"s\">24</span><span class=\"k\">,</span> <span class=\"s\">32</span><span class=\"k\">,</span> <span class=\"s\">48</span><span class=\"k\">],</span>","                attr<span class=\"k\">,</span>","                indexOf <span class=\"k\">=</span> utils<span class=\"k\">.</span>indexOf<span class=\"k\">;</span>","        <span class=\"k\">switch</span> <span class=\"k\">(</span> node<span class=\"k\">.</span>tag <span class=\"k\">)</span> <span class=\"k\">{</span>","            <span class=\"k\">case</span> <span class=\"s\">'script'</span><span class=\"k\">:</span>","                node<span class=\"k\">.</span>tag <span class=\"k\">=</span> <span class=\"s\">'div'</span><span class=\"k\">;</span>","                node<span class=\"k\">.</span>attributes<span class=\"k\">.</span>_ue_org_tagName <span class=\"k\">=</span> <span class=\"s\">'script'</span><span class=\"k\">;</span>","                node<span class=\"k\">.</span>attributes<span class=\"k\">.</span>_ue_div_script <span class=\"k\">=</span> <span class=\"s\">1</span><span class=\"k\">;</span>","                node<span class=\"k\">.</span>attributes<span class=\"k\">.</span>_ue_script_data <span class=\"k\">=</span> node<span class=\"k\">.</span>children<span class=\"k\">[</span><span class=\"s\">0</span><span class=\"k\">]</span> <span class=\"k\">?</span> encodeURIComponent<span class=\"k\">(</span>node<span class=\"k\">.</span>children<span class=\"k\">[</span><span class=\"s\">0</span><span class=\"k\">].</span>data<span class=\"k\">)</span>  <span class=\"k\">:</span> <span class=\"s\">''</span><span class=\"k\">;</span>","                node<span class=\"k\">.</span>attributes<span class=\"k\">.</span>_ue_custom_node_ <span class=\"k\">=</span> <span class=\"s\">1</span><span class=\"k\">;</span>","                node<span class=\"k\">.</span>children <span class=\"k\">=</span> <span class=\"k\">[];</span>","                <span class=\"k\">break</span><span class=\"k\">;</span>","            <span class=\"k\">case</span> <span class=\"s\">'style'</span><span class=\"k\">:</span>","                node<span class=\"k\">.</span>tag <span class=\"k\">=</span> <span class=\"s\">'div'</span><span class=\"k\">;</span>","                node<span class=\"k\">.</span>attributes<span class=\"k\">.</span>_ue_div_style <span class=\"k\">=</span> <span class=\"s\">1</span><span class=\"k\">;</span>","                node<span class=\"k\">.</span>attributes<span class=\"k\">.</span>_ue_org_tagName <span class=\"k\">=</span> <span class=\"s\">'style'</span><span class=\"k\">;</span>","                node<span class=\"k\">.</span>attributes<span class=\"k\">.</span>_ue_style_data <span class=\"k\">=</span> node<span class=\"k\">.</span>children<span class=\"k\">[</span><span class=\"s\">0</span><span class=\"k\">]</span> <span class=\"k\">?</span> encodeURIComponent<span class=\"k\">(</span>node<span class=\"k\">.</span>children<span class=\"k\">[</span><span class=\"s\">0</span><span class=\"k\">].</span>data<span class=\"k\">)</span>  <span class=\"k\">:</span> <span class=\"s\">''</span><span class=\"k\">;</span>","                node<span class=\"k\">.</span>attributes<span class=\"k\">.</span>_ue_custom_node_ <span class=\"k\">=</span> <span class=\"s\">1</span><span class=\"k\">;</span>","                node<span class=\"k\">.</span>children <span class=\"k\">=</span> <span class=\"k\">[];</span>","                <span class=\"k\">break</span><span class=\"k\">;</span>","            <span class=\"k\">case</span> <span class=\"s\">'img'</span><span class=\"k\">:</span>","                <span class=\"c\">//todo base64&#26242;&#26102;&#21435;&#25481;&#65292;&#21518;&#36793;&#20570;&#36828;&#31243;&#22270;&#29255;&#19978;&#20256;&#21518;&#65292;&#24178;&#25481;&#36825;&#20010;</span>","                <span class=\"k\">if</span><span class=\"k\">(</span>node<span class=\"k\">.</span>attributes<span class=\"k\">.</span>src <span class=\"k\">&amp;&amp;</span> <span class=\"s\">/^data:/</span><span class=\"k\">.</span>test<span class=\"k\">(</span>node<span class=\"k\">.</span>attributes<span class=\"k\">.</span>src<span class=\"k\">))</span><span class=\"k\">{</span>","                    <span class=\"k\">return</span> <span class=\"k\">{</span>","                        type <span class=\"k\">:</span> <span class=\"s\">'fragment'</span><span class=\"k\">,</span>","                        children<span class=\"k\">:[]</span>","                    <span class=\"k\">}</span>","                <span class=\"k\">}</span>","                <span class=\"k\">if</span> <span class=\"k\">(</span> node<span class=\"k\">.</span>attributes<span class=\"k\">.</span>src <span class=\"k\">&amp;&amp;</span> <span class=\"s\">/^(?:file)/</span><span class=\"k\">.</span>test<span class=\"k\">(</span> node<span class=\"k\">.</span>attributes<span class=\"k\">.</span>src <span class=\"k\">)</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                    <span class=\"k\">if</span> <span class=\"k\">(</span> <span class=\"k\">!</span><span class=\"s\">/(gif|bmp|png|jpg|jpeg)$/</span><span class=\"k\">.</span>test<span class=\"k\">(</span> node<span class=\"k\">.</span>attributes<span class=\"k\">.</span>src <span class=\"k\">)</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                        <span class=\"k\">return</span> <span class=\"k\">{</span>","                            type <span class=\"k\">:</span> <span class=\"s\">'fragment'</span><span class=\"k\">,</span>","                            children<span class=\"k\">:[]</span>","                        <span class=\"k\">}</span>","                    <span class=\"k\">}</span>","                    node<span class=\"k\">.</span>attributes<span class=\"k\">.</span>word_img <span class=\"k\">=</span> node<span class=\"k\">.</span>attributes<span class=\"k\">.</span>src<span class=\"k\">;</span>","                    node<span class=\"k\">.</span>attributes<span class=\"k\">.</span>src <span class=\"k\">=</span> me<span class=\"k\">.</span>options<span class=\"k\">.</span>UEDITOR_HOME_URL <span class=\"k\">+</span> <span class=\"s\">'themes/default/images/spacer.gif'</span><span class=\"k\">;</span>","                    <span class=\"k\">var</span> flag <span class=\"k\">=</span> parseInt<span class=\"k\">(</span>node<span class=\"k\">.</span>attributes<span class=\"k\">.</span>width<span class=\"k\">)&lt;</span><span class=\"s\">128</span><span class=\"k\">||</span>parseInt<span class=\"k\">(</span>node<span class=\"k\">.</span>attributes<span class=\"k\">.</span>height<span class=\"k\">)&lt;</span><span class=\"s\">43</span><span class=\"k\">;</span>","                    node<span class=\"k\">.</span>attributes<span class=\"k\">.</span>style<span class=\"k\">=</span><span class=\"s\">\"background:url(\"</span> <span class=\"k\">+</span> <span class=\"k\">(</span>flag<span class=\"k\">?</span> me<span class=\"k\">.</span>options<span class=\"k\">.</span>themePath<span class=\"k\">+</span>me<span class=\"k\">.</span>options<span class=\"k\">.</span>theme <span class=\"k\">+</span><span class=\"s\">\"/images/word.gif\"</span><span class=\"k\">:</span>me<span class=\"k\">.</span>options<span class=\"k\">.</span>langPath<span class=\"k\">+</span>me<span class=\"k\">.</span>options<span class=\"k\">.</span>lang <span class=\"k\">+</span> <span class=\"s\">\"/images/localimage.png\"</span><span class=\"k\">)+</span><span class=\"s\">\") no-repeat center center;border:1px solid #ddd\"</span><span class=\"k\">;</span>","                    <span class=\"c\">//node.attributes.style = 'width:395px;height:173px;';</span>","                    word_img_flag <span class=\"k\">&amp;&amp;</span> <span class=\"k\">(</span>word_img_flag<span class=\"k\">.</span>flag <span class=\"k\">=</span> <span class=\"s\">1</span><span class=\"k\">);</span>","                <span class=\"k\">}</span>","                <span class=\"k\">if</span><span class=\"k\">(</span>browser<span class=\"k\">.</span>ie <span class=\"k\">&amp;&amp;</span> browser<span class=\"k\">.</span>version <span class=\"k\">&lt;</span> <span class=\"s\">7</span> <span class=\"k\">)</span>","                    node<span class=\"k\">.</span>attributes<span class=\"k\">.</span>orgSrc <span class=\"k\">=</span> node<span class=\"k\">.</span>attributes<span class=\"k\">.</span>src<span class=\"k\">;</span>","                node<span class=\"k\">.</span>attributes<span class=\"k\">.</span>data_ue_src <span class=\"k\">=</span> node<span class=\"k\">.</span>attributes<span class=\"k\">.</span>data_ue_src <span class=\"k\">||</span> node<span class=\"k\">.</span>attributes<span class=\"k\">.</span>src<span class=\"k\">;</span>","                <span class=\"k\">break</span><span class=\"k\">;</span>","            <span class=\"k\">case</span> <span class=\"s\">'li'</span><span class=\"k\">:</span>","                <span class=\"k\">var</span> child <span class=\"k\">=</span> node<span class=\"k\">.</span>children<span class=\"k\">[</span><span class=\"s\">0</span><span class=\"k\">];</span>","","                <span class=\"k\">if</span> <span class=\"k\">(</span> <span class=\"k\">!</span>child <span class=\"k\">||</span> child<span class=\"k\">.</span>type <span class=\"k\">!=</span> <span class=\"s\">'element'</span> <span class=\"k\">||</span> child<span class=\"k\">.</span>tag <span class=\"k\">!=</span> <span class=\"s\">'p'</span> <span class=\"k\">&amp;&amp;</span> dtd<span class=\"k\">.</span>p<span class=\"k\">[</span>child<span class=\"k\">.</span>tag<span class=\"k\">]</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                    <span class=\"k\">var</span> tmpPNode <span class=\"k\">=</span> <span class=\"k\">{</span>","                        type<span class=\"k\">:</span> <span class=\"s\">'element'</span><span class=\"k\">,</span>","                        tag<span class=\"k\">:</span> <span class=\"s\">'p'</span><span class=\"k\">,</span>","                        attributes<span class=\"k\">:</span> <span class=\"k\">{}</span><span class=\"k\">,</span>","","                        parent <span class=\"k\">:</span> node","                    <span class=\"k\">}</span><span class=\"k\">;</span>","                    tmpPNode<span class=\"k\">.</span>children <span class=\"k\">=</span> child <span class=\"k\">?</span> node<span class=\"k\">.</span>children <span class=\"k\">:[</span>","                            browser<span class=\"k\">.</span>ie <span class=\"k\">?</span> <span class=\"k\">{</span>","                                type<span class=\"k\">:</span><span class=\"s\">'text'</span><span class=\"k\">,</span>","                                data<span class=\"k\">:</span>domUtils<span class=\"k\">.</span>fillChar<span class=\"k\">,</span>","                                parent <span class=\"k\">:</span> tmpPNode","","                            <span class=\"k\">}</span><span class=\"k\">:</span>","                            <span class=\"k\">{</span>","                                type <span class=\"k\">:</span> <span class=\"s\">'element'</span><span class=\"k\">,</span>","                                tag <span class=\"k\">:</span> <span class=\"s\">'br'</span><span class=\"k\">,</span>","                                attributes<span class=\"k\">:</span><span class=\"k\">{}</span><span class=\"k\">,</span>","                                closed<span class=\"k\">:</span> <span class=\"k\">true</span><span class=\"k\">,</span>","                                children<span class=\"k\">:</span> <span class=\"k\">[],</span>","                                parent <span class=\"k\">:</span> tmpPNode","                            <span class=\"k\">}</span>","                    <span class=\"k\">];</span>","                    node<span class=\"k\">.</span>children <span class=\"k\">=</span>   <span class=\"k\">[</span>tmpPNode<span class=\"k\">];</span>","                <span class=\"k\">}</span>","                <span class=\"k\">break</span><span class=\"k\">;</span>","            <span class=\"k\">case</span> <span class=\"s\">'table'</span><span class=\"k\">:</span>","            <span class=\"k\">case</span> <span class=\"s\">'td'</span><span class=\"k\">:</span>","                optStyle<span class=\"k\">(</span> node <span class=\"k\">);</span>","                <span class=\"k\">break</span><span class=\"k\">;</span>","            <span class=\"k\">case</span> <span class=\"s\">'a'</span><span class=\"k\">:</span><span class=\"c\">//&#38170;&#28857;&#65292;a==&gt;img</span>","                <span class=\"k\">if</span> <span class=\"k\">(</span> node<span class=\"k\">.</span>attributes<span class=\"k\">[</span><span class=\"s\">'anchorname'</span><span class=\"k\">]</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                    node<span class=\"k\">.</span>tag <span class=\"k\">=</span> <span class=\"s\">'img'</span><span class=\"k\">;</span>","                    node<span class=\"k\">.</span>attributes <span class=\"k\">=</span> <span class=\"k\">{</span>","                        <span class=\"s\">'class'</span> <span class=\"k\">:</span> <span class=\"s\">'anchorclass'</span><span class=\"k\">,</span>","                        <span class=\"s\">'anchorname'</span><span class=\"k\">:</span>node<span class=\"k\">.</span>attributes<span class=\"k\">[</span><span class=\"s\">'name'</span><span class=\"k\">]</span>","                    <span class=\"k\">}</span><span class=\"k\">;</span>","                    node<span class=\"k\">.</span>closed <span class=\"k\">=</span> <span class=\"s\">1</span><span class=\"k\">;</span>","                <span class=\"k\">}</span>","                node<span class=\"k\">.</span>attributes<span class=\"k\">.</span>href <span class=\"k\">&amp;&amp;</span> <span class=\"k\">(</span>node<span class=\"k\">.</span>attributes<span class=\"k\">.</span>data_ue_src <span class=\"k\">=</span> node<span class=\"k\">.</span>attributes<span class=\"k\">.</span>href<span class=\"k\">);</span>","                <span class=\"k\">break</span><span class=\"k\">;</span>","            <span class=\"k\">case</span> <span class=\"s\">'b'</span><span class=\"k\">:</span>","                node<span class=\"k\">.</span>tag <span class=\"k\">=</span> node<span class=\"k\">.</span>name <span class=\"k\">=</span> <span class=\"s\">'strong'</span><span class=\"k\">;</span>","                <span class=\"k\">break</span><span class=\"k\">;</span>","            <span class=\"k\">case</span> <span class=\"s\">'i'</span><span class=\"k\">:</span>","                node<span class=\"k\">.</span>tag <span class=\"k\">=</span> node<span class=\"k\">.</span>name <span class=\"k\">=</span> <span class=\"s\">'em'</span><span class=\"k\">;</span>","                <span class=\"k\">break</span><span class=\"k\">;</span>","            <span class=\"k\">case</span> <span class=\"s\">'u'</span><span class=\"k\">:</span>","                node<span class=\"k\">.</span>tag <span class=\"k\">=</span> node<span class=\"k\">.</span>name <span class=\"k\">=</span> <span class=\"s\">'span'</span><span class=\"k\">;</span>","                node<span class=\"k\">.</span>attributes<span class=\"k\">.</span>style <span class=\"k\">=</span> <span class=\"k\">(</span>node<span class=\"k\">.</span>attributes<span class=\"k\">.</span>style <span class=\"k\">||</span> <span class=\"s\">''</span><span class=\"k\">)</span> <span class=\"k\">+</span> <span class=\"s\">';text-decoration:underline;'</span><span class=\"k\">;</span>","                <span class=\"k\">break</span><span class=\"k\">;</span>","            <span class=\"k\">case</span> <span class=\"s\">'s'</span><span class=\"k\">:</span>","            <span class=\"k\">case</span> <span class=\"s\">'del'</span><span class=\"k\">:</span>","                node<span class=\"k\">.</span>tag <span class=\"k\">=</span> node<span class=\"k\">.</span>name <span class=\"k\">=</span> <span class=\"s\">'span'</span><span class=\"k\">;</span>","                node<span class=\"k\">.</span>attributes<span class=\"k\">.</span>style <span class=\"k\">=</span> <span class=\"k\">(</span>node<span class=\"k\">.</span>attributes<span class=\"k\">.</span>style <span class=\"k\">||</span> <span class=\"s\">''</span><span class=\"k\">)</span> <span class=\"k\">+</span> <span class=\"s\">';text-decoration:line-through;'</span><span class=\"k\">;</span>","                <span class=\"k\">if</span> <span class=\"k\">(</span> node<span class=\"k\">.</span>children<span class=\"k\">.</span>length <span class=\"k\">==</span> <span class=\"s\">1</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                    child <span class=\"k\">=</span> node<span class=\"k\">.</span>children<span class=\"k\">[</span><span class=\"s\">0</span><span class=\"k\">];</span>","                    <span class=\"k\">if</span> <span class=\"k\">(</span> child<span class=\"k\">.</span>tag <span class=\"k\">==</span> node<span class=\"k\">.</span>tag <span class=\"k\">)</span> <span class=\"k\">{</span>","                        node<span class=\"k\">.</span>attributes<span class=\"k\">.</span>style <span class=\"k\">+=</span> <span class=\"s\">\";\"</span> <span class=\"k\">+</span> child<span class=\"k\">.</span>attributes<span class=\"k\">.</span>style<span class=\"k\">;</span>","                        node<span class=\"k\">.</span>children <span class=\"k\">=</span> child<span class=\"k\">.</span>children<span class=\"k\">;</span>","","                    <span class=\"k\">}</span>","                <span class=\"k\">}</span>","                <span class=\"k\">break</span><span class=\"k\">;</span>","            <span class=\"k\">case</span> <span class=\"s\">'span'</span><span class=\"k\">:</span>","","                <span class=\"k\">var</span> style <span class=\"k\">=</span> node<span class=\"k\">.</span>attributes<span class=\"k\">.</span>style<span class=\"k\">;</span>","                <span class=\"k\">if</span> <span class=\"k\">(</span> style <span class=\"k\">)</span> <span class=\"k\">{</span>","                    <span class=\"k\">if</span> <span class=\"k\">(</span> <span class=\"k\">!</span>node<span class=\"k\">.</span>attributes<span class=\"k\">.</span>style  <span class=\"k\">||</span> browser<span class=\"k\">.</span>webkit <span class=\"k\">&amp;&amp;</span> style <span class=\"k\">==</span> <span class=\"s\">\"white-space:nowrap;\"</span><span class=\"k\">)</span> <span class=\"k\">{</span>","                        <span class=\"k\">delete</span> node<span class=\"k\">.</span>attributes<span class=\"k\">.</span>style<span class=\"k\">;</span>","                    <span class=\"k\">}</span>","                <span class=\"k\">}</span>","","                <span class=\"c\">//&#38024;&#23545;ff3.6span&#30340;&#26679;&#24335;&#19981;&#33021;&#27491;&#30830;&#32487;&#25215;&#30340;&#20462;&#22797;</span>","                ","                <span class=\"k\">if</span><span class=\"k\">(</span>browser<span class=\"k\">.</span>gecko <span class=\"k\">&amp;&amp;</span> browser<span class=\"k\">.</span>version <span class=\"k\">&lt;=</span> <span class=\"s\">10902</span> <span class=\"k\">&amp;&amp;</span> node<span class=\"k\">.</span>parent<span class=\"k\">)</span><span class=\"k\">{</span>","                    <span class=\"k\">var</span> parent <span class=\"k\">=</span> node<span class=\"k\">.</span>parent<span class=\"k\">;</span>","                    <span class=\"k\">if</span><span class=\"k\">(</span>parent<span class=\"k\">.</span>tag <span class=\"k\">==</span> <span class=\"s\">'span'</span> <span class=\"k\">&amp;&amp;</span> parent<span class=\"k\">.</span>attributes <span class=\"k\">&amp;&amp;</span> parent<span class=\"k\">.</span>attributes<span class=\"k\">.</span>style<span class=\"k\">)</span><span class=\"k\">{</span>","                        node<span class=\"k\">.</span>attributes<span class=\"k\">.</span>style <span class=\"k\">=</span> parent<span class=\"k\">.</span>attributes<span class=\"k\">.</span>style <span class=\"k\">+</span> <span class=\"s\">';'</span> <span class=\"k\">+</span> node<span class=\"k\">.</span>attributes<span class=\"k\">.</span>style<span class=\"k\">;</span>","                    <span class=\"k\">}</span>","                <span class=\"k\">}</span>","                <span class=\"k\">if</span> <span class=\"k\">(</span> utils<span class=\"k\">.</span>isEmptyObject<span class=\"k\">(</span> node<span class=\"k\">.</span>attributes <span class=\"k\">)</span> <span class=\"k\">&amp;&amp;</span> autoClearEmptyNode<span class=\"k\">)</span> <span class=\"k\">{</span>","                    node<span class=\"k\">.</span>type <span class=\"k\">=</span> <span class=\"s\">'fragment'</span>","                <span class=\"k\">}</span>","                <span class=\"k\">break</span><span class=\"k\">;</span>","            <span class=\"k\">case</span> <span class=\"s\">'font'</span><span class=\"k\">:</span>","                node<span class=\"k\">.</span>tag <span class=\"k\">=</span> node<span class=\"k\">.</span>name <span class=\"k\">=</span> <span class=\"s\">'span'</span><span class=\"k\">;</span>","                attr <span class=\"k\">=</span> node<span class=\"k\">.</span>attributes<span class=\"k\">;</span>","                node<span class=\"k\">.</span>attributes <span class=\"k\">=</span> <span class=\"k\">{</span>","                    <span class=\"s\">'style'</span><span class=\"k\">:</span> <span class=\"k\">(</span>attr<span class=\"k\">.</span>size <span class=\"k\">?</span> <span class=\"s\">'font-size:'</span> <span class=\"k\">+</span> <span class=\"k\">(</span>sizeMap<span class=\"k\">[</span>attr<span class=\"k\">.</span>size<span class=\"k\">]</span> <span class=\"k\">||</span> <span class=\"s\">12</span><span class=\"k\">)</span> <span class=\"k\">+</span> <span class=\"s\">'px'</span> <span class=\"k\">:</span> <span class=\"s\">''</span><span class=\"k\">)</span>","                    <span class=\"k\">+</span> <span class=\"s\">';'</span> <span class=\"k\">+</span> <span class=\"k\">(</span>attr<span class=\"k\">.</span>color <span class=\"k\">?</span> <span class=\"s\">'color:'</span><span class=\"k\">+</span> attr<span class=\"k\">.</span>color <span class=\"k\">:</span> <span class=\"s\">''</span><span class=\"k\">)</span>","                    <span class=\"k\">+</span> <span class=\"s\">';'</span> <span class=\"k\">+</span> <span class=\"k\">(</span>attr<span class=\"k\">.</span>face <span class=\"k\">?</span> <span class=\"s\">'font-family:'</span><span class=\"k\">+</span> attr<span class=\"k\">.</span>face <span class=\"k\">:</span> <span class=\"s\">''</span><span class=\"k\">)</span>","                    <span class=\"k\">+</span> <span class=\"s\">';'</span> <span class=\"k\">+</span> <span class=\"k\">(</span>attr<span class=\"k\">.</span>style<span class=\"k\">||</span><span class=\"s\">''</span><span class=\"k\">)</span>","                <span class=\"k\">}</span><span class=\"k\">;</span>","","                <span class=\"k\">while</span><span class=\"k\">(</span>node<span class=\"k\">.</span>parent<span class=\"k\">.</span>tag <span class=\"k\">==</span> node<span class=\"k\">.</span>tag <span class=\"k\">&amp;&amp;</span> node<span class=\"k\">.</span>parent<span class=\"k\">.</span>children<span class=\"k\">.</span>length <span class=\"k\">==</span> <span class=\"s\">1</span><span class=\"k\">)</span><span class=\"k\">{</span>","                    node<span class=\"k\">.</span>attributes<span class=\"k\">.</span>style <span class=\"k\">&amp;&amp;</span> <span class=\"k\">(</span>node<span class=\"k\">.</span>parent<span class=\"k\">.</span>attributes<span class=\"k\">.</span>style <span class=\"k\">?</span> <span class=\"k\">(</span>node<span class=\"k\">.</span>parent<span class=\"k\">.</span>attributes<span class=\"k\">.</span>style <span class=\"k\">+=</span> <span class=\"s\">\";\"</span> <span class=\"k\">+</span> node<span class=\"k\">.</span>attributes<span class=\"k\">.</span>style<span class=\"k\">)</span> <span class=\"k\">:</span> <span class=\"k\">(</span>node<span class=\"k\">.</span>parent<span class=\"k\">.</span>attributes<span class=\"k\">.</span>style <span class=\"k\">=</span> node<span class=\"k\">.</span>attributes<span class=\"k\">.</span>style<span class=\"k\">));</span>","                    node<span class=\"k\">.</span>parent<span class=\"k\">.</span>children <span class=\"k\">=</span> node<span class=\"k\">.</span>children<span class=\"k\">;</span>","                    node <span class=\"k\">=</span> node<span class=\"k\">.</span>parent<span class=\"k\">;</span>","","                <span class=\"k\">}</span>","                <span class=\"k\">break</span><span class=\"k\">;</span>","            <span class=\"k\">case</span> <span class=\"s\">'p'</span><span class=\"k\">:</span>","                <span class=\"k\">if</span> <span class=\"k\">(</span> node<span class=\"k\">.</span>attributes<span class=\"k\">.</span>align <span class=\"k\">)</span> <span class=\"k\">{</span>","                    node<span class=\"k\">.</span>attributes<span class=\"k\">.</span>style <span class=\"k\">=</span> <span class=\"k\">(</span>node<span class=\"k\">.</span>attributes<span class=\"k\">.</span>style <span class=\"k\">||</span> <span class=\"s\">''</span><span class=\"k\">)</span> <span class=\"k\">+</span> <span class=\"s\">';text-align:'</span> <span class=\"k\">+</span>","                            node<span class=\"k\">.</span>attributes<span class=\"k\">.</span>align <span class=\"k\">+</span> <span class=\"s\">';'</span><span class=\"k\">;</span>","                    <span class=\"k\">delete</span> node<span class=\"k\">.</span>attributes<span class=\"k\">.</span>align<span class=\"k\">;</span>","                <span class=\"k\">}</span>","","        <span class=\"k\">}</span>","        <span class=\"k\">return</span> node<span class=\"k\">;</span>","    <span class=\"k\">}</span>","","    <span class=\"k\">function</span> optStyle<span class=\"k\">(</span> node <span class=\"k\">)</span> <span class=\"k\">{</span>","        <span class=\"k\">if</span> <span class=\"k\">(</span> ie <span class=\"k\">&amp;&amp;</span> node<span class=\"k\">.</span>attributes<span class=\"k\">.</span>style <span class=\"k\">)</span> <span class=\"k\">{</span>","            <span class=\"k\">var</span> style <span class=\"k\">=</span> node<span class=\"k\">.</span>attributes<span class=\"k\">.</span>style<span class=\"k\">;</span>","            node<span class=\"k\">.</span>attributes<span class=\"k\">.</span>style <span class=\"k\">=</span> style<span class=\"k\">.</span>replace<span class=\"k\">(</span><span class=\"s\">/;\\s*/g</span><span class=\"k\">,</span><span class=\"s\">';'</span><span class=\"k\">);</span>","            node<span class=\"k\">.</span>attributes<span class=\"k\">.</span>style <span class=\"k\">=</span> node<span class=\"k\">.</span>attributes<span class=\"k\">.</span>style<span class=\"k\">.</span>replace<span class=\"k\">(</span> <span class=\"s\">/^\\s*|\\s*$/</span><span class=\"k\">,</span> <span class=\"s\">''</span> <span class=\"k\">)</span>","        <span class=\"k\">}</span>","    <span class=\"k\">}</span>","    <span class=\"c\">//getContent&#35843;&#29992;&#36716;&#25442;</span>","    <span class=\"k\">function</span> transOutNode<span class=\"k\">(</span> node <span class=\"k\">)</span> <span class=\"k\">{</span>","","        <span class=\"k\">switch</span> <span class=\"k\">(</span> node<span class=\"k\">.</span>tag <span class=\"k\">)</span> <span class=\"k\">{</span>","            <span class=\"k\">case</span> <span class=\"s\">'div'</span> <span class=\"k\">:</span>","                <span class=\"k\">if</span><span class=\"k\">(</span>node<span class=\"k\">.</span>attributes<span class=\"k\">.</span>_ue_div_script<span class=\"k\">)</span><span class=\"k\">{</span>","                    node<span class=\"k\">.</span>tag <span class=\"k\">=</span> <span class=\"s\">'script'</span><span class=\"k\">;</span>","                    node<span class=\"k\">.</span>children <span class=\"k\">=</span> <span class=\"k\">[</span><span class=\"k\">{</span>type<span class=\"k\">:</span><span class=\"s\">'cdata'</span><span class=\"k\">,</span>data<span class=\"k\">:</span>node<span class=\"k\">.</span>attributes<span class=\"k\">.</span>_ue_script_data<span class=\"k\">?</span>decodeURIComponent<span class=\"k\">(</span>node<span class=\"k\">.</span>attributes<span class=\"k\">.</span>_ue_script_data<span class=\"k\">):</span><span class=\"s\">''</span><span class=\"k\">,</span>parent<span class=\"k\">:</span>node<span class=\"k\">}</span><span class=\"k\">];</span>","                    <span class=\"k\">delete</span> node<span class=\"k\">.</span>attributes<span class=\"k\">.</span>_ue_div_script<span class=\"k\">;</span>","                    <span class=\"k\">delete</span> node<span class=\"k\">.</span>attributes<span class=\"k\">.</span>_ue_script_data<span class=\"k\">;</span>","                    <span class=\"k\">delete</span> node<span class=\"k\">.</span>attributes<span class=\"k\">.</span>_ue_custom_node_<span class=\"k\">;</span>","                    <span class=\"k\">delete</span> node<span class=\"k\">.</span>attributes<span class=\"k\">.</span>_ue_org_tagName<span class=\"k\">;</span>","","                <span class=\"k\">}</span>","                <span class=\"k\">if</span><span class=\"k\">(</span>node<span class=\"k\">.</span>attributes<span class=\"k\">.</span>_ue_div_style<span class=\"k\">)</span><span class=\"k\">{</span>","                    node<span class=\"k\">.</span>tag <span class=\"k\">=</span> <span class=\"s\">'style'</span><span class=\"k\">;</span>","                    node<span class=\"k\">.</span>children <span class=\"k\">=</span> <span class=\"k\">[</span><span class=\"k\">{</span>type<span class=\"k\">:</span><span class=\"s\">'cdata'</span><span class=\"k\">,</span>data<span class=\"k\">:</span>node<span class=\"k\">.</span>attributes<span class=\"k\">.</span>_ue_style_data<span class=\"k\">?</span>decodeURIComponent<span class=\"k\">(</span>node<span class=\"k\">.</span>attributes<span class=\"k\">.</span>_ue_style_data<span class=\"k\">):</span><span class=\"s\">''</span><span class=\"k\">,</span>parent<span class=\"k\">:</span>node<span class=\"k\">}</span><span class=\"k\">];</span>","                    <span class=\"k\">delete</span> node<span class=\"k\">.</span>attributes<span class=\"k\">.</span>_ue_div_style<span class=\"k\">;</span>","                    <span class=\"k\">delete</span> node<span class=\"k\">.</span>attributes<span class=\"k\">.</span>_ue_style_data<span class=\"k\">;</span>","                    <span class=\"k\">delete</span> node<span class=\"k\">.</span>attributes<span class=\"k\">.</span>_ue_custom_node_<span class=\"k\">;</span>","                    <span class=\"k\">delete</span> node<span class=\"k\">.</span>attributes<span class=\"k\">.</span>_ue_org_tagName<span class=\"k\">;</span>","","                <span class=\"k\">}</span>","                <span class=\"k\">break</span><span class=\"k\">;</span>","            <span class=\"k\">case</span> <span class=\"s\">'table'</span><span class=\"k\">:</span>","                <span class=\"k\">!</span>node<span class=\"k\">.</span>attributes<span class=\"k\">.</span>style <span class=\"k\">&amp;&amp;</span> <span class=\"k\">delete</span> node<span class=\"k\">.</span>attributes<span class=\"k\">.</span>style<span class=\"k\">;</span>","                <span class=\"k\">if</span> <span class=\"k\">(</span> ie <span class=\"k\">&amp;&amp;</span> node<span class=\"k\">.</span>attributes<span class=\"k\">.</span>style <span class=\"k\">)</span> <span class=\"k\">{</span>","","                    optStyle<span class=\"k\">(</span> node <span class=\"k\">);</span>","                <span class=\"k\">}</span>","                <span class=\"k\">if</span><span class=\"k\">(</span>node<span class=\"k\">.</span>attributes<span class=\"k\">[</span><span class=\"s\">'class'</span><span class=\"k\">]</span> <span class=\"k\">==</span> <span class=\"s\">'noBorderTable'</span><span class=\"k\">)</span><span class=\"k\">{</span>","                    <span class=\"k\">delete</span> node<span class=\"k\">.</span>attributes<span class=\"k\">[</span><span class=\"s\">'class'</span><span class=\"k\">];</span>","                <span class=\"k\">}</span>","                <span class=\"k\">break</span><span class=\"k\">;</span>","            <span class=\"k\">case</span> <span class=\"s\">'td'</span><span class=\"k\">:</span>","            <span class=\"k\">case</span> <span class=\"s\">'th'</span><span class=\"k\">:</span>","                <span class=\"k\">if</span> <span class=\"k\">(</span> <span class=\"s\">/display\\s*:\\s*none/i</span><span class=\"k\">.</span>test<span class=\"k\">(</span> node<span class=\"k\">.</span>attributes<span class=\"k\">.</span>style <span class=\"k\">)</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                    <span class=\"k\">return</span> <span class=\"k\">{</span>","                        type<span class=\"k\">:</span> <span class=\"s\">'fragment'</span><span class=\"k\">,</span>","                        children<span class=\"k\">:</span> <span class=\"k\">[]</span>","                    <span class=\"k\">}</span><span class=\"k\">;</span>","                <span class=\"k\">}</span>","                <span class=\"k\">if</span> <span class=\"k\">(</span> ie <span class=\"k\">&amp;&amp;</span> <span class=\"k\">!</span>node<span class=\"k\">.</span>children<span class=\"k\">.</span>length <span class=\"k\">)</span> <span class=\"k\">{</span>","                    <span class=\"k\">var</span> txtNode <span class=\"k\">=</span> <span class=\"k\">{</span>","                        type<span class=\"k\">:</span> <span class=\"s\">'text'</span><span class=\"k\">,</span>","                        data<span class=\"k\">:</span>domUtils<span class=\"k\">.</span>fillChar<span class=\"k\">,</span>","                        parent <span class=\"k\">:</span> node","                    <span class=\"k\">}</span><span class=\"k\">;</span>","                    node<span class=\"k\">.</span>children<span class=\"k\">[</span><span class=\"s\">0</span><span class=\"k\">]</span> <span class=\"k\">=</span> txtNode<span class=\"k\">;</span>","                <span class=\"k\">}</span>","                <span class=\"k\">if</span> <span class=\"k\">(</span> ie <span class=\"k\">&amp;&amp;</span> node<span class=\"k\">.</span>attributes<span class=\"k\">.</span>style <span class=\"k\">)</span> <span class=\"k\">{</span>","                    optStyle<span class=\"k\">(</span> node <span class=\"k\">);</span>","","                <span class=\"k\">}</span>","                <span class=\"k\">if</span><span class=\"k\">(</span>node<span class=\"k\">.</span>attributes<span class=\"k\">[</span><span class=\"s\">'class'</span><span class=\"k\">]</span> <span class=\"k\">==</span> <span class=\"s\">'selectTdClass'</span><span class=\"k\">)</span><span class=\"k\">{</span>","                    <span class=\"k\">delete</span> node<span class=\"k\">.</span>attributes<span class=\"k\">[</span><span class=\"s\">'class'</span><span class=\"k\">]</span>","                <span class=\"k\">}</span>","                <span class=\"k\">break</span><span class=\"k\">;</span>","            <span class=\"k\">case</span> <span class=\"s\">'img'</span><span class=\"k\">:</span><span class=\"c\">//&#38170;&#28857;&#65292;img==&gt;a</span>","                <span class=\"k\">if</span> <span class=\"k\">(</span> node<span class=\"k\">.</span>attributes<span class=\"k\">.</span>anchorname <span class=\"k\">)</span> <span class=\"k\">{</span>","                    node<span class=\"k\">.</span>tag <span class=\"k\">=</span> <span class=\"s\">'a'</span><span class=\"k\">;</span>","                    node<span class=\"k\">.</span>attributes <span class=\"k\">=</span> <span class=\"k\">{</span>","                        name <span class=\"k\">:</span> node<span class=\"k\">.</span>attributes<span class=\"k\">.</span>anchorname<span class=\"k\">,</span>","                        anchorname <span class=\"k\">:</span> <span class=\"s\">1</span>","                    <span class=\"k\">}</span><span class=\"k\">;</span>","                    node<span class=\"k\">.</span>closed <span class=\"k\">=</span> <span class=\"k\">null</span><span class=\"k\">;</span>","                <span class=\"k\">}</span><span class=\"k\">else</span><span class=\"k\">{</span>","                    <span class=\"k\">if</span><span class=\"k\">(</span>node<span class=\"k\">.</span>attributes<span class=\"k\">.</span>data_ue_src<span class=\"k\">)</span><span class=\"k\">{</span>","                        node<span class=\"k\">.</span>attributes<span class=\"k\">.</span>src <span class=\"k\">=</span> node<span class=\"k\">.</span>attributes<span class=\"k\">.</span>data_ue_src<span class=\"k\">;</span>","                        <span class=\"k\">delete</span> node<span class=\"k\">.</span>attributes<span class=\"k\">.</span>data_ue_src<span class=\"k\">;</span>","                    <span class=\"k\">}</span>","                <span class=\"k\">}</span>","                <span class=\"k\">break</span><span class=\"k\">;</span>","","            <span class=\"k\">case</span> <span class=\"s\">'a'</span><span class=\"k\">:</span>","                <span class=\"k\">if</span><span class=\"k\">(</span>node<span class=\"k\">.</span>attributes<span class=\"k\">.</span>data_ue_src<span class=\"k\">)</span><span class=\"k\">{</span>","                    node<span class=\"k\">.</span>attributes<span class=\"k\">.</span>href <span class=\"k\">=</span> node<span class=\"k\">.</span>attributes<span class=\"k\">.</span>data_ue_src<span class=\"k\">;</span>","                    <span class=\"k\">delete</span> node<span class=\"k\">.</span>attributes<span class=\"k\">.</span>data_ue_src<span class=\"k\">;</span>","                <span class=\"k\">}</span>","        <span class=\"k\">}</span>","","        <span class=\"k\">return</span> node<span class=\"k\">;</span>","    <span class=\"k\">}</span>","","    <span class=\"k\">function</span> childrenAccept<span class=\"k\">(</span> node<span class=\"k\">,</span> visit<span class=\"k\">,</span> ctx <span class=\"k\">)</span> <span class=\"k\">{</span>","","        <span class=\"k\">if</span> <span class=\"k\">(</span> <span class=\"k\">!</span>node<span class=\"k\">.</span>children <span class=\"k\">||</span> <span class=\"k\">!</span>node<span class=\"k\">.</span>children<span class=\"k\">.</span>length <span class=\"k\">)</span> <span class=\"k\">{</span>","            <span class=\"k\">return</span> node<span class=\"k\">;</span>","        <span class=\"k\">}</span>","        <span class=\"k\">var</span> children <span class=\"k\">=</span> node<span class=\"k\">.</span>children<span class=\"k\">;</span>","        <span class=\"k\">for</span> <span class=\"k\">(</span> <span class=\"k\">var</span> i <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">;</span> i <span class=\"k\">&lt;</span> children<span class=\"k\">.</span>length<span class=\"k\">;</span> i<span class=\"k\">++</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","            <span class=\"k\">var</span> newNode <span class=\"k\">=</span> visit<span class=\"k\">(</span> children<span class=\"k\">[</span>i<span class=\"k\">],</span> ctx <span class=\"k\">);</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span> newNode<span class=\"k\">.</span>type <span class=\"k\">==</span> <span class=\"s\">'fragment'</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                <span class=\"k\">var</span> args <span class=\"k\">=</span> <span class=\"k\">[</span>i<span class=\"k\">,</span> <span class=\"s\">1</span><span class=\"k\">];</span>","                args<span class=\"k\">.</span>push<span class=\"k\">.</span>apply<span class=\"k\">(</span> args<span class=\"k\">,</span> newNode<span class=\"k\">.</span>children <span class=\"k\">);</span>","                children<span class=\"k\">.</span>splice<span class=\"k\">.</span>apply<span class=\"k\">(</span> children<span class=\"k\">,</span> args <span class=\"k\">);</span>","                <span class=\"c\">//&#33410;&#28857;&#20026;&#31354;&#30340;&#23601;&#24178;&#25481;&#65292;&#19981;&#28982;&#21518;&#36793;&#30340;&#34917;&#20840;&#25805;&#20316;&#20250;&#28155;&#21152;&#22810;&#20313;&#30340;&#33410;&#28857;</span>","                <span class=\"k\">if</span> <span class=\"k\">(</span> <span class=\"k\">!</span>children<span class=\"k\">.</span>length <span class=\"k\">)</span> <span class=\"k\">{</span>","                    node <span class=\"k\">=</span> <span class=\"k\">{</span>","                        type<span class=\"k\">:</span> <span class=\"s\">'fragment'</span><span class=\"k\">,</span>","                        children<span class=\"k\">:</span> <span class=\"k\">[]</span>","                    <span class=\"k\">}</span>","                <span class=\"k\">}</span>","                i <span class=\"k\">--;</span>","            <span class=\"k\">}</span> <span class=\"k\">else</span> <span class=\"k\">{</span>","                children<span class=\"k\">[</span>i<span class=\"k\">]</span> <span class=\"k\">=</span> newNode<span class=\"k\">;</span>","            <span class=\"k\">}</span>","        <span class=\"k\">}</span>","        <span class=\"k\">return</span> node<span class=\"k\">;</span>","    <span class=\"k\">}</span>","","    <span class=\"k\">function</span> Serialize<span class=\"k\">(</span> rules <span class=\"k\">)</span> <span class=\"k\">{</span>","        <span class=\"k\">this</span><span class=\"k\">.</span>rules <span class=\"k\">=</span> rules<span class=\"k\">;</span>","    <span class=\"k\">}</span>","","","    Serialize<span class=\"k\">.</span>prototype <span class=\"k\">=</span> <span class=\"k\">{</span>","        <span class=\"c\">// NOTE: selector&#30446;&#21069;&#21482;&#25903;&#25345;tagName</span>","        rules<span class=\"k\">:</span> <span class=\"k\">null</span><span class=\"k\">,</span>","        <span class=\"c\">// NOTE: node&#24517;&#39035;&#26159;fragment</span>","        filter<span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">(</span> node<span class=\"k\">,</span> rules<span class=\"k\">,</span> modify <span class=\"k\">)</span> <span class=\"k\">{</span>","            rules <span class=\"k\">=</span> rules <span class=\"k\">||</span> <span class=\"k\">this</span><span class=\"k\">.</span>rules<span class=\"k\">;</span>","            <span class=\"k\">var</span> whiteList <span class=\"k\">=</span> rules <span class=\"k\">&amp;&amp;</span> rules<span class=\"k\">.</span>whiteList<span class=\"k\">;</span>","            <span class=\"k\">var</span> blackList <span class=\"k\">=</span> rules <span class=\"k\">&amp;&amp;</span> rules<span class=\"k\">.</span>blackList<span class=\"k\">;</span>","","            <span class=\"k\">function</span> visitNode<span class=\"k\">(</span> node<span class=\"k\">,</span> parent <span class=\"k\">)</span> <span class=\"k\">{</span>","                node<span class=\"k\">.</span>name <span class=\"k\">=</span> node<span class=\"k\">.</span>type <span class=\"k\">==</span> <span class=\"s\">'element'</span> <span class=\"k\">?</span>","                        node<span class=\"k\">.</span>tag <span class=\"k\">:</span> NODE_NAME_MAP<span class=\"k\">[</span>node<span class=\"k\">.</span>type<span class=\"k\">];</span>","                <span class=\"k\">if</span> <span class=\"k\">(</span> parent <span class=\"k\">==</span> <span class=\"k\">null</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                    <span class=\"k\">return</span> childrenAccept<span class=\"k\">(</span> node<span class=\"k\">,</span> visitNode<span class=\"k\">,</span> node <span class=\"k\">);</span>","                <span class=\"k\">}</span>","","                <span class=\"k\">if</span> <span class=\"k\">(</span> blackList <span class=\"k\">&amp;&amp;</span> <span class=\"k\">(</span>blackList<span class=\"k\">[</span>node<span class=\"k\">.</span>name<span class=\"k\">]||</span> <span class=\"k\">(</span>node<span class=\"k\">.</span>attributes <span class=\"k\">&amp;&amp;</span> node<span class=\"k\">.</span>attributes<span class=\"k\">.</span>_ue_org_tagName <span class=\"k\">&amp;&amp;</span> blackList<span class=\"k\">[</span>node<span class=\"k\">.</span>attributes<span class=\"k\">.</span>_ue_org_tagName<span class=\"k\">])))</span> <span class=\"k\">{</span>","                    modify <span class=\"k\">&amp;&amp;</span> <span class=\"k\">(</span>modify<span class=\"k\">.</span>flag <span class=\"k\">=</span> <span class=\"s\">1</span><span class=\"k\">);</span>","                    <span class=\"k\">return</span> <span class=\"k\">{</span>","                        type<span class=\"k\">:</span> <span class=\"s\">'fragment'</span><span class=\"k\">,</span>","                        children<span class=\"k\">:</span> <span class=\"k\">[]</span>","                    <span class=\"k\">}</span><span class=\"k\">;</span>","                <span class=\"k\">}</span>","                <span class=\"k\">if</span> <span class=\"k\">(</span> whiteList <span class=\"k\">)</span> <span class=\"k\">{</span>","                    <span class=\"k\">if</span> <span class=\"k\">(</span> node<span class=\"k\">.</span>type <span class=\"k\">==</span> <span class=\"s\">'element'</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                        <span class=\"k\">if</span> <span class=\"k\">(</span> parent<span class=\"k\">.</span>type <span class=\"k\">==</span> <span class=\"s\">'fragment'</span> <span class=\"k\">?</span> whiteList<span class=\"k\">[</span>node<span class=\"k\">.</span>name<span class=\"k\">]</span> <span class=\"k\">:</span> whiteList<span class=\"k\">[</span>node<span class=\"k\">.</span>name<span class=\"k\">]</span> <span class=\"k\">&amp;&amp;</span> whiteList<span class=\"k\">[</span>parent<span class=\"k\">.</span>name<span class=\"k\">][</span>node<span class=\"k\">.</span>name<span class=\"k\">]</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","","                            <span class=\"k\">var</span> props<span class=\"k\">;</span>","                            <span class=\"k\">if</span> <span class=\"k\">(</span> <span class=\"k\">(</span>props <span class=\"k\">=</span> whiteList<span class=\"k\">[</span>node<span class=\"k\">.</span>name<span class=\"k\">].</span>$<span class=\"k\">)</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                                <span class=\"k\">var</span> oldAttrs <span class=\"k\">=</span> node<span class=\"k\">.</span>attributes<span class=\"k\">;</span>","                                <span class=\"k\">var</span> newAttrs <span class=\"k\">=</span> <span class=\"k\">{}</span><span class=\"k\">;</span>","                                <span class=\"k\">for</span> <span class=\"k\">(</span> <span class=\"k\">var</span> k <span class=\"k\">in</span> props <span class=\"k\">)</span> <span class=\"k\">{</span>","                                    <span class=\"k\">if</span> <span class=\"k\">(</span> oldAttrs<span class=\"k\">[</span>k<span class=\"k\">]</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                                        newAttrs<span class=\"k\">[</span>k<span class=\"k\">]</span> <span class=\"k\">=</span> oldAttrs<span class=\"k\">[</span>k<span class=\"k\">];</span>","                                    <span class=\"k\">}</span>","                                <span class=\"k\">}</span>","                                node<span class=\"k\">.</span>attributes <span class=\"k\">=</span> newAttrs<span class=\"k\">;</span>","                            <span class=\"k\">}</span>","","","                        <span class=\"k\">}</span> <span class=\"k\">else</span> <span class=\"k\">{</span>","                            modify <span class=\"k\">&amp;&amp;</span> <span class=\"k\">(</span>modify<span class=\"k\">.</span>flag <span class=\"k\">=</span> <span class=\"s\">1</span><span class=\"k\">);</span>","                            node<span class=\"k\">.</span>type <span class=\"k\">=</span> <span class=\"s\">'fragment'</span><span class=\"k\">;</span>","                            <span class=\"c\">// NOTE: &#36825;&#37324;&#31639;&#26159;&#19968;&#20010;hack</span>","                            node<span class=\"k\">.</span>name <span class=\"k\">=</span> parent<span class=\"k\">.</span>name<span class=\"k\">;</span>","                        <span class=\"k\">}</span>","                    <span class=\"k\">}</span> <span class=\"k\">else</span> <span class=\"k\">{</span>","                        <span class=\"c\">// NOTE: &#25991;&#26412;&#40664;&#35748;&#20801;&#35768;</span>","                    <span class=\"k\">}</span>","                <span class=\"k\">}</span>","                <span class=\"k\">if</span> <span class=\"k\">(</span> blackList <span class=\"k\">||</span> whiteList <span class=\"k\">)</span> <span class=\"k\">{</span>","                    childrenAccept<span class=\"k\">(</span> node<span class=\"k\">,</span> visitNode<span class=\"k\">,</span> node <span class=\"k\">);</span>","                <span class=\"k\">}</span>","                <span class=\"k\">return</span> node<span class=\"k\">;</span>","            <span class=\"k\">}</span>","","            <span class=\"k\">return</span> visitNode<span class=\"k\">(</span> node<span class=\"k\">,</span> <span class=\"k\">null</span> <span class=\"k\">);</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        transformInput<span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">(</span> node<span class=\"k\">,</span> word_img_flag <span class=\"k\">)</span> <span class=\"k\">{</span>","","            <span class=\"k\">function</span> visitNode<span class=\"k\">(</span> node <span class=\"k\">)</span> <span class=\"k\">{</span>","                node <span class=\"k\">=</span> transNode<span class=\"k\">(</span> node<span class=\"k\">,</span> word_img_flag <span class=\"k\">);</span>","","                node <span class=\"k\">=</span> childrenAccept<span class=\"k\">(</span> node<span class=\"k\">,</span> visitNode<span class=\"k\">,</span> node <span class=\"k\">);</span>","","                <span class=\"k\">if</span> <span class=\"k\">(</span> me<span class=\"k\">.</span>options<span class=\"k\">.</span>pageBreakTag <span class=\"k\">&amp;&amp;</span> node<span class=\"k\">.</span>type <span class=\"k\">==</span> <span class=\"s\">'text'</span> <span class=\"k\">&amp;&amp;</span> node<span class=\"k\">.</span>data<span class=\"k\">.</span>replace<span class=\"k\">(</span> <span class=\"s\">/\\s/g</span><span class=\"k\">,</span> <span class=\"s\">''</span> <span class=\"k\">)</span> <span class=\"k\">==</span> me<span class=\"k\">.</span>options<span class=\"k\">.</span>pageBreakTag <span class=\"k\">)</span> <span class=\"k\">{</span>","","                    node<span class=\"k\">.</span>type <span class=\"k\">=</span> <span class=\"s\">'element'</span><span class=\"k\">;</span>","                    node<span class=\"k\">.</span>name <span class=\"k\">=</span> node<span class=\"k\">.</span>tag <span class=\"k\">=</span> <span class=\"s\">'hr'</span><span class=\"k\">;</span>","","                    <span class=\"k\">delete</span> node<span class=\"k\">.</span>data<span class=\"k\">;</span>","                    node<span class=\"k\">.</span>attributes <span class=\"k\">=</span> <span class=\"k\">{</span>","                        <span class=\"s\">'class'</span> <span class=\"k\">:</span> <span class=\"s\">'pagebreak'</span><span class=\"k\">,</span>","                        noshade<span class=\"k\">:</span><span class=\"s\">\"noshade\"</span><span class=\"k\">,</span>","                        size<span class=\"k\">:</span><span class=\"s\">\"5\"</span><span class=\"k\">,</span>","                        <span class=\"s\">'unselectable'</span> <span class=\"k\">:</span> <span class=\"s\">'on'</span><span class=\"k\">,</span>","                        <span class=\"s\">'style'</span> <span class=\"k\">:</span> <span class=\"s\">'moz-user-select:none;-khtml-user-select: none;'</span>","                    <span class=\"k\">}</span><span class=\"k\">;</span>","","                    node<span class=\"k\">.</span>children <span class=\"k\">=</span> <span class=\"k\">[];</span>","","                <span class=\"k\">}</span>","                <span class=\"c\">//&#21435;&#25481;&#22810;&#20313;&#30340;&#31354;&#26684;&#21644;&#25442;&#34892;</span>","                <span class=\"k\">if</span><span class=\"k\">(</span>node<span class=\"k\">.</span>type <span class=\"k\">==</span> <span class=\"s\">'text'</span> <span class=\"k\">&amp;&amp;</span> <span class=\"k\">!</span>dtd<span class=\"k\">.</span>$notTransContent<span class=\"k\">[</span>node<span class=\"k\">.</span>parent<span class=\"k\">.</span>tag<span class=\"k\">])</span><span class=\"k\">{</span>","                    node<span class=\"k\">.</span>data <span class=\"k\">=</span> node<span class=\"k\">.</span>data<span class=\"k\">.</span>replace<span class=\"k\">(</span><span class=\"s\">/[\\r\\t\\n]*/g</span><span class=\"k\">,</span><span class=\"s\">''</span><span class=\"k\">)</span><span class=\"c\">//.replace(/[ ]*$/g,'')</span>","                <span class=\"k\">}</span>","                <span class=\"k\">return</span> node<span class=\"k\">;</span>","            <span class=\"k\">}</span>","","            <span class=\"k\">return</span> visitNode<span class=\"k\">(</span> node <span class=\"k\">);</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        transformOutput<span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">(</span> node <span class=\"k\">)</span> <span class=\"k\">{</span>","            <span class=\"k\">function</span> visitNode<span class=\"k\">(</span> node <span class=\"k\">)</span> <span class=\"k\">{</span>","","                <span class=\"k\">if</span> <span class=\"k\">(</span> node<span class=\"k\">.</span>tag <span class=\"k\">==</span> <span class=\"s\">'hr'</span> <span class=\"k\">&amp;&amp;</span> node<span class=\"k\">.</span>attributes<span class=\"k\">[</span><span class=\"s\">'class'</span><span class=\"k\">]</span> <span class=\"k\">==</span> <span class=\"s\">'pagebreak'</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                    <span class=\"k\">delete</span> node<span class=\"k\">.</span>tag<span class=\"k\">;</span>","                    node<span class=\"k\">.</span>type <span class=\"k\">=</span> <span class=\"s\">'text'</span><span class=\"k\">;</span>","                    node<span class=\"k\">.</span>data <span class=\"k\">=</span> me<span class=\"k\">.</span>options<span class=\"k\">.</span>pageBreakTag<span class=\"k\">;</span>","                    <span class=\"k\">delete</span> node<span class=\"k\">.</span>children<span class=\"k\">;</span>","","                <span class=\"k\">}</span>","","                node <span class=\"k\">=</span> transOutNode<span class=\"k\">(</span> node <span class=\"k\">);</span>","                <span class=\"k\">if</span> <span class=\"k\">(</span> node<span class=\"k\">.</span>tag <span class=\"k\">==</span> <span class=\"s\">'ol'</span> <span class=\"k\">||</span> node<span class=\"k\">.</span>tag <span class=\"k\">==</span> <span class=\"s\">'ul'</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                    first <span class=\"k\">=</span> <span class=\"s\">1</span><span class=\"k\">;</span>","                <span class=\"k\">}</span>","                node <span class=\"k\">=</span> childrenAccept<span class=\"k\">(</span> node<span class=\"k\">,</span> visitNode<span class=\"k\">,</span> node <span class=\"k\">);</span>","                <span class=\"k\">if</span> <span class=\"k\">(</span> node<span class=\"k\">.</span>tag <span class=\"k\">==</span> <span class=\"s\">'ol'</span> <span class=\"k\">||</span> node<span class=\"k\">.</span>tag <span class=\"k\">==</span> <span class=\"s\">'ul'</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                    first <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">;</span>","                <span class=\"k\">}</span>","                <span class=\"k\">return</span> node<span class=\"k\">;</span>","            <span class=\"k\">}</span>","","            <span class=\"k\">return</span> visitNode<span class=\"k\">(</span> node <span class=\"k\">);</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        toHTML<span class=\"k\">:</span> toHTML<span class=\"k\">,</span>","        parseHTML<span class=\"k\">:</span> parseHTML<span class=\"k\">,</span>","        word<span class=\"k\">:</span> UE<span class=\"k\">.</span>filterWord","    <span class=\"k\">}</span><span class=\"k\">;</span>","    me<span class=\"k\">.</span>serialize <span class=\"k\">=</span> <span class=\"k\">new</span> Serialize<span class=\"k\">(</span> me<span class=\"k\">.</span>options<span class=\"k\">.</span>serialize <span class=\"k\">||</span> <span class=\"k\">{}</span><span class=\"k\">);</span>","    UE<span class=\"k\">.</span>serialize <span class=\"k\">=</span> <span class=\"k\">new</span> Serialize<span class=\"k\">(</span> <span class=\"k\">{}</span> <span class=\"k\">);</span>","<span class=\"k\">}</span><span class=\"k\">;</span>"]);
_$jscoverage['plugins/shortcutkeys.js'] && (_$jscoverage['plugins/shortcutkeys.js'].source = ["<span class=\"c\">///import core</span>","<span class=\"c\">///commands &#24555;&#25463;&#38190;</span>","<span class=\"c\">///commandsName  ShortCutKeys</span>","<span class=\"c\">///commandsTitle  &#24555;&#25463;&#38190;</span>","<span class=\"c\">//&#37197;&#32622;&#24555;&#25463;&#38190;</span>","UE<span class=\"k\">.</span>plugins<span class=\"k\">[</span><span class=\"s\">'shortcutkeys'</span><span class=\"k\">]</span> <span class=\"k\">=</span> <span class=\"k\">function</span><span class=\"k\">()</span><span class=\"k\">{</span>","    <span class=\"k\">var</span> me <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">,</span>","        shortcutkeys <span class=\"k\">=</span> <span class=\"k\">{</span>","    \t\t<span class=\"s\">\"ctrl+66\"</span> <span class=\"k\">:</span> <span class=\"s\">\"Bold\"</span> <span class=\"k\">,</span><span class=\"c\">//^B</span>","        \t<span class=\"s\">\"ctrl+90\"</span> <span class=\"k\">:</span> <span class=\"s\">\"Undo\"</span> <span class=\"k\">,</span><span class=\"c\">//undo</span>","        \t<span class=\"s\">\"ctrl+89\"</span> <span class=\"k\">:</span> <span class=\"s\">\"Redo\"</span><span class=\"k\">,</span> <span class=\"c\">//redo</span>","       \t\t<span class=\"s\">\"ctrl+73\"</span> <span class=\"k\">:</span> <span class=\"s\">\"Italic\"</span><span class=\"k\">,</span> <span class=\"c\">//^I</span>","       \t\t<span class=\"s\">\"ctrl+85\"</span> <span class=\"k\">:</span> <span class=\"s\">\"Underline\"</span> <span class=\"k\">,</span><span class=\"c\">//^U</span>","        \t<span class=\"s\">\"ctrl+shift+67\"</span> <span class=\"k\">:</span> <span class=\"s\">\"removeformat\"</span><span class=\"k\">,</span> <span class=\"c\">//&#28165;&#38500;&#26684;&#24335;</span>","        \t<span class=\"s\">\"ctrl+shift+76\"</span> <span class=\"k\">:</span> <span class=\"s\">\"justify:left\"</span><span class=\"k\">,</span> <span class=\"c\">//&#23621;&#24038;</span>","        \t<span class=\"s\">\"ctrl+shift+82\"</span> <span class=\"k\">:</span> <span class=\"s\">\"justify:right\"</span><span class=\"k\">,</span> <span class=\"c\">//&#23621;&#21491;</span>","        \t<span class=\"s\">\"ctrl+65\"</span> <span class=\"k\">:</span> <span class=\"s\">\"selectAll\"</span><span class=\"k\">,</span>","            <span class=\"s\">\"ctrl+13\"</span> <span class=\"k\">:</span> <span class=\"s\">\"autosubmit\"</span><span class=\"c\">//&#25163;&#21160;&#25552;&#20132;</span>","<span class=\"c\">//        \t,\"9\"\t   : \"indent\" //tab</span>","    \t<span class=\"k\">}</span><span class=\"k\">;</span>","    me<span class=\"k\">.</span>addListener<span class=\"k\">(</span><span class=\"s\">'keydown'</span><span class=\"k\">,</span><span class=\"k\">function</span><span class=\"k\">(</span>type<span class=\"k\">,</span>e<span class=\"k\">)</span><span class=\"k\">{</span>","","        <span class=\"k\">var</span> keyCode <span class=\"k\">=</span> e<span class=\"k\">.</span>keyCode <span class=\"k\">||</span> e<span class=\"k\">.</span>which<span class=\"k\">,</span>value<span class=\"k\">;</span>","\t\t<span class=\"k\">for</span> <span class=\"k\">(</span> <span class=\"k\">var</span> i <span class=\"k\">in</span> shortcutkeys <span class=\"k\">)</span> <span class=\"k\">{</span>","\t\t    <span class=\"k\">if</span> <span class=\"k\">(</span> <span class=\"s\">/^(ctrl)(\\+shift)?\\+(\\d+)$/</span><span class=\"k\">.</span>test<span class=\"k\">(</span> i<span class=\"k\">.</span>toLowerCase<span class=\"k\">()</span> <span class=\"k\">)</span> <span class=\"k\">||</span> <span class=\"s\">/^(\\d+)$/</span><span class=\"k\">.</span>test<span class=\"k\">(</span> i <span class=\"k\">)</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","\t\t        <span class=\"k\">if</span> <span class=\"k\">(</span> <span class=\"k\">(</span> <span class=\"k\">(</span>RegExp<span class=\"k\">.</span>$1 <span class=\"k\">==</span> <span class=\"s\">'ctrl'</span> <span class=\"k\">?</span> <span class=\"k\">(</span>e<span class=\"k\">.</span>ctrlKey<span class=\"k\">||</span>e<span class=\"k\">.</span>metaKey<span class=\"k\">||</span>browser<span class=\"k\">.</span>opera <span class=\"k\">&amp;&amp;</span> keyCode <span class=\"k\">==</span> <span class=\"s\">17</span><span class=\"k\">)</span> <span class=\"k\">:</span> <span class=\"s\">0</span><span class=\"k\">)</span>","                        <span class=\"k\">&amp;&amp;</span> <span class=\"k\">(</span>RegExp<span class=\"k\">.</span>$2 <span class=\"k\">!=</span> <span class=\"s\">\"\"</span> <span class=\"k\">?</span> e<span class=\"k\">[</span>RegExp<span class=\"k\">.</span>$2<span class=\"k\">.</span>slice<span class=\"k\">(</span><span class=\"s\">1</span><span class=\"k\">)</span> <span class=\"k\">+</span> <span class=\"s\">\"Key\"</span><span class=\"k\">]</span> <span class=\"k\">:</span> <span class=\"s\">1</span><span class=\"k\">)</span>","                        <span class=\"k\">&amp;&amp;</span> keyCode <span class=\"k\">==</span> RegExp<span class=\"k\">.</span>$3","                    <span class=\"k\">)</span> <span class=\"k\">||</span>","                     keyCode <span class=\"k\">==</span> RegExp<span class=\"k\">.</span>$1","                <span class=\"k\">)</span><span class=\"k\">{</span>","","                    value <span class=\"k\">=</span> shortcutkeys<span class=\"k\">[</span>i<span class=\"k\">].</span>split<span class=\"k\">(</span><span class=\"s\">':'</span><span class=\"k\">);</span>","                    me<span class=\"k\">.</span>execCommand<span class=\"k\">(</span> value<span class=\"k\">[</span><span class=\"s\">0</span><span class=\"k\">],</span>value<span class=\"k\">[</span><span class=\"s\">1</span><span class=\"k\">]);</span>","                    domUtils<span class=\"k\">.</span>preventDefault<span class=\"k\">(</span>e<span class=\"k\">);</span>","\t\t        <span class=\"k\">}</span>","\t\t    <span class=\"k\">}</span>","\t\t<span class=\"k\">}</span>","    <span class=\"k\">}</span><span class=\"k\">);</span>","<span class=\"k\">}</span><span class=\"k\">;</span>"]);
_$jscoverage['plugins/snapscreen.js'] && (_$jscoverage['plugins/snapscreen.js'].source = ["<span class=\"c\">///import core</span>","<span class=\"c\">///commandsName  snapscreen</span>","<span class=\"c\">///commandsTitle  &#25130;&#23631;</span>","<span class=\"c\">/**</span>","<span class=\"c\"> * &#25130;&#23631;&#25554;&#20214;</span>","<span class=\"c\"> */</span>","UE<span class=\"k\">.</span>commands<span class=\"k\">[</span><span class=\"s\">'snapscreen'</span><span class=\"k\">]</span> <span class=\"k\">=</span> <span class=\"k\">{</span>","    execCommand<span class=\"k\">:</span> <span class=\"k\">function</span><span class=\"k\">()</span><span class=\"k\">{</span>","        <span class=\"k\">var</span> me <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">,</span>lang <span class=\"k\">=</span> me<span class=\"k\">.</span>getLang<span class=\"k\">(</span><span class=\"s\">\"snapScreen_plugin\"</span><span class=\"k\">);</span>","        me<span class=\"k\">.</span>setOpt<span class=\"k\">(</span><span class=\"k\">{</span>","               snapscreenServerPort<span class=\"k\">:</span> <span class=\"s\">80</span>                                    <span class=\"c\">//&#23631;&#24149;&#25130;&#22270;&#30340;server&#31471;&#31471;&#21475;</span>","              <span class=\"k\">,</span>snapscreenImgAlign<span class=\"k\">:</span> <span class=\"s\">'left'</span>                                <span class=\"c\">//&#25130;&#22270;&#30340;&#22270;&#29255;&#40664;&#35748;&#30340;&#25490;&#29256;&#26041;&#24335;</span>","        <span class=\"k\">}</span><span class=\"k\">);</span>","        <span class=\"k\">var</span> editorOptions <span class=\"k\">=</span> me<span class=\"k\">.</span>options<span class=\"k\">;</span>","","        <span class=\"k\">if</span><span class=\"k\">(!</span>browser<span class=\"k\">.</span>ie<span class=\"k\">)</span><span class=\"k\">{</span>","            alert<span class=\"k\">(</span>lang<span class=\"k\">.</span>browserMsg<span class=\"k\">);</span>","            <span class=\"k\">return</span><span class=\"k\">;</span>","        <span class=\"k\">}</span>","","        <span class=\"k\">var</span> onSuccess <span class=\"k\">=</span> <span class=\"k\">function</span><span class=\"k\">(</span>rs<span class=\"k\">)</span><span class=\"k\">{</span>","            <span class=\"k\">try</span><span class=\"k\">{</span>","                rs <span class=\"k\">=</span> eval<span class=\"k\">(</span><span class=\"s\">\"(\"</span><span class=\"k\">+</span> rs <span class=\"k\">+</span><span class=\"s\">\")\"</span><span class=\"k\">);</span>","            <span class=\"k\">}</span><span class=\"k\">catch</span><span class=\"k\">(</span>e<span class=\"k\">)</span><span class=\"k\">{</span>","                alert<span class=\"k\">(</span>lang<span class=\"k\">.</span>callBackErrorMsg<span class=\"k\">);</span>","                <span class=\"k\">return</span><span class=\"k\">;</span>","            <span class=\"k\">}</span>","","            <span class=\"k\">if</span><span class=\"k\">(</span>rs<span class=\"k\">.</span>state <span class=\"k\">!=</span> <span class=\"s\">'SUCCESS'</span><span class=\"k\">)</span><span class=\"k\">{</span>","                alert<span class=\"k\">(</span>rs<span class=\"k\">.</span>state<span class=\"k\">);</span>","                <span class=\"k\">return</span><span class=\"k\">;</span>","            <span class=\"k\">}</span>","            me<span class=\"k\">.</span>execCommand<span class=\"k\">(</span><span class=\"s\">'insertimage'</span><span class=\"k\">,</span> <span class=\"k\">{</span>","                src<span class=\"k\">:</span> editorOptions<span class=\"k\">.</span>snapscreenPath <span class=\"k\">+</span> rs<span class=\"k\">.</span>url<span class=\"k\">,</span>","                floatStyle<span class=\"k\">:</span> editorOptions<span class=\"k\">.</span>snapscreenImgAlign<span class=\"k\">,</span>","                data_ue_src<span class=\"k\">:</span>editorOptions<span class=\"k\">.</span>snapscreenPath <span class=\"k\">+</span> rs<span class=\"k\">.</span>url","            <span class=\"k\">}</span><span class=\"k\">);</span>","        <span class=\"k\">}</span><span class=\"k\">;</span>","        <span class=\"k\">var</span> onStartUpload <span class=\"k\">=</span> <span class=\"k\">function</span><span class=\"k\">()</span><span class=\"k\">{</span>","            <span class=\"c\">//&#24320;&#22987;&#25130;&#22270;&#19978;&#20256;</span>","        <span class=\"k\">}</span><span class=\"k\">;</span>","        <span class=\"k\">var</span> onError <span class=\"k\">=</span> <span class=\"k\">function</span><span class=\"k\">()</span><span class=\"k\">{</span>","            alert<span class=\"k\">(</span>lang<span class=\"k\">.</span>uploadErrorMsg<span class=\"k\">);</span>","        <span class=\"k\">}</span><span class=\"k\">;</span>","        <span class=\"k\">try</span><span class=\"k\">{</span>","            <span class=\"k\">var</span> nativeObj <span class=\"k\">=</span> <span class=\"k\">new</span> ActiveXObject<span class=\"k\">(</span><span class=\"s\">'Snapsie.CoSnapsie'</span><span class=\"k\">);</span>","            nativeObj<span class=\"k\">.</span>saveSnapshot<span class=\"k\">(</span>editorOptions<span class=\"k\">.</span>snapscreenHost<span class=\"k\">,</span> editorOptions<span class=\"k\">.</span>snapscreenServerUrl<span class=\"k\">,</span> editorOptions<span class=\"k\">.</span>snapscreenServerPort<span class=\"k\">,</span> onStartUpload<span class=\"k\">,</span>onSuccess<span class=\"k\">,</span>onError<span class=\"k\">);</span>","        <span class=\"k\">}</span><span class=\"k\">catch</span><span class=\"k\">(</span>e<span class=\"k\">)</span><span class=\"k\">{</span>","            me<span class=\"k\">.</span>ui<span class=\"k\">.</span>_dialogs<span class=\"k\">[</span><span class=\"s\">'snapscreenDialog'</span><span class=\"k\">].</span>open<span class=\"k\">();</span>","        <span class=\"k\">}</span>","    <span class=\"k\">}</span><span class=\"k\">,</span>","    queryCommandState<span class=\"k\">:</span> <span class=\"k\">function</span><span class=\"k\">()</span><span class=\"k\">{</span>","        <span class=\"k\">return</span> <span class=\"k\">this</span><span class=\"k\">.</span>highlight <span class=\"k\">||</span> <span class=\"k\">!</span>browser<span class=\"k\">.</span>ie <span class=\"k\">?</span> <span class=\"k\">-</span><span class=\"s\">1</span> <span class=\"k\">:</span><span class=\"s\">0</span><span class=\"k\">;</span>","    <span class=\"k\">}</span>","<span class=\"k\">}</span><span class=\"k\">;</span>"]);
_$jscoverage['plugins/source.js'] && (_$jscoverage['plugins/source.js'].source = ["<span class=\"c\">///import core</span>","<span class=\"c\">///import plugins/serialize.js</span>","<span class=\"c\">///import plugins/undo.js</span>","<span class=\"c\">///commands &#26597;&#30475;&#28304;&#30721;</span>","<span class=\"c\">///commandsName  Source</span>","<span class=\"c\">///commandsTitle  &#26597;&#30475;&#28304;&#30721;</span>","<span class=\"k\">(</span><span class=\"k\">function</span> <span class=\"k\">()</span><span class=\"k\">{</span>","    <span class=\"k\">function</span> SourceFormater<span class=\"k\">(</span>config<span class=\"k\">)</span><span class=\"k\">{</span>","        config <span class=\"k\">=</span> config <span class=\"k\">||</span> <span class=\"k\">{}</span><span class=\"k\">;</span>","        <span class=\"k\">this</span><span class=\"k\">.</span>indentChar <span class=\"k\">=</span> config<span class=\"k\">.</span>indentChar <span class=\"k\">||</span> <span class=\"s\">'    '</span><span class=\"k\">;</span>","        <span class=\"k\">this</span><span class=\"k\">.</span>breakChar <span class=\"k\">=</span> config<span class=\"k\">.</span>breakChar <span class=\"k\">||</span> <span class=\"s\">'</span><span class=\"t\">\\n</span><span class=\"s\">'</span><span class=\"k\">;</span>","        <span class=\"k\">this</span><span class=\"k\">.</span>selfClosingEnd <span class=\"k\">=</span> config<span class=\"k\">.</span>selfClosingEnd <span class=\"k\">||</span> <span class=\"s\">' /&gt;'</span><span class=\"k\">;</span>","    <span class=\"k\">}</span>","    <span class=\"k\">var</span> unhtml1 <span class=\"k\">=</span> <span class=\"k\">function</span> <span class=\"k\">()</span><span class=\"k\">{</span>","        <span class=\"k\">var</span> map <span class=\"k\">=</span> <span class=\"k\">{</span> <span class=\"s\">'&lt;'</span><span class=\"k\">:</span> <span class=\"s\">'&amp;lt;'</span><span class=\"k\">,</span> <span class=\"s\">'&gt;'</span><span class=\"k\">:</span> <span class=\"s\">'&amp;gt;'</span><span class=\"k\">,</span> <span class=\"s\">'\"'</span><span class=\"k\">:</span> <span class=\"s\">'&amp;quot;'</span><span class=\"k\">,</span> <span class=\"s\">\"'\"</span><span class=\"k\">:</span> <span class=\"s\">'&amp;#39;'</span> <span class=\"k\">}</span><span class=\"k\">;</span>","        <span class=\"k\">function</span> rep<span class=\"k\">(</span> m <span class=\"k\">)</span><span class=\"k\">{</span> <span class=\"k\">return</span> map<span class=\"k\">[</span>m<span class=\"k\">];</span> <span class=\"k\">}</span>","        <span class=\"k\">return</span> <span class=\"k\">function</span> <span class=\"k\">(</span> str <span class=\"k\">)</span> <span class=\"k\">{</span>","            str <span class=\"k\">=</span> str <span class=\"k\">+</span> <span class=\"s\">''</span><span class=\"k\">;</span>","            <span class=\"k\">return</span> str <span class=\"k\">?</span> str<span class=\"k\">.</span>replace<span class=\"k\">(</span> <span class=\"s\">/[&lt;&gt;\"']/g</span><span class=\"k\">,</span> rep <span class=\"k\">)</span> <span class=\"k\">:</span> <span class=\"s\">''</span><span class=\"k\">;</span>","        <span class=\"k\">}</span><span class=\"k\">;</span>","    <span class=\"k\">}</span><span class=\"k\">();</span>","    <span class=\"k\">var</span> inline <span class=\"k\">=</span> utils<span class=\"k\">.</span>extend<span class=\"k\">(</span><span class=\"k\">{</span>a<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>A<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">}</span><span class=\"k\">,</span>dtd<span class=\"k\">.</span>$inline<span class=\"k\">,</span><span class=\"k\">true</span><span class=\"k\">);</span>","","","    <span class=\"k\">function</span> printAttrs<span class=\"k\">(</span>attrs<span class=\"k\">)</span><span class=\"k\">{</span>","        <span class=\"k\">var</span> buff <span class=\"k\">=</span> <span class=\"k\">[];</span>","        <span class=\"k\">for</span> <span class=\"k\">(</span><span class=\"k\">var</span> k <span class=\"k\">in</span> attrs<span class=\"k\">)</span> <span class=\"k\">{</span>","            buff<span class=\"k\">.</span>push<span class=\"k\">(</span>k <span class=\"k\">+</span> <span class=\"s\">'=\"'</span> <span class=\"k\">+</span> unhtml1<span class=\"k\">(</span>attrs<span class=\"k\">[</span>k<span class=\"k\">])</span> <span class=\"k\">+</span> <span class=\"s\">'\"'</span><span class=\"k\">);</span>","        <span class=\"k\">}</span>","        <span class=\"k\">return</span> buff<span class=\"k\">.</span>join<span class=\"k\">(</span><span class=\"s\">' '</span><span class=\"k\">);</span>","    <span class=\"k\">}</span>","    SourceFormater<span class=\"k\">.</span>prototype <span class=\"k\">=</span> <span class=\"k\">{</span>","        format<span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">(</span>html<span class=\"k\">)</span><span class=\"k\">{</span>","            <span class=\"k\">var</span> node <span class=\"k\">=</span> UE<span class=\"k\">.</span>serialize<span class=\"k\">.</span>parseHTML<span class=\"k\">(</span>html<span class=\"k\">);</span>","            <span class=\"k\">this</span><span class=\"k\">.</span>buff <span class=\"k\">=</span> <span class=\"k\">[];</span>","            <span class=\"k\">this</span><span class=\"k\">.</span>indents <span class=\"k\">=</span> <span class=\"s\">''</span><span class=\"k\">;</span>","            <span class=\"k\">this</span><span class=\"k\">.</span>indenting <span class=\"k\">=</span> <span class=\"s\">1</span><span class=\"k\">;</span>","            <span class=\"k\">this</span><span class=\"k\">.</span>visitNode<span class=\"k\">(</span>node<span class=\"k\">);</span>","            <span class=\"k\">return</span> <span class=\"k\">this</span><span class=\"k\">.</span>buff<span class=\"k\">.</span>join<span class=\"k\">(</span><span class=\"s\">''</span><span class=\"k\">);</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        visitNode<span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">(</span>node<span class=\"k\">)</span><span class=\"k\">{</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span>node<span class=\"k\">.</span>type <span class=\"k\">==</span> <span class=\"s\">'fragment'</span><span class=\"k\">)</span> <span class=\"k\">{</span>","                <span class=\"k\">this</span><span class=\"k\">.</span>visitChildren<span class=\"k\">(</span>node<span class=\"k\">.</span>children<span class=\"k\">);</span>","            <span class=\"k\">}</span> <span class=\"k\">else</span> <span class=\"k\">if</span> <span class=\"k\">(</span>node<span class=\"k\">.</span>type <span class=\"k\">==</span> <span class=\"s\">'element'</span><span class=\"k\">)</span> <span class=\"k\">{</span>","                <span class=\"k\">var</span> selfClosing <span class=\"k\">=</span> dtd<span class=\"k\">.</span>$empty<span class=\"k\">[</span>node<span class=\"k\">.</span>tag<span class=\"k\">];</span>","                <span class=\"k\">this</span><span class=\"k\">.</span>visitTag<span class=\"k\">(</span>node<span class=\"k\">.</span>tag<span class=\"k\">,</span> node<span class=\"k\">.</span>attributes<span class=\"k\">,</span> selfClosing<span class=\"k\">);</span>","","                <span class=\"k\">this</span><span class=\"k\">.</span>visitChildren<span class=\"k\">(</span>node<span class=\"k\">.</span>children<span class=\"k\">);</span>","","                <span class=\"k\">if</span> <span class=\"k\">(!</span>selfClosing<span class=\"k\">)</span> <span class=\"k\">{</span>","                    <span class=\"k\">this</span><span class=\"k\">.</span>visitEndTag<span class=\"k\">(</span>node<span class=\"k\">.</span>tag<span class=\"k\">);</span>","                <span class=\"k\">}</span>","            <span class=\"k\">}</span> <span class=\"k\">else</span> <span class=\"k\">if</span> <span class=\"k\">(</span>node<span class=\"k\">.</span>type <span class=\"k\">==</span> <span class=\"s\">'comment'</span><span class=\"k\">)</span> <span class=\"k\">{</span>","                <span class=\"k\">this</span><span class=\"k\">.</span>visitComment<span class=\"k\">(</span>node<span class=\"k\">.</span>data<span class=\"k\">);</span>","            <span class=\"k\">}</span> <span class=\"k\">else</span> <span class=\"k\">{</span>","                <span class=\"k\">this</span><span class=\"k\">.</span>visitText<span class=\"k\">(</span>node<span class=\"k\">.</span>data<span class=\"k\">,</span>dtd<span class=\"k\">.</span>$notTransContent<span class=\"k\">[</span>node<span class=\"k\">.</span>parent<span class=\"k\">.</span>tag<span class=\"k\">]);</span>","            <span class=\"k\">}</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        visitChildren<span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">(</span>children<span class=\"k\">)</span><span class=\"k\">{</span>","            <span class=\"k\">for</span> <span class=\"k\">(</span><span class=\"k\">var</span> i<span class=\"k\">=</span><span class=\"s\">0</span><span class=\"k\">;</span> i<span class=\"k\">&lt;</span>children<span class=\"k\">.</span>length<span class=\"k\">;</span> i<span class=\"k\">++)</span> <span class=\"k\">{</span>","                <span class=\"k\">this</span><span class=\"k\">.</span>visitNode<span class=\"k\">(</span>children<span class=\"k\">[</span>i<span class=\"k\">]);</span>","            <span class=\"k\">}</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        visitTag<span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">(</span>tag<span class=\"k\">,</span> attrs<span class=\"k\">,</span> selfClosing<span class=\"k\">)</span><span class=\"k\">{</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>indenting<span class=\"k\">)</span> <span class=\"k\">{</span>","                <span class=\"k\">this</span><span class=\"k\">.</span>indent<span class=\"k\">();</span>","            <span class=\"k\">}</span> <span class=\"k\">else</span> <span class=\"k\">if</span> <span class=\"k\">(!</span>inline<span class=\"k\">[</span>tag<span class=\"k\">])</span> <span class=\"k\">{</span> <span class=\"c\">// todo: &#21435;&#25481;a, &#22240;&#20026;dtd&#30340;inline&#37324;&#38754;&#27809;&#26377;a</span>","                <span class=\"k\">this</span><span class=\"k\">.</span>newline<span class=\"k\">();</span>","                <span class=\"k\">this</span><span class=\"k\">.</span>indent<span class=\"k\">();</span>","            <span class=\"k\">}</span>","            <span class=\"k\">this</span><span class=\"k\">.</span>buff<span class=\"k\">.</span>push<span class=\"k\">(</span><span class=\"s\">'&lt;'</span><span class=\"k\">,</span> tag<span class=\"k\">);</span>","            <span class=\"k\">var</span> attrPart <span class=\"k\">=</span> printAttrs<span class=\"k\">(</span>attrs<span class=\"k\">);</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span>attrPart<span class=\"k\">)</span> <span class=\"k\">{</span>","                <span class=\"k\">this</span><span class=\"k\">.</span>buff<span class=\"k\">.</span>push<span class=\"k\">(</span><span class=\"s\">' '</span><span class=\"k\">,</span> attrPart<span class=\"k\">);</span>","            <span class=\"k\">}</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span>selfClosing<span class=\"k\">)</span> <span class=\"k\">{</span>","                <span class=\"k\">this</span><span class=\"k\">.</span>buff<span class=\"k\">.</span>push<span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>selfClosingEnd<span class=\"k\">);</span>","                <span class=\"k\">if</span> <span class=\"k\">(</span>tag <span class=\"k\">==</span> <span class=\"s\">'br'</span><span class=\"k\">)</span> <span class=\"k\">{</span>","                    <span class=\"k\">this</span><span class=\"k\">.</span>newline<span class=\"k\">();</span>","                <span class=\"k\">}</span>","            <span class=\"k\">}</span> <span class=\"k\">else</span> <span class=\"k\">{</span>","                <span class=\"k\">this</span><span class=\"k\">.</span>buff<span class=\"k\">.</span>push<span class=\"k\">(</span><span class=\"s\">'&gt;'</span><span class=\"k\">);</span>","                <span class=\"k\">this</span><span class=\"k\">.</span>indents <span class=\"k\">+=</span> <span class=\"k\">this</span><span class=\"k\">.</span>indentChar<span class=\"k\">;</span>","            <span class=\"k\">}</span>","            <span class=\"k\">if</span> <span class=\"k\">(!</span>inline<span class=\"k\">[</span>tag<span class=\"k\">])</span> <span class=\"k\">{</span>","                <span class=\"k\">this</span><span class=\"k\">.</span>newline<span class=\"k\">();</span>","            <span class=\"k\">}</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        indent<span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">()</span><span class=\"k\">{</span>","            <span class=\"k\">this</span><span class=\"k\">.</span>buff<span class=\"k\">.</span>push<span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>indents<span class=\"k\">);</span>","            <span class=\"k\">this</span><span class=\"k\">.</span>indenting <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">;</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        newline<span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">()</span><span class=\"k\">{</span>","            <span class=\"k\">this</span><span class=\"k\">.</span>buff<span class=\"k\">.</span>push<span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>breakChar<span class=\"k\">);</span>","            <span class=\"k\">this</span><span class=\"k\">.</span>indenting <span class=\"k\">=</span> <span class=\"s\">1</span><span class=\"k\">;</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        visitEndTag<span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">(</span>tag<span class=\"k\">)</span><span class=\"k\">{</span>","            ","            <span class=\"k\">this</span><span class=\"k\">.</span>indents <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>indents<span class=\"k\">.</span>slice<span class=\"k\">(</span><span class=\"s\">0</span><span class=\"k\">,</span> <span class=\"k\">-</span><span class=\"k\">this</span><span class=\"k\">.</span>indentChar<span class=\"k\">.</span>length<span class=\"k\">);</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>indenting<span class=\"k\">)</span> <span class=\"k\">{</span>","                <span class=\"k\">this</span><span class=\"k\">.</span>indent<span class=\"k\">();</span>","            <span class=\"k\">}</span> <span class=\"k\">else</span> <span class=\"k\">if</span> <span class=\"k\">(!</span>inline<span class=\"k\">[</span>tag<span class=\"k\">])</span> <span class=\"k\">{</span>","                <span class=\"k\">this</span><span class=\"k\">.</span>newline<span class=\"k\">();</span>","                <span class=\"k\">this</span><span class=\"k\">.</span>indent<span class=\"k\">();</span>","            <span class=\"k\">}</span>","            <span class=\"k\">this</span><span class=\"k\">.</span>buff<span class=\"k\">.</span>push<span class=\"k\">(</span><span class=\"s\">'&lt;/'</span><span class=\"k\">,</span> tag<span class=\"k\">,</span> <span class=\"s\">'&gt;'</span><span class=\"k\">);</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        visitText<span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">(</span>text<span class=\"k\">,</span>notTrans<span class=\"k\">)</span><span class=\"k\">{</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>indenting<span class=\"k\">)</span> <span class=\"k\">{</span>","                <span class=\"k\">this</span><span class=\"k\">.</span>indent<span class=\"k\">();</span>","            <span class=\"k\">}</span>","      ","<span class=\"c\">//            if(!notTrans){</span>","<span class=\"c\">//                 text = text.replace(/&amp;nbsp;/g, ' ').replace(/[ ][ ]+/g, function (m){</span>","<span class=\"c\">//                    return new Array(m.length + 1).join('&amp;nbsp;');</span>","<span class=\"c\">//                }).replace(/(?:^ )|(?: $)/g, '&amp;nbsp;');</span>","<span class=\"c\">//            }</span>","            text <span class=\"k\">=</span> text<span class=\"k\">.</span>replace<span class=\"k\">(</span><span class=\"s\">/&amp;nbsp;/g</span><span class=\"k\">,</span> <span class=\"s\">' '</span><span class=\"k\">);</span>","            <span class=\"k\">this</span><span class=\"k\">.</span>buff<span class=\"k\">.</span>push<span class=\"k\">(</span>text<span class=\"k\">);</span>","","        <span class=\"k\">}</span><span class=\"k\">,</span>","        visitComment<span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">(</span>text<span class=\"k\">)</span><span class=\"k\">{</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>indenting<span class=\"k\">)</span> <span class=\"k\">{</span>","                <span class=\"k\">this</span><span class=\"k\">.</span>indent<span class=\"k\">();</span>","            <span class=\"k\">}</span>","            <span class=\"k\">this</span><span class=\"k\">.</span>buff<span class=\"k\">.</span>push<span class=\"k\">(</span><span class=\"s\">'&lt;!--'</span><span class=\"k\">,</span> text<span class=\"k\">,</span> <span class=\"s\">'--&gt;'</span><span class=\"k\">);</span>","        <span class=\"k\">}</span>","    <span class=\"k\">}</span><span class=\"k\">;</span>","","    <span class=\"k\">var</span> sourceEditors <span class=\"k\">=</span> <span class=\"k\">{</span>","        textarea<span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">(</span>editor<span class=\"k\">,</span> holder<span class=\"k\">)</span><span class=\"k\">{</span>","            <span class=\"k\">var</span> textarea <span class=\"k\">=</span> holder<span class=\"k\">.</span>ownerDocument<span class=\"k\">.</span>createElement<span class=\"k\">(</span><span class=\"s\">'textarea'</span><span class=\"k\">);</span>","            textarea<span class=\"k\">.</span>style<span class=\"k\">.</span>cssText <span class=\"k\">=</span> <span class=\"s\">'position:absolute;resize:none;width:100%;height:100%;border:0;padding:0;margin:0;overflow-y:auto;'</span><span class=\"k\">;</span>","            <span class=\"c\">// todo: IE&#19979;&#21482;&#26377;onresize&#23646;&#24615;&#21487;&#29992;... &#24456;&#32416;&#32467;</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span>browser<span class=\"k\">.</span>ie <span class=\"k\">&amp;&amp;</span> browser<span class=\"k\">.</span>version <span class=\"k\">&lt;</span> <span class=\"s\">8</span><span class=\"k\">)</span> <span class=\"k\">{</span>","                textarea<span class=\"k\">.</span>style<span class=\"k\">.</span>width <span class=\"k\">=</span> holder<span class=\"k\">.</span>offsetWidth <span class=\"k\">+</span> <span class=\"s\">'px'</span><span class=\"k\">;</span>","                textarea<span class=\"k\">.</span>style<span class=\"k\">.</span>height <span class=\"k\">=</span> holder<span class=\"k\">.</span>offsetHeight <span class=\"k\">+</span> <span class=\"s\">'px'</span><span class=\"k\">;</span>","                holder<span class=\"k\">.</span>onresize <span class=\"k\">=</span> <span class=\"k\">function</span> <span class=\"k\">()</span><span class=\"k\">{</span>","                    textarea<span class=\"k\">.</span>style<span class=\"k\">.</span>width <span class=\"k\">=</span> holder<span class=\"k\">.</span>offsetWidth <span class=\"k\">+</span> <span class=\"s\">'px'</span><span class=\"k\">;</span>","                    textarea<span class=\"k\">.</span>style<span class=\"k\">.</span>height <span class=\"k\">=</span> holder<span class=\"k\">.</span>offsetHeight <span class=\"k\">+</span> <span class=\"s\">'px'</span><span class=\"k\">;</span>","                <span class=\"k\">}</span><span class=\"k\">;</span>","            <span class=\"k\">}</span>","            holder<span class=\"k\">.</span>appendChild<span class=\"k\">(</span>textarea<span class=\"k\">);</span>","            <span class=\"k\">return</span> <span class=\"k\">{</span>","                setContent<span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">(</span>content<span class=\"k\">)</span><span class=\"k\">{</span>","                    textarea<span class=\"k\">.</span>value <span class=\"k\">=</span> content<span class=\"k\">;</span>","                <span class=\"k\">}</span><span class=\"k\">,</span>","                getContent<span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">()</span><span class=\"k\">{</span>","                    <span class=\"k\">return</span> textarea<span class=\"k\">.</span>value<span class=\"k\">;</span>","                <span class=\"k\">}</span><span class=\"k\">,</span>","                select<span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">()</span><span class=\"k\">{</span>","                    <span class=\"k\">var</span> range<span class=\"k\">;</span>","                    <span class=\"k\">if</span> <span class=\"k\">(</span>browser<span class=\"k\">.</span>ie<span class=\"k\">)</span> <span class=\"k\">{</span>","                        range <span class=\"k\">=</span> textarea<span class=\"k\">.</span>createTextRange<span class=\"k\">();</span>","                        range<span class=\"k\">.</span>collapse<span class=\"k\">(</span><span class=\"k\">true</span><span class=\"k\">);</span>","                        range<span class=\"k\">.</span>select<span class=\"k\">();</span>","                    <span class=\"k\">}</span> <span class=\"k\">else</span> <span class=\"k\">{</span>","                        <span class=\"c\">//todo: chrome&#19979;&#26080;&#27861;&#35774;&#32622;&#28966;&#28857;</span>","                        textarea<span class=\"k\">.</span>setSelectionRange<span class=\"k\">(</span><span class=\"s\">0</span><span class=\"k\">,</span> <span class=\"s\">0</span><span class=\"k\">);</span>","                        textarea<span class=\"k\">.</span>focus<span class=\"k\">();</span>","                    <span class=\"k\">}</span>","                <span class=\"k\">}</span><span class=\"k\">,</span>","                dispose<span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">()</span><span class=\"k\">{</span>","                    holder<span class=\"k\">.</span>removeChild<span class=\"k\">(</span>textarea<span class=\"k\">);</span>","                    <span class=\"c\">// todo</span>","                    holder<span class=\"k\">.</span>onresize <span class=\"k\">=</span> <span class=\"k\">null</span><span class=\"k\">;</span>","                    textarea <span class=\"k\">=</span> <span class=\"k\">null</span><span class=\"k\">;</span>","                    holder <span class=\"k\">=</span> <span class=\"k\">null</span><span class=\"k\">;</span>","                <span class=\"k\">}</span>","            <span class=\"k\">}</span><span class=\"k\">;</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        codemirror<span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">(</span>editor<span class=\"k\">,</span> holder<span class=\"k\">)</span><span class=\"k\">{</span>","            <span class=\"k\">var</span> options <span class=\"k\">=</span> <span class=\"k\">{</span>","                mode<span class=\"k\">:</span> <span class=\"s\">\"text/html\"</span><span class=\"k\">,</span>","                tabMode<span class=\"k\">:</span> <span class=\"s\">\"indent\"</span><span class=\"k\">,</span>","                lineNumbers<span class=\"k\">:</span> <span class=\"k\">true</span><span class=\"k\">,</span>","                lineWrapping<span class=\"k\">:</span><span class=\"k\">true</span>","            <span class=\"k\">}</span><span class=\"k\">;</span>","            <span class=\"k\">var</span> codeEditor <span class=\"k\">=</span> window<span class=\"k\">.</span>CodeMirror<span class=\"k\">(</span>holder<span class=\"k\">,</span> options<span class=\"k\">);</span>","            <span class=\"k\">var</span> dom <span class=\"k\">=</span> codeEditor<span class=\"k\">.</span>getWrapperElement<span class=\"k\">();</span>","            dom<span class=\"k\">.</span>style<span class=\"k\">.</span>cssText <span class=\"k\">=</span> <span class=\"s\">'position:absolute;left:0;top:0;width:100%;height:100%;font-family:consolas,\"Courier new\",monospace;font-size:13px;'</span><span class=\"k\">;</span>","            codeEditor<span class=\"k\">.</span>getScrollerElement<span class=\"k\">().</span>style<span class=\"k\">.</span>cssText <span class=\"k\">=</span> <span class=\"s\">'position:absolute;left:0;top:0;width:100%;height:100%;'</span><span class=\"k\">;</span>","            codeEditor<span class=\"k\">.</span>refresh<span class=\"k\">();</span>","            <span class=\"k\">return</span> <span class=\"k\">{</span>","                setContent<span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">(</span>content<span class=\"k\">)</span><span class=\"k\">{</span>","                    codeEditor<span class=\"k\">.</span>setValue<span class=\"k\">(</span>content<span class=\"k\">);</span>","                <span class=\"k\">}</span><span class=\"k\">,</span>","                getContent<span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">()</span><span class=\"k\">{</span>","                    <span class=\"k\">return</span> codeEditor<span class=\"k\">.</span>getValue<span class=\"k\">();</span>","                <span class=\"k\">}</span><span class=\"k\">,</span>","                select<span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">()</span><span class=\"k\">{</span>","                    codeEditor<span class=\"k\">.</span>focus<span class=\"k\">();</span>","                <span class=\"k\">}</span><span class=\"k\">,</span>","                dispose<span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">()</span><span class=\"k\">{</span>","                    holder<span class=\"k\">.</span>removeChild<span class=\"k\">(</span>dom<span class=\"k\">);</span>","                    dom <span class=\"k\">=</span> <span class=\"k\">null</span><span class=\"k\">;</span>","                    codeEditor <span class=\"k\">=</span> <span class=\"k\">null</span><span class=\"k\">;</span>","                <span class=\"k\">}</span>","            <span class=\"k\">}</span><span class=\"k\">;</span>","        <span class=\"k\">}</span>","    <span class=\"k\">}</span><span class=\"k\">;</span>","","    UE<span class=\"k\">.</span>plugins<span class=\"k\">[</span><span class=\"s\">'source'</span><span class=\"k\">]</span> <span class=\"k\">=</span> <span class=\"k\">function</span> <span class=\"k\">()</span><span class=\"k\">{</span>","        <span class=\"k\">var</span> me <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">;</span>","        <span class=\"k\">var</span> opt <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>options<span class=\"k\">;</span>","        <span class=\"k\">var</span> formatter <span class=\"k\">=</span> <span class=\"k\">new</span> SourceFormater<span class=\"k\">(</span>opt<span class=\"k\">.</span>source<span class=\"k\">);</span>","        <span class=\"k\">var</span> sourceMode <span class=\"k\">=</span> <span class=\"k\">false</span><span class=\"k\">;</span>","        <span class=\"k\">var</span> sourceEditor<span class=\"k\">;</span>","        opt<span class=\"k\">.</span>sourceEditor <span class=\"k\">=</span> opt<span class=\"k\">.</span>sourceEditor <span class=\"k\">||</span> <span class=\"s\">'codemirror'</span><span class=\"k\">;</span>","","        me<span class=\"k\">.</span>setOpt<span class=\"k\">(</span><span class=\"k\">{</span>","            sourceEditorFirst<span class=\"k\">:</span><span class=\"k\">false</span>","        <span class=\"k\">}</span><span class=\"k\">);</span>","        <span class=\"k\">function</span> createSourceEditor<span class=\"k\">(</span>holder<span class=\"k\">)</span><span class=\"k\">{</span>","            <span class=\"k\">return</span> sourceEditors<span class=\"k\">[</span>opt<span class=\"k\">.</span>sourceEditor <span class=\"k\">==</span> <span class=\"s\">'codemirror'</span> <span class=\"k\">&amp;&amp;</span> window<span class=\"k\">.</span>CodeMirror <span class=\"k\">?</span> <span class=\"s\">'codemirror'</span> <span class=\"k\">:</span> <span class=\"s\">'textarea'</span><span class=\"k\">](</span>me<span class=\"k\">,</span> holder<span class=\"k\">);</span>","        <span class=\"k\">}</span>","","        <span class=\"k\">var</span> bakCssText<span class=\"k\">;</span>","        me<span class=\"k\">.</span>commands<span class=\"k\">[</span><span class=\"s\">'source'</span><span class=\"k\">]</span> <span class=\"k\">=</span> <span class=\"k\">{</span>","            execCommand<span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">()</span><span class=\"k\">{</span>","","                sourceMode <span class=\"k\">=</span> <span class=\"k\">!</span>sourceMode<span class=\"k\">;</span>","                <span class=\"k\">if</span> <span class=\"k\">(</span>sourceMode<span class=\"k\">)</span> <span class=\"k\">{</span>","                    me<span class=\"k\">.</span>undoManger <span class=\"k\">&amp;&amp;</span> me<span class=\"k\">.</span>undoManger<span class=\"k\">.</span>save<span class=\"k\">();</span>","                    <span class=\"k\">this</span><span class=\"k\">.</span>currentSelectedArr <span class=\"k\">&amp;&amp;</span> domUtils<span class=\"k\">.</span>clearSelectedArr<span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>currentSelectedArr<span class=\"k\">);</span>","                    <span class=\"k\">if</span><span class=\"k\">(</span>browser<span class=\"k\">.</span>gecko<span class=\"k\">)</span><span class=\"k\">{</span>","                        me<span class=\"k\">.</span>body<span class=\"k\">.</span>contentEditable <span class=\"k\">=</span> <span class=\"k\">false</span><span class=\"k\">;</span>","                    <span class=\"k\">}</span>","","                    bakCssText <span class=\"k\">=</span> me<span class=\"k\">.</span>iframe<span class=\"k\">.</span>style<span class=\"k\">.</span>cssText<span class=\"k\">;</span>","                    me<span class=\"k\">.</span>iframe<span class=\"k\">.</span>style<span class=\"k\">.</span>cssText <span class=\"k\">+=</span> <span class=\"s\">'position:absolute;left:-32768px;top:-32768px;'</span><span class=\"k\">;</span>","","                    <span class=\"k\">var</span> content <span class=\"k\">=</span> formatter<span class=\"k\">.</span>format<span class=\"k\">(</span>me<span class=\"k\">.</span>hasContents<span class=\"k\">()</span> <span class=\"k\">?</span> me<span class=\"k\">.</span>getContent<span class=\"k\">()</span> <span class=\"k\">:</span> <span class=\"s\">''</span><span class=\"k\">);</span>","","                    sourceEditor <span class=\"k\">=</span> createSourceEditor<span class=\"k\">(</span>me<span class=\"k\">.</span>iframe<span class=\"k\">.</span>parentNode<span class=\"k\">);</span>","","                    sourceEditor<span class=\"k\">.</span>setContent<span class=\"k\">(</span>content<span class=\"k\">);</span>","                    setTimeout<span class=\"k\">(</span><span class=\"k\">function</span> <span class=\"k\">()</span><span class=\"k\">{</span>","                        sourceEditor<span class=\"k\">.</span>select<span class=\"k\">();</span>","                    <span class=\"k\">}</span><span class=\"k\">);</span>","                <span class=\"k\">}</span> <span class=\"k\">else</span> <span class=\"k\">{</span>","                    me<span class=\"k\">.</span>iframe<span class=\"k\">.</span>style<span class=\"k\">.</span>cssText <span class=\"k\">=</span> bakCssText<span class=\"k\">;</span>","                    <span class=\"k\">var</span> cont <span class=\"k\">=</span> sourceEditor<span class=\"k\">.</span>getContent<span class=\"k\">()</span> <span class=\"k\">||</span> <span class=\"s\">'&lt;p&gt;'</span> <span class=\"k\">+</span> <span class=\"k\">(</span>browser<span class=\"k\">.</span>ie <span class=\"k\">?</span> <span class=\"s\">''</span> <span class=\"k\">:</span> <span class=\"s\">'&lt;br/&gt;'</span><span class=\"k\">)+</span><span class=\"s\">'&lt;/p&gt;'</span><span class=\"k\">;</span>","                    cont <span class=\"k\">=</span> cont<span class=\"k\">.</span>replace<span class=\"k\">(</span><span class=\"s\">/&gt;[\\n\\r\\t]+([ ]{4})+/g</span><span class=\"k\">,</span><span class=\"s\">'&gt;'</span><span class=\"k\">).</span>replace<span class=\"k\">(</span><span class=\"s\">/[\\n\\r\\t]+([ ]{4})+&lt;/g</span><span class=\"k\">,</span><span class=\"s\">'&lt;'</span><span class=\"k\">).</span>replace<span class=\"k\">(</span><span class=\"s\">/&gt;[\\n\\r\\t]+&lt;/g</span><span class=\"k\">,</span><span class=\"s\">'&gt;&lt;'</span><span class=\"k\">);</span>","                    me<span class=\"k\">.</span>setContent<span class=\"k\">(</span>cont<span class=\"k\">);</span>","                    sourceEditor<span class=\"k\">.</span>dispose<span class=\"k\">();</span>","                    sourceEditor <span class=\"k\">=</span> <span class=\"k\">null</span><span class=\"k\">;</span>","                    setTimeout<span class=\"k\">(</span><span class=\"k\">function</span><span class=\"k\">()</span><span class=\"k\">{</span>","                        <span class=\"k\">var</span> first <span class=\"k\">=</span> me<span class=\"k\">.</span>body<span class=\"k\">.</span>firstChild<span class=\"k\">;</span>","                        <span class=\"c\">//trace:1106 &#37117;&#21024;&#38500;&#31354;&#20102;&#65292;&#19979;&#36793;&#20250;&#25253;&#38169;&#65292;&#25152;&#20197;&#34917;&#20805;&#19968;&#20010;p&#21344;&#20301;</span>","                        <span class=\"k\">if</span><span class=\"k\">(!</span>first<span class=\"k\">)</span><span class=\"k\">{</span>","                            me<span class=\"k\">.</span>body<span class=\"k\">.</span>innerHTML <span class=\"k\">=</span> <span class=\"s\">'&lt;p&gt;'</span><span class=\"k\">+(</span>browser<span class=\"k\">.</span>ie<span class=\"k\">?</span><span class=\"s\">''</span><span class=\"k\">:</span><span class=\"s\">'&lt;br/&gt;'</span><span class=\"k\">)+</span><span class=\"s\">'&lt;/p&gt;'</span><span class=\"k\">;</span>","                            first <span class=\"k\">=</span> me<span class=\"k\">.</span>body<span class=\"k\">.</span>firstChild<span class=\"k\">;</span>","                        <span class=\"k\">}</span>","                        <span class=\"c\">//&#35201;&#22312;ifm&#20026;&#26174;&#31034;&#26102;ff&#25165;&#33021;&#21462;&#21040;selection,&#21542;&#21017;&#25253;&#38169;</span>","                        me<span class=\"k\">.</span>undoManger <span class=\"k\">&amp;&amp;</span> me<span class=\"k\">.</span>undoManger<span class=\"k\">.</span>save<span class=\"k\">();</span>","","                        <span class=\"k\">while</span><span class=\"k\">(</span>first <span class=\"k\">&amp;&amp;</span> first<span class=\"k\">.</span>firstChild<span class=\"k\">)</span><span class=\"k\">{</span>","","                            first <span class=\"k\">=</span> first<span class=\"k\">.</span>firstChild<span class=\"k\">;</span>","                        <span class=\"k\">}</span>","                        <span class=\"k\">var</span> range <span class=\"k\">=</span> me<span class=\"k\">.</span>selection<span class=\"k\">.</span>getRange<span class=\"k\">();</span>","                        <span class=\"k\">if</span><span class=\"k\">(</span>first<span class=\"k\">.</span>nodeType <span class=\"k\">==</span> <span class=\"s\">3</span> <span class=\"k\">||</span> dtd<span class=\"k\">.</span>$empty<span class=\"k\">[</span>first<span class=\"k\">.</span>tagName<span class=\"k\">])</span><span class=\"k\">{</span>","                            range<span class=\"k\">.</span>setStartBefore<span class=\"k\">(</span>first<span class=\"k\">);</span>","                        <span class=\"k\">}</span><span class=\"k\">else</span><span class=\"k\">{</span>","                            range<span class=\"k\">.</span>setStart<span class=\"k\">(</span>first<span class=\"k\">,</span><span class=\"s\">0</span><span class=\"k\">);</span>","                        <span class=\"k\">}</span>","","                        <span class=\"k\">if</span><span class=\"k\">(</span>browser<span class=\"k\">.</span>gecko<span class=\"k\">)</span><span class=\"k\">{</span>","","                            <span class=\"k\">var</span> input <span class=\"k\">=</span> document<span class=\"k\">.</span>createElement<span class=\"k\">(</span><span class=\"s\">'input'</span><span class=\"k\">);</span>","                            input<span class=\"k\">.</span>style<span class=\"k\">.</span>cssText <span class=\"k\">=</span> <span class=\"s\">'position:absolute;left:0;top:-32768px'</span><span class=\"k\">;</span>","","                            document<span class=\"k\">.</span>body<span class=\"k\">.</span>appendChild<span class=\"k\">(</span>input<span class=\"k\">);</span>","","                            me<span class=\"k\">.</span>body<span class=\"k\">.</span>contentEditable <span class=\"k\">=</span> <span class=\"k\">false</span><span class=\"k\">;</span>","                            setTimeout<span class=\"k\">(</span><span class=\"k\">function</span><span class=\"k\">()</span><span class=\"k\">{</span>","                                domUtils<span class=\"k\">.</span>setViewportOffset<span class=\"k\">(</span>input<span class=\"k\">,</span> <span class=\"k\">{</span> left<span class=\"k\">:</span> <span class=\"k\">-</span><span class=\"s\">32768</span><span class=\"k\">,</span> top<span class=\"k\">:</span> <span class=\"s\">0</span> <span class=\"k\">}</span><span class=\"k\">);</span>","                                input<span class=\"k\">.</span>focus<span class=\"k\">();</span>","                                setTimeout<span class=\"k\">(</span><span class=\"k\">function</span><span class=\"k\">()</span><span class=\"k\">{</span>","                                    me<span class=\"k\">.</span>body<span class=\"k\">.</span>contentEditable <span class=\"k\">=</span> <span class=\"k\">true</span><span class=\"k\">;</span>","                                    range<span class=\"k\">.</span>setCursor<span class=\"k\">(</span><span class=\"k\">false</span><span class=\"k\">,</span><span class=\"k\">true</span><span class=\"k\">);</span>","                                    domUtils<span class=\"k\">.</span>remove<span class=\"k\">(</span>input<span class=\"k\">);</span>","                                <span class=\"k\">}</span><span class=\"k\">);</span>","","                            <span class=\"k\">}</span><span class=\"k\">);</span>","                        <span class=\"k\">}</span><span class=\"k\">else</span><span class=\"k\">{</span>","                            range<span class=\"k\">.</span>setCursor<span class=\"k\">(</span><span class=\"k\">false</span><span class=\"k\">,</span><span class=\"k\">true</span><span class=\"k\">);</span>","                        <span class=\"k\">}</span>","","                    <span class=\"k\">}</span><span class=\"k\">);</span>","                <span class=\"k\">}</span>","                <span class=\"k\">this</span><span class=\"k\">.</span>fireEvent<span class=\"k\">(</span><span class=\"s\">'sourcemodechanged'</span><span class=\"k\">,</span> sourceMode<span class=\"k\">);</span>","            <span class=\"k\">}</span><span class=\"k\">,</span>","            queryCommandState<span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">()</span><span class=\"k\">{</span>","                <span class=\"k\">return</span> sourceMode<span class=\"k\">|</span><span class=\"s\">0</span><span class=\"k\">;</span>","            <span class=\"k\">}</span><span class=\"k\">,</span>","            notNeedUndo <span class=\"k\">:</span> <span class=\"s\">1</span>","        <span class=\"k\">}</span><span class=\"k\">;</span>","        <span class=\"k\">var</span> oldQueryCommandState <span class=\"k\">=</span> me<span class=\"k\">.</span>queryCommandState<span class=\"k\">;</span>","        me<span class=\"k\">.</span>queryCommandState <span class=\"k\">=</span> <span class=\"k\">function</span> <span class=\"k\">(</span>cmdName<span class=\"k\">)</span><span class=\"k\">{</span>","            cmdName <span class=\"k\">=</span> cmdName<span class=\"k\">.</span>toLowerCase<span class=\"k\">();</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span>sourceMode<span class=\"k\">)</span> <span class=\"k\">{</span>","                <span class=\"k\">return</span> cmdName <span class=\"k\">==</span> <span class=\"s\">'source'</span> <span class=\"k\">?</span> <span class=\"s\">1</span> <span class=\"k\">:</span> <span class=\"k\">-</span><span class=\"s\">1</span><span class=\"k\">;</span>","            <span class=\"k\">}</span>","            <span class=\"k\">return</span> oldQueryCommandState<span class=\"k\">.</span>apply<span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">,</span> arguments<span class=\"k\">);</span>","        <span class=\"k\">}</span><span class=\"k\">;</span>","        <span class=\"c\">//&#35299;&#20915;&#22312;&#28304;&#30721;&#27169;&#24335;&#19979;getContent&#19981;&#33021;&#24471;&#21040;&#26368;&#26032;&#30340;&#20869;&#23481;&#38382;&#39064;</span>","        <span class=\"k\">var</span> oldGetContent <span class=\"k\">=</span> me<span class=\"k\">.</span>getContent<span class=\"k\">;</span>","        me<span class=\"k\">.</span>getContent <span class=\"k\">=</span> <span class=\"k\">function</span> <span class=\"k\">()</span><span class=\"k\">{</span>","","            <span class=\"k\">if</span><span class=\"k\">(</span>sourceMode <span class=\"k\">&amp;&amp;</span> sourceEditor <span class=\"k\">)</span><span class=\"k\">{</span>","                <span class=\"c\">//&#38656;&#35201;&#22788;&#29702;&#19968;&#19979;&#28155;&#21152;&#30340;&#22810;&#20313;&#30340;&#26681;&#24335;&#38382;&#39064;</span>","                <span class=\"k\">var</span> cont <span class=\"k\">=</span> sourceEditor<span class=\"k\">.</span>getContent<span class=\"k\">()</span> <span class=\"k\">||</span> <span class=\"s\">'&lt;p&gt;'</span> <span class=\"k\">+</span> <span class=\"k\">(</span>browser<span class=\"k\">.</span>ie <span class=\"k\">?</span> <span class=\"s\">''</span> <span class=\"k\">:</span> <span class=\"s\">'&lt;br/&gt;'</span><span class=\"k\">)+</span><span class=\"s\">'&lt;/p&gt;'</span><span class=\"k\">;</span>","                cont <span class=\"k\">=</span> cont<span class=\"k\">.</span>replace<span class=\"k\">(</span><span class=\"s\">/&gt;[\\n\\r\\t]+([ ]{4})+/g</span><span class=\"k\">,</span><span class=\"s\">'&gt;'</span><span class=\"k\">).</span>replace<span class=\"k\">(</span><span class=\"s\">/[\\n\\r\\t]+([ ]{4})+&lt;/g</span><span class=\"k\">,</span><span class=\"s\">'&lt;'</span><span class=\"k\">).</span>replace<span class=\"k\">(</span><span class=\"s\">/(&gt;?)[\\n\\r\\t]+&lt;/g</span><span class=\"k\">,</span><span class=\"k\">function</span><span class=\"k\">(</span>a<span class=\"k\">,</span>b<span class=\"k\">)</span><span class=\"k\">{</span>","                    <span class=\"k\">return</span> b<span class=\"k\">?</span><span class=\"s\">'&gt;&lt;'</span><span class=\"k\">:</span><span class=\"s\">'&lt;'</span><span class=\"k\">}</span><span class=\"k\">);</span>","                <span class=\"k\">if</span> <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>serialize<span class=\"k\">)</span> <span class=\"k\">{</span>","                    <span class=\"k\">var</span> node <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>serialize<span class=\"k\">.</span>parseHTML<span class=\"k\">(</span>cont<span class=\"k\">);</span>","                    node <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>serialize<span class=\"k\">.</span>filter<span class=\"k\">(</span>node<span class=\"k\">);</span>","                    cont <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>serialize<span class=\"k\">.</span>toHTML<span class=\"k\">(</span>node<span class=\"k\">);</span>","                <span class=\"k\">}</span>","                <span class=\"k\">return</span> cont<span class=\"k\">;</span>","            <span class=\"k\">}</span><span class=\"k\">else</span><span class=\"k\">{</span>","                <span class=\"k\">return</span> oldGetContent<span class=\"k\">.</span>apply<span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">,</span> arguments<span class=\"k\">);</span>","            <span class=\"k\">}</span>","        <span class=\"k\">}</span><span class=\"k\">;</span>","        <span class=\"k\">if</span><span class=\"k\">(</span>opt<span class=\"k\">.</span>sourceEditor <span class=\"k\">==</span> <span class=\"s\">\"codemirror\"</span><span class=\"k\">)</span><span class=\"k\">{</span>","","            me<span class=\"k\">.</span>addListener<span class=\"k\">(</span><span class=\"s\">\"ready\"</span><span class=\"k\">,</span><span class=\"k\">function</span><span class=\"k\">()</span><span class=\"k\">{</span>","                utils<span class=\"k\">.</span>loadFile<span class=\"k\">(</span>document<span class=\"k\">,</span><span class=\"k\">{</span>","                    src <span class=\"k\">:</span> opt<span class=\"k\">.</span>codeMirrorJsUrl <span class=\"k\">||</span> opt<span class=\"k\">.</span>UEDITOR_HOME_URL <span class=\"k\">+</span> <span class=\"s\">\"third-party/codemirror/codemirror.js\"</span><span class=\"k\">,</span>","                    tag <span class=\"k\">:</span> <span class=\"s\">\"script\"</span><span class=\"k\">,</span>","                    type <span class=\"k\">:</span> <span class=\"s\">\"text/javascript\"</span><span class=\"k\">,</span>","                    defer <span class=\"k\">:</span> <span class=\"s\">\"defer\"</span>","                <span class=\"k\">}</span><span class=\"k\">,</span><span class=\"k\">function</span><span class=\"k\">()</span><span class=\"k\">{</span>","                    <span class=\"k\">if</span><span class=\"k\">(</span>opt<span class=\"k\">.</span>sourceEditorFirst<span class=\"k\">)</span><span class=\"k\">{</span>","                        setTimeout<span class=\"k\">(</span><span class=\"k\">function</span><span class=\"k\">()</span><span class=\"k\">{</span>","                            me<span class=\"k\">.</span>execCommand<span class=\"k\">(</span><span class=\"s\">\"source\"</span><span class=\"k\">);</span>","                        <span class=\"k\">}</span><span class=\"k\">,</span><span class=\"s\">0</span><span class=\"k\">);</span>","                    <span class=\"k\">}</span>","                <span class=\"k\">}</span><span class=\"k\">);</span>","                utils<span class=\"k\">.</span>loadFile<span class=\"k\">(</span>document<span class=\"k\">,</span><span class=\"k\">{</span>","                    tag <span class=\"k\">:</span> <span class=\"s\">\"link\"</span><span class=\"k\">,</span>","                    rel <span class=\"k\">:</span> <span class=\"s\">\"stylesheet\"</span><span class=\"k\">,</span>","                    type <span class=\"k\">:</span> <span class=\"s\">\"text/css\"</span><span class=\"k\">,</span>","                    href <span class=\"k\">:</span> opt<span class=\"k\">.</span>codeMirrorCssUrl <span class=\"k\">||</span> opt<span class=\"k\">.</span>UEDITOR_HOME_URL <span class=\"k\">+</span> <span class=\"s\">\"third-party/codemirror/codemirror.css\"</span>","                <span class=\"k\">}</span><span class=\"k\">);</span>","","            <span class=\"k\">}</span><span class=\"k\">);</span>","        <span class=\"k\">}</span>","","    <span class=\"k\">}</span><span class=\"k\">;</span>","","<span class=\"k\">}</span><span class=\"k\">)();</span>"]);
_$jscoverage['plugins/spechars.js'] && (_$jscoverage['plugins/spechars.js'].source = ["<span class=\"c\">///import core</span>","<span class=\"c\">///import plugins\\inserthtml.js</span>","<span class=\"c\">///commands &#29305;&#27530;&#23383;&#31526;</span>","<span class=\"c\">///commandsName  Spechars</span>","<span class=\"c\">///commandsTitle  &#29305;&#27530;&#23383;&#31526;</span>","<span class=\"c\">///commandsDialog  dialogs\\spechars\\spechars.html</span>","UE<span class=\"k\">.</span>commands<span class=\"k\">[</span><span class=\"s\">'spechars'</span><span class=\"k\">]</span> <span class=\"k\">=</span> <span class=\"k\">{</span>","    queryCommandState <span class=\"k\">:</span> <span class=\"k\">function</span><span class=\"k\">()</span><span class=\"k\">{</span>","        <span class=\"k\">return</span> <span class=\"k\">this</span><span class=\"k\">.</span>highlight <span class=\"k\">?</span> <span class=\"k\">-</span><span class=\"s\">1</span> <span class=\"k\">:</span><span class=\"s\">0</span><span class=\"k\">;</span>","    <span class=\"k\">}</span>","<span class=\"k\">}</span><span class=\"k\">;</span>"]);
_$jscoverage['plugins/table.js'] && (_$jscoverage['plugins/table.js'].source = ["<span class=\"c\">///import core</span>","<span class=\"c\">///commands &#34920;&#26684;</span>","<span class=\"c\">///commandsName  InsertTable,DeleteTable,InsertParagraphBeforeTable,InsertRow,DeleteRow,InsertCol,DeleteCol,MergeCells,MergeRight,MergeDown,SplittoCells,SplittoRows,SplittoCols</span>","<span class=\"c\">///commandsTitle  &#34920;&#26684;,&#21024;&#38500;&#34920;&#26684;,&#34920;&#26684;&#21069;&#25554;&#34892;,&#21069;&#25554;&#20837;&#34892;,&#21024;&#38500;&#34892;,&#21069;&#25554;&#20837;&#21015;,&#21024;&#38500;&#21015;,&#21512;&#24182;&#22810;&#20010;&#21333;&#20803;&#26684;,&#21491;&#21512;&#24182;&#21333;&#20803;&#26684;,&#19979;&#21512;&#24182;&#21333;&#20803;&#26684;,&#23436;&#20840;&#25286;&#20998;&#21333;&#20803;&#26684;,&#25286;&#20998;&#25104;&#34892;,&#25286;&#20998;&#25104;&#21015;</span>","<span class=\"c\">///commandsDialog  dialogs\\table\\table.html</span>","<span class=\"c\">/**</span>","<span class=\"c\"> * Created by .</span>","<span class=\"c\"> * User: taoqili</span>","<span class=\"c\"> * Date: 11-5-5</span>","<span class=\"c\"> * Time: &#19979;&#21320;2:06</span>","<span class=\"c\"> * To change this template use File | Settings | File Templates.</span>","<span class=\"c\"> */</span>","<span class=\"c\">/**</span>","<span class=\"c\"> * table&#25805;&#20316;&#25554;&#20214;</span>","<span class=\"c\"> */</span>","UE<span class=\"k\">.</span>plugins<span class=\"k\">[</span><span class=\"s\">'table'</span><span class=\"k\">]</span> <span class=\"k\">=</span> <span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","    <span class=\"k\">var</span> me <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">,</span>","            keys <span class=\"k\">=</span> domUtils<span class=\"k\">.</span>keys<span class=\"k\">,</span>","            clearSelectedTd <span class=\"k\">=</span> domUtils<span class=\"k\">.</span>clearSelectedArr<span class=\"k\">;</span>","    <span class=\"c\">//&#26694;&#36873;&#26102;&#29992;&#21040;&#30340;&#20960;&#20010;&#20840;&#23616;&#21464;&#37327;</span>","    <span class=\"k\">var</span> anchorTd<span class=\"k\">,</span>","            tableOpt<span class=\"k\">,</span>","            _isEmpty <span class=\"k\">=</span> domUtils<span class=\"k\">.</span>isEmptyNode<span class=\"k\">;</span>","","    me<span class=\"k\">.</span>ready<span class=\"k\">(</span><span class=\"k\">function</span><span class=\"k\">()</span><span class=\"k\">{</span>","        utils<span class=\"k\">.</span>cssRule<span class=\"k\">(</span><span class=\"s\">'table'</span><span class=\"k\">,</span>","            <span class=\"c\">//&#36873;&#20013;&#30340;td&#19978;&#30340;&#26679;&#24335;</span>","            <span class=\"s\">'.selectTdClass{background-color:#3399FF !important;}'</span> <span class=\"k\">+</span>","                <span class=\"s\">'table.noBorderTable td{border:1px dashed #ddd !important}'</span> <span class=\"k\">+</span>","                <span class=\"c\">//&#25554;&#20837;&#30340;&#34920;&#26684;&#30340;&#40664;&#35748;&#26679;&#24335;</span>","                <span class=\"s\">'table{clear:both;margin-bottom:10px;border-collapse:collapse;word-break:break-all;}'</span><span class=\"k\">,</span>me<span class=\"k\">.</span>document<span class=\"k\">);</span>","    <span class=\"k\">}</span><span class=\"k\">);</span>","","    <span class=\"k\">function</span> getIndex<span class=\"k\">(</span> cell <span class=\"k\">)</span> <span class=\"k\">{</span>","        <span class=\"k\">var</span> cells <span class=\"k\">=</span> cell<span class=\"k\">.</span>parentNode<span class=\"k\">.</span>cells<span class=\"k\">;</span>","        <span class=\"k\">for</span> <span class=\"k\">(</span> <span class=\"k\">var</span> i <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">,</span> ci<span class=\"k\">;</span> ci <span class=\"k\">=</span> cells<span class=\"k\">[</span>i<span class=\"k\">];</span> i<span class=\"k\">++</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span> ci <span class=\"k\">===</span> cell <span class=\"k\">)</span> <span class=\"k\">{</span>","                <span class=\"k\">return</span> i<span class=\"k\">;</span>","            <span class=\"k\">}</span>","        <span class=\"k\">}</span>","    <span class=\"k\">}</span>","","    <span class=\"k\">function</span> deleteTable<span class=\"k\">(</span> table<span class=\"k\">,</span> range <span class=\"k\">)</span> <span class=\"k\">{</span>","        <span class=\"k\">var</span> p <span class=\"k\">=</span> table<span class=\"k\">.</span>ownerDocument<span class=\"k\">.</span>createElement<span class=\"k\">(</span> <span class=\"s\">'p'</span> <span class=\"k\">);</span>","        domUtils<span class=\"k\">.</span>fillNode<span class=\"k\">(</span> me<span class=\"k\">.</span>document<span class=\"k\">,</span> p <span class=\"k\">);</span>","        <span class=\"k\">var</span> pN <span class=\"k\">=</span> table<span class=\"k\">.</span>parentNode<span class=\"k\">;</span>","        <span class=\"k\">if</span> <span class=\"k\">(</span> pN <span class=\"k\">&amp;&amp;</span> pN<span class=\"k\">.</span>getAttribute<span class=\"k\">(</span> <span class=\"s\">'dropdrag'</span> <span class=\"k\">)</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","            table <span class=\"k\">=</span> pN<span class=\"k\">;</span>","        <span class=\"k\">}</span>","        table<span class=\"k\">.</span>parentNode<span class=\"k\">.</span>insertBefore<span class=\"k\">(</span> p<span class=\"k\">,</span> table <span class=\"k\">);</span>","        domUtils<span class=\"k\">.</span>remove<span class=\"k\">(</span> table <span class=\"k\">);</span>","        range<span class=\"k\">.</span>setStart<span class=\"k\">(</span> p<span class=\"k\">,</span> <span class=\"s\">0</span> <span class=\"k\">).</span>setCursor<span class=\"k\">();</span>","    <span class=\"k\">}</span>","","    <span class=\"c\">/**</span>","<span class=\"c\">     * &#21028;&#26029;&#24403;&#21069;&#21333;&#20803;&#26684;&#26159;&#21542;&#22788;&#20110;&#38544;&#34255;&#29366;&#24577;</span>","<span class=\"c\">     * @param cell &#24453;&#21028;&#26029;&#30340;&#21333;&#20803;&#26684;</span>","<span class=\"c\">     * @return {Boolean} &#38544;&#34255;&#26102;&#36820;&#22238;true&#65292;&#21542;&#21017;&#36820;&#22238;false</span>","<span class=\"c\">     */</span>","    <span class=\"k\">function</span> _isHide<span class=\"k\">(</span> cell <span class=\"k\">)</span> <span class=\"k\">{</span>","        <span class=\"k\">return</span> cell<span class=\"k\">.</span>style<span class=\"k\">.</span>display <span class=\"k\">==</span> <span class=\"s\">\"none\"</span><span class=\"k\">;</span>","    <span class=\"k\">}</span>","","    <span class=\"k\">function</span> getCount<span class=\"k\">(</span> arr <span class=\"k\">)</span> <span class=\"k\">{</span>","        <span class=\"k\">var</span> count <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">;</span>","        <span class=\"k\">for</span> <span class=\"k\">(</span> <span class=\"k\">var</span> i <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">,</span> ti<span class=\"k\">;</span> ti <span class=\"k\">=</span> arr<span class=\"k\">[</span>i<span class=\"k\">++];</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span> <span class=\"k\">!</span>_isHide<span class=\"k\">(</span> ti <span class=\"k\">)</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                count<span class=\"k\">++;</span>","            <span class=\"k\">}</span>","","        <span class=\"k\">}</span>","        <span class=\"k\">return</span> count<span class=\"k\">;</span>","    <span class=\"k\">}</span>","","    me<span class=\"k\">.</span>currentSelectedArr <span class=\"k\">=</span> <span class=\"k\">[];</span>","    me<span class=\"k\">.</span>addListener<span class=\"k\">(</span> <span class=\"s\">'mousedown'</span><span class=\"k\">,</span> _mouseDownEvent <span class=\"k\">);</span>","    me<span class=\"k\">.</span>addListener<span class=\"k\">(</span> <span class=\"s\">'keydown'</span><span class=\"k\">,</span> <span class=\"k\">function</span> <span class=\"k\">(</span> type<span class=\"k\">,</span> evt <span class=\"k\">)</span> <span class=\"k\">{</span>","        <span class=\"k\">var</span> keyCode <span class=\"k\">=</span> evt<span class=\"k\">.</span>keyCode <span class=\"k\">||</span> evt<span class=\"k\">.</span>which<span class=\"k\">;</span>","        <span class=\"k\">if</span> <span class=\"k\">(</span> <span class=\"k\">!</span>keys<span class=\"k\">[</span>keyCode<span class=\"k\">]</span> <span class=\"k\">&amp;&amp;</span> <span class=\"k\">!</span>evt<span class=\"k\">.</span>ctrlKey <span class=\"k\">&amp;&amp;</span> <span class=\"k\">!</span>evt<span class=\"k\">.</span>metaKey <span class=\"k\">&amp;&amp;</span> <span class=\"k\">!</span>evt<span class=\"k\">.</span>shiftKey <span class=\"k\">&amp;&amp;</span> <span class=\"k\">!</span>evt<span class=\"k\">.</span>altKey <span class=\"k\">)</span> <span class=\"k\">{</span>","            clearSelectedTd<span class=\"k\">(</span> me<span class=\"k\">.</span>currentSelectedArr <span class=\"k\">);</span>","        <span class=\"k\">}</span>","    <span class=\"k\">}</span> <span class=\"k\">);</span>","","    me<span class=\"k\">.</span>addListener<span class=\"k\">(</span> <span class=\"s\">'mouseup'</span><span class=\"k\">,</span> <span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","","        anchorTd <span class=\"k\">=</span> <span class=\"k\">null</span><span class=\"k\">;</span>","        me<span class=\"k\">.</span>removeListener<span class=\"k\">(</span> <span class=\"s\">'mouseover'</span><span class=\"k\">,</span> _mouseDownEvent <span class=\"k\">);</span>","        <span class=\"k\">var</span> td <span class=\"k\">=</span> me<span class=\"k\">.</span>currentSelectedArr<span class=\"k\">[</span><span class=\"s\">0</span><span class=\"k\">];</span>","        <span class=\"k\">if</span> <span class=\"k\">(</span> td <span class=\"k\">)</span> <span class=\"k\">{</span>","            me<span class=\"k\">.</span>document<span class=\"k\">.</span>body<span class=\"k\">.</span>style<span class=\"k\">.</span>webkitUserSelect <span class=\"k\">=</span> <span class=\"s\">''</span><span class=\"k\">;</span>","            <span class=\"k\">var</span> range <span class=\"k\">=</span> <span class=\"k\">new</span> dom<span class=\"k\">.</span>Range<span class=\"k\">(</span> me<span class=\"k\">.</span>document <span class=\"k\">);</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span> _isEmpty<span class=\"k\">(</span> td <span class=\"k\">)</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                range<span class=\"k\">.</span>setStart<span class=\"k\">(</span> me<span class=\"k\">.</span>currentSelectedArr<span class=\"k\">[</span><span class=\"s\">0</span><span class=\"k\">],</span> <span class=\"s\">0</span> <span class=\"k\">).</span>setCursor<span class=\"k\">();</span>","            <span class=\"k\">}</span> <span class=\"k\">else</span> <span class=\"k\">{</span>","                range<span class=\"k\">.</span>selectNodeContents<span class=\"k\">(</span> me<span class=\"k\">.</span>currentSelectedArr<span class=\"k\">[</span><span class=\"s\">0</span><span class=\"k\">]</span> <span class=\"k\">).</span>select<span class=\"k\">();</span>","            <span class=\"k\">}</span>","","        <span class=\"k\">}</span> <span class=\"k\">else</span> <span class=\"k\">{</span>","","            <span class=\"c\">//&#27983;&#35272;&#22120;&#33021;&#20174;table&#22806;&#36793;&#36873;&#21040;&#37324;&#36793;&#23548;&#33268;currentSelectedArr&#20026;&#31354;&#65292;&#28165;&#25481;&#24403;&#21069;&#36873;&#21306;&#22238;&#21040;&#36873;&#21306;&#30340;&#26368;&#24320;&#22987;</span>","","            <span class=\"k\">var</span> range <span class=\"k\">=</span> me<span class=\"k\">.</span>selection<span class=\"k\">.</span>getRange<span class=\"k\">().</span>shrinkBoundary<span class=\"k\">();</span>","","            <span class=\"k\">if</span> <span class=\"k\">(</span> <span class=\"k\">!</span>range<span class=\"k\">.</span>collapsed <span class=\"k\">)</span> <span class=\"k\">{</span>","                <span class=\"k\">var</span> start <span class=\"k\">=</span> domUtils<span class=\"k\">.</span>findParentByTagName<span class=\"k\">(</span> range<span class=\"k\">.</span>startContainer<span class=\"k\">,</span> <span class=\"s\">'td'</span><span class=\"k\">,</span> <span class=\"k\">true</span> <span class=\"k\">),</span>","                        end <span class=\"k\">=</span> domUtils<span class=\"k\">.</span>findParentByTagName<span class=\"k\">(</span> range<span class=\"k\">.</span>endContainer<span class=\"k\">,</span> <span class=\"s\">'td'</span><span class=\"k\">,</span> <span class=\"k\">true</span> <span class=\"k\">);</span>","                <span class=\"c\">//&#22312;table&#37324;&#36793;&#30340;&#19981;&#33021;&#28165;&#38500;</span>","                <span class=\"k\">if</span> <span class=\"k\">(</span> start <span class=\"k\">&amp;&amp;</span> <span class=\"k\">!</span>end <span class=\"k\">||</span> <span class=\"k\">!</span>start <span class=\"k\">&amp;&amp;</span> end <span class=\"k\">||</span> start <span class=\"k\">&amp;&amp;</span> end <span class=\"k\">&amp;&amp;</span> start <span class=\"k\">!==</span> end <span class=\"k\">)</span> <span class=\"k\">{</span>","                    range<span class=\"k\">.</span>collapse<span class=\"k\">(</span> <span class=\"k\">true</span> <span class=\"k\">).</span>select<span class=\"k\">(</span> <span class=\"k\">true</span> <span class=\"k\">);</span>","                <span class=\"k\">}</span>","            <span class=\"k\">}</span>","","","        <span class=\"k\">}</span>","","    <span class=\"k\">}</span> <span class=\"k\">);</span>","","    <span class=\"k\">function</span> reset<span class=\"k\">()</span> <span class=\"k\">{</span>","        me<span class=\"k\">.</span>currentSelectedArr <span class=\"k\">=</span> <span class=\"k\">[];</span>","        anchorTd <span class=\"k\">=</span> <span class=\"k\">null</span><span class=\"k\">;</span>","","    <span class=\"k\">}</span>","","    <span class=\"c\">/**</span>","<span class=\"c\">     * &#25554;&#20837;&#34920;&#26684;</span>","<span class=\"c\">     * @param numRows &#34892;&#25968;</span>","<span class=\"c\">     * @param numCols &#21015;&#25968;</span>","<span class=\"c\">     * @param height &#21015;&#25968;</span>","<span class=\"c\">     * @param width &#21015;&#25968;</span>","<span class=\"c\">     * @param heightUnit &#21015;&#25968;</span>","<span class=\"c\">     * @param widthUnit &#21015;&#25968;</span>","<span class=\"c\">     * @param bgColor &#34920;&#26684;&#32972;&#26223;</span>","<span class=\"c\">     * @param border &#36793;&#26694;&#22823;&#23567;</span>","<span class=\"c\">     * @param borderColor &#36793;&#26694;&#39068;&#33394;</span>","<span class=\"c\">     * @param cellSpacing &#21333;&#20803;&#26684;&#38388;&#36317;</span>","<span class=\"c\">     * @param cellPadding &#21333;&#20803;&#26684;&#36793;&#36317;</span>","<span class=\"c\">     */</span>","    me<span class=\"k\">.</span>commands<span class=\"k\">[</span><span class=\"s\">'inserttable'</span><span class=\"k\">]</span> <span class=\"k\">=</span> <span class=\"k\">{</span>","        queryCommandState<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span> <span class=\"k\">this</span><span class=\"k\">.</span>highlight <span class=\"k\">)</span> <span class=\"k\">{</span>","                <span class=\"k\">return</span> <span class=\"k\">-</span><span class=\"s\">1</span><span class=\"k\">;</span>","            <span class=\"k\">}</span>","            <span class=\"k\">var</span> range <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>selection<span class=\"k\">.</span>getRange<span class=\"k\">();</span>","            <span class=\"k\">return</span> domUtils<span class=\"k\">.</span>findParentByTagName<span class=\"k\">(</span> range<span class=\"k\">.</span>startContainer<span class=\"k\">,</span> <span class=\"s\">'table'</span><span class=\"k\">,</span> <span class=\"k\">true</span> <span class=\"k\">)</span>","                    <span class=\"k\">||</span> domUtils<span class=\"k\">.</span>findParentByTagName<span class=\"k\">(</span> range<span class=\"k\">.</span>endContainer<span class=\"k\">,</span> <span class=\"s\">'table'</span><span class=\"k\">,</span> <span class=\"k\">true</span> <span class=\"k\">)</span>","                    <span class=\"k\">||</span> me<span class=\"k\">.</span>currentSelectedArr<span class=\"k\">.</span>length <span class=\"k\">&gt;</span> <span class=\"s\">0</span> <span class=\"k\">?</span> <span class=\"k\">-</span><span class=\"s\">1</span> <span class=\"k\">:</span> <span class=\"s\">0</span><span class=\"k\">;</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        execCommand<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">(</span> cmdName<span class=\"k\">,</span> opt <span class=\"k\">)</span> <span class=\"k\">{</span>","            opt <span class=\"k\">=</span> opt <span class=\"k\">||</span> <span class=\"k\">{</span>numRows<span class=\"k\">:</span><span class=\"s\">5</span><span class=\"k\">,</span> numCols<span class=\"k\">:</span><span class=\"s\">5</span><span class=\"k\">,</span>border<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">}</span><span class=\"k\">;</span>","            <span class=\"k\">var</span> html <span class=\"k\">=</span> <span class=\"k\">[</span><span class=\"s\">'&lt;table '</span> <span class=\"k\">+</span> <span class=\"k\">(</span>opt<span class=\"k\">.</span>border <span class=\"k\">==</span> <span class=\"s\">\"0\"</span>  <span class=\"k\">?</span> <span class=\"s\">' class=\"noBorderTable\"'</span> <span class=\"k\">:</span> <span class=\"s\">''</span><span class=\"k\">)</span> <span class=\"k\">+</span> <span class=\"s\">' _innerCreateTable = \"true\" '</span><span class=\"k\">];</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span> opt<span class=\"k\">.</span>cellSpacing <span class=\"k\">&amp;&amp;</span> opt<span class=\"k\">.</span>cellSpacing <span class=\"k\">!=</span> <span class=\"s\">'0'</span> <span class=\"k\">||</span> opt<span class=\"k\">.</span>cellPadding <span class=\"k\">&amp;&amp;</span> opt<span class=\"k\">.</span>cellPadding <span class=\"k\">!=</span> <span class=\"s\">'0'</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                html<span class=\"k\">.</span>push<span class=\"k\">(</span> <span class=\"s\">' style=\"border-collapse:separate;\" '</span> <span class=\"k\">);</span>","            <span class=\"k\">}</span>","            opt<span class=\"k\">.</span>cellSpacing <span class=\"k\">&amp;&amp;</span> opt<span class=\"k\">.</span>cellSpacing <span class=\"k\">!=</span> <span class=\"s\">'0'</span> <span class=\"k\">&amp;&amp;</span> html<span class=\"k\">.</span>push<span class=\"k\">(</span> <span class=\"s\">' cellSpacing=\"'</span> <span class=\"k\">+</span> opt<span class=\"k\">.</span>cellSpacing <span class=\"k\">+</span> <span class=\"s\">'\" '</span> <span class=\"k\">);</span>","            opt<span class=\"k\">.</span>cellPadding <span class=\"k\">&amp;&amp;</span> opt<span class=\"k\">.</span>cellPadding <span class=\"k\">!=</span> <span class=\"s\">'0'</span> <span class=\"k\">&amp;&amp;</span> html<span class=\"k\">.</span>push<span class=\"k\">(</span> <span class=\"s\">' cellPadding=\"'</span> <span class=\"k\">+</span> opt<span class=\"k\">.</span>cellPadding <span class=\"k\">+</span> <span class=\"s\">'\" '</span> <span class=\"k\">);</span>","            html<span class=\"k\">.</span>push<span class=\"k\">(</span> <span class=\"s\">' width=\"'</span> <span class=\"k\">+</span> <span class=\"k\">(</span>opt<span class=\"k\">.</span>width <span class=\"k\">||</span> <span class=\"s\">100</span><span class=\"k\">)</span> <span class=\"k\">+</span> <span class=\"k\">(</span><span class=\"k\">typeof</span> opt<span class=\"k\">.</span>widthUnit <span class=\"k\">==</span> <span class=\"s\">\"undefined\"</span> <span class=\"k\">?</span> <span class=\"s\">'%'</span> <span class=\"k\">:</span> opt<span class=\"k\">.</span>widthUnit<span class=\"k\">)</span> <span class=\"k\">+</span> <span class=\"s\">'\" '</span> <span class=\"k\">);</span>","            opt<span class=\"k\">.</span>height <span class=\"k\">&amp;&amp;</span> html<span class=\"k\">.</span>push<span class=\"k\">(</span> <span class=\"s\">' height=\"'</span> <span class=\"k\">+</span> opt<span class=\"k\">.</span>height <span class=\"k\">+</span> <span class=\"k\">(</span><span class=\"k\">typeof</span> opt<span class=\"k\">.</span>heightUnit <span class=\"k\">==</span> <span class=\"s\">\"undefined\"</span> <span class=\"k\">?</span> <span class=\"s\">'%'</span> <span class=\"k\">:</span> opt<span class=\"k\">.</span>heightUnit<span class=\"k\">)</span> <span class=\"k\">+</span> <span class=\"s\">'\" '</span> <span class=\"k\">);</span>","            opt<span class=\"k\">.</span>align <span class=\"k\">&amp;&amp;</span> <span class=\"k\">(</span>html<span class=\"k\">.</span>push<span class=\"k\">(</span> <span class=\"s\">' align=\"'</span> <span class=\"k\">+</span> opt<span class=\"k\">.</span>align <span class=\"k\">+</span> <span class=\"s\">'\" '</span> <span class=\"k\">));</span>","            html<span class=\"k\">.</span>push<span class=\"k\">(</span> <span class=\"s\">' border=\"'</span> <span class=\"k\">+</span> <span class=\"k\">(</span>opt<span class=\"k\">.</span>border <span class=\"k\">||</span> <span class=\"s\">0</span><span class=\"k\">)</span> <span class=\"k\">+</span> <span class=\"s\">'\" borderColor=\"'</span> <span class=\"k\">+</span> <span class=\"k\">(</span>opt<span class=\"k\">.</span>borderColor <span class=\"k\">||</span> <span class=\"s\">'#000000'</span><span class=\"k\">)</span> <span class=\"k\">+</span> <span class=\"s\">'\"'</span> <span class=\"k\">);</span>","            opt<span class=\"k\">.</span>borderType <span class=\"k\">==</span> <span class=\"s\">\"1\"</span> <span class=\"k\">&amp;&amp;</span> html<span class=\"k\">.</span>push<span class=\"k\">(</span> <span class=\"s\">' borderType=\"1\" '</span> <span class=\"k\">);</span>","            opt<span class=\"k\">.</span>bgColor <span class=\"k\">&amp;&amp;</span> html<span class=\"k\">.</span>push<span class=\"k\">(</span> <span class=\"s\">' bgColor=\"'</span> <span class=\"k\">+</span> opt<span class=\"k\">.</span>bgColor <span class=\"k\">+</span> <span class=\"s\">'\"'</span> <span class=\"k\">);</span>","            html<span class=\"k\">.</span>push<span class=\"k\">(</span> <span class=\"s\">' &gt;&lt;tbody&gt;'</span> <span class=\"k\">);</span>","            opt<span class=\"k\">.</span>width <span class=\"k\">=</span> Math<span class=\"k\">.</span>floor<span class=\"k\">(</span> <span class=\"k\">(</span>opt<span class=\"k\">.</span>width <span class=\"k\">||</span> <span class=\"s\">'100'</span><span class=\"k\">)</span> <span class=\"k\">/</span> opt<span class=\"k\">.</span>numCols <span class=\"k\">);</span>","            <span class=\"k\">for</span> <span class=\"k\">(</span> <span class=\"k\">var</span> i <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">;</span> i <span class=\"k\">&lt;</span> opt<span class=\"k\">.</span>numRows<span class=\"k\">;</span> i<span class=\"k\">++</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                html<span class=\"k\">.</span>push<span class=\"k\">(</span> <span class=\"s\">'&lt;tr&gt;'</span> <span class=\"k\">);</span>","                <span class=\"k\">for</span> <span class=\"k\">(</span> <span class=\"k\">var</span> j <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">;</span> j <span class=\"k\">&lt;</span> opt<span class=\"k\">.</span>numCols<span class=\"k\">;</span> j<span class=\"k\">++</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                    html<span class=\"k\">.</span>push<span class=\"k\">(</span> <span class=\"s\">'&lt;td style=\"width:'</span> <span class=\"k\">+</span> opt<span class=\"k\">.</span>width <span class=\"k\">+</span> <span class=\"k\">(</span><span class=\"k\">typeof</span> opt<span class=\"k\">.</span>widthUnit <span class=\"k\">==</span> <span class=\"s\">\"undefined\"</span> <span class=\"k\">?</span> <span class=\"s\">'%'</span> <span class=\"k\">:</span> opt<span class=\"k\">.</span>widthUnit<span class=\"k\">)</span> <span class=\"k\">+</span> <span class=\"s\">';'</span>","                            <span class=\"k\">+</span> <span class=\"k\">(</span>opt<span class=\"k\">.</span>borderType <span class=\"k\">==</span> <span class=\"s\">'1'</span> <span class=\"k\">?</span> <span class=\"s\">'border:'</span> <span class=\"k\">+</span> opt<span class=\"k\">.</span>border <span class=\"k\">+</span> <span class=\"s\">'px solid '</span> <span class=\"k\">+</span> <span class=\"k\">(</span>opt<span class=\"k\">.</span>borderColor <span class=\"k\">||</span> <span class=\"s\">'#000000'</span><span class=\"k\">)</span> <span class=\"k\">:</span> <span class=\"s\">''</span><span class=\"k\">)</span>","                            <span class=\"k\">+</span> <span class=\"s\">'\"&gt;'</span>","                            <span class=\"k\">+</span> <span class=\"k\">(</span>browser<span class=\"k\">.</span>ie <span class=\"k\">?</span> domUtils<span class=\"k\">.</span>fillChar <span class=\"k\">:</span> <span class=\"s\">'&lt;br/&gt;'</span><span class=\"k\">)</span> <span class=\"k\">+</span> <span class=\"s\">'&lt;/td&gt;'</span> <span class=\"k\">);</span>","                <span class=\"k\">}</span>","                html<span class=\"k\">.</span>push<span class=\"k\">(</span> <span class=\"s\">'&lt;/tr&gt;'</span> <span class=\"k\">);</span>","            <span class=\"k\">}</span>","            me<span class=\"k\">.</span>execCommand<span class=\"k\">(</span> <span class=\"s\">'insertHtml'</span><span class=\"k\">,</span> html<span class=\"k\">.</span>join<span class=\"k\">(</span> <span class=\"s\">''</span> <span class=\"k\">)</span> <span class=\"k\">+</span> <span class=\"s\">'&lt;/tbody&gt;&lt;/table&gt;'</span> <span class=\"k\">);</span>","            reset<span class=\"k\">();</span>","            <span class=\"c\">//&#22914;&#26524;&#34920;&#26684;&#30340;align&#19981;&#26159;&#40664;&#35748;&#65292;&#23558;&#19981;&#21344;&#20301;,&#32473;&#21518;&#36793;&#30340;block&#20803;&#32032;&#35774;&#32622;clear:both</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span> opt<span class=\"k\">.</span>align <span class=\"k\">)</span> <span class=\"k\">{</span>","                <span class=\"k\">var</span> range <span class=\"k\">=</span> me<span class=\"k\">.</span>selection<span class=\"k\">.</span>getRange<span class=\"k\">(),</span>","                        bk <span class=\"k\">=</span> range<span class=\"k\">.</span>createBookmark<span class=\"k\">(),</span>","                        start <span class=\"k\">=</span> range<span class=\"k\">.</span>startContainer<span class=\"k\">;</span>","                <span class=\"k\">while</span> <span class=\"k\">(</span> start <span class=\"k\">&amp;&amp;</span> <span class=\"k\">!</span>domUtils<span class=\"k\">.</span>isBody<span class=\"k\">(</span> start <span class=\"k\">)</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                    <span class=\"k\">if</span> <span class=\"k\">(</span> domUtils<span class=\"k\">.</span>isBlockElm<span class=\"k\">(</span> start <span class=\"k\">)</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                        start<span class=\"k\">.</span>style<span class=\"k\">.</span>clear <span class=\"k\">=</span> <span class=\"s\">'both'</span><span class=\"k\">;</span>","                        range<span class=\"k\">.</span>moveToBookmark<span class=\"k\">(</span> bk <span class=\"k\">).</span>select<span class=\"k\">();</span>","                        <span class=\"k\">break</span><span class=\"k\">;</span>","                    <span class=\"k\">}</span>","                    start <span class=\"k\">=</span> start<span class=\"k\">.</span>parentNode<span class=\"k\">;</span>","                <span class=\"k\">}</span>","            <span class=\"k\">}</span>","","        <span class=\"k\">}</span>","    <span class=\"k\">}</span><span class=\"k\">;</span>","    me<span class=\"k\">.</span>commands<span class=\"k\">[</span><span class=\"s\">'edittable'</span><span class=\"k\">]</span> <span class=\"k\">=</span> <span class=\"k\">{</span>","        queryCommandState<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","            <span class=\"k\">var</span> range <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>selection<span class=\"k\">.</span>getRange<span class=\"k\">();</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span> <span class=\"k\">this</span><span class=\"k\">.</span>highlight <span class=\"k\">)</span> <span class=\"k\">{</span>","                <span class=\"k\">return</span> <span class=\"k\">-</span><span class=\"s\">1</span><span class=\"k\">;</span>","            <span class=\"k\">}</span>","            <span class=\"k\">return</span> domUtils<span class=\"k\">.</span>findParentByTagName<span class=\"k\">(</span> range<span class=\"k\">.</span>startContainer<span class=\"k\">,</span> <span class=\"s\">'table'</span><span class=\"k\">,</span> <span class=\"k\">true</span> <span class=\"k\">)</span>","                    <span class=\"k\">||</span> me<span class=\"k\">.</span>currentSelectedArr<span class=\"k\">.</span>length <span class=\"k\">&gt;</span> <span class=\"s\">0</span> <span class=\"k\">?</span> <span class=\"s\">0</span> <span class=\"k\">:</span> <span class=\"k\">-</span><span class=\"s\">1</span><span class=\"k\">;</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        execCommand<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">(</span> cmdName<span class=\"k\">,</span> opt <span class=\"k\">)</span> <span class=\"k\">{</span>","            <span class=\"k\">var</span> start <span class=\"k\">=</span> me<span class=\"k\">.</span>selection<span class=\"k\">.</span>getStart<span class=\"k\">(),</span>","                    table <span class=\"k\">=</span> domUtils<span class=\"k\">.</span>findParentByTagName<span class=\"k\">(</span> start<span class=\"k\">,</span> <span class=\"s\">'table'</span><span class=\"k\">,</span> <span class=\"k\">true</span> <span class=\"k\">);</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span> table <span class=\"k\">)</span> <span class=\"k\">{</span>","                table<span class=\"k\">.</span>style<span class=\"k\">.</span>cssText <span class=\"k\">=</span> table<span class=\"k\">.</span>style<span class=\"k\">.</span>cssText<span class=\"k\">.</span>replace<span class=\"k\">(</span> <span class=\"s\">/border[^;]+/gi</span><span class=\"k\">,</span> <span class=\"s\">''</span> <span class=\"k\">);</span>","                table<span class=\"k\">.</span>style<span class=\"k\">.</span>borderCollapse <span class=\"k\">=</span> opt<span class=\"k\">.</span>cellSpacing <span class=\"k\">&amp;&amp;</span> opt<span class=\"k\">.</span>cellSpacing <span class=\"k\">!=</span> <span class=\"s\">'0'</span> <span class=\"k\">||</span> opt<span class=\"k\">.</span>cellPadding <span class=\"k\">&amp;&amp;</span> opt<span class=\"k\">.</span>cellPadding <span class=\"k\">!=</span> <span class=\"s\">'0'</span> <span class=\"k\">?</span> <span class=\"s\">'separate'</span> <span class=\"k\">:</span> <span class=\"s\">'collapse'</span><span class=\"k\">;</span>","                opt<span class=\"k\">.</span>cellSpacing <span class=\"k\">&amp;&amp;</span> opt<span class=\"k\">.</span>cellSpacing <span class=\"k\">!=</span> <span class=\"s\">'0'</span> <span class=\"k\">?</span> table<span class=\"k\">.</span>setAttribute<span class=\"k\">(</span> <span class=\"s\">'cellSpacing'</span><span class=\"k\">,</span> opt<span class=\"k\">.</span>cellSpacing <span class=\"k\">)</span> <span class=\"k\">:</span> table<span class=\"k\">.</span>removeAttribute<span class=\"k\">(</span> <span class=\"s\">'cellSpacing'</span> <span class=\"k\">);</span>","                opt<span class=\"k\">.</span>cellPadding <span class=\"k\">&amp;&amp;</span> opt<span class=\"k\">.</span>cellPadding <span class=\"k\">!=</span> <span class=\"s\">'0'</span> <span class=\"k\">?</span> table<span class=\"k\">.</span>setAttribute<span class=\"k\">(</span> <span class=\"s\">'cellPadding'</span><span class=\"k\">,</span> opt<span class=\"k\">.</span>cellPadding <span class=\"k\">)</span> <span class=\"k\">:</span> table<span class=\"k\">.</span>removeAttribute<span class=\"k\">(</span> <span class=\"s\">'cellPadding'</span> <span class=\"k\">);</span>","                opt<span class=\"k\">.</span>height <span class=\"k\">&amp;&amp;</span> table<span class=\"k\">.</span>setAttribute<span class=\"k\">(</span> <span class=\"s\">'height'</span><span class=\"k\">,</span> opt<span class=\"k\">.</span>height <span class=\"k\">+</span> opt<span class=\"k\">.</span>heightUnit <span class=\"k\">);</span>","                opt<span class=\"k\">.</span>align <span class=\"k\">&amp;&amp;</span> table<span class=\"k\">.</span>setAttribute<span class=\"k\">(</span> <span class=\"s\">'align'</span><span class=\"k\">,</span> opt<span class=\"k\">.</span>align <span class=\"k\">);</span>","                opt<span class=\"k\">.</span>width <span class=\"k\">&amp;&amp;</span> table<span class=\"k\">.</span>setAttribute<span class=\"k\">(</span> <span class=\"s\">'width'</span><span class=\"k\">,</span> opt<span class=\"k\">.</span>width <span class=\"k\">+</span> opt<span class=\"k\">.</span>widthUnit <span class=\"k\">);</span>","                <span class=\"k\">if</span><span class=\"k\">(</span>opt<span class=\"k\">.</span>bgColor<span class=\"k\">)</span><span class=\"k\">{</span>","                    table<span class=\"k\">.</span>setAttribute<span class=\"k\">(</span> <span class=\"s\">'bgColor'</span><span class=\"k\">,</span> opt<span class=\"k\">.</span>bgColor <span class=\"k\">);</span>","                <span class=\"k\">}</span><span class=\"k\">else</span><span class=\"k\">{</span>","                    domUtils<span class=\"k\">.</span>removeAttributes<span class=\"k\">(</span>table<span class=\"k\">,[</span><span class=\"s\">\"bgColor\"</span><span class=\"k\">]);</span>","                <span class=\"k\">}</span>","                opt<span class=\"k\">.</span>borderColor <span class=\"k\">&amp;&amp;</span> table<span class=\"k\">.</span>setAttribute<span class=\"k\">(</span> <span class=\"s\">'borderColor'</span><span class=\"k\">,</span> opt<span class=\"k\">.</span>borderColor <span class=\"k\">);</span>","                table<span class=\"k\">.</span>setAttribute<span class=\"k\">(</span> <span class=\"s\">'border'</span><span class=\"k\">,</span> opt<span class=\"k\">.</span>border <span class=\"k\">);</span>","                <span class=\"k\">if</span><span class=\"k\">(</span>domUtils<span class=\"k\">.</span>hasClass<span class=\"k\">(</span>table<span class=\"k\">,</span><span class=\"s\">\"noBorderTable\"</span><span class=\"k\">))</span><span class=\"k\">{</span>","                    domUtils<span class=\"k\">.</span>removeClasses<span class=\"k\">(</span>table<span class=\"k\">,[</span><span class=\"s\">\"noBorderTable\"</span><span class=\"k\">]);</span>","                <span class=\"k\">}</span>","                domUtils<span class=\"k\">.</span>addClass<span class=\"k\">(</span>table<span class=\"k\">,</span>opt<span class=\"k\">.</span>border <span class=\"k\">==</span> <span class=\"s\">\"0\"</span> <span class=\"k\">?</span> <span class=\"s\">\" noBorderTable\"</span> <span class=\"k\">:</span> <span class=\"s\">\"\"</span><span class=\"k\">);</span>","","                <span class=\"k\">if</span> <span class=\"k\">(</span> opt<span class=\"k\">.</span>borderType <span class=\"k\">==</span> <span class=\"s\">\"1\"</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                    <span class=\"k\">for</span> <span class=\"k\">(</span> <span class=\"k\">var</span> i <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">,</span> ti<span class=\"k\">,</span> tds <span class=\"k\">=</span> table<span class=\"k\">.</span>getElementsByTagName<span class=\"k\">(</span> <span class=\"s\">'td'</span> <span class=\"k\">);</span> ti <span class=\"k\">=</span> tds<span class=\"k\">[</span>i<span class=\"k\">++];</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                        ti<span class=\"k\">.</span>style<span class=\"k\">.</span>border <span class=\"k\">=</span> opt<span class=\"k\">.</span>border <span class=\"k\">+</span> <span class=\"s\">'px solid '</span> <span class=\"k\">+</span> <span class=\"k\">(</span>opt<span class=\"k\">.</span>borderColor <span class=\"k\">||</span> <span class=\"s\">'#000000'</span><span class=\"k\">);</span>","","                    <span class=\"k\">}</span>","                    table<span class=\"k\">.</span>setAttribute<span class=\"k\">(</span> <span class=\"s\">'borderType'</span><span class=\"k\">,</span> <span class=\"s\">'1'</span> <span class=\"k\">);</span>","                <span class=\"k\">}</span> <span class=\"k\">else</span> <span class=\"k\">{</span>","                    <span class=\"k\">for</span> <span class=\"k\">(</span> <span class=\"k\">var</span> i <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">,</span> ti<span class=\"k\">,</span> tds <span class=\"k\">=</span> table<span class=\"k\">.</span>getElementsByTagName<span class=\"k\">(</span> <span class=\"s\">'td'</span> <span class=\"k\">);</span> ti <span class=\"k\">=</span> tds<span class=\"k\">[</span>i<span class=\"k\">++];</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                        <span class=\"k\">if</span> <span class=\"k\">(</span> browser<span class=\"k\">.</span>ie <span class=\"k\">)</span> <span class=\"k\">{</span>","                            ti<span class=\"k\">.</span>style<span class=\"k\">.</span>cssText <span class=\"k\">=</span> ti<span class=\"k\">.</span>style<span class=\"k\">.</span>cssText<span class=\"k\">.</span>replace<span class=\"k\">(</span> <span class=\"s\">/border[^;]+/gi</span><span class=\"k\">,</span> <span class=\"s\">''</span> <span class=\"k\">);</span>","","                        <span class=\"k\">}</span> <span class=\"k\">else</span> <span class=\"k\">{</span>","                            domUtils<span class=\"k\">.</span>removeStyle<span class=\"k\">(</span> ti<span class=\"k\">,</span> <span class=\"s\">'border'</span> <span class=\"k\">);</span>","                            domUtils<span class=\"k\">.</span>removeStyle<span class=\"k\">(</span> ti<span class=\"k\">,</span> <span class=\"s\">'border-image'</span> <span class=\"k\">);</span>","                        <span class=\"k\">}</span>","","                    <span class=\"k\">}</span>","                    table<span class=\"k\">.</span>removeAttribute<span class=\"k\">(</span> <span class=\"s\">'borderType'</span> <span class=\"k\">);</span>","                <span class=\"k\">}</span>","","            <span class=\"k\">}</span>","        <span class=\"k\">}</span>","    <span class=\"k\">}</span><span class=\"k\">;</span>","","    me<span class=\"k\">.</span>commands<span class=\"k\">[</span><span class=\"s\">'edittd'</span><span class=\"k\">]</span> <span class=\"k\">=</span> <span class=\"k\">{</span>","        queryCommandState<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span> <span class=\"k\">this</span><span class=\"k\">.</span>highlight <span class=\"k\">)</span> <span class=\"k\">{</span>","                <span class=\"k\">return</span> <span class=\"k\">-</span><span class=\"s\">1</span><span class=\"k\">;</span>","            <span class=\"k\">}</span>","            <span class=\"k\">var</span> range <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>selection<span class=\"k\">.</span>getRange<span class=\"k\">();</span>","            <span class=\"k\">return</span> <span class=\"k\">(</span>domUtils<span class=\"k\">.</span>findParentByTagName<span class=\"k\">(</span> range<span class=\"k\">.</span>startContainer<span class=\"k\">,</span> <span class=\"s\">'table'</span><span class=\"k\">,</span> <span class=\"k\">true</span> <span class=\"k\">)</span>","                    <span class=\"k\">&amp;&amp;</span> domUtils<span class=\"k\">.</span>findParentByTagName<span class=\"k\">(</span> range<span class=\"k\">.</span>endContainer<span class=\"k\">,</span> <span class=\"s\">'table'</span><span class=\"k\">,</span> <span class=\"k\">true</span> <span class=\"k\">))</span> <span class=\"k\">||</span> me<span class=\"k\">.</span>currentSelectedArr<span class=\"k\">.</span>length <span class=\"k\">&gt;</span> <span class=\"s\">0</span> <span class=\"k\">?</span> <span class=\"s\">0</span> <span class=\"k\">:</span> <span class=\"k\">-</span><span class=\"s\">1</span><span class=\"k\">;</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        <span class=\"c\">/**</span>","<span class=\"c\">         * &#21333;&#20803;&#26684;&#23646;&#24615;&#32534;&#36753;</span>","<span class=\"c\">         * @param cmdName</span>","<span class=\"c\">         * @param tdItems</span>","<span class=\"c\">         */</span>","        execCommand<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">(</span> cmdName<span class=\"k\">,</span> tdItems <span class=\"k\">)</span> <span class=\"k\">{</span>","            <span class=\"k\">var</span> range <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>selection<span class=\"k\">.</span>getRange<span class=\"k\">(),</span>","                    tds <span class=\"k\">=</span> <span class=\"k\">!</span>me<span class=\"k\">.</span>currentSelectedArr<span class=\"k\">.</span>length <span class=\"k\">?</span> <span class=\"k\">[</span>domUtils<span class=\"k\">.</span>findParentByTagName<span class=\"k\">(</span> range<span class=\"k\">.</span>startContainer<span class=\"k\">,</span> <span class=\"k\">[</span><span class=\"s\">'td'</span><span class=\"k\">,</span> <span class=\"s\">'th'</span><span class=\"k\">],</span> <span class=\"k\">true</span> <span class=\"k\">)]</span> <span class=\"k\">:</span> me<span class=\"k\">.</span>currentSelectedArr<span class=\"k\">;</span>","            <span class=\"k\">for</span> <span class=\"k\">(</span> <span class=\"k\">var</span> i <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">,</span> td<span class=\"k\">;</span> td <span class=\"k\">=</span> tds<span class=\"k\">[</span>i<span class=\"k\">++];</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                domUtils<span class=\"k\">.</span>setAttributes<span class=\"k\">(</span> td<span class=\"k\">,</span> <span class=\"k\">{</span>","                    <span class=\"s\">\"bgColor\"</span><span class=\"k\">:</span>tdItems<span class=\"k\">.</span>bgColor<span class=\"k\">,</span>","                    <span class=\"s\">\"align\"</span><span class=\"k\">:</span>tdItems<span class=\"k\">.</span>align<span class=\"k\">,</span>","                    <span class=\"s\">\"vAlign\"</span><span class=\"k\">:</span>tdItems<span class=\"k\">.</span>vAlign","                <span class=\"k\">}</span> <span class=\"k\">);</span>","            <span class=\"k\">}</span>","        <span class=\"k\">}</span>","    <span class=\"k\">}</span><span class=\"k\">;</span>","","","    <span class=\"c\">/**</span>","<span class=\"c\">     * &#21024;&#38500;&#34920;&#26684;</span>","<span class=\"c\">     */</span>","    me<span class=\"k\">.</span>commands<span class=\"k\">[</span><span class=\"s\">'deletetable'</span><span class=\"k\">]</span> <span class=\"k\">=</span> <span class=\"k\">{</span>","        queryCommandState<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span> <span class=\"k\">this</span><span class=\"k\">.</span>highlight <span class=\"k\">)</span> <span class=\"k\">{</span>","                <span class=\"k\">return</span> <span class=\"k\">-</span><span class=\"s\">1</span><span class=\"k\">;</span>","            <span class=\"k\">}</span>","            <span class=\"k\">var</span> range <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>selection<span class=\"k\">.</span>getRange<span class=\"k\">();</span>","            <span class=\"k\">return</span> <span class=\"k\">(</span>domUtils<span class=\"k\">.</span>findParentByTagName<span class=\"k\">(</span> range<span class=\"k\">.</span>startContainer<span class=\"k\">,</span> <span class=\"s\">'table'</span><span class=\"k\">,</span> <span class=\"k\">true</span> <span class=\"k\">)</span>","                    <span class=\"k\">&amp;&amp;</span> domUtils<span class=\"k\">.</span>findParentByTagName<span class=\"k\">(</span> range<span class=\"k\">.</span>endContainer<span class=\"k\">,</span> <span class=\"s\">'table'</span><span class=\"k\">,</span> <span class=\"k\">true</span> <span class=\"k\">))</span> <span class=\"k\">||</span> me<span class=\"k\">.</span>currentSelectedArr<span class=\"k\">.</span>length <span class=\"k\">&gt;</span> <span class=\"s\">0</span> <span class=\"k\">?</span> <span class=\"s\">0</span> <span class=\"k\">:</span> <span class=\"k\">-</span><span class=\"s\">1</span><span class=\"k\">;</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        execCommand<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","            <span class=\"k\">var</span> range <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>selection<span class=\"k\">.</span>getRange<span class=\"k\">(),</span>","                    table <span class=\"k\">=</span> domUtils<span class=\"k\">.</span>findParentByTagName<span class=\"k\">(</span> me<span class=\"k\">.</span>currentSelectedArr<span class=\"k\">.</span>length <span class=\"k\">&gt;</span> <span class=\"s\">0</span> <span class=\"k\">?</span> me<span class=\"k\">.</span>currentSelectedArr<span class=\"k\">[</span><span class=\"s\">0</span><span class=\"k\">]</span> <span class=\"k\">:</span> range<span class=\"k\">.</span>startContainer<span class=\"k\">,</span> <span class=\"s\">'table'</span><span class=\"k\">,</span> <span class=\"k\">true</span> <span class=\"k\">);</span>","            deleteTable<span class=\"k\">(</span> table<span class=\"k\">,</span> range <span class=\"k\">);</span>","            reset<span class=\"k\">();</span>","        <span class=\"k\">}</span>","    <span class=\"k\">}</span><span class=\"k\">;</span>","","    <span class=\"c\">/**</span>","<span class=\"c\">     * &#21521;&#21491;&#21512;&#24182;&#21333;&#20803;&#26684;</span>","<span class=\"c\">     */</span>","    me<span class=\"k\">.</span>commands<span class=\"k\">[</span><span class=\"s\">'mergeright'</span><span class=\"k\">]</span> <span class=\"k\">=</span> <span class=\"k\">{</span>","        queryCommandState<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span> <span class=\"k\">this</span><span class=\"k\">.</span>highlight <span class=\"k\">)</span> <span class=\"k\">{</span>","                <span class=\"k\">return</span> <span class=\"k\">-</span><span class=\"s\">1</span><span class=\"k\">;</span>","            <span class=\"k\">}</span>","            <span class=\"k\">var</span> range <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>selection<span class=\"k\">.</span>getRange<span class=\"k\">(),</span>","                    start <span class=\"k\">=</span> range<span class=\"k\">.</span>startContainer<span class=\"k\">,</span>","                    td <span class=\"k\">=</span> domUtils<span class=\"k\">.</span>findParentByTagName<span class=\"k\">(</span> start<span class=\"k\">,</span> <span class=\"k\">[</span><span class=\"s\">'td'</span><span class=\"k\">,</span> <span class=\"s\">'th'</span><span class=\"k\">],</span> <span class=\"k\">true</span> <span class=\"k\">);</span>","","","            <span class=\"k\">if</span> <span class=\"k\">(</span> <span class=\"k\">!</span>td <span class=\"k\">||</span> <span class=\"k\">this</span><span class=\"k\">.</span>currentSelectedArr<span class=\"k\">.</span>length <span class=\"k\">&gt;</span> <span class=\"s\">1</span> <span class=\"k\">)</span><span class=\"k\">{</span>","                <span class=\"k\">return</span> <span class=\"k\">-</span><span class=\"s\">1</span><span class=\"k\">;</span>","            <span class=\"k\">}</span>","","            <span class=\"k\">var</span> tr <span class=\"k\">=</span> td<span class=\"k\">.</span>parentNode<span class=\"k\">;</span>","","            <span class=\"c\">//&#26368;&#21491;&#36793;&#34892;&#19981;&#33021;&#21521;&#21491;&#21512;&#24182;</span>","            <span class=\"k\">var</span> rightCellIndex <span class=\"k\">=</span> getIndex<span class=\"k\">(</span> td <span class=\"k\">)</span> <span class=\"k\">+</span> td<span class=\"k\">.</span>colSpan<span class=\"k\">;</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span> rightCellIndex <span class=\"k\">&gt;=</span> tr<span class=\"k\">.</span>cells<span class=\"k\">.</span>length <span class=\"k\">)</span> <span class=\"k\">{</span>","                <span class=\"k\">return</span> <span class=\"k\">-</span><span class=\"s\">1</span><span class=\"k\">;</span>","            <span class=\"k\">}</span>","            <span class=\"c\">//&#21333;&#20803;&#26684;&#19981;&#22312;&#21516;&#19968;&#34892;&#19981;&#33021;&#21521;&#21491;&#21512;&#24182;</span>","            <span class=\"k\">var</span> rightCell <span class=\"k\">=</span> tr<span class=\"k\">.</span>cells<span class=\"k\">[</span>rightCellIndex<span class=\"k\">];</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span> _isHide<span class=\"k\">(</span> rightCell <span class=\"k\">)</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                <span class=\"k\">return</span> <span class=\"k\">-</span><span class=\"s\">1</span><span class=\"k\">;</span>","            <span class=\"k\">}</span>","            <span class=\"k\">return</span> td<span class=\"k\">.</span>rowSpan <span class=\"k\">==</span> rightCell<span class=\"k\">.</span>rowSpan <span class=\"k\">?</span> <span class=\"s\">0</span> <span class=\"k\">:</span> <span class=\"k\">-</span><span class=\"s\">1</span><span class=\"k\">;</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        execCommand<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","","            <span class=\"k\">var</span> range <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>selection<span class=\"k\">.</span>getRange<span class=\"k\">(),</span>","                    start <span class=\"k\">=</span> range<span class=\"k\">.</span>startContainer<span class=\"k\">,</span>","                    td <span class=\"k\">=</span> domUtils<span class=\"k\">.</span>findParentByTagName<span class=\"k\">(</span> start<span class=\"k\">,</span> <span class=\"k\">[</span><span class=\"s\">'td'</span><span class=\"k\">,</span> <span class=\"s\">'th'</span><span class=\"k\">],</span> <span class=\"k\">true</span> <span class=\"k\">)</span> <span class=\"k\">||</span> me<span class=\"k\">.</span>currentSelectedArr<span class=\"k\">[</span><span class=\"s\">0</span><span class=\"k\">],</span>","                    tr <span class=\"k\">=</span> td<span class=\"k\">.</span>parentNode<span class=\"k\">,</span>","                    rows <span class=\"k\">=</span> tr<span class=\"k\">.</span>parentNode<span class=\"k\">.</span>parentNode<span class=\"k\">.</span>rows<span class=\"k\">;</span>","","            <span class=\"c\">//&#25214;&#21040;&#24403;&#21069;&#21333;&#20803;&#26684;&#21491;&#36793;&#30340;&#26410;&#38544;&#34255;&#21333;&#20803;&#26684;</span>","            <span class=\"k\">var</span> rightCellRowIndex <span class=\"k\">=</span> tr<span class=\"k\">.</span>rowIndex<span class=\"k\">,</span>","                    rightCellCellIndex <span class=\"k\">=</span> getIndex<span class=\"k\">(</span> td <span class=\"k\">)</span> <span class=\"k\">+</span> td<span class=\"k\">.</span>colSpan<span class=\"k\">,</span>","                    rightCell <span class=\"k\">=</span> rows<span class=\"k\">[</span>rightCellRowIndex<span class=\"k\">].</span>cells<span class=\"k\">[</span>rightCellCellIndex<span class=\"k\">];</span>","","            <span class=\"c\">//&#22312;&#38544;&#34255;&#30340;&#21407;&#29983;td&#23545;&#35937;&#19978;&#22686;&#21152;&#20004;&#20010;&#23646;&#24615;&#65292;&#20998;&#21035;&#34920;&#31034;&#24403;&#21069;td&#23545;&#24212;&#30340;&#30495;&#23454;td&#22352;&#26631;</span>","            <span class=\"k\">for</span> <span class=\"k\">(</span> <span class=\"k\">var</span> i <span class=\"k\">=</span> rightCellRowIndex<span class=\"k\">;</span> i <span class=\"k\">&lt;</span> rightCellRowIndex <span class=\"k\">+</span> rightCell<span class=\"k\">.</span>rowSpan<span class=\"k\">;</span> i<span class=\"k\">++</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                <span class=\"k\">for</span> <span class=\"k\">(</span> <span class=\"k\">var</span> j <span class=\"k\">=</span> rightCellCellIndex<span class=\"k\">;</span> j <span class=\"k\">&lt;</span> rightCellCellIndex <span class=\"k\">+</span> rightCell<span class=\"k\">.</span>colSpan<span class=\"k\">;</span> j<span class=\"k\">++</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                    <span class=\"k\">var</span> tmpCell <span class=\"k\">=</span> rows<span class=\"k\">[</span>i<span class=\"k\">].</span>cells<span class=\"k\">[</span>j<span class=\"k\">];</span>","                    tmpCell<span class=\"k\">.</span>setAttribute<span class=\"k\">(</span> <span class=\"s\">'rootRowIndex'</span><span class=\"k\">,</span> tr<span class=\"k\">.</span>rowIndex <span class=\"k\">);</span>","                    tmpCell<span class=\"k\">.</span>setAttribute<span class=\"k\">(</span> <span class=\"s\">'rootCellIndex'</span><span class=\"k\">,</span> getIndex<span class=\"k\">(</span> td <span class=\"k\">)</span> <span class=\"k\">);</span>","","                <span class=\"k\">}</span>","            <span class=\"k\">}</span>","            <span class=\"c\">//&#21512;&#24182;&#21333;&#20803;&#26684;</span>","            td<span class=\"k\">.</span>colSpan <span class=\"k\">+=</span> rightCell<span class=\"k\">.</span>colSpan <span class=\"k\">||</span> <span class=\"s\">1</span><span class=\"k\">;</span>","            <span class=\"c\">//&#21512;&#24182;&#20869;&#23481;</span>","            _moveContent<span class=\"k\">(</span> td<span class=\"k\">,</span> rightCell <span class=\"k\">);</span>","            <span class=\"c\">//&#21024;&#38500;&#34987;&#21512;&#24182;&#30340;&#21333;&#20803;&#26684;&#65292;&#27492;&#22788;&#29992;&#38544;&#34255;&#26041;&#24335;&#23454;&#29616;&#26469;&#25552;&#21319;&#24615;&#33021;</span>","            rightCell<span class=\"k\">.</span>style<span class=\"k\">.</span>display <span class=\"k\">=</span> <span class=\"s\">\"none\"</span><span class=\"k\">;</span>","            <span class=\"c\">//&#37325;&#26032;&#35753;&#21333;&#20803;&#26684;&#33719;&#21462;&#28966;&#28857;</span>","            <span class=\"c\">//trace:1565</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span> domUtils<span class=\"k\">.</span>isEmptyBlock<span class=\"k\">(</span> td <span class=\"k\">)</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                range<span class=\"k\">.</span>setStart<span class=\"k\">(</span> td<span class=\"k\">,</span> <span class=\"s\">0</span> <span class=\"k\">).</span>setCursor<span class=\"k\">();</span>","            <span class=\"k\">}</span> <span class=\"k\">else</span> <span class=\"k\">{</span>","                range<span class=\"k\">.</span>selectNodeContents<span class=\"k\">(</span> td <span class=\"k\">).</span>setCursor<span class=\"k\">(</span> <span class=\"k\">true</span><span class=\"k\">,</span> <span class=\"k\">true</span> <span class=\"k\">);</span>","            <span class=\"k\">}</span>","","            <span class=\"c\">//&#22788;&#29702;&#26377;&#23515;&#39640;&#65292;&#23548;&#33268;ie&#30340;&#25991;&#23383;&#19981;&#33021;&#36755;&#20837;&#21344;&#28385;</span>","            browser<span class=\"k\">.</span>ie <span class=\"k\">&amp;&amp;</span> domUtils<span class=\"k\">.</span>removeAttributes<span class=\"k\">(</span> td<span class=\"k\">,</span> <span class=\"k\">[</span><span class=\"s\">'width'</span><span class=\"k\">,</span> <span class=\"s\">'height'</span><span class=\"k\">]</span> <span class=\"k\">);</span>","        <span class=\"k\">}</span>","    <span class=\"k\">}</span><span class=\"k\">;</span>","","    <span class=\"c\">/**</span>","<span class=\"c\">     * &#21521;&#19979;&#21512;&#24182;&#21333;&#20803;&#26684;</span>","<span class=\"c\">     */</span>","    me<span class=\"k\">.</span>commands<span class=\"k\">[</span><span class=\"s\">'mergedown'</span><span class=\"k\">]</span> <span class=\"k\">=</span> <span class=\"k\">{</span>","        queryCommandState<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span> <span class=\"k\">this</span><span class=\"k\">.</span>highlight <span class=\"k\">)</span> <span class=\"k\">{</span>","                <span class=\"k\">return</span> <span class=\"k\">-</span><span class=\"s\">1</span><span class=\"k\">;</span>","            <span class=\"k\">}</span>","            <span class=\"k\">var</span> range <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>selection<span class=\"k\">.</span>getRange<span class=\"k\">(),</span>","                    start <span class=\"k\">=</span> range<span class=\"k\">.</span>startContainer<span class=\"k\">,</span>","                    td <span class=\"k\">=</span> domUtils<span class=\"k\">.</span>findParentByTagName<span class=\"k\">(</span> start<span class=\"k\">,</span> <span class=\"s\">'td'</span><span class=\"k\">,</span> <span class=\"k\">true</span> <span class=\"k\">);</span>","","            <span class=\"k\">if</span> <span class=\"k\">(</span> <span class=\"k\">!</span>td <span class=\"k\">||</span> getCount<span class=\"k\">(</span> me<span class=\"k\">.</span>currentSelectedArr <span class=\"k\">)</span> <span class=\"k\">&gt;</span> <span class=\"s\">1</span> <span class=\"k\">)</span><span class=\"k\">{</span>","                <span class=\"k\">return</span> <span class=\"k\">-</span><span class=\"s\">1</span><span class=\"k\">;</span>","            <span class=\"k\">}</span>","","","            <span class=\"k\">var</span> tr <span class=\"k\">=</span> td<span class=\"k\">.</span>parentNode<span class=\"k\">,</span>","                    table <span class=\"k\">=</span> tr<span class=\"k\">.</span>parentNode<span class=\"k\">.</span>parentNode<span class=\"k\">,</span>","                    rows <span class=\"k\">=</span> table<span class=\"k\">.</span>rows<span class=\"k\">;</span>","","            <span class=\"c\">//&#24050;&#32463;&#26159;&#26368;&#24213;&#34892;,&#19981;&#33021;&#21521;&#19979;&#21512;&#24182;</span>","            <span class=\"k\">var</span> downCellRowIndex <span class=\"k\">=</span> tr<span class=\"k\">.</span>rowIndex <span class=\"k\">+</span> td<span class=\"k\">.</span>rowSpan<span class=\"k\">;</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span> downCellRowIndex <span class=\"k\">&gt;=</span> rows<span class=\"k\">.</span>length <span class=\"k\">)</span> <span class=\"k\">{</span>","                <span class=\"k\">return</span> <span class=\"k\">-</span><span class=\"s\">1</span><span class=\"k\">;</span>","            <span class=\"k\">}</span>","","            <span class=\"c\">//&#22914;&#26524;&#19979;&#19968;&#20010;&#21333;&#20803;&#26684;&#26159;&#38544;&#34255;&#30340;&#65292;&#34920;&#26126;&#20182;&#26159;&#30001;&#24038;&#36793;span&#36807;&#26469;&#30340;&#65292;&#19981;&#33021;&#21521;&#19979;&#21512;&#24182;</span>","            <span class=\"k\">var</span> downCell <span class=\"k\">=</span> rows<span class=\"k\">[</span>downCellRowIndex<span class=\"k\">].</span>cells<span class=\"k\">[</span>getIndex<span class=\"k\">(</span> td <span class=\"k\">)];</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span> _isHide<span class=\"k\">(</span> downCell <span class=\"k\">)</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                <span class=\"k\">return</span> <span class=\"k\">-</span><span class=\"s\">1</span><span class=\"k\">;</span>","            <span class=\"k\">}</span>","","            <span class=\"c\">//&#21482;&#26377;&#21015;span&#37117;&#30456;&#31561;&#26102;&#25165;&#33021;&#21512;&#24182;</span>","            <span class=\"k\">return</span> td<span class=\"k\">.</span>colSpan <span class=\"k\">==</span> downCell<span class=\"k\">.</span>colSpan <span class=\"k\">?</span> <span class=\"s\">0</span> <span class=\"k\">:</span> <span class=\"k\">-</span><span class=\"s\">1</span><span class=\"k\">;</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        execCommand<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","","            <span class=\"k\">var</span> range <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>selection<span class=\"k\">.</span>getRange<span class=\"k\">(),</span>","                    start <span class=\"k\">=</span> range<span class=\"k\">.</span>startContainer<span class=\"k\">,</span>","                    td <span class=\"k\">=</span> domUtils<span class=\"k\">.</span>findParentByTagName<span class=\"k\">(</span> start<span class=\"k\">,</span> <span class=\"k\">[</span><span class=\"s\">'td'</span><span class=\"k\">,</span> <span class=\"s\">'th'</span><span class=\"k\">],</span> <span class=\"k\">true</span> <span class=\"k\">)</span> <span class=\"k\">||</span> me<span class=\"k\">.</span>currentSelectedArr<span class=\"k\">[</span><span class=\"s\">0</span><span class=\"k\">];</span>","","","            <span class=\"k\">var</span> tr <span class=\"k\">=</span> td<span class=\"k\">.</span>parentNode<span class=\"k\">,</span>","                    rows <span class=\"k\">=</span> tr<span class=\"k\">.</span>parentNode<span class=\"k\">.</span>parentNode<span class=\"k\">.</span>rows<span class=\"k\">;</span>","","            <span class=\"k\">var</span> downCellRowIndex <span class=\"k\">=</span> tr<span class=\"k\">.</span>rowIndex <span class=\"k\">+</span> td<span class=\"k\">.</span>rowSpan<span class=\"k\">,</span>","                    downCellCellIndex <span class=\"k\">=</span> getIndex<span class=\"k\">(</span> td <span class=\"k\">),</span>","                    downCell <span class=\"k\">=</span> rows<span class=\"k\">[</span>downCellRowIndex<span class=\"k\">].</span>cells<span class=\"k\">[</span>downCellCellIndex<span class=\"k\">];</span>","","            <span class=\"c\">//&#25214;&#21040;&#24403;&#21069;&#21015;&#30340;&#19979;&#19968;&#20010;&#26410;&#34987;&#38544;&#34255;&#30340;&#21333;&#20803;&#26684;</span>","            <span class=\"k\">for</span> <span class=\"k\">(</span> <span class=\"k\">var</span> i <span class=\"k\">=</span> downCellRowIndex<span class=\"k\">;</span> i <span class=\"k\">&lt;</span> downCellRowIndex <span class=\"k\">+</span> downCell<span class=\"k\">.</span>rowSpan<span class=\"k\">;</span> i<span class=\"k\">++</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                <span class=\"k\">for</span> <span class=\"k\">(</span> <span class=\"k\">var</span> j <span class=\"k\">=</span> downCellCellIndex<span class=\"k\">;</span> j <span class=\"k\">&lt;</span> downCellCellIndex <span class=\"k\">+</span> downCell<span class=\"k\">.</span>colSpan<span class=\"k\">;</span> j<span class=\"k\">++</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                    <span class=\"k\">var</span> tmpCell <span class=\"k\">=</span> rows<span class=\"k\">[</span>i<span class=\"k\">].</span>cells<span class=\"k\">[</span>j<span class=\"k\">];</span>","","","                    tmpCell<span class=\"k\">.</span>setAttribute<span class=\"k\">(</span> <span class=\"s\">'rootRowIndex'</span><span class=\"k\">,</span> tr<span class=\"k\">.</span>rowIndex <span class=\"k\">);</span>","                    tmpCell<span class=\"k\">.</span>setAttribute<span class=\"k\">(</span> <span class=\"s\">'rootCellIndex'</span><span class=\"k\">,</span> getIndex<span class=\"k\">(</span> td <span class=\"k\">)</span> <span class=\"k\">);</span>","                <span class=\"k\">}</span>","            <span class=\"k\">}</span>","            <span class=\"c\">//&#21512;&#24182;&#21333;&#20803;&#26684;</span>","            td<span class=\"k\">.</span>rowSpan <span class=\"k\">+=</span> downCell<span class=\"k\">.</span>rowSpan <span class=\"k\">||</span> <span class=\"s\">1</span><span class=\"k\">;</span>","            <span class=\"c\">//&#21512;&#24182;&#20869;&#23481;</span>","            _moveContent<span class=\"k\">(</span> td<span class=\"k\">,</span> downCell <span class=\"k\">);</span>","            <span class=\"c\">//&#21024;&#38500;&#34987;&#21512;&#24182;&#30340;&#21333;&#20803;&#26684;&#65292;&#27492;&#22788;&#29992;&#38544;&#34255;&#26041;&#24335;&#23454;&#29616;&#26469;&#25552;&#21319;&#24615;&#33021;</span>","            downCell<span class=\"k\">.</span>style<span class=\"k\">.</span>display <span class=\"k\">=</span> <span class=\"s\">\"none\"</span><span class=\"k\">;</span>","            <span class=\"c\">//&#37325;&#26032;&#35753;&#21333;&#20803;&#26684;&#33719;&#21462;&#28966;&#28857;</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span> domUtils<span class=\"k\">.</span>isEmptyBlock<span class=\"k\">(</span> td <span class=\"k\">)</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                range<span class=\"k\">.</span>setStart<span class=\"k\">(</span> td<span class=\"k\">,</span> <span class=\"s\">0</span> <span class=\"k\">).</span>setCursor<span class=\"k\">();</span>","            <span class=\"k\">}</span> <span class=\"k\">else</span> <span class=\"k\">{</span>","                range<span class=\"k\">.</span>selectNodeContents<span class=\"k\">(</span> td <span class=\"k\">).</span>setCursor<span class=\"k\">(</span> <span class=\"k\">true</span><span class=\"k\">,</span> <span class=\"k\">true</span> <span class=\"k\">);</span>","            <span class=\"k\">}</span>","            <span class=\"c\">//&#22788;&#29702;&#26377;&#23515;&#39640;&#65292;&#23548;&#33268;ie&#30340;&#25991;&#23383;&#19981;&#33021;&#36755;&#20837;&#21344;&#28385;</span>","            browser<span class=\"k\">.</span>ie <span class=\"k\">&amp;&amp;</span> domUtils<span class=\"k\">.</span>removeAttributes<span class=\"k\">(</span> td<span class=\"k\">,</span> <span class=\"k\">[</span><span class=\"s\">'width'</span><span class=\"k\">,</span> <span class=\"s\">'height'</span><span class=\"k\">]</span> <span class=\"k\">);</span>","        <span class=\"k\">}</span>","    <span class=\"k\">}</span><span class=\"k\">;</span>","","    <span class=\"c\">/**</span>","<span class=\"c\">     * &#21024;&#38500;&#34892;</span>","<span class=\"c\">     */</span>","    me<span class=\"k\">.</span>commands<span class=\"k\">[</span><span class=\"s\">'deleterow'</span><span class=\"k\">]</span> <span class=\"k\">=</span> <span class=\"k\">{</span>","        queryCommandState<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span> <span class=\"k\">this</span><span class=\"k\">.</span>highlight <span class=\"k\">)</span> <span class=\"k\">{</span>","                <span class=\"k\">return</span> <span class=\"k\">-</span><span class=\"s\">1</span><span class=\"k\">;</span>","            <span class=\"k\">}</span>","            <span class=\"k\">var</span> range <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>selection<span class=\"k\">.</span>getRange<span class=\"k\">(),</span>","                    start <span class=\"k\">=</span> range<span class=\"k\">.</span>startContainer<span class=\"k\">,</span>","                    td <span class=\"k\">=</span> domUtils<span class=\"k\">.</span>findParentByTagName<span class=\"k\">(</span> start<span class=\"k\">,</span> <span class=\"k\">[</span><span class=\"s\">'td'</span><span class=\"k\">,</span> <span class=\"s\">'th'</span><span class=\"k\">],</span> <span class=\"k\">true</span> <span class=\"k\">);</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span> <span class=\"k\">!</span>td <span class=\"k\">&amp;&amp;</span> me<span class=\"k\">.</span>currentSelectedArr<span class=\"k\">.</span>length <span class=\"k\">==</span> <span class=\"s\">0</span> <span class=\"k\">)</span><span class=\"k\">{</span>","                <span class=\"k\">return</span> <span class=\"k\">-</span><span class=\"s\">1</span><span class=\"k\">;</span>","            <span class=\"k\">}</span>","            <span class=\"k\">return</span> <span class=\"s\">0</span><span class=\"k\">;</span>","","        <span class=\"k\">}</span><span class=\"k\">,</span>","        execCommand<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","            <span class=\"k\">var</span> range <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>selection<span class=\"k\">.</span>getRange<span class=\"k\">(),</span>","                    start <span class=\"k\">=</span> range<span class=\"k\">.</span>startContainer<span class=\"k\">,</span>","                    td <span class=\"k\">=</span> domUtils<span class=\"k\">.</span>findParentByTagName<span class=\"k\">(</span> start<span class=\"k\">,</span> <span class=\"k\">[</span><span class=\"s\">'td'</span><span class=\"k\">,</span> <span class=\"s\">'th'</span><span class=\"k\">],</span> <span class=\"k\">true</span> <span class=\"k\">),</span>","                    tr<span class=\"k\">,</span>","                    table<span class=\"k\">,</span>","                    cells<span class=\"k\">,</span>","                    rows <span class=\"k\">,</span>","                    rowIndex <span class=\"k\">,</span>","                    cellIndex<span class=\"k\">;</span>","","            <span class=\"k\">if</span> <span class=\"k\">(</span> td <span class=\"k\">&amp;&amp;</span> me<span class=\"k\">.</span>currentSelectedArr<span class=\"k\">.</span>length <span class=\"k\">==</span> <span class=\"s\">0</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                <span class=\"k\">var</span> count <span class=\"k\">=</span> <span class=\"k\">(</span>td<span class=\"k\">.</span>rowSpan <span class=\"k\">||</span> <span class=\"s\">1</span><span class=\"k\">)</span> <span class=\"k\">-</span> <span class=\"s\">1</span><span class=\"k\">;</span>","","                me<span class=\"k\">.</span>currentSelectedArr<span class=\"k\">.</span>push<span class=\"k\">(</span> td <span class=\"k\">);</span>","                tr <span class=\"k\">=</span> td<span class=\"k\">.</span>parentNode<span class=\"k\">;</span>","                        table <span class=\"k\">=</span> tr<span class=\"k\">.</span>parentNode<span class=\"k\">.</span>parentNode<span class=\"k\">;</span>","","                rows <span class=\"k\">=</span> table<span class=\"k\">.</span>rows<span class=\"k\">,</span>","                        rowIndex <span class=\"k\">=</span> tr<span class=\"k\">.</span>rowIndex <span class=\"k\">+</span> <span class=\"s\">1</span><span class=\"k\">,</span>","                        cellIndex <span class=\"k\">=</span> getIndex<span class=\"k\">(</span> td <span class=\"k\">);</span>","","                <span class=\"k\">while</span> <span class=\"k\">(</span> count <span class=\"k\">)</span> <span class=\"k\">{</span>","","                    me<span class=\"k\">.</span>currentSelectedArr<span class=\"k\">.</span>push<span class=\"k\">(</span> rows<span class=\"k\">[</span>rowIndex<span class=\"k\">].</span>cells<span class=\"k\">[</span>cellIndex<span class=\"k\">]</span> <span class=\"k\">);</span>","                    count<span class=\"k\">--;</span>","                    rowIndex<span class=\"k\">++;</span>","                <span class=\"k\">}</span>","            <span class=\"k\">}</span>","","            <span class=\"k\">while</span> <span class=\"k\">(</span> td <span class=\"k\">=</span> me<span class=\"k\">.</span>currentSelectedArr<span class=\"k\">.</span>pop<span class=\"k\">()</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","","                <span class=\"k\">if</span> <span class=\"k\">(</span> <span class=\"k\">!</span>domUtils<span class=\"k\">.</span>findParentByTagName<span class=\"k\">(</span> td<span class=\"k\">,</span> <span class=\"s\">'table'</span> <span class=\"k\">)</span> <span class=\"k\">)</span> <span class=\"k\">{</span><span class=\"c\">//|| _isHide(td)</span>","","                    <span class=\"k\">continue</span><span class=\"k\">;</span>","                <span class=\"k\">}</span>","                tr <span class=\"k\">=</span> td<span class=\"k\">.</span>parentNode<span class=\"k\">,</span>","                        table <span class=\"k\">=</span> tr<span class=\"k\">.</span>parentNode<span class=\"k\">.</span>parentNode<span class=\"k\">;</span>","                cells <span class=\"k\">=</span> tr<span class=\"k\">.</span>cells<span class=\"k\">,</span>","                        rows <span class=\"k\">=</span> table<span class=\"k\">.</span>rows<span class=\"k\">,</span>","                        rowIndex <span class=\"k\">=</span> tr<span class=\"k\">.</span>rowIndex<span class=\"k\">,</span>","                        cellIndex <span class=\"k\">=</span> getIndex<span class=\"k\">(</span> td <span class=\"k\">);</span>","                <span class=\"c\">/*</span>","<span class=\"c\">                 * &#20174;&#26368;&#24038;&#36793;&#24320;&#22987;&#25195;&#25551;&#24182;&#38544;&#34255;&#24403;&#21069;&#34892;&#30340;&#25152;&#26377;&#21333;&#20803;&#26684;</span>","<span class=\"c\">                 * &#33509;&#24403;&#21069;&#21333;&#20803;&#26684;&#30340;display&#20026;none,&#24448;&#19978;&#25214;&#21040;&#23427;&#25152;&#22312;&#30340;&#30495;&#27491;&#21333;&#20803;&#26684;&#65292;&#33719;&#21462;colSpan&#21644;rowSpan&#65292;</span>","<span class=\"c\">                 *  &#23558;rowspan&#20943;&#19968;&#65292;&#24182;&#36339;&#36716;&#21040;cellIndex+colSpan&#21015;&#32487;&#32493;&#22788;&#29702;</span>","<span class=\"c\">                 * &#33509;&#24403;&#21069;&#21333;&#20803;&#26684;&#30340;display&#19981;&#20026;none,&#20998;&#20004;&#31181;&#24773;&#20917;&#65306;</span>","<span class=\"c\">                 *  1&#12289;rowspan == 1 &#65292;&#30452;&#25509;&#35774;&#32622;display&#20026;none&#65292;&#36339;&#36716;&#21040;cellIndex+colSpan&#21015;&#32487;&#32493;&#22788;&#29702;</span>","<span class=\"c\">                 *  2&#12289;rowspan &gt; 1  , &#20462;&#25913;&#24403;&#21069;&#21333;&#20803;&#26684;&#30340;&#19979;&#19968;&#20010;&#21333;&#20803;&#26684;&#30340;display&#20026;\"\",</span>","<span class=\"c\">                 *    &#24182;&#23558;&#24403;&#21069;&#21333;&#20803;&#26684;&#30340;rowspan-1&#36171;&#32473;&#19979;&#19968;&#20010;&#21333;&#20803;&#26684;&#30340;rowspan&#65292;&#24403;&#21069;&#21333;&#20803;&#26684;&#30340;colspan&#36171;&#32473;&#19979;&#19968;&#20010;&#21333;&#20803;&#26684;&#30340;colspan&#65292;</span>","<span class=\"c\">                 *    &#28982;&#21518;&#38544;&#34255;&#24403;&#21069;&#21333;&#20803;&#26684;&#65292;&#36339;&#36716;&#21040;cellIndex+colSpan&#21015;&#32487;&#32493;&#22788;&#29702;</span>","<span class=\"c\">                 */</span>","                <span class=\"k\">for</span> <span class=\"k\">(</span> <span class=\"k\">var</span> currentCellIndex <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">;</span> currentCellIndex <span class=\"k\">&lt;</span> cells<span class=\"k\">.</span>length<span class=\"k\">;</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                    <span class=\"k\">var</span> currentNode <span class=\"k\">=</span> cells<span class=\"k\">[</span>currentCellIndex<span class=\"k\">];</span>","                    <span class=\"k\">if</span> <span class=\"k\">(</span> _isHide<span class=\"k\">(</span> currentNode <span class=\"k\">)</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                        <span class=\"k\">var</span> topNode <span class=\"k\">=</span> rows<span class=\"k\">[</span>currentNode<span class=\"k\">.</span>getAttribute<span class=\"k\">(</span> <span class=\"s\">'rootRowIndex'</span> <span class=\"k\">)].</span>cells<span class=\"k\">[</span>currentNode<span class=\"k\">.</span>getAttribute<span class=\"k\">(</span> <span class=\"s\">'rootCellIndex'</span> <span class=\"k\">)];</span>","                        topNode<span class=\"k\">.</span>rowSpan<span class=\"k\">--;</span>","                        currentCellIndex <span class=\"k\">+=</span> topNode<span class=\"k\">.</span>colSpan<span class=\"k\">;</span>","                    <span class=\"k\">}</span> <span class=\"k\">else</span> <span class=\"k\">{</span>","                        <span class=\"k\">if</span> <span class=\"k\">(</span> currentNode<span class=\"k\">.</span>rowSpan <span class=\"k\">==</span> <span class=\"s\">1</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                            currentCellIndex <span class=\"k\">+=</span> currentNode<span class=\"k\">.</span>colSpan<span class=\"k\">;</span>","                        <span class=\"k\">}</span> <span class=\"k\">else</span> <span class=\"k\">{</span>","                            <span class=\"k\">var</span> downNode <span class=\"k\">=</span> rows<span class=\"k\">[</span>rowIndex <span class=\"k\">+</span> <span class=\"s\">1</span><span class=\"k\">].</span>cells<span class=\"k\">[</span>currentCellIndex<span class=\"k\">];</span>","                            downNode<span class=\"k\">.</span>style<span class=\"k\">.</span>display <span class=\"k\">=</span> <span class=\"s\">\"\"</span><span class=\"k\">;</span>","                            downNode<span class=\"k\">.</span>rowSpan <span class=\"k\">=</span> currentNode<span class=\"k\">.</span>rowSpan <span class=\"k\">-</span> <span class=\"s\">1</span><span class=\"k\">;</span>","                            downNode<span class=\"k\">.</span>colSpan <span class=\"k\">=</span> currentNode<span class=\"k\">.</span>colSpan<span class=\"k\">;</span>","                            currentCellIndex <span class=\"k\">+=</span> currentNode<span class=\"k\">.</span>colSpan<span class=\"k\">;</span>","                        <span class=\"k\">}</span>","                    <span class=\"k\">}</span>","                <span class=\"k\">}</span>","                <span class=\"c\">//&#23436;&#25104;&#26356;&#26032;&#21518;&#20877;&#21024;&#38500;&#22806;&#23618;&#21253;&#35065;&#30340;tr</span>","                domUtils<span class=\"k\">.</span>remove<span class=\"k\">(</span> tr <span class=\"k\">);</span>","","                <span class=\"c\">//&#37325;&#26032;&#23450;&#20301;&#28966;&#28857;</span>","                <span class=\"k\">var</span> topRowTd<span class=\"k\">,</span> focusTd<span class=\"k\">,</span> downRowTd<span class=\"k\">;</span>","","                <span class=\"k\">if</span> <span class=\"k\">(</span> rowIndex <span class=\"k\">==</span> rows<span class=\"k\">.</span>length <span class=\"k\">)</span> <span class=\"k\">{</span> <span class=\"c\">//&#22914;&#26524;&#34987;&#21024;&#38500;&#30340;&#34892;&#26159;&#26368;&#21518;&#19968;&#34892;,&#36825;&#37324;&#20043;&#25152;&#20197;&#27809;&#26377;-1&#26159;&#22240;&#20026;&#24050;&#32463;&#21024;&#38500;&#20102;&#19968;&#34892;</span>","                    <span class=\"c\">//&#22914;&#26524;&#21024;&#38500;&#30340;&#34892;&#20063;&#26159;&#31532;&#19968;&#34892;&#65292;&#37027;&#20040;&#34920;&#26684;&#24635;&#20849;&#21482;&#26377;&#19968;&#34892;&#65292;&#21024;&#38500;&#25972;&#20010;&#34920;&#26684;</span>","                    <span class=\"k\">if</span> <span class=\"k\">(</span> rowIndex <span class=\"k\">==</span> <span class=\"s\">0</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                        deleteTable<span class=\"k\">(</span> table<span class=\"k\">,</span> range <span class=\"k\">);</span>","","                        <span class=\"k\">return</span><span class=\"k\">;</span>","                    <span class=\"k\">}</span>","                    <span class=\"c\">//&#22914;&#26524;&#19978;&#19968;&#21333;&#20803;&#26684;&#26410;&#38544;&#34255;&#65292;&#21017;&#30452;&#25509;&#23450;&#20301;&#65292;&#21542;&#21017;&#23450;&#20301;&#21040;&#26368;&#36817;&#30340;&#19978;&#19968;&#20010;&#38750;&#38544;&#34255;&#21333;&#20803;&#26684;</span>","                    <span class=\"k\">var</span> preRowIndex <span class=\"k\">=</span> rowIndex <span class=\"k\">-</span> <span class=\"s\">1</span><span class=\"k\">;</span>","                    topRowTd <span class=\"k\">=</span> rows<span class=\"k\">[</span>preRowIndex<span class=\"k\">].</span>cells<span class=\"k\">[</span> cellIndex<span class=\"k\">];</span>","                    focusTd <span class=\"k\">=</span> _isHide<span class=\"k\">(</span> topRowTd <span class=\"k\">)</span> <span class=\"k\">?</span> rows<span class=\"k\">[</span>topRowTd<span class=\"k\">.</span>getAttribute<span class=\"k\">(</span> <span class=\"s\">'rootRowIndex'</span> <span class=\"k\">)].</span>cells<span class=\"k\">[</span>topRowTd<span class=\"k\">.</span>getAttribute<span class=\"k\">(</span> <span class=\"s\">'rootCellIndex'</span> <span class=\"k\">)]</span> <span class=\"k\">:</span> topRowTd<span class=\"k\">;</span>","","                <span class=\"k\">}</span> <span class=\"k\">else</span> <span class=\"k\">{</span> <span class=\"c\">//&#22914;&#26524;&#34987;&#21024;&#38500;&#30340;&#19981;&#26159;&#26368;&#21518;&#19968;&#34892;&#65292;&#21017;&#20809;&#26631;&#23450;&#20301;&#21040;&#19979;&#19968;&#34892;,&#27492;&#22788;&#26410;&#21152;1&#26159;&#22240;&#20026;&#24050;&#32463;&#21024;&#38500;&#20102;&#19968;&#34892;</span>","","                    downRowTd <span class=\"k\">=</span> rows<span class=\"k\">[</span>rowIndex<span class=\"k\">].</span>cells<span class=\"k\">[</span>cellIndex<span class=\"k\">];</span>","                    focusTd <span class=\"k\">=</span> _isHide<span class=\"k\">(</span> downRowTd <span class=\"k\">)</span> <span class=\"k\">?</span> rows<span class=\"k\">[</span>downRowTd<span class=\"k\">.</span>getAttribute<span class=\"k\">(</span> <span class=\"s\">'rootRowIndex'</span> <span class=\"k\">)].</span>cells<span class=\"k\">[</span>downRowTd<span class=\"k\">.</span>getAttribute<span class=\"k\">(</span> <span class=\"s\">'rootCellIndex'</span> <span class=\"k\">)]</span> <span class=\"k\">:</span> downRowTd<span class=\"k\">;</span>","                <span class=\"k\">}</span>","            <span class=\"k\">}</span>","","","            range<span class=\"k\">.</span>setStart<span class=\"k\">(</span> focusTd<span class=\"k\">,</span> <span class=\"s\">0</span> <span class=\"k\">).</span>setCursor<span class=\"k\">();</span>","            update<span class=\"k\">(</span> table <span class=\"k\">);</span>","        <span class=\"k\">}</span>","    <span class=\"k\">}</span><span class=\"k\">;</span>","","    <span class=\"c\">/**</span>","<span class=\"c\">     * &#21024;&#38500;&#21015;</span>","<span class=\"c\">     */</span>","    me<span class=\"k\">.</span>commands<span class=\"k\">[</span><span class=\"s\">'deletecol'</span><span class=\"k\">]</span> <span class=\"k\">=</span> <span class=\"k\">{</span>","        queryCommandState<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span> <span class=\"k\">this</span><span class=\"k\">.</span>highlight <span class=\"k\">)</span> <span class=\"k\">{</span>","                <span class=\"k\">return</span> <span class=\"k\">-</span><span class=\"s\">1</span><span class=\"k\">;</span>","            <span class=\"k\">}</span>","            <span class=\"k\">var</span> range <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>selection<span class=\"k\">.</span>getRange<span class=\"k\">(),</span>","                    start <span class=\"k\">=</span> range<span class=\"k\">.</span>startContainer<span class=\"k\">,</span>","                    td <span class=\"k\">=</span> domUtils<span class=\"k\">.</span>findParentByTagName<span class=\"k\">(</span> start<span class=\"k\">,</span> <span class=\"k\">[</span><span class=\"s\">'td'</span><span class=\"k\">,</span> <span class=\"s\">'th'</span><span class=\"k\">],</span> <span class=\"k\">true</span> <span class=\"k\">);</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span> <span class=\"k\">!</span>td <span class=\"k\">&amp;&amp;</span> me<span class=\"k\">.</span>currentSelectedArr<span class=\"k\">.</span>length <span class=\"k\">==</span> <span class=\"s\">0</span> <span class=\"k\">)</span><span class=\"k\">return</span> <span class=\"k\">-</span><span class=\"s\">1</span><span class=\"k\">;</span>","            <span class=\"k\">return</span> <span class=\"s\">0</span><span class=\"k\">;</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        execCommand<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","","            <span class=\"k\">var</span> range <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>selection<span class=\"k\">.</span>getRange<span class=\"k\">(),</span>","                    start <span class=\"k\">=</span> range<span class=\"k\">.</span>startContainer<span class=\"k\">,</span>","                    td <span class=\"k\">=</span> domUtils<span class=\"k\">.</span>findParentByTagName<span class=\"k\">(</span> start<span class=\"k\">,</span> <span class=\"k\">[</span><span class=\"s\">'td'</span><span class=\"k\">,</span> <span class=\"s\">'th'</span><span class=\"k\">],</span> <span class=\"k\">true</span> <span class=\"k\">);</span>","","","            <span class=\"k\">if</span> <span class=\"k\">(</span> td <span class=\"k\">&amp;&amp;</span> me<span class=\"k\">.</span>currentSelectedArr<span class=\"k\">.</span>length <span class=\"k\">==</span> <span class=\"s\">0</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","","                <span class=\"k\">var</span> count <span class=\"k\">=</span> <span class=\"k\">(</span>td<span class=\"k\">.</span>colSpan <span class=\"k\">||</span> <span class=\"s\">1</span><span class=\"k\">)</span> <span class=\"k\">-</span> <span class=\"s\">1</span><span class=\"k\">;</span>","","                me<span class=\"k\">.</span>currentSelectedArr<span class=\"k\">.</span>push<span class=\"k\">(</span> td <span class=\"k\">);</span>","                <span class=\"k\">while</span> <span class=\"k\">(</span> count <span class=\"k\">)</span> <span class=\"k\">{</span>","                    <span class=\"k\">do</span> <span class=\"k\">{</span>","                        td <span class=\"k\">=</span> td<span class=\"k\">.</span>nextSibling","                    <span class=\"k\">}</span> <span class=\"k\">while</span> <span class=\"k\">(</span> td<span class=\"k\">.</span>nodeType <span class=\"k\">==</span> <span class=\"s\">3</span> <span class=\"k\">);</span>","                    me<span class=\"k\">.</span>currentSelectedArr<span class=\"k\">.</span>push<span class=\"k\">(</span> td <span class=\"k\">);</span>","                    count<span class=\"k\">--;</span>","                <span class=\"k\">}</span>","            <span class=\"k\">}</span>","","            <span class=\"k\">while</span> <span class=\"k\">(</span> td <span class=\"k\">=</span> me<span class=\"k\">.</span>currentSelectedArr<span class=\"k\">.</span>pop<span class=\"k\">()</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                <span class=\"k\">if</span> <span class=\"k\">(</span> <span class=\"k\">!</span>domUtils<span class=\"k\">.</span>findParentByTagName<span class=\"k\">(</span> td<span class=\"k\">,</span> <span class=\"s\">'table'</span> <span class=\"k\">)</span> <span class=\"k\">)</span> <span class=\"k\">{</span> <span class=\"c\">//|| _isHide(td)</span>","                    <span class=\"k\">continue</span><span class=\"k\">;</span>","                <span class=\"k\">}</span>","","                <span class=\"k\">var</span> tr <span class=\"k\">=</span> td<span class=\"k\">.</span>parentNode<span class=\"k\">,</span>","                        table <span class=\"k\">=</span> tr<span class=\"k\">.</span>parentNode<span class=\"k\">.</span>parentNode<span class=\"k\">,</span>","                        cellIndex <span class=\"k\">=</span> getIndex<span class=\"k\">(</span> td <span class=\"k\">),</span>","                        rows <span class=\"k\">=</span> table<span class=\"k\">.</span>rows<span class=\"k\">,</span>","                        cells <span class=\"k\">=</span> tr<span class=\"k\">.</span>cells<span class=\"k\">,</span>","                        rowIndex <span class=\"k\">=</span> tr<span class=\"k\">.</span>rowIndex<span class=\"k\">;</span>","                <span class=\"c\">/*</span>","<span class=\"c\">                 * &#20174;&#31532;&#19968;&#34892;&#24320;&#22987;&#25195;&#25551;&#24182;&#38544;&#34255;&#24403;&#21069;&#21015;&#30340;&#25152;&#26377;&#21333;&#20803;&#26684;</span>","<span class=\"c\">                 * &#33509;&#24403;&#21069;&#21333;&#20803;&#26684;&#30340;display&#20026;none&#65292;&#34920;&#26126;&#23427;&#26159;&#30001;&#24038;&#36793;Span&#36807;&#26469;&#30340;&#65292;</span>","<span class=\"c\">                 *  &#23558;&#24038;&#36793;&#31532;&#19968;&#20010;&#38750;none&#21333;&#20803;&#26684;&#30340;colSpan&#20943;&#21435;1&#24182;&#21024;&#21435;&#23545;&#24212;&#30340;&#21333;&#20803;&#26684;&#21518;&#36339;&#36716;&#21040;rowIndex + rowspan&#34892;&#32487;&#32493;&#22788;&#29702;&#65307;</span>","<span class=\"c\">                 * &#33509;&#24403;&#21069;&#21333;&#20803;&#26684;&#30340;display&#19981;&#20026;none&#65292;&#20998;&#20004;&#31181;&#24773;&#20917;&#65292;</span>","<span class=\"c\">                 *  1&#12289;&#24403;&#21069;&#21333;&#20803;&#26684;&#30340;colspan == 1 &#65292; &#21017;&#30452;&#25509;&#21024;&#38500;&#35813;&#33410;&#28857;&#65292;&#36339;&#36716;&#21040;rowIndex + rowspan&#34892;&#32487;&#32493;&#22788;&#29702;</span>","<span class=\"c\">                 *  2&#12289;&#24403;&#21069;&#21333;&#20803;&#26684;&#30340;colsapn &gt;  1, &#20462;&#25913;&#24403;&#21069;&#21333;&#20803;&#26684;&#21491;&#36793;&#21333;&#20803;&#26684;&#30340;display&#20026;\"\",</span>","<span class=\"c\">                 *      &#24182;&#23558;&#24403;&#21069;&#21333;&#20803;&#26684;&#30340;colspan-1&#36171;&#32473;&#23427;&#30340;colspan&#65292;&#24403;&#21069;&#21333;&#20803;&#26684;&#30340;rolspan&#36171;&#32473;&#23427;&#30340;rolspan&#65292;</span>","<span class=\"c\">                 *      &#28982;&#21518;&#21024;&#38500;&#24403;&#21069;&#21333;&#20803;&#26684;&#65292;&#36339;&#36716;&#21040;rowIndex+rowSpan&#34892;&#32487;&#32493;&#22788;&#29702;</span>","<span class=\"c\">                 */</span>","                <span class=\"k\">var</span> rowSpan<span class=\"k\">;</span>","                <span class=\"k\">for</span> <span class=\"k\">(</span> <span class=\"k\">var</span> currentRowIndex <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">;</span> currentRowIndex <span class=\"k\">&lt;</span> rows<span class=\"k\">.</span>length<span class=\"k\">;</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                    <span class=\"k\">var</span> currentNode <span class=\"k\">=</span> rows<span class=\"k\">[</span>currentRowIndex<span class=\"k\">].</span>cells<span class=\"k\">[</span>cellIndex<span class=\"k\">];</span>","                    <span class=\"k\">if</span> <span class=\"k\">(</span> _isHide<span class=\"k\">(</span> currentNode <span class=\"k\">)</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                        <span class=\"k\">var</span> leftNode <span class=\"k\">=</span> rows<span class=\"k\">[</span>currentNode<span class=\"k\">.</span>getAttribute<span class=\"k\">(</span> <span class=\"s\">'rootRowIndex'</span> <span class=\"k\">)].</span>cells<span class=\"k\">[</span>currentNode<span class=\"k\">.</span>getAttribute<span class=\"k\">(</span> <span class=\"s\">'rootCellIndex'</span> <span class=\"k\">)];</span>","                        <span class=\"c\">//&#20381;&#27425;&#21024;&#38500;&#23545;&#24212;&#30340;&#21333;&#20803;&#26684;</span>","                        rowSpan <span class=\"k\">=</span> leftNode<span class=\"k\">.</span>rowSpan<span class=\"k\">;</span>","                        <span class=\"k\">for</span> <span class=\"k\">(</span> <span class=\"k\">var</span> i <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">;</span> i <span class=\"k\">&lt;</span> leftNode<span class=\"k\">.</span>rowSpan<span class=\"k\">;</span> i<span class=\"k\">++</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                            <span class=\"k\">var</span> delNode <span class=\"k\">=</span> rows<span class=\"k\">[</span>currentRowIndex <span class=\"k\">+</span> i<span class=\"k\">].</span>cells<span class=\"k\">[</span>cellIndex<span class=\"k\">];</span>","                            domUtils<span class=\"k\">.</span>remove<span class=\"k\">(</span> delNode <span class=\"k\">);</span>","                        <span class=\"k\">}</span>","                        <span class=\"c\">//&#20462;&#27491;&#34987;&#21024;&#21518;&#30340;&#21333;&#20803;&#26684;&#20449;&#24687;</span>","                        leftNode<span class=\"k\">.</span>colSpan<span class=\"k\">--;</span>","                        currentRowIndex <span class=\"k\">+=</span> rowSpan<span class=\"k\">;</span>","                    <span class=\"k\">}</span> <span class=\"k\">else</span> <span class=\"k\">{</span>","                        <span class=\"k\">if</span> <span class=\"k\">(</span> currentNode<span class=\"k\">.</span>colSpan <span class=\"k\">==</span> <span class=\"s\">1</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                            rowSpan <span class=\"k\">=</span> currentNode<span class=\"k\">.</span>rowSpan<span class=\"k\">;</span>","                            <span class=\"k\">for</span> <span class=\"k\">(</span> <span class=\"k\">var</span> i <span class=\"k\">=</span> currentRowIndex<span class=\"k\">,</span> l <span class=\"k\">=</span> currentRowIndex <span class=\"k\">+</span> currentNode<span class=\"k\">.</span>rowSpan<span class=\"k\">;</span> i <span class=\"k\">&lt;</span> l<span class=\"k\">;</span> i<span class=\"k\">++</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                                domUtils<span class=\"k\">.</span>remove<span class=\"k\">(</span> rows<span class=\"k\">[</span>i<span class=\"k\">].</span>cells<span class=\"k\">[</span>cellIndex<span class=\"k\">]</span> <span class=\"k\">);</span>","                            <span class=\"k\">}</span>","                            currentRowIndex <span class=\"k\">+=</span> rowSpan<span class=\"k\">;</span>","","                        <span class=\"k\">}</span> <span class=\"k\">else</span> <span class=\"k\">{</span>","                            <span class=\"k\">var</span> rightNode <span class=\"k\">=</span> rows<span class=\"k\">[</span>currentRowIndex<span class=\"k\">].</span>cells<span class=\"k\">[</span>cellIndex <span class=\"k\">+</span> <span class=\"s\">1</span><span class=\"k\">];</span>","                            rightNode<span class=\"k\">.</span>style<span class=\"k\">.</span>display <span class=\"k\">=</span> <span class=\"s\">\"\"</span><span class=\"k\">;</span>","                            rightNode<span class=\"k\">.</span>rowSpan <span class=\"k\">=</span> currentNode<span class=\"k\">.</span>rowSpan<span class=\"k\">;</span>","                            rightNode<span class=\"k\">.</span>colSpan <span class=\"k\">=</span> currentNode<span class=\"k\">.</span>colSpan <span class=\"k\">-</span> <span class=\"s\">1</span><span class=\"k\">;</span>","                            currentRowIndex <span class=\"k\">+=</span> currentNode<span class=\"k\">.</span>rowSpan<span class=\"k\">;</span>","                            domUtils<span class=\"k\">.</span>remove<span class=\"k\">(</span> currentNode <span class=\"k\">);</span>","                        <span class=\"k\">}</span>","                    <span class=\"k\">}</span>","                <span class=\"k\">}</span>","","                <span class=\"c\">//&#37325;&#26032;&#23450;&#20301;&#28966;&#28857;</span>","                <span class=\"k\">var</span> preColTd<span class=\"k\">,</span> focusTd<span class=\"k\">,</span> nextColTd<span class=\"k\">;</span>","                <span class=\"k\">if</span> <span class=\"k\">(</span> cellIndex <span class=\"k\">==</span> cells<span class=\"k\">.</span>length <span class=\"k\">)</span> <span class=\"k\">{</span> <span class=\"c\">//&#22914;&#26524;&#24403;&#21069;&#21015;&#26159;&#26368;&#21518;&#19968;&#21015;&#65292;&#20809;&#26631;&#23450;&#20301;&#21040;&#24403;&#21069;&#21015;&#30340;&#21069;&#19968;&#21015;,&#21516;&#26679;&#65292;&#36825;&#37324;&#27809;&#26377;&#20943;&#21435;1&#26159;&#22240;&#20026;&#24050;&#32463;&#34987;&#21024;&#38500;&#20102;&#19968;&#21015;</span>","                    <span class=\"c\">//&#22914;&#26524;&#24403;&#21069;&#21015;&#20063;&#26159;&#31532;&#19968;&#21015;&#65292;&#21017;&#21024;&#38500;&#25972;&#20010;&#34920;&#26684;</span>","                    <span class=\"k\">if</span> <span class=\"k\">(</span> cellIndex <span class=\"k\">==</span> <span class=\"s\">0</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                        deleteTable<span class=\"k\">(</span> table<span class=\"k\">,</span> range <span class=\"k\">);</span>","                        <span class=\"k\">return</span><span class=\"k\">;</span>","                    <span class=\"k\">}</span>","                    <span class=\"c\">//&#25214;&#21040;&#24403;&#21069;&#21333;&#20803;&#26684;&#21069;&#19968;&#21015;&#20013;&#21644;&#26412;&#21333;&#20803;&#26684;&#26368;&#36817;&#30340;&#19968;&#20010;&#26410;&#38544;&#34255;&#21333;&#20803;&#26684;</span>","                    <span class=\"k\">var</span> preCellIndex <span class=\"k\">=</span> cellIndex <span class=\"k\">-</span> <span class=\"s\">1</span><span class=\"k\">;</span>","                    preColTd <span class=\"k\">=</span> rows<span class=\"k\">[</span>rowIndex<span class=\"k\">].</span>cells<span class=\"k\">[</span>preCellIndex<span class=\"k\">];</span>","                    focusTd <span class=\"k\">=</span> _isHide<span class=\"k\">(</span> preColTd <span class=\"k\">)</span> <span class=\"k\">?</span> rows<span class=\"k\">[</span>preColTd<span class=\"k\">.</span>getAttribute<span class=\"k\">(</span> <span class=\"s\">'rootRowIndex'</span> <span class=\"k\">)].</span>cells<span class=\"k\">[</span>preColTd<span class=\"k\">.</span>getAttribute<span class=\"k\">(</span> <span class=\"s\">'rootCellIndex'</span> <span class=\"k\">)]</span> <span class=\"k\">:</span> preColTd<span class=\"k\">;</span>","","                <span class=\"k\">}</span> <span class=\"k\">else</span> <span class=\"k\">{</span> <span class=\"c\">//&#22914;&#26524;&#24403;&#21069;&#21015;&#19981;&#26159;&#26368;&#21518;&#19968;&#21015;&#65292;&#21017;&#20809;&#26631;&#23450;&#20301;&#21040;&#24403;&#21069;&#21015;&#30340;&#21518;&#19968;&#21015;</span>","","                    nextColTd <span class=\"k\">=</span> rows<span class=\"k\">[</span>rowIndex<span class=\"k\">].</span>cells<span class=\"k\">[</span>cellIndex<span class=\"k\">];</span>","                    focusTd <span class=\"k\">=</span> _isHide<span class=\"k\">(</span> nextColTd <span class=\"k\">)</span> <span class=\"k\">?</span> rows<span class=\"k\">[</span>nextColTd<span class=\"k\">.</span>getAttribute<span class=\"k\">(</span> <span class=\"s\">'rootRowIndex'</span> <span class=\"k\">)].</span>cells<span class=\"k\">[</span>nextColTd<span class=\"k\">.</span>getAttribute<span class=\"k\">(</span> <span class=\"s\">'rootCellIndex'</span> <span class=\"k\">)]</span> <span class=\"k\">:</span> nextColTd<span class=\"k\">;</span>","                <span class=\"k\">}</span>","            <span class=\"k\">}</span>","","            range<span class=\"k\">.</span>setStart<span class=\"k\">(</span> focusTd<span class=\"k\">,</span> <span class=\"s\">0</span> <span class=\"k\">).</span>setCursor<span class=\"k\">();</span>","            update<span class=\"k\">(</span> table <span class=\"k\">)</span>","        <span class=\"k\">}</span>","    <span class=\"k\">}</span><span class=\"k\">;</span>","","    <span class=\"c\">/**</span>","<span class=\"c\">     * &#23436;&#20840;&#25286;&#20998;&#21333;&#20803;&#26684;</span>","<span class=\"c\">     */</span>","    me<span class=\"k\">.</span>commands<span class=\"k\">[</span><span class=\"s\">'splittocells'</span><span class=\"k\">]</span> <span class=\"k\">=</span> <span class=\"k\">{</span>","        queryCommandState<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span> <span class=\"k\">this</span><span class=\"k\">.</span>highlight <span class=\"k\">)</span> <span class=\"k\">{</span>","                <span class=\"k\">return</span> <span class=\"k\">-</span><span class=\"s\">1</span><span class=\"k\">;</span>","            <span class=\"k\">}</span>","            <span class=\"k\">var</span> range <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>selection<span class=\"k\">.</span>getRange<span class=\"k\">(),</span>","                    start <span class=\"k\">=</span> range<span class=\"k\">.</span>startContainer<span class=\"k\">,</span>","                    td <span class=\"k\">=</span> domUtils<span class=\"k\">.</span>findParentByTagName<span class=\"k\">(</span> start<span class=\"k\">,</span> <span class=\"k\">[</span><span class=\"s\">'td'</span><span class=\"k\">,</span> <span class=\"s\">'th'</span><span class=\"k\">],</span> <span class=\"k\">true</span> <span class=\"k\">);</span>","            <span class=\"k\">return</span> td <span class=\"k\">&amp;&amp;</span> <span class=\"k\">(</span> td<span class=\"k\">.</span>rowSpan <span class=\"k\">&gt;</span> <span class=\"s\">1</span> <span class=\"k\">||</span> td<span class=\"k\">.</span>colSpan <span class=\"k\">&gt;</span> <span class=\"s\">1</span> <span class=\"k\">)</span> <span class=\"k\">&amp;&amp;</span> <span class=\"k\">(!</span>me<span class=\"k\">.</span>currentSelectedArr<span class=\"k\">.</span>length <span class=\"k\">||</span> getCount<span class=\"k\">(</span> me<span class=\"k\">.</span>currentSelectedArr <span class=\"k\">)</span> <span class=\"k\">==</span> <span class=\"s\">1</span><span class=\"k\">)</span> <span class=\"k\">?</span> <span class=\"s\">0</span> <span class=\"k\">:</span> <span class=\"k\">-</span><span class=\"s\">1</span><span class=\"k\">;</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        execCommand<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","","            <span class=\"k\">var</span> range <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>selection<span class=\"k\">.</span>getRange<span class=\"k\">(),</span>","                    start <span class=\"k\">=</span> range<span class=\"k\">.</span>startContainer<span class=\"k\">,</span>","                    td <span class=\"k\">=</span> domUtils<span class=\"k\">.</span>findParentByTagName<span class=\"k\">(</span> start<span class=\"k\">,</span> <span class=\"k\">[</span><span class=\"s\">'td'</span><span class=\"k\">,</span> <span class=\"s\">'th'</span><span class=\"k\">],</span> <span class=\"k\">true</span> <span class=\"k\">),</span>","                    tr <span class=\"k\">=</span> td<span class=\"k\">.</span>parentNode<span class=\"k\">,</span>","                    table <span class=\"k\">=</span> tr<span class=\"k\">.</span>parentNode<span class=\"k\">.</span>parentNode<span class=\"k\">;</span>","            <span class=\"k\">var</span> rowIndex <span class=\"k\">=</span> tr<span class=\"k\">.</span>rowIndex<span class=\"k\">,</span>","                    cellIndex <span class=\"k\">=</span> getIndex<span class=\"k\">(</span> td <span class=\"k\">),</span>","                    rowSpan <span class=\"k\">=</span> td<span class=\"k\">.</span>rowSpan<span class=\"k\">,</span>","                    colSpan <span class=\"k\">=</span> td<span class=\"k\">.</span>colSpan<span class=\"k\">;</span>","","","            <span class=\"k\">for</span> <span class=\"k\">(</span> <span class=\"k\">var</span> i <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">;</span> i <span class=\"k\">&lt;</span> rowSpan<span class=\"k\">;</span> i<span class=\"k\">++</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                <span class=\"k\">for</span> <span class=\"k\">(</span> <span class=\"k\">var</span> j <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">;</span> j <span class=\"k\">&lt;</span> colSpan<span class=\"k\">;</span> j<span class=\"k\">++</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                    <span class=\"k\">var</span> cell <span class=\"k\">=</span> table<span class=\"k\">.</span>rows<span class=\"k\">[</span>rowIndex <span class=\"k\">+</span> i<span class=\"k\">].</span>cells<span class=\"k\">[</span>cellIndex <span class=\"k\">+</span> j<span class=\"k\">];</span>","                    cell<span class=\"k\">.</span>rowSpan <span class=\"k\">=</span> <span class=\"s\">1</span><span class=\"k\">;</span>","                    cell<span class=\"k\">.</span>colSpan <span class=\"k\">=</span> <span class=\"s\">1</span><span class=\"k\">;</span>","","                    <span class=\"k\">if</span> <span class=\"k\">(</span> _isHide<span class=\"k\">(</span> cell <span class=\"k\">)</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                        cell<span class=\"k\">.</span>style<span class=\"k\">.</span>display <span class=\"k\">=</span> <span class=\"s\">\"\"</span><span class=\"k\">;</span>","                        cell<span class=\"k\">.</span>innerHTML <span class=\"k\">=</span> browser<span class=\"k\">.</span>ie <span class=\"k\">?</span> <span class=\"s\">''</span> <span class=\"k\">:</span> <span class=\"s\">\"&lt;br/&gt;\"</span><span class=\"k\">;</span>","                    <span class=\"k\">}</span>","                <span class=\"k\">}</span>","            <span class=\"k\">}</span>","        <span class=\"k\">}</span>","    <span class=\"k\">}</span><span class=\"k\">;</span>","","","    <span class=\"c\">/**</span>","<span class=\"c\">     * &#23558;&#21333;&#20803;&#26684;&#25286;&#20998;&#25104;&#34892;</span>","<span class=\"c\">     */</span>","    me<span class=\"k\">.</span>commands<span class=\"k\">[</span><span class=\"s\">'splittorows'</span><span class=\"k\">]</span> <span class=\"k\">=</span> <span class=\"k\">{</span>","        queryCommandState<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span> <span class=\"k\">this</span><span class=\"k\">.</span>highlight <span class=\"k\">)</span> <span class=\"k\">{</span>","                <span class=\"k\">return</span> <span class=\"k\">-</span><span class=\"s\">1</span><span class=\"k\">;</span>","            <span class=\"k\">}</span>","            <span class=\"k\">var</span> range <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>selection<span class=\"k\">.</span>getRange<span class=\"k\">(),</span>","                    start <span class=\"k\">=</span> range<span class=\"k\">.</span>startContainer<span class=\"k\">,</span>","                    td <span class=\"k\">=</span> domUtils<span class=\"k\">.</span>findParentByTagName<span class=\"k\">(</span> start<span class=\"k\">,</span> <span class=\"s\">'td'</span><span class=\"k\">,</span> <span class=\"k\">true</span> <span class=\"k\">)</span> <span class=\"k\">||</span> me<span class=\"k\">.</span>currentSelectedArr<span class=\"k\">[</span><span class=\"s\">0</span><span class=\"k\">];</span>","            <span class=\"k\">return</span> td <span class=\"k\">&amp;&amp;</span> <span class=\"k\">(</span> td<span class=\"k\">.</span>rowSpan <span class=\"k\">&gt;</span> <span class=\"s\">1</span><span class=\"k\">)</span> <span class=\"k\">&amp;&amp;</span> <span class=\"k\">(!</span>me<span class=\"k\">.</span>currentSelectedArr<span class=\"k\">.</span>length <span class=\"k\">||</span> getCount<span class=\"k\">(</span> me<span class=\"k\">.</span>currentSelectedArr <span class=\"k\">)</span> <span class=\"k\">==</span> <span class=\"s\">1</span><span class=\"k\">)</span> <span class=\"k\">?</span> <span class=\"s\">0</span> <span class=\"k\">:</span> <span class=\"k\">-</span><span class=\"s\">1</span><span class=\"k\">;</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        execCommand<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","","            <span class=\"k\">var</span> range <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>selection<span class=\"k\">.</span>getRange<span class=\"k\">(),</span>","                    start <span class=\"k\">=</span> range<span class=\"k\">.</span>startContainer<span class=\"k\">,</span>","                    td <span class=\"k\">=</span> domUtils<span class=\"k\">.</span>findParentByTagName<span class=\"k\">(</span> start<span class=\"k\">,</span> <span class=\"s\">'td'</span><span class=\"k\">,</span> <span class=\"k\">true</span> <span class=\"k\">)</span> <span class=\"k\">||</span> me<span class=\"k\">.</span>currentSelectedArr<span class=\"k\">[</span><span class=\"s\">0</span><span class=\"k\">],</span>","                    tr <span class=\"k\">=</span> td<span class=\"k\">.</span>parentNode<span class=\"k\">,</span>","                    rows <span class=\"k\">=</span> tr<span class=\"k\">.</span>parentNode<span class=\"k\">.</span>parentNode<span class=\"k\">.</span>rows<span class=\"k\">;</span>","","            <span class=\"k\">var</span> rowIndex <span class=\"k\">=</span> tr<span class=\"k\">.</span>rowIndex<span class=\"k\">,</span>","                    cellIndex <span class=\"k\">=</span> getIndex<span class=\"k\">(</span> td <span class=\"k\">),</span>","                    rowSpan <span class=\"k\">=</span> td<span class=\"k\">.</span>rowSpan<span class=\"k\">,</span>","                    colSpan <span class=\"k\">=</span> td<span class=\"k\">.</span>colSpan<span class=\"k\">;</span>","","            <span class=\"k\">for</span> <span class=\"k\">(</span> <span class=\"k\">var</span> i <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">;</span> i <span class=\"k\">&lt;</span> rowSpan<span class=\"k\">;</span> i<span class=\"k\">++</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                <span class=\"k\">var</span> cells <span class=\"k\">=</span> rows<span class=\"k\">[</span>rowIndex <span class=\"k\">+</span> i<span class=\"k\">],</span>","                        cell <span class=\"k\">=</span> cells<span class=\"k\">.</span>cells<span class=\"k\">[</span>cellIndex<span class=\"k\">];</span>","                cell<span class=\"k\">.</span>rowSpan <span class=\"k\">=</span> <span class=\"s\">1</span><span class=\"k\">;</span>","                cell<span class=\"k\">.</span>colSpan <span class=\"k\">=</span> colSpan<span class=\"k\">;</span>","                <span class=\"k\">if</span> <span class=\"k\">(</span> _isHide<span class=\"k\">(</span> cell <span class=\"k\">)</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                    cell<span class=\"k\">.</span>style<span class=\"k\">.</span>display <span class=\"k\">=</span> <span class=\"s\">\"\"</span><span class=\"k\">;</span>","                    <span class=\"c\">//&#21407;&#26377;&#30340;&#20869;&#23481;&#35201;&#28165;&#38500;&#25481;</span>","                    cell<span class=\"k\">.</span>innerHTML <span class=\"k\">=</span> browser<span class=\"k\">.</span>ie <span class=\"k\">?</span> <span class=\"s\">''</span> <span class=\"k\">:</span> <span class=\"s\">'&lt;br/&gt;'</span>","                <span class=\"k\">}</span>","                <span class=\"c\">//&#20462;&#27491;&#34987;&#38544;&#34255;&#21333;&#20803;&#26684;&#20013;&#23384;&#20648;&#30340;rootRowIndex&#21644;rootCellIndex&#20449;&#24687;</span>","                <span class=\"k\">for</span> <span class=\"k\">(</span> <span class=\"k\">var</span> j <span class=\"k\">=</span> cellIndex <span class=\"k\">+</span> <span class=\"s\">1</span><span class=\"k\">;</span> j <span class=\"k\">&lt;</span> cellIndex <span class=\"k\">+</span> colSpan<span class=\"k\">;</span> j<span class=\"k\">++</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                    cell <span class=\"k\">=</span> cells<span class=\"k\">.</span>cells<span class=\"k\">[</span>j<span class=\"k\">];</span>","","                    cell<span class=\"k\">.</span>setAttribute<span class=\"k\">(</span> <span class=\"s\">'rootRowIndex'</span><span class=\"k\">,</span> rowIndex <span class=\"k\">+</span> i <span class=\"k\">)</span>","                <span class=\"k\">}</span>","","            <span class=\"k\">}</span>","            clearSelectedTd<span class=\"k\">(</span> me<span class=\"k\">.</span>currentSelectedArr <span class=\"k\">);</span>","            <span class=\"k\">this</span><span class=\"k\">.</span>selection<span class=\"k\">.</span>getRange<span class=\"k\">().</span>setStart<span class=\"k\">(</span> td<span class=\"k\">,</span> <span class=\"s\">0</span> <span class=\"k\">).</span>setCursor<span class=\"k\">();</span>","        <span class=\"k\">}</span>","    <span class=\"k\">}</span><span class=\"k\">;</span>","","","    <span class=\"c\">/**</span>","<span class=\"c\">     * &#22312;&#34920;&#26684;&#21069;&#25554;&#20837;&#34892;</span>","<span class=\"c\">     */</span>","    me<span class=\"k\">.</span>commands<span class=\"k\">[</span><span class=\"s\">'insertparagraphbeforetable'</span><span class=\"k\">]</span> <span class=\"k\">=</span> <span class=\"k\">{</span>","        queryCommandState<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span> <span class=\"k\">this</span><span class=\"k\">.</span>highlight <span class=\"k\">)</span> <span class=\"k\">{</span>","                <span class=\"k\">return</span> <span class=\"k\">-</span><span class=\"s\">1</span><span class=\"k\">;</span>","            <span class=\"k\">}</span>","            <span class=\"k\">var</span> range <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>selection<span class=\"k\">.</span>getRange<span class=\"k\">(),</span>","                    start <span class=\"k\">=</span> range<span class=\"k\">.</span>startContainer<span class=\"k\">,</span>","                    td <span class=\"k\">=</span> domUtils<span class=\"k\">.</span>findParentByTagName<span class=\"k\">(</span> start<span class=\"k\">,</span> <span class=\"s\">'td'</span><span class=\"k\">,</span> <span class=\"k\">true</span> <span class=\"k\">)</span> <span class=\"k\">||</span> me<span class=\"k\">.</span>currentSelectedArr<span class=\"k\">[</span><span class=\"s\">0</span><span class=\"k\">];</span>","            <span class=\"k\">return</span>  td <span class=\"k\">&amp;&amp;</span> domUtils<span class=\"k\">.</span>findParentByTagName<span class=\"k\">(</span> td<span class=\"k\">,</span> <span class=\"s\">'table'</span> <span class=\"k\">)</span> <span class=\"k\">?</span> <span class=\"s\">0</span> <span class=\"k\">:</span> <span class=\"k\">-</span><span class=\"s\">1</span><span class=\"k\">;</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        execCommand<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","","            <span class=\"k\">var</span> range <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>selection<span class=\"k\">.</span>getRange<span class=\"k\">(),</span>","                    start <span class=\"k\">=</span> range<span class=\"k\">.</span>startContainer<span class=\"k\">,</span>","                    table <span class=\"k\">=</span> domUtils<span class=\"k\">.</span>findParentByTagName<span class=\"k\">(</span> start<span class=\"k\">,</span> <span class=\"s\">'table'</span><span class=\"k\">,</span> <span class=\"k\">true</span> <span class=\"k\">);</span>","","            start <span class=\"k\">=</span> me<span class=\"k\">.</span>document<span class=\"k\">.</span>createElement<span class=\"k\">(</span> me<span class=\"k\">.</span>options<span class=\"k\">.</span>enterTag <span class=\"k\">);</span>","            table<span class=\"k\">.</span>parentNode<span class=\"k\">.</span>insertBefore<span class=\"k\">(</span> start<span class=\"k\">,</span> table <span class=\"k\">);</span>","            clearSelectedTd<span class=\"k\">(</span> me<span class=\"k\">.</span>currentSelectedArr <span class=\"k\">);</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span> start<span class=\"k\">.</span>tagName <span class=\"k\">==</span> <span class=\"s\">'P'</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                <span class=\"c\">//trace:868</span>","                start<span class=\"k\">.</span>innerHTML <span class=\"k\">=</span> browser<span class=\"k\">.</span>ie <span class=\"k\">?</span> <span class=\"s\">''</span> <span class=\"k\">:</span> <span class=\"s\">'&lt;br/&gt;'</span><span class=\"k\">;</span>","                range<span class=\"k\">.</span>setStart<span class=\"k\">(</span> start<span class=\"k\">,</span> <span class=\"s\">0</span> <span class=\"k\">)</span>","            <span class=\"k\">}</span> <span class=\"k\">else</span> <span class=\"k\">{</span>","                range<span class=\"k\">.</span>setStartBefore<span class=\"k\">(</span> start <span class=\"k\">)</span>","            <span class=\"k\">}</span>","            range<span class=\"k\">.</span>setCursor<span class=\"k\">();</span>","","        <span class=\"k\">}</span>","    <span class=\"k\">}</span><span class=\"k\">;</span>","","    <span class=\"c\">/**</span>","<span class=\"c\">     * &#23558;&#21333;&#20803;&#26684;&#25286;&#20998;&#25104;&#21015;</span>","<span class=\"c\">     */</span>","    me<span class=\"k\">.</span>commands<span class=\"k\">[</span><span class=\"s\">'splittocols'</span><span class=\"k\">]</span> <span class=\"k\">=</span> <span class=\"k\">{</span>","        queryCommandState<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span> <span class=\"k\">this</span><span class=\"k\">.</span>highlight <span class=\"k\">)</span> <span class=\"k\">{</span>","                <span class=\"k\">return</span> <span class=\"k\">-</span><span class=\"s\">1</span><span class=\"k\">;</span>","            <span class=\"k\">}</span>","            <span class=\"k\">var</span> range <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>selection<span class=\"k\">.</span>getRange<span class=\"k\">(),</span>","                    start <span class=\"k\">=</span> range<span class=\"k\">.</span>startContainer<span class=\"k\">,</span>","                    td <span class=\"k\">=</span> domUtils<span class=\"k\">.</span>findParentByTagName<span class=\"k\">(</span> start<span class=\"k\">,</span> <span class=\"k\">[</span><span class=\"s\">'td'</span><span class=\"k\">,</span> <span class=\"s\">'th'</span><span class=\"k\">],</span> <span class=\"k\">true</span> <span class=\"k\">)</span> <span class=\"k\">||</span> me<span class=\"k\">.</span>currentSelectedArr<span class=\"k\">[</span><span class=\"s\">0</span><span class=\"k\">];</span>","            <span class=\"k\">return</span> td <span class=\"k\">&amp;&amp;</span> <span class=\"k\">(</span> td<span class=\"k\">.</span>colSpan <span class=\"k\">&gt;</span> <span class=\"s\">1</span><span class=\"k\">)</span> <span class=\"k\">&amp;&amp;</span> <span class=\"k\">(!</span>me<span class=\"k\">.</span>currentSelectedArr<span class=\"k\">.</span>length <span class=\"k\">||</span> getCount<span class=\"k\">(</span> me<span class=\"k\">.</span>currentSelectedArr <span class=\"k\">)</span> <span class=\"k\">==</span> <span class=\"s\">1</span><span class=\"k\">)</span> <span class=\"k\">?</span> <span class=\"s\">0</span> <span class=\"k\">:</span> <span class=\"k\">-</span><span class=\"s\">1</span><span class=\"k\">;</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        execCommand<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","","            <span class=\"k\">var</span> range <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>selection<span class=\"k\">.</span>getRange<span class=\"k\">(),</span>","                    start <span class=\"k\">=</span> range<span class=\"k\">.</span>startContainer<span class=\"k\">,</span>","                    td <span class=\"k\">=</span> domUtils<span class=\"k\">.</span>findParentByTagName<span class=\"k\">(</span> start<span class=\"k\">,</span> <span class=\"k\">[</span><span class=\"s\">'td'</span><span class=\"k\">,</span> <span class=\"s\">'th'</span><span class=\"k\">],</span> <span class=\"k\">true</span> <span class=\"k\">)</span> <span class=\"k\">||</span> me<span class=\"k\">.</span>currentSelectedArr<span class=\"k\">[</span><span class=\"s\">0</span><span class=\"k\">],</span>","                    tr <span class=\"k\">=</span> td<span class=\"k\">.</span>parentNode<span class=\"k\">,</span>","                    rows <span class=\"k\">=</span> tr<span class=\"k\">.</span>parentNode<span class=\"k\">.</span>parentNode<span class=\"k\">.</span>rows<span class=\"k\">;</span>","","            <span class=\"k\">var</span> rowIndex <span class=\"k\">=</span> tr<span class=\"k\">.</span>rowIndex<span class=\"k\">,</span>","                    cellIndex <span class=\"k\">=</span> getIndex<span class=\"k\">(</span> td <span class=\"k\">),</span>","                    rowSpan <span class=\"k\">=</span> td<span class=\"k\">.</span>rowSpan<span class=\"k\">,</span>","                    colSpan <span class=\"k\">=</span> td<span class=\"k\">.</span>colSpan<span class=\"k\">;</span>","","            <span class=\"k\">for</span> <span class=\"k\">(</span> <span class=\"k\">var</span> i <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">;</span> i <span class=\"k\">&lt;</span> colSpan<span class=\"k\">;</span> i<span class=\"k\">++</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                <span class=\"k\">var</span> cell <span class=\"k\">=</span> rows<span class=\"k\">[</span>rowIndex<span class=\"k\">].</span>cells<span class=\"k\">[</span>cellIndex <span class=\"k\">+</span> i<span class=\"k\">];</span>","                cell<span class=\"k\">.</span>rowSpan <span class=\"k\">=</span> rowSpan<span class=\"k\">;</span>","                cell<span class=\"k\">.</span>colSpan <span class=\"k\">=</span> <span class=\"s\">1</span><span class=\"k\">;</span>","                <span class=\"k\">if</span> <span class=\"k\">(</span> _isHide<span class=\"k\">(</span> cell <span class=\"k\">)</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                    cell<span class=\"k\">.</span>style<span class=\"k\">.</span>display <span class=\"k\">=</span> <span class=\"s\">\"\"</span><span class=\"k\">;</span>","                    cell<span class=\"k\">.</span>innerHTML <span class=\"k\">=</span> browser<span class=\"k\">.</span>ie <span class=\"k\">?</span> <span class=\"s\">''</span> <span class=\"k\">:</span> <span class=\"s\">'&lt;br/&gt;'</span>","                <span class=\"k\">}</span>","","                <span class=\"k\">for</span> <span class=\"k\">(</span> <span class=\"k\">var</span> j <span class=\"k\">=</span> rowIndex <span class=\"k\">+</span> <span class=\"s\">1</span><span class=\"k\">;</span> j <span class=\"k\">&lt;</span> rowIndex <span class=\"k\">+</span> rowSpan<span class=\"k\">;</span> j<span class=\"k\">++</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                    <span class=\"k\">var</span> tmpCell <span class=\"k\">=</span> rows<span class=\"k\">[</span>j<span class=\"k\">].</span>cells<span class=\"k\">[</span>cellIndex <span class=\"k\">+</span> i<span class=\"k\">];</span>","                    tmpCell<span class=\"k\">.</span>setAttribute<span class=\"k\">(</span> <span class=\"s\">'rootCellIndex'</span><span class=\"k\">,</span> cellIndex <span class=\"k\">+</span> i <span class=\"k\">);</span>","                <span class=\"k\">}</span>","            <span class=\"k\">}</span>","            clearSelectedTd<span class=\"k\">(</span> me<span class=\"k\">.</span>currentSelectedArr <span class=\"k\">);</span>","            <span class=\"k\">this</span><span class=\"k\">.</span>selection<span class=\"k\">.</span>getRange<span class=\"k\">().</span>setStart<span class=\"k\">(</span> td<span class=\"k\">,</span> <span class=\"s\">0</span> <span class=\"k\">).</span>setCursor<span class=\"k\">();</span>","        <span class=\"k\">}</span>","    <span class=\"k\">}</span><span class=\"k\">;</span>","","","    <span class=\"c\">/**</span>","<span class=\"c\">     * &#25554;&#20837;&#34892;</span>","<span class=\"c\">     */</span>","    me<span class=\"k\">.</span>commands<span class=\"k\">[</span><span class=\"s\">'insertrow'</span><span class=\"k\">]</span> <span class=\"k\">=</span> <span class=\"k\">{</span>","        queryCommandState<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span> <span class=\"k\">this</span><span class=\"k\">.</span>highlight <span class=\"k\">)</span> <span class=\"k\">{</span>","                <span class=\"k\">return</span> <span class=\"k\">-</span><span class=\"s\">1</span><span class=\"k\">;</span>","            <span class=\"k\">}</span>","            <span class=\"k\">var</span> range <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>selection<span class=\"k\">.</span>getRange<span class=\"k\">();</span>","            <span class=\"k\">return</span> domUtils<span class=\"k\">.</span>findParentByTagName<span class=\"k\">(</span> range<span class=\"k\">.</span>startContainer<span class=\"k\">,</span> <span class=\"s\">'table'</span><span class=\"k\">,</span> <span class=\"k\">true</span> <span class=\"k\">)</span>","                    <span class=\"k\">||</span> domUtils<span class=\"k\">.</span>findParentByTagName<span class=\"k\">(</span> range<span class=\"k\">.</span>endContainer<span class=\"k\">,</span> <span class=\"s\">'table'</span><span class=\"k\">,</span> <span class=\"k\">true</span> <span class=\"k\">)</span> <span class=\"k\">||</span> me<span class=\"k\">.</span>currentSelectedArr<span class=\"k\">.</span>length <span class=\"k\">!=</span> <span class=\"s\">0</span> <span class=\"k\">?</span> <span class=\"s\">0</span> <span class=\"k\">:</span> <span class=\"k\">-</span><span class=\"s\">1</span><span class=\"k\">;</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        execCommand<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","            <span class=\"k\">var</span> range <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>selection<span class=\"k\">.</span>getRange<span class=\"k\">(),</span>","                    start <span class=\"k\">=</span> range<span class=\"k\">.</span>startContainer<span class=\"k\">,</span>","                    tr <span class=\"k\">=</span> domUtils<span class=\"k\">.</span>findParentByTagName<span class=\"k\">(</span> start<span class=\"k\">,</span> <span class=\"s\">'tr'</span><span class=\"k\">,</span> <span class=\"k\">true</span> <span class=\"k\">)</span> <span class=\"k\">||</span> me<span class=\"k\">.</span>currentSelectedArr<span class=\"k\">[</span><span class=\"s\">0</span><span class=\"k\">].</span>parentNode<span class=\"k\">,</span>","                    table <span class=\"k\">=</span> tr<span class=\"k\">.</span>parentNode<span class=\"k\">.</span>parentNode<span class=\"k\">,</span>","                    rows <span class=\"k\">=</span> table<span class=\"k\">.</span>rows<span class=\"k\">;</span>","","            <span class=\"c\">//&#35760;&#24405;&#25554;&#20837;&#20301;&#32622;&#21407;&#26469;&#25152;&#26377;&#30340;&#21333;&#20803;&#26684;</span>","            <span class=\"k\">var</span> rowIndex <span class=\"k\">=</span> tr<span class=\"k\">.</span>rowIndex<span class=\"k\">,</span>","                    cells <span class=\"k\">=</span> rows<span class=\"k\">[</span>rowIndex<span class=\"k\">].</span>cells<span class=\"k\">;</span>","","            <span class=\"c\">//&#25554;&#20837;&#26032;&#30340;&#19968;&#34892;</span>","            <span class=\"k\">var</span> newRow <span class=\"k\">=</span> table<span class=\"k\">.</span>insertRow<span class=\"k\">(</span> rowIndex <span class=\"k\">);</span>","","            <span class=\"k\">var</span> newCell<span class=\"k\">;</span>","            <span class=\"c\">//&#36941;&#21382;&#34920;&#26684;&#20013;&#24453;&#25554;&#20837;&#20301;&#32622;&#20013;&#30340;&#25152;&#26377;&#21333;&#20803;&#26684;&#65292;&#26816;&#26597;&#20854;&#29366;&#24577;&#65292;&#24182;&#25454;&#27492;&#20462;&#27491;&#26032;&#25554;&#20837;&#34892;&#30340;&#21333;&#20803;&#26684;&#29366;&#24577;</span>","            <span class=\"k\">for</span> <span class=\"k\">(</span> <span class=\"k\">var</span> cellIndex <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">;</span> cellIndex <span class=\"k\">&lt;</span> cells<span class=\"k\">.</span>length<span class=\"k\">;</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","","                <span class=\"k\">var</span> tmpCell <span class=\"k\">=</span> cells<span class=\"k\">[</span>cellIndex<span class=\"k\">];</span>","","                <span class=\"k\">if</span> <span class=\"k\">(</span> _isHide<span class=\"k\">(</span> tmpCell <span class=\"k\">)</span> <span class=\"k\">)</span> <span class=\"k\">{</span> <span class=\"c\">//&#22914;&#26524;&#24403;&#21069;&#21333;&#20803;&#26684;&#26159;&#38544;&#34255;&#30340;&#65292;&#34920;&#26126;&#24403;&#21069;&#21333;&#20803;&#26684;&#30001;&#20854;&#19978;&#37096;span&#36807;&#26469;&#65292;&#25214;&#21040;&#20854;&#19978;&#37096;&#21333;&#20803;&#26684;</span>","","                    <span class=\"c\">//&#25214;&#21040;&#34987;&#38544;&#34255;&#21333;&#20803;&#26684;&#30495;&#27491;&#25152;&#23646;&#30340;&#21333;&#20803;&#26684;</span>","                    <span class=\"k\">var</span> topCell <span class=\"k\">=</span> rows<span class=\"k\">[</span>tmpCell<span class=\"k\">.</span>getAttribute<span class=\"k\">(</span> <span class=\"s\">'rootRowIndex'</span> <span class=\"k\">)].</span>cells<span class=\"k\">[</span>tmpCell<span class=\"k\">.</span>getAttribute<span class=\"k\">(</span> <span class=\"s\">'rootCellIndex'</span> <span class=\"k\">)];</span>","                    <span class=\"c\">//&#22686;&#21152;&#19968;&#34892;&#65292;&#24182;&#23558;&#25152;&#26377;&#26032;&#25554;&#20837;&#30340;&#21333;&#20803;&#26684;&#38544;&#34255;&#36215;&#26469;</span>","                    topCell<span class=\"k\">.</span>rowSpan<span class=\"k\">++;</span>","                    <span class=\"k\">for</span> <span class=\"k\">(</span> <span class=\"k\">var</span> i <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">;</span> i <span class=\"k\">&lt;</span> topCell<span class=\"k\">.</span>colSpan<span class=\"k\">;</span> i<span class=\"k\">++</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                        newCell <span class=\"k\">=</span> tmpCell<span class=\"k\">.</span>cloneNode<span class=\"k\">(</span> <span class=\"k\">false</span> <span class=\"k\">);</span>","                        domUtils<span class=\"k\">.</span>removeAttributes<span class=\"k\">(</span> newCell<span class=\"k\">,</span> <span class=\"k\">[</span><span class=\"s\">\"bgColor\"</span><span class=\"k\">,</span> <span class=\"s\">\"valign\"</span><span class=\"k\">,</span> <span class=\"s\">\"align\"</span><span class=\"k\">]</span> <span class=\"k\">);</span>","                        newCell<span class=\"k\">.</span>rowSpan <span class=\"k\">=</span> newCell<span class=\"k\">.</span>colSpan <span class=\"k\">=</span> <span class=\"s\">1</span><span class=\"k\">;</span>","                        newCell<span class=\"k\">.</span>innerHTML <span class=\"k\">=</span> browser<span class=\"k\">.</span>ie <span class=\"k\">?</span> <span class=\"s\">''</span> <span class=\"k\">:</span> <span class=\"s\">\"&lt;br/&gt;\"</span><span class=\"k\">;</span>","                        newCell<span class=\"k\">.</span>className <span class=\"k\">=</span> <span class=\"s\">''</span><span class=\"k\">;</span>","","                        <span class=\"k\">if</span> <span class=\"k\">(</span> newRow<span class=\"k\">.</span>children<span class=\"k\">[</span>cellIndex <span class=\"k\">+</span> i<span class=\"k\">]</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                            newRow<span class=\"k\">.</span>insertBefore<span class=\"k\">(</span> newCell<span class=\"k\">,</span> newRow<span class=\"k\">.</span>children<span class=\"k\">[</span>cellIndex <span class=\"k\">+</span> i<span class=\"k\">]</span> <span class=\"k\">);</span>","                        <span class=\"k\">}</span> <span class=\"k\">else</span> <span class=\"k\">{</span>","                            newRow<span class=\"k\">.</span>appendChild<span class=\"k\">(</span> newCell <span class=\"k\">)</span>","                        <span class=\"k\">}</span>","","                        newCell<span class=\"k\">.</span>style<span class=\"k\">.</span>display <span class=\"k\">=</span> <span class=\"s\">\"none\"</span><span class=\"k\">;</span>","                    <span class=\"k\">}</span>","                    cellIndex <span class=\"k\">+=</span> topCell<span class=\"k\">.</span>colSpan<span class=\"k\">;</span>","","                <span class=\"k\">}</span> <span class=\"k\">else</span> <span class=\"k\">{</span><span class=\"c\">//&#33509;&#24403;&#21069;&#21333;&#20803;&#26684;&#26410;&#38544;&#34255;&#65292;&#21017;&#22312;&#20854;&#19978;&#34892;&#25554;&#20837;colspan&#20010;&#21333;&#20803;&#26684;</span>","","                    <span class=\"k\">for</span> <span class=\"k\">(</span> <span class=\"k\">var</span> j <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">;</span> j <span class=\"k\">&lt;</span> tmpCell<span class=\"k\">.</span>colSpan<span class=\"k\">;</span> j<span class=\"k\">++</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                        newCell <span class=\"k\">=</span> tmpCell<span class=\"k\">.</span>cloneNode<span class=\"k\">(</span> <span class=\"k\">false</span> <span class=\"k\">);</span>","                        domUtils<span class=\"k\">.</span>removeAttributes<span class=\"k\">(</span> newCell<span class=\"k\">,</span> <span class=\"k\">[</span><span class=\"s\">\"bgColor\"</span><span class=\"k\">,</span> <span class=\"s\">\"valign\"</span><span class=\"k\">,</span> <span class=\"s\">\"align\"</span><span class=\"k\">]</span> <span class=\"k\">);</span>","                        newCell<span class=\"k\">.</span>rowSpan <span class=\"k\">=</span> newCell<span class=\"k\">.</span>colSpan <span class=\"k\">=</span> <span class=\"s\">1</span><span class=\"k\">;</span>","                        newCell<span class=\"k\">.</span>innerHTML <span class=\"k\">=</span> browser<span class=\"k\">.</span>ie <span class=\"k\">?</span> <span class=\"s\">''</span> <span class=\"k\">:</span> <span class=\"s\">\"&lt;br/&gt;\"</span><span class=\"k\">;</span>","                        newCell<span class=\"k\">.</span>className <span class=\"k\">=</span> <span class=\"s\">''</span><span class=\"k\">;</span>","                        <span class=\"k\">if</span> <span class=\"k\">(</span> newRow<span class=\"k\">.</span>children<span class=\"k\">[</span>cellIndex <span class=\"k\">+</span> j<span class=\"k\">]</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                            newRow<span class=\"k\">.</span>insertBefore<span class=\"k\">(</span> newCell<span class=\"k\">,</span> newRow<span class=\"k\">.</span>children<span class=\"k\">[</span>cellIndex <span class=\"k\">+</span> j<span class=\"k\">]</span> <span class=\"k\">);</span>","                        <span class=\"k\">}</span> <span class=\"k\">else</span> <span class=\"k\">{</span>","                            newRow<span class=\"k\">.</span>appendChild<span class=\"k\">(</span> newCell <span class=\"k\">)</span>","                        <span class=\"k\">}</span>","                    <span class=\"k\">}</span>","                    cellIndex <span class=\"k\">+=</span> tmpCell<span class=\"k\">.</span>colSpan<span class=\"k\">;</span>","                <span class=\"k\">}</span>","            <span class=\"k\">}</span>","            update<span class=\"k\">(</span> table <span class=\"k\">);</span>","            range<span class=\"k\">.</span>setStart<span class=\"k\">(</span> newRow<span class=\"k\">.</span>cells<span class=\"k\">[</span><span class=\"s\">0</span><span class=\"k\">],</span> <span class=\"s\">0</span> <span class=\"k\">).</span>setCursor<span class=\"k\">();</span>","","            clearSelectedTd<span class=\"k\">(</span> me<span class=\"k\">.</span>currentSelectedArr <span class=\"k\">);</span>","        <span class=\"k\">}</span>","    <span class=\"k\">}</span><span class=\"k\">;</span>","","    <span class=\"c\">/**</span>","<span class=\"c\">     * &#25554;&#20837;&#21015;</span>","<span class=\"c\">     */</span>","    me<span class=\"k\">.</span>commands<span class=\"k\">[</span><span class=\"s\">'insertcol'</span><span class=\"k\">]</span> <span class=\"k\">=</span> <span class=\"k\">{</span>","        queryCommandState<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span> <span class=\"k\">this</span><span class=\"k\">.</span>highlight <span class=\"k\">)</span> <span class=\"k\">{</span>","                <span class=\"k\">return</span> <span class=\"k\">-</span><span class=\"s\">1</span><span class=\"k\">;</span>","            <span class=\"k\">}</span>","            <span class=\"k\">var</span> range <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>selection<span class=\"k\">.</span>getRange<span class=\"k\">();</span>","            <span class=\"k\">return</span> domUtils<span class=\"k\">.</span>findParentByTagName<span class=\"k\">(</span> range<span class=\"k\">.</span>startContainer<span class=\"k\">,</span> <span class=\"s\">'table'</span><span class=\"k\">,</span> <span class=\"k\">true</span> <span class=\"k\">)</span>","                    <span class=\"k\">||</span> domUtils<span class=\"k\">.</span>findParentByTagName<span class=\"k\">(</span> range<span class=\"k\">.</span>endContainer<span class=\"k\">,</span> <span class=\"s\">'table'</span><span class=\"k\">,</span> <span class=\"k\">true</span> <span class=\"k\">)</span> <span class=\"k\">||</span> me<span class=\"k\">.</span>currentSelectedArr<span class=\"k\">.</span>length <span class=\"k\">!=</span> <span class=\"s\">0</span> <span class=\"k\">?</span> <span class=\"s\">0</span> <span class=\"k\">:</span> <span class=\"k\">-</span><span class=\"s\">1</span><span class=\"k\">;</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        execCommand<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","","            <span class=\"k\">var</span> range <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>selection<span class=\"k\">.</span>getRange<span class=\"k\">(),</span>","                    start <span class=\"k\">=</span> range<span class=\"k\">.</span>startContainer<span class=\"k\">,</span>","                    td <span class=\"k\">=</span> domUtils<span class=\"k\">.</span>findParentByTagName<span class=\"k\">(</span> start<span class=\"k\">,</span> <span class=\"k\">[</span><span class=\"s\">'td'</span><span class=\"k\">,</span> <span class=\"s\">'th'</span><span class=\"k\">],</span> <span class=\"k\">true</span> <span class=\"k\">)</span> <span class=\"k\">||</span> me<span class=\"k\">.</span>currentSelectedArr<span class=\"k\">[</span><span class=\"s\">0</span><span class=\"k\">],</span>","                    table <span class=\"k\">=</span> domUtils<span class=\"k\">.</span>findParentByTagName<span class=\"k\">(</span> td<span class=\"k\">,</span> <span class=\"s\">'table'</span> <span class=\"k\">),</span>","                    rows <span class=\"k\">=</span> table<span class=\"k\">.</span>rows<span class=\"k\">;</span>","","            <span class=\"k\">var</span> cellIndex <span class=\"k\">=</span> getIndex<span class=\"k\">(</span> td <span class=\"k\">),</span>","                    newCell<span class=\"k\">;</span>","","            <span class=\"c\">//&#36941;&#21382;&#24403;&#21069;&#21015;&#20013;&#30340;&#25152;&#26377;&#21333;&#20803;&#26684;&#65292;&#26816;&#26597;&#20854;&#29366;&#24577;&#65292;&#24182;&#25454;&#27492;&#20462;&#27491;&#26032;&#25554;&#20837;&#21015;&#30340;&#21333;&#20803;&#26684;&#29366;&#24577;</span>","            <span class=\"k\">for</span> <span class=\"k\">(</span> <span class=\"k\">var</span> rowIndex <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">;</span> rowIndex <span class=\"k\">&lt;</span> rows<span class=\"k\">.</span>length<span class=\"k\">;</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","","                <span class=\"k\">var</span> tmpCell <span class=\"k\">=</span> rows<span class=\"k\">[</span>rowIndex<span class=\"k\">].</span>cells<span class=\"k\">[</span>cellIndex<span class=\"k\">],</span> tr<span class=\"k\">;</span>","","                <span class=\"k\">if</span> <span class=\"k\">(</span> _isHide<span class=\"k\">(</span> tmpCell <span class=\"k\">)</span> <span class=\"k\">)</span> <span class=\"k\">{</span><span class=\"c\">//&#22914;&#26524;&#24403;&#21069;&#21333;&#20803;&#26684;&#26159;&#38544;&#34255;&#30340;&#65292;&#34920;&#26126;&#24403;&#21069;&#21333;&#20803;&#26684;&#30001;&#20854;&#24038;&#36793;span&#36807;&#26469;&#65292;&#25214;&#21040;&#20854;&#24038;&#36793;&#21333;&#20803;&#26684;</span>","","                    <span class=\"k\">var</span> leftCell <span class=\"k\">=</span> rows<span class=\"k\">[</span>tmpCell<span class=\"k\">.</span>getAttribute<span class=\"k\">(</span> <span class=\"s\">'rootRowIndex'</span> <span class=\"k\">)].</span>cells<span class=\"k\">[</span>tmpCell<span class=\"k\">.</span>getAttribute<span class=\"k\">(</span> <span class=\"s\">'rootCellIndex'</span> <span class=\"k\">)];</span>","                    leftCell<span class=\"k\">.</span>colSpan<span class=\"k\">++;</span>","                    <span class=\"k\">for</span> <span class=\"k\">(</span> <span class=\"k\">var</span> i <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">;</span> i <span class=\"k\">&lt;</span> leftCell<span class=\"k\">.</span>rowSpan<span class=\"k\">;</span> i<span class=\"k\">++</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                        newCell <span class=\"k\">=</span> td<span class=\"k\">.</span>cloneNode<span class=\"k\">(</span> <span class=\"k\">false</span> <span class=\"k\">);</span>","                        domUtils<span class=\"k\">.</span>removeAttributes<span class=\"k\">(</span> newCell<span class=\"k\">,</span> <span class=\"k\">[</span><span class=\"s\">\"bgColor\"</span><span class=\"k\">,</span> <span class=\"s\">\"valign\"</span><span class=\"k\">,</span> <span class=\"s\">\"align\"</span><span class=\"k\">]</span> <span class=\"k\">);</span>","                        newCell<span class=\"k\">.</span>rowSpan <span class=\"k\">=</span> newCell<span class=\"k\">.</span>colSpan <span class=\"k\">=</span> <span class=\"s\">1</span><span class=\"k\">;</span>","                        newCell<span class=\"k\">.</span>innerHTML <span class=\"k\">=</span> browser<span class=\"k\">.</span>ie <span class=\"k\">?</span> <span class=\"s\">''</span> <span class=\"k\">:</span> <span class=\"s\">\"&lt;br/&gt;\"</span><span class=\"k\">;</span>","                        newCell<span class=\"k\">.</span>className <span class=\"k\">=</span> <span class=\"s\">''</span><span class=\"k\">;</span>","                        tr <span class=\"k\">=</span> rows<span class=\"k\">[</span>rowIndex <span class=\"k\">+</span> i<span class=\"k\">];</span>","                        <span class=\"k\">if</span> <span class=\"k\">(</span> tr<span class=\"k\">.</span>children<span class=\"k\">[</span>cellIndex<span class=\"k\">]</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                            tr<span class=\"k\">.</span>insertBefore<span class=\"k\">(</span> newCell<span class=\"k\">,</span> tr<span class=\"k\">.</span>children<span class=\"k\">[</span>cellIndex<span class=\"k\">]</span> <span class=\"k\">);</span>","                        <span class=\"k\">}</span> <span class=\"k\">else</span> <span class=\"k\">{</span>","                            tr<span class=\"k\">.</span>appendChild<span class=\"k\">(</span> newCell <span class=\"k\">)</span>","                        <span class=\"k\">}</span>","","                        newCell<span class=\"k\">.</span>style<span class=\"k\">.</span>display <span class=\"k\">=</span> <span class=\"s\">\"none\"</span><span class=\"k\">;</span>","                    <span class=\"k\">}</span>","                    rowIndex <span class=\"k\">+=</span> leftCell<span class=\"k\">.</span>rowSpan<span class=\"k\">;</span>","","                <span class=\"k\">}</span> <span class=\"k\">else</span> <span class=\"k\">{</span> <span class=\"c\">//&#33509;&#24403;&#21069;&#21333;&#20803;&#26684;&#26410;&#38544;&#34255;&#65292;&#21017;&#22312;&#20854;&#24038;&#36793;&#25554;&#20837;rowspan&#20010;&#21333;&#20803;&#26684;</span>","","                    <span class=\"k\">for</span> <span class=\"k\">(</span> <span class=\"k\">var</span> j <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">;</span> j <span class=\"k\">&lt;</span> tmpCell<span class=\"k\">.</span>rowSpan<span class=\"k\">;</span> j<span class=\"k\">++</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                        newCell <span class=\"k\">=</span> td<span class=\"k\">.</span>cloneNode<span class=\"k\">(</span> <span class=\"k\">false</span> <span class=\"k\">);</span>","                        domUtils<span class=\"k\">.</span>removeAttributes<span class=\"k\">(</span> newCell<span class=\"k\">,</span> <span class=\"k\">[</span><span class=\"s\">\"bgColor\"</span><span class=\"k\">,</span> <span class=\"s\">\"valign\"</span><span class=\"k\">,</span> <span class=\"s\">\"align\"</span><span class=\"k\">]</span> <span class=\"k\">);</span>","                        newCell<span class=\"k\">.</span>rowSpan <span class=\"k\">=</span> newCell<span class=\"k\">.</span>colSpan <span class=\"k\">=</span> <span class=\"s\">1</span><span class=\"k\">;</span>","                        newCell<span class=\"k\">.</span>innerHTML <span class=\"k\">=</span> browser<span class=\"k\">.</span>ie <span class=\"k\">?</span> <span class=\"s\">''</span> <span class=\"k\">:</span> <span class=\"s\">\"&lt;br/&gt;\"</span><span class=\"k\">;</span>","                        newCell<span class=\"k\">.</span>className <span class=\"k\">=</span> <span class=\"s\">''</span><span class=\"k\">;</span>","                        tr <span class=\"k\">=</span> rows<span class=\"k\">[</span>rowIndex <span class=\"k\">+</span> j<span class=\"k\">];</span>","                        <span class=\"k\">if</span> <span class=\"k\">(</span> tr<span class=\"k\">.</span>children<span class=\"k\">[</span>cellIndex<span class=\"k\">]</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                            tr<span class=\"k\">.</span>insertBefore<span class=\"k\">(</span> newCell<span class=\"k\">,</span> tr<span class=\"k\">.</span>children<span class=\"k\">[</span>cellIndex<span class=\"k\">]</span> <span class=\"k\">);</span>","                        <span class=\"k\">}</span> <span class=\"k\">else</span> <span class=\"k\">{</span>","                            tr<span class=\"k\">.</span>appendChild<span class=\"k\">(</span> newCell <span class=\"k\">)</span>","                        <span class=\"k\">}</span>","","                        newCell<span class=\"k\">.</span>innerHTML <span class=\"k\">=</span> browser<span class=\"k\">.</span>ie <span class=\"k\">?</span> <span class=\"s\">''</span> <span class=\"k\">:</span> <span class=\"s\">\"&lt;br/&gt;\"</span><span class=\"k\">;</span>","","                    <span class=\"k\">}</span>","                    rowIndex <span class=\"k\">+=</span> tmpCell<span class=\"k\">.</span>rowSpan<span class=\"k\">;</span>","                <span class=\"k\">}</span>","            <span class=\"k\">}</span>","            update<span class=\"k\">(</span> table <span class=\"k\">);</span>","            range<span class=\"k\">.</span>setStart<span class=\"k\">(</span> rows<span class=\"k\">[</span><span class=\"s\">0</span><span class=\"k\">].</span>cells<span class=\"k\">[</span>cellIndex<span class=\"k\">],</span> <span class=\"s\">0</span> <span class=\"k\">).</span>setCursor<span class=\"k\">();</span>","            clearSelectedTd<span class=\"k\">(</span> me<span class=\"k\">.</span>currentSelectedArr <span class=\"k\">);</span>","","        <span class=\"k\">}</span>","    <span class=\"k\">}</span><span class=\"k\">;</span>","","    <span class=\"c\">/**</span>","<span class=\"c\">     * &#21512;&#24182;&#22810;&#20010;&#21333;&#20803;&#26684;&#65292;&#36890;&#36807;&#20004;&#20010;cell&#23558;&#24403;&#21069;&#21253;&#21547;&#30340;&#25152;&#26377;&#27178;&#32437;&#21333;&#20803;&#26684;&#36827;&#34892;&#21512;&#24182;</span>","<span class=\"c\">     */</span>","    me<span class=\"k\">.</span>commands<span class=\"k\">[</span><span class=\"s\">'mergecells'</span><span class=\"k\">]</span> <span class=\"k\">=</span> <span class=\"k\">{</span>","        queryCommandState<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span> <span class=\"k\">this</span><span class=\"k\">.</span>highlight <span class=\"k\">)</span> <span class=\"k\">{</span>","                <span class=\"k\">return</span> <span class=\"k\">-</span><span class=\"s\">1</span><span class=\"k\">;</span>","            <span class=\"k\">}</span>","            <span class=\"k\">var</span> count <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">;</span>","            <span class=\"k\">for</span> <span class=\"k\">(</span> <span class=\"k\">var</span> i <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">,</span> ti<span class=\"k\">;</span> ti <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>currentSelectedArr<span class=\"k\">[</span>i<span class=\"k\">++];</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                <span class=\"k\">if</span> <span class=\"k\">(</span> <span class=\"k\">!</span>_isHide<span class=\"k\">(</span> ti <span class=\"k\">)</span> <span class=\"k\">)</span>","                    count<span class=\"k\">++;</span>","            <span class=\"k\">}</span>","            <span class=\"k\">return</span> count <span class=\"k\">&gt;</span> <span class=\"s\">1</span> <span class=\"k\">?</span> <span class=\"s\">0</span> <span class=\"k\">:</span> <span class=\"k\">-</span><span class=\"s\">1</span><span class=\"k\">;</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        execCommand<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","","            <span class=\"k\">var</span> start <span class=\"k\">=</span> me<span class=\"k\">.</span>currentSelectedArr<span class=\"k\">[</span><span class=\"s\">0</span><span class=\"k\">],</span>","                    end <span class=\"k\">=</span> me<span class=\"k\">.</span>currentSelectedArr<span class=\"k\">[</span>me<span class=\"k\">.</span>currentSelectedArr<span class=\"k\">.</span>length <span class=\"k\">-</span> <span class=\"s\">1</span><span class=\"k\">],</span>","                    table <span class=\"k\">=</span> domUtils<span class=\"k\">.</span>findParentByTagName<span class=\"k\">(</span> start<span class=\"k\">,</span> <span class=\"s\">'table'</span> <span class=\"k\">),</span>","                    rows <span class=\"k\">=</span> table<span class=\"k\">.</span>rows<span class=\"k\">,</span>","                    cellsRange <span class=\"k\">=</span> <span class=\"k\">{</span>","                        beginRowIndex<span class=\"k\">:</span>start<span class=\"k\">.</span>parentNode<span class=\"k\">.</span>rowIndex<span class=\"k\">,</span>","                        beginCellIndex<span class=\"k\">:</span>getIndex<span class=\"k\">(</span> start <span class=\"k\">),</span>","                        endRowIndex<span class=\"k\">:</span>end<span class=\"k\">.</span>parentNode<span class=\"k\">.</span>rowIndex<span class=\"k\">,</span>","                        endCellIndex<span class=\"k\">:</span>getIndex<span class=\"k\">(</span> end <span class=\"k\">)</span>","                    <span class=\"k\">}</span><span class=\"k\">,</span>","","                    beginRowIndex <span class=\"k\">=</span> cellsRange<span class=\"k\">.</span>beginRowIndex<span class=\"k\">,</span>","                    beginCellIndex <span class=\"k\">=</span> cellsRange<span class=\"k\">.</span>beginCellIndex<span class=\"k\">,</span>","                    rowsLength <span class=\"k\">=</span> cellsRange<span class=\"k\">.</span>endRowIndex <span class=\"k\">-</span> cellsRange<span class=\"k\">.</span>beginRowIndex <span class=\"k\">+</span> <span class=\"s\">1</span><span class=\"k\">,</span>","                    cellLength <span class=\"k\">=</span> cellsRange<span class=\"k\">.</span>endCellIndex <span class=\"k\">-</span> cellsRange<span class=\"k\">.</span>beginCellIndex <span class=\"k\">+</span> <span class=\"s\">1</span><span class=\"k\">,</span>","","                    tmp <span class=\"k\">=</span> rows<span class=\"k\">[</span>beginRowIndex<span class=\"k\">].</span>cells<span class=\"k\">[</span>beginCellIndex<span class=\"k\">];</span>","","            <span class=\"k\">for</span> <span class=\"k\">(</span> <span class=\"k\">var</span> i <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">,</span> ri<span class=\"k\">;</span> <span class=\"k\">(</span>ri <span class=\"k\">=</span> rows<span class=\"k\">[</span>beginRowIndex <span class=\"k\">+</span> i<span class=\"k\">++])</span> <span class=\"k\">&amp;&amp;</span> i <span class=\"k\">&lt;=</span> rowsLength<span class=\"k\">;</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                <span class=\"k\">for</span> <span class=\"k\">(</span> <span class=\"k\">var</span> j <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">,</span> ci<span class=\"k\">;</span> <span class=\"k\">(</span>ci <span class=\"k\">=</span> ri<span class=\"k\">.</span>cells<span class=\"k\">[</span>beginCellIndex <span class=\"k\">+</span> j<span class=\"k\">++])</span> <span class=\"k\">&amp;&amp;</span> j <span class=\"k\">&lt;=</span> cellLength<span class=\"k\">;</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                    <span class=\"k\">if</span> <span class=\"k\">(</span> i <span class=\"k\">==</span> <span class=\"s\">1</span> <span class=\"k\">&amp;&amp;</span> j <span class=\"k\">==</span> <span class=\"s\">1</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                        ci<span class=\"k\">.</span>style<span class=\"k\">.</span>display <span class=\"k\">=</span> <span class=\"s\">\"\"</span><span class=\"k\">;</span>","                        ci<span class=\"k\">.</span>rowSpan <span class=\"k\">=</span> rowsLength<span class=\"k\">;</span>","                        ci<span class=\"k\">.</span>colSpan <span class=\"k\">=</span> cellLength<span class=\"k\">;</span>","                    <span class=\"k\">}</span> <span class=\"k\">else</span> <span class=\"k\">{</span>","                        ci<span class=\"k\">.</span>style<span class=\"k\">.</span>display <span class=\"k\">=</span> <span class=\"s\">\"none\"</span><span class=\"k\">;</span>","                        ci<span class=\"k\">.</span>rowSpan <span class=\"k\">=</span> <span class=\"s\">1</span><span class=\"k\">;</span>","                        ci<span class=\"k\">.</span>colSpan <span class=\"k\">=</span> <span class=\"s\">1</span><span class=\"k\">;</span>","                        ci<span class=\"k\">.</span>setAttribute<span class=\"k\">(</span> <span class=\"s\">'rootRowIndex'</span><span class=\"k\">,</span> beginRowIndex <span class=\"k\">);</span>","                        ci<span class=\"k\">.</span>setAttribute<span class=\"k\">(</span> <span class=\"s\">'rootCellIndex'</span><span class=\"k\">,</span> beginCellIndex <span class=\"k\">);</span>","","                        <span class=\"c\">//&#20256;&#36882;&#20869;&#23481;</span>","                        _moveContent<span class=\"k\">(</span> tmp<span class=\"k\">,</span> ci <span class=\"k\">);</span>","                    <span class=\"k\">}</span>","                <span class=\"k\">}</span>","            <span class=\"k\">}</span>","            <span class=\"k\">this</span><span class=\"k\">.</span>selection<span class=\"k\">.</span>getRange<span class=\"k\">().</span>setStart<span class=\"k\">(</span> tmp<span class=\"k\">,</span> <span class=\"s\">0</span> <span class=\"k\">).</span>setCursor<span class=\"k\">();</span>","            <span class=\"c\">//&#22788;&#29702;&#26377;&#23515;&#39640;&#65292;&#23548;&#33268;ie&#30340;&#25991;&#23383;&#19981;&#33021;&#36755;&#20837;&#21344;&#28385;</span>","            browser<span class=\"k\">.</span>ie <span class=\"k\">&amp;&amp;</span> domUtils<span class=\"k\">.</span>removeAttributes<span class=\"k\">(</span> tmp<span class=\"k\">,</span> <span class=\"k\">[</span><span class=\"s\">'width'</span><span class=\"k\">,</span> <span class=\"s\">'height'</span><span class=\"k\">]</span> <span class=\"k\">);</span>","            clearSelectedTd<span class=\"k\">(</span> me<span class=\"k\">.</span>currentSelectedArr <span class=\"k\">);</span>","        <span class=\"k\">}</span>","    <span class=\"k\">}</span><span class=\"k\">;</span>","","    <span class=\"c\">/**</span>","<span class=\"c\">     * &#23558;cellFrom&#21333;&#20803;&#26684;&#20013;&#30340;&#20869;&#23481;&#31227;&#21160;&#21040;cellTo&#20013;</span>","<span class=\"c\">     * @param cellTo  &#30446;&#26631;&#21333;&#20803;&#26684;</span>","<span class=\"c\">     * @param cellFrom  &#28304;&#21333;&#20803;&#26684;</span>","<span class=\"c\">     */</span>","    <span class=\"k\">function</span> _moveContent<span class=\"k\">(</span> cellTo<span class=\"k\">,</span> cellFrom <span class=\"k\">)</span> <span class=\"k\">{</span>","        <span class=\"k\">if</span> <span class=\"k\">(</span> _isEmpty<span class=\"k\">(</span> cellFrom <span class=\"k\">)</span> <span class=\"k\">)</span> <span class=\"k\">return</span><span class=\"k\">;</span>","","        <span class=\"k\">if</span> <span class=\"k\">(</span> _isEmpty<span class=\"k\">(</span> cellTo <span class=\"k\">)</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","            cellTo<span class=\"k\">.</span>innerHTML <span class=\"k\">=</span> cellFrom<span class=\"k\">.</span>innerHTML<span class=\"k\">;</span>","            <span class=\"k\">return</span><span class=\"k\">;</span>","        <span class=\"k\">}</span>","        <span class=\"k\">var</span> child <span class=\"k\">=</span> cellTo<span class=\"k\">.</span>lastChild<span class=\"k\">;</span>","        <span class=\"k\">if</span> <span class=\"k\">(</span> child<span class=\"k\">.</span>nodeType <span class=\"k\">!=</span> <span class=\"s\">1</span> <span class=\"k\">||</span> child<span class=\"k\">.</span>tagName <span class=\"k\">!=</span> <span class=\"s\">'BR'</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","            cellTo<span class=\"k\">.</span>appendChild<span class=\"k\">(</span> cellTo<span class=\"k\">.</span>ownerDocument<span class=\"k\">.</span>createElement<span class=\"k\">(</span> <span class=\"s\">'br'</span> <span class=\"k\">)</span> <span class=\"k\">)</span>","        <span class=\"k\">}</span>","","        <span class=\"c\">//&#20381;&#27425;&#31227;&#21160;&#20869;&#23481;</span>","        <span class=\"k\">while</span> <span class=\"k\">(</span> child <span class=\"k\">=</span> cellFrom<span class=\"k\">.</span>firstChild <span class=\"k\">)</span> <span class=\"k\">{</span>","            cellTo<span class=\"k\">.</span>appendChild<span class=\"k\">(</span> child <span class=\"k\">);</span>","        <span class=\"k\">}</span>","    <span class=\"k\">}</span>","","","    <span class=\"c\">/**</span>","<span class=\"c\">     * &#26681;&#25454;&#20004;&#20010;&#21333;&#20803;&#26684;&#26469;&#33719;&#21462;&#20013;&#38388;&#21253;&#21547;&#30340;&#25152;&#26377;&#21333;&#20803;&#26684;&#38598;&#21512;&#36873;&#21306;</span>","<span class=\"c\">     * @param cellA</span>","<span class=\"c\">     * @param cellB</span>","<span class=\"c\">     * @return {Object} &#36873;&#21306;&#30340;&#24038;&#19978;&#21644;&#21491;&#19979;&#22352;&#26631;</span>","<span class=\"c\">     */</span>","    <span class=\"k\">function</span> _getCellsRange<span class=\"k\">(</span> cellA<span class=\"k\">,</span> cellB <span class=\"k\">)</span> <span class=\"k\">{</span>","","        <span class=\"k\">var</span> trA <span class=\"k\">=</span> cellA<span class=\"k\">.</span>parentNode<span class=\"k\">,</span>","                trB <span class=\"k\">=</span> cellB<span class=\"k\">.</span>parentNode<span class=\"k\">,</span>","                aRowIndex <span class=\"k\">=</span> trA<span class=\"k\">.</span>rowIndex<span class=\"k\">,</span>","                bRowIndex <span class=\"k\">=</span> trB<span class=\"k\">.</span>rowIndex<span class=\"k\">,</span>","                rows <span class=\"k\">=</span> trA<span class=\"k\">.</span>parentNode<span class=\"k\">.</span>parentNode<span class=\"k\">.</span>rows<span class=\"k\">,</span>","                rowsNum <span class=\"k\">=</span> rows<span class=\"k\">.</span>length<span class=\"k\">,</span>","                cellsNum <span class=\"k\">=</span> rows<span class=\"k\">[</span><span class=\"s\">0</span><span class=\"k\">].</span>cells<span class=\"k\">.</span>length<span class=\"k\">,</span>","                cellAIndex <span class=\"k\">=</span> getIndex<span class=\"k\">(</span> cellA <span class=\"k\">),</span>","                cellBIndex <span class=\"k\">=</span> getIndex<span class=\"k\">(</span> cellB <span class=\"k\">);</span>","","        <span class=\"k\">if</span> <span class=\"k\">(</span> cellA <span class=\"k\">==</span> cellB <span class=\"k\">)</span> <span class=\"k\">{</span>","            <span class=\"k\">return</span> <span class=\"k\">{</span>","                beginRowIndex<span class=\"k\">:</span>aRowIndex<span class=\"k\">,</span>","                beginCellIndex<span class=\"k\">:</span>cellAIndex<span class=\"k\">,</span>","                endRowIndex<span class=\"k\">:</span>aRowIndex <span class=\"k\">+</span> cellA<span class=\"k\">.</span>rowSpan <span class=\"k\">-</span> <span class=\"s\">1</span><span class=\"k\">,</span>","                endCellIndex<span class=\"k\">:</span>cellBIndex <span class=\"k\">+</span> cellA<span class=\"k\">.</span>colSpan <span class=\"k\">-</span> <span class=\"s\">1</span>","            <span class=\"k\">}</span>","        <span class=\"k\">}</span>","","        <span class=\"k\">var</span>","                beginRowIndex <span class=\"k\">=</span> Math<span class=\"k\">.</span>min<span class=\"k\">(</span> aRowIndex<span class=\"k\">,</span> bRowIndex <span class=\"k\">),</span>","                beginCellIndex <span class=\"k\">=</span> Math<span class=\"k\">.</span>min<span class=\"k\">(</span> cellAIndex<span class=\"k\">,</span> cellBIndex <span class=\"k\">),</span>","                endRowIndex <span class=\"k\">=</span> Math<span class=\"k\">.</span>max<span class=\"k\">(</span> aRowIndex <span class=\"k\">+</span> cellA<span class=\"k\">.</span>rowSpan <span class=\"k\">-</span> <span class=\"s\">1</span><span class=\"k\">,</span> bRowIndex <span class=\"k\">+</span> cellB<span class=\"k\">.</span>rowSpan <span class=\"k\">-</span> <span class=\"s\">1</span> <span class=\"k\">),</span>","                endCellIndex <span class=\"k\">=</span> Math<span class=\"k\">.</span>max<span class=\"k\">(</span> cellAIndex <span class=\"k\">+</span> cellA<span class=\"k\">.</span>colSpan <span class=\"k\">-</span> <span class=\"s\">1</span><span class=\"k\">,</span> cellBIndex <span class=\"k\">+</span> cellB<span class=\"k\">.</span>colSpan <span class=\"k\">-</span> <span class=\"s\">1</span> <span class=\"k\">);</span>","","        <span class=\"k\">while</span> <span class=\"k\">(</span> <span class=\"s\">1</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","","            <span class=\"k\">var</span> tmpBeginRowIndex <span class=\"k\">=</span> beginRowIndex<span class=\"k\">,</span>","                    tmpBeginCellIndex <span class=\"k\">=</span> beginCellIndex<span class=\"k\">,</span>","                    tmpEndRowIndex <span class=\"k\">=</span> endRowIndex<span class=\"k\">,</span>","                    tmpEndCellIndex <span class=\"k\">=</span> endCellIndex<span class=\"k\">;</span>","            <span class=\"c\">// &#26816;&#26597;&#26159;&#21542;&#26377;&#36229;&#20986;TableRange&#19978;&#36793;&#30028;&#30340;&#24773;&#20917;</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span> beginRowIndex <span class=\"k\">&gt;</span> <span class=\"s\">0</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                <span class=\"k\">for</span> <span class=\"k\">(</span> cellIndex <span class=\"k\">=</span> beginCellIndex<span class=\"k\">;</span> cellIndex <span class=\"k\">&lt;=</span> endCellIndex<span class=\"k\">;</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                    <span class=\"k\">var</span> currentTopTd <span class=\"k\">=</span> rows<span class=\"k\">[</span>beginRowIndex<span class=\"k\">].</span>cells<span class=\"k\">[</span>cellIndex<span class=\"k\">];</span>","                    <span class=\"k\">if</span> <span class=\"k\">(</span> _isHide<span class=\"k\">(</span> currentTopTd <span class=\"k\">)</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","","                        <span class=\"c\">//overflowRowIndex = beginRowIndex == currentTopTd.rootRowIndex ? 1:0;</span>","                        beginRowIndex <span class=\"k\">=</span> currentTopTd<span class=\"k\">.</span>getAttribute<span class=\"k\">(</span> <span class=\"s\">'rootRowIndex'</span> <span class=\"k\">);</span>","                        currentTopTd <span class=\"k\">=</span> rows<span class=\"k\">[</span>currentTopTd<span class=\"k\">.</span>getAttribute<span class=\"k\">(</span> <span class=\"s\">'rootRowIndex'</span> <span class=\"k\">)].</span>cells<span class=\"k\">[</span>currentTopTd<span class=\"k\">.</span>getAttribute<span class=\"k\">(</span> <span class=\"s\">'rootCellIndex'</span> <span class=\"k\">)];</span>","                    <span class=\"k\">}</span>","","                    cellIndex <span class=\"k\">=</span> getIndex<span class=\"k\">(</span> currentTopTd <span class=\"k\">)</span> <span class=\"k\">+</span> <span class=\"k\">(</span>currentTopTd<span class=\"k\">.</span>colSpan <span class=\"k\">||</span> <span class=\"s\">1</span><span class=\"k\">);</span>","                <span class=\"k\">}</span>","            <span class=\"k\">}</span>","","            <span class=\"c\">//&#26816;&#26597;&#26159;&#21542;&#26377;&#36229;&#20986;&#24038;&#36793;&#30028;&#30340;&#24773;&#20917;</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span> beginCellIndex <span class=\"k\">&gt;</span> <span class=\"s\">0</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                <span class=\"k\">for</span> <span class=\"k\">(</span> <span class=\"k\">var</span> rowIndex <span class=\"k\">=</span> beginRowIndex<span class=\"k\">;</span> rowIndex <span class=\"k\">&lt;=</span> endRowIndex<span class=\"k\">;</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                    <span class=\"k\">var</span> currentLeftTd <span class=\"k\">=</span> rows<span class=\"k\">[</span>rowIndex<span class=\"k\">].</span>cells<span class=\"k\">[</span>beginCellIndex<span class=\"k\">];</span>","                    <span class=\"k\">if</span> <span class=\"k\">(</span> _isHide<span class=\"k\">(</span> currentLeftTd <span class=\"k\">)</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                        <span class=\"c\">// overflowCellIndex = beginCellIndex== currentLeftTd.rootCellIndex ? 1:0;</span>","                        beginCellIndex <span class=\"k\">=</span> currentLeftTd<span class=\"k\">.</span>getAttribute<span class=\"k\">(</span> <span class=\"s\">'rootCellIndex'</span> <span class=\"k\">);</span>","                        currentLeftTd <span class=\"k\">=</span> rows<span class=\"k\">[</span>currentLeftTd<span class=\"k\">.</span>getAttribute<span class=\"k\">(</span> <span class=\"s\">'rootRowIndex'</span> <span class=\"k\">)].</span>cells<span class=\"k\">[</span>currentLeftTd<span class=\"k\">.</span>getAttribute<span class=\"k\">(</span> <span class=\"s\">'rootCellIndex'</span> <span class=\"k\">)];</span>","                    <span class=\"k\">}</span>","                    rowIndex <span class=\"k\">=</span> currentLeftTd<span class=\"k\">.</span>parentNode<span class=\"k\">.</span>rowIndex <span class=\"k\">+</span> <span class=\"k\">(</span>currentLeftTd<span class=\"k\">.</span>rowSpan <span class=\"k\">||</span> <span class=\"s\">1</span><span class=\"k\">);</span>","                <span class=\"k\">}</span>","            <span class=\"k\">}</span>","","            <span class=\"c\">// &#26816;&#26597;&#26159;&#21542;&#26377;&#36229;&#20986;TableRange&#19979;&#36793;&#30028;&#30340;&#24773;&#20917;</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span> endRowIndex <span class=\"k\">&lt;</span> rowsNum <span class=\"k\">)</span> <span class=\"k\">{</span>","                <span class=\"k\">for</span> <span class=\"k\">(</span> <span class=\"k\">var</span> cellIndex <span class=\"k\">=</span> beginCellIndex<span class=\"k\">;</span> cellIndex <span class=\"k\">&lt;=</span> endCellIndex<span class=\"k\">;</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                    <span class=\"k\">var</span> currentDownTd <span class=\"k\">=</span> rows<span class=\"k\">[</span>endRowIndex<span class=\"k\">].</span>cells<span class=\"k\">[</span>cellIndex<span class=\"k\">];</span>","                    <span class=\"k\">if</span> <span class=\"k\">(</span> _isHide<span class=\"k\">(</span> currentDownTd <span class=\"k\">)</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                        currentDownTd <span class=\"k\">=</span> rows<span class=\"k\">[</span>currentDownTd<span class=\"k\">.</span>getAttribute<span class=\"k\">(</span> <span class=\"s\">'rootRowIndex'</span> <span class=\"k\">)].</span>cells<span class=\"k\">[</span>currentDownTd<span class=\"k\">.</span>getAttribute<span class=\"k\">(</span> <span class=\"s\">'rootCellIndex'</span> <span class=\"k\">)];</span>","                    <span class=\"k\">}</span>","                    endRowIndex <span class=\"k\">=</span> currentDownTd<span class=\"k\">.</span>parentNode<span class=\"k\">.</span>rowIndex <span class=\"k\">+</span> currentDownTd<span class=\"k\">.</span>rowSpan <span class=\"k\">-</span> <span class=\"s\">1</span><span class=\"k\">;</span>","                    cellIndex <span class=\"k\">=</span> getIndex<span class=\"k\">(</span> currentDownTd <span class=\"k\">)</span> <span class=\"k\">+</span> <span class=\"k\">(</span>currentDownTd<span class=\"k\">.</span>colSpan <span class=\"k\">||</span> <span class=\"s\">1</span><span class=\"k\">);</span>","                <span class=\"k\">}</span>","            <span class=\"k\">}</span>","","            <span class=\"c\">//&#26816;&#26597;&#26159;&#21542;&#26377;&#36229;&#20986;&#21491;&#36793;&#30028;&#30340;&#24773;&#20917;</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span> endCellIndex <span class=\"k\">&lt;</span> cellsNum <span class=\"k\">)</span> <span class=\"k\">{</span>","                <span class=\"k\">for</span> <span class=\"k\">(</span> rowIndex <span class=\"k\">=</span> beginRowIndex<span class=\"k\">;</span> rowIndex <span class=\"k\">&lt;=</span> endRowIndex<span class=\"k\">;</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                    <span class=\"k\">var</span> currentRightTd <span class=\"k\">=</span> rows<span class=\"k\">[</span>rowIndex<span class=\"k\">].</span>cells<span class=\"k\">[</span>endCellIndex<span class=\"k\">];</span>","                    <span class=\"k\">if</span> <span class=\"k\">(</span> _isHide<span class=\"k\">(</span> currentRightTd <span class=\"k\">)</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                        currentRightTd <span class=\"k\">=</span> rows<span class=\"k\">[</span>currentRightTd<span class=\"k\">.</span>getAttribute<span class=\"k\">(</span> <span class=\"s\">'rootRowIndex'</span> <span class=\"k\">)].</span>cells<span class=\"k\">[</span>currentRightTd<span class=\"k\">.</span>getAttribute<span class=\"k\">(</span> <span class=\"s\">'rootCellIndex'</span> <span class=\"k\">)];</span>","                    <span class=\"k\">}</span>","                    endCellIndex <span class=\"k\">=</span> getIndex<span class=\"k\">(</span> currentRightTd <span class=\"k\">)</span> <span class=\"k\">+</span> currentRightTd<span class=\"k\">.</span>colSpan <span class=\"k\">-</span> <span class=\"s\">1</span><span class=\"k\">;</span>","                    rowIndex <span class=\"k\">=</span> currentRightTd<span class=\"k\">.</span>parentNode<span class=\"k\">.</span>rowIndex <span class=\"k\">+</span> <span class=\"k\">(</span>currentRightTd<span class=\"k\">.</span>rowSpan <span class=\"k\">||</span> <span class=\"s\">1</span><span class=\"k\">);</span>","                <span class=\"k\">}</span>","            <span class=\"k\">}</span>","","            <span class=\"k\">if</span> <span class=\"k\">(</span> tmpBeginCellIndex <span class=\"k\">==</span> beginCellIndex <span class=\"k\">&amp;&amp;</span> tmpEndCellIndex <span class=\"k\">==</span> endCellIndex <span class=\"k\">&amp;&amp;</span> tmpEndRowIndex <span class=\"k\">==</span> endRowIndex <span class=\"k\">&amp;&amp;</span> tmpBeginRowIndex <span class=\"k\">==</span> beginRowIndex <span class=\"k\">)</span> <span class=\"k\">{</span>","                <span class=\"k\">break</span><span class=\"k\">;</span>","            <span class=\"k\">}</span>","        <span class=\"k\">}</span>","","        <span class=\"c\">//&#36820;&#22238;&#36873;&#21306;&#30340;&#36215;&#22987;&#21644;&#32467;&#26463;&#22352;&#26631;</span>","        <span class=\"k\">return</span> <span class=\"k\">{</span>","            beginRowIndex<span class=\"k\">:</span>beginRowIndex<span class=\"k\">,</span>","            beginCellIndex<span class=\"k\">:</span>beginCellIndex<span class=\"k\">,</span>","            endRowIndex<span class=\"k\">:</span>endRowIndex<span class=\"k\">,</span>","            endCellIndex<span class=\"k\">:</span>endCellIndex","        <span class=\"k\">}</span>","    <span class=\"k\">}</span>","","","    <span class=\"c\">/**</span>","<span class=\"c\">     * &#40736;&#26631;&#25353;&#19979;&#20107;&#20214;</span>","<span class=\"c\">     * @param type</span>","<span class=\"c\">     * @param evt</span>","<span class=\"c\">     */</span>","    <span class=\"k\">function</span> _mouseDownEvent<span class=\"k\">(</span> type<span class=\"k\">,</span> evt <span class=\"k\">)</span> <span class=\"k\">{</span>","        anchorTd <span class=\"k\">=</span> evt<span class=\"k\">.</span>target <span class=\"k\">||</span> evt<span class=\"k\">.</span>srcElement<span class=\"k\">;</span>","","        <span class=\"k\">if</span> <span class=\"k\">(</span> me<span class=\"k\">.</span>queryCommandState<span class=\"k\">(</span> <span class=\"s\">'highlightcode'</span> <span class=\"k\">)</span> <span class=\"k\">||</span> domUtils<span class=\"k\">.</span>findParent<span class=\"k\">(</span> anchorTd<span class=\"k\">,</span> <span class=\"k\">function</span> <span class=\"k\">(</span> node <span class=\"k\">)</span> <span class=\"k\">{</span>","            <span class=\"k\">return</span> node<span class=\"k\">.</span>tagName <span class=\"k\">==</span> <span class=\"s\">\"DIV\"</span> <span class=\"k\">&amp;&amp;</span> <span class=\"s\">/highlighter/</span><span class=\"k\">.</span>test<span class=\"k\">(</span> node<span class=\"k\">.</span>id <span class=\"k\">);</span>","        <span class=\"k\">}</span> <span class=\"k\">)</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","","            <span class=\"k\">return</span><span class=\"k\">;</span>","        <span class=\"k\">}</span>","","        <span class=\"k\">if</span> <span class=\"k\">(</span> evt<span class=\"k\">.</span>button <span class=\"k\">==</span> <span class=\"s\">2</span> <span class=\"k\">)</span><span class=\"k\">return</span><span class=\"k\">;</span>","        me<span class=\"k\">.</span>document<span class=\"k\">.</span>body<span class=\"k\">.</span>style<span class=\"k\">.</span>webkitUserSelect <span class=\"k\">=</span> <span class=\"s\">''</span><span class=\"k\">;</span>","","","        clearSelectedTd<span class=\"k\">(</span> me<span class=\"k\">.</span>currentSelectedArr <span class=\"k\">);</span>","        domUtils<span class=\"k\">.</span>clearSelectedArr<span class=\"k\">(</span> me<span class=\"k\">.</span>currentSelectedArr <span class=\"k\">);</span>","        <span class=\"c\">//&#22312;td&#37324;&#36793;&#28857;&#20987;&#65292;anchorTd&#19981;&#26159;td</span>","        <span class=\"k\">if</span> <span class=\"k\">(</span> anchorTd<span class=\"k\">.</span>tagName <span class=\"k\">!==</span> <span class=\"s\">'TD'</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","            anchorTd <span class=\"k\">=</span> domUtils<span class=\"k\">.</span>findParentByTagName<span class=\"k\">(</span> anchorTd<span class=\"k\">,</span> <span class=\"s\">'td'</span> <span class=\"k\">)</span> <span class=\"k\">||</span> anchorTd<span class=\"k\">;</span>","        <span class=\"k\">}</span>","","        <span class=\"k\">if</span> <span class=\"k\">(</span> anchorTd<span class=\"k\">.</span>tagName <span class=\"k\">==</span> <span class=\"s\">'TD'</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","","","            me<span class=\"k\">.</span>addListener<span class=\"k\">(</span> <span class=\"s\">'mouseover'</span><span class=\"k\">,</span> <span class=\"k\">function</span> <span class=\"k\">(</span> type<span class=\"k\">,</span> evt <span class=\"k\">)</span> <span class=\"k\">{</span>","                <span class=\"k\">var</span> tmpTd <span class=\"k\">=</span> evt<span class=\"k\">.</span>target <span class=\"k\">||</span> evt<span class=\"k\">.</span>srcElement<span class=\"k\">;</span>","                _mouseOverEvent<span class=\"k\">.</span>call<span class=\"k\">(</span> me<span class=\"k\">,</span> tmpTd <span class=\"k\">);</span>","                evt<span class=\"k\">.</span>preventDefault <span class=\"k\">?</span> evt<span class=\"k\">.</span>preventDefault<span class=\"k\">()</span> <span class=\"k\">:</span> <span class=\"k\">(</span>evt<span class=\"k\">.</span>returnValue <span class=\"k\">=</span> <span class=\"k\">false</span><span class=\"k\">);</span>","            <span class=\"k\">}</span> <span class=\"k\">);</span>","","        <span class=\"k\">}</span> <span class=\"k\">else</span> <span class=\"k\">{</span>","","","            reset<span class=\"k\">();</span>","        <span class=\"k\">}</span>","","    <span class=\"k\">}</span>","","    <span class=\"c\">/**</span>","<span class=\"c\">     * &#40736;&#26631;&#31227;&#21160;&#20107;&#20214;</span>","<span class=\"c\">     * @param tmpTd</span>","<span class=\"c\">     */</span>","    <span class=\"k\">function</span> _mouseOverEvent<span class=\"k\">(</span> tmpTd <span class=\"k\">)</span> <span class=\"k\">{</span>","        <span class=\"c\">//&#38656;&#35201;&#21028;&#26029;&#20004;&#20010;TD&#26159;&#21542;&#20301;&#20110;&#21516;&#19968;&#20010;&#34920;&#26684;&#20869;</span>","        <span class=\"k\">if</span> <span class=\"k\">(</span> anchorTd <span class=\"k\">&amp;&amp;</span> tmpTd<span class=\"k\">.</span>tagName <span class=\"k\">==</span> <span class=\"s\">\"TD\"</span> <span class=\"k\">&amp;&amp;</span> domUtils<span class=\"k\">.</span>findParentByTagName<span class=\"k\">(</span> anchorTd<span class=\"k\">,</span> <span class=\"s\">'table'</span> <span class=\"k\">)</span> <span class=\"k\">==</span> domUtils<span class=\"k\">.</span>findParentByTagName<span class=\"k\">(</span> tmpTd<span class=\"k\">,</span> <span class=\"s\">'table'</span> <span class=\"k\">)</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","            me<span class=\"k\">.</span>document<span class=\"k\">.</span>body<span class=\"k\">.</span>style<span class=\"k\">.</span>webkitUserSelect <span class=\"k\">=</span> <span class=\"s\">'none'</span><span class=\"k\">;</span>","            <span class=\"k\">var</span> table <span class=\"k\">=</span> tmpTd<span class=\"k\">.</span>parentNode<span class=\"k\">.</span>parentNode<span class=\"k\">.</span>parentNode<span class=\"k\">;</span>","            me<span class=\"k\">.</span>selection<span class=\"k\">.</span>getNative<span class=\"k\">()[</span>browser<span class=\"k\">.</span>ie <span class=\"k\">?</span> <span class=\"s\">'empty'</span> <span class=\"k\">:</span> <span class=\"s\">'removeAllRanges'</span><span class=\"k\">]();</span>","            <span class=\"k\">var</span> range <span class=\"k\">=</span> _getCellsRange<span class=\"k\">(</span> anchorTd<span class=\"k\">,</span> tmpTd <span class=\"k\">);</span>","            _toggleSelect<span class=\"k\">(</span> table<span class=\"k\">,</span> range <span class=\"k\">);</span>","        <span class=\"k\">}</span>","    <span class=\"k\">}</span>","","    <span class=\"c\">/**</span>","<span class=\"c\">     * &#20999;&#25442;&#36873;&#21306;&#29366;&#24577;</span>","<span class=\"c\">     * @param table</span>","<span class=\"c\">     * @param cellsRange</span>","<span class=\"c\">     */</span>","    <span class=\"k\">function</span> _toggleSelect<span class=\"k\">(</span> table<span class=\"k\">,</span> cellsRange <span class=\"k\">)</span> <span class=\"k\">{</span>","        <span class=\"k\">var</span> rows <span class=\"k\">=</span> table<span class=\"k\">.</span>rows<span class=\"k\">;</span>","        clearSelectedTd<span class=\"k\">(</span> me<span class=\"k\">.</span>currentSelectedArr <span class=\"k\">);</span>","        <span class=\"k\">for</span> <span class=\"k\">(</span> <span class=\"k\">var</span> i <span class=\"k\">=</span> cellsRange<span class=\"k\">.</span>beginRowIndex<span class=\"k\">;</span> i <span class=\"k\">&lt;=</span> cellsRange<span class=\"k\">.</span>endRowIndex<span class=\"k\">;</span> i<span class=\"k\">++</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","            <span class=\"k\">for</span> <span class=\"k\">(</span> <span class=\"k\">var</span> j <span class=\"k\">=</span> cellsRange<span class=\"k\">.</span>beginCellIndex<span class=\"k\">;</span> j <span class=\"k\">&lt;=</span> cellsRange<span class=\"k\">.</span>endCellIndex<span class=\"k\">;</span> j<span class=\"k\">++</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                <span class=\"k\">var</span> td <span class=\"k\">=</span> rows<span class=\"k\">[</span>i<span class=\"k\">].</span>cells<span class=\"k\">[</span>j<span class=\"k\">];</span>","                td<span class=\"k\">.</span>className <span class=\"k\">=</span> <span class=\"s\">\"selectTdClass\"</span><span class=\"k\">;</span>","                me<span class=\"k\">.</span>currentSelectedArr<span class=\"k\">.</span>push<span class=\"k\">(</span> td <span class=\"k\">);</span>","            <span class=\"k\">}</span>","        <span class=\"k\">}</span>","    <span class=\"k\">}</span>","","    <span class=\"c\">//&#26356;&#26032;rootRowIndxe,rootCellIndex</span>","    <span class=\"k\">function</span> update<span class=\"k\">(</span> table <span class=\"k\">)</span> <span class=\"k\">{</span>","        <span class=\"k\">var</span> tds <span class=\"k\">=</span> table<span class=\"k\">.</span>getElementsByTagName<span class=\"k\">(</span> <span class=\"s\">'td'</span> <span class=\"k\">),</span>","                rowIndex<span class=\"k\">,</span> cellIndex<span class=\"k\">,</span> rows <span class=\"k\">=</span> table<span class=\"k\">.</span>rows<span class=\"k\">;</span>","        <span class=\"k\">for</span> <span class=\"k\">(</span> <span class=\"k\">var</span> j <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">,</span> tj<span class=\"k\">;</span> tj <span class=\"k\">=</span> tds<span class=\"k\">[</span>j<span class=\"k\">++];</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span> <span class=\"k\">!</span>_isHide<span class=\"k\">(</span> tj <span class=\"k\">)</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                rowIndex <span class=\"k\">=</span> tj<span class=\"k\">.</span>parentNode<span class=\"k\">.</span>rowIndex<span class=\"k\">;</span>","                cellIndex <span class=\"k\">=</span> getIndex<span class=\"k\">(</span> tj <span class=\"k\">);</span>","                <span class=\"k\">for</span> <span class=\"k\">(</span> <span class=\"k\">var</span> r <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">;</span> r <span class=\"k\">&lt;</span> tj<span class=\"k\">.</span>rowSpan<span class=\"k\">;</span> r<span class=\"k\">++</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                    <span class=\"k\">var</span> c <span class=\"k\">=</span> r <span class=\"k\">==</span> <span class=\"s\">0</span> <span class=\"k\">?</span> <span class=\"s\">1</span> <span class=\"k\">:</span> <span class=\"s\">0</span><span class=\"k\">;</span>","                    <span class=\"k\">for</span> <span class=\"k\">(</span> <span class=\"k\">;</span> c <span class=\"k\">&lt;</span> tj<span class=\"k\">.</span>colSpan<span class=\"k\">;</span> c<span class=\"k\">++</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                        <span class=\"k\">var</span> tmp <span class=\"k\">=</span> rows<span class=\"k\">[</span>rowIndex <span class=\"k\">+</span> r<span class=\"k\">].</span>children<span class=\"k\">[</span>cellIndex <span class=\"k\">+</span> c<span class=\"k\">];</span>","","","                        tmp<span class=\"k\">.</span>setAttribute<span class=\"k\">(</span> <span class=\"s\">'rootRowIndex'</span><span class=\"k\">,</span> rowIndex <span class=\"k\">);</span>","                        tmp<span class=\"k\">.</span>setAttribute<span class=\"k\">(</span> <span class=\"s\">'rootCellIndex'</span><span class=\"k\">,</span> cellIndex <span class=\"k\">);</span>","","                    <span class=\"k\">}</span>","                <span class=\"k\">}</span>","            <span class=\"k\">}</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span> <span class=\"k\">!</span>_isHide<span class=\"k\">(</span> tj <span class=\"k\">)</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                domUtils<span class=\"k\">.</span>removeAttributes<span class=\"k\">(</span> tj<span class=\"k\">,</span> <span class=\"k\">[</span><span class=\"s\">'rootRowIndex'</span><span class=\"k\">,</span> <span class=\"s\">'rootCellIndex'</span><span class=\"k\">]</span> <span class=\"k\">);</span>","            <span class=\"k\">}</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span> tj<span class=\"k\">.</span>colSpan <span class=\"k\">&amp;&amp;</span> tj<span class=\"k\">.</span>colSpan <span class=\"k\">==</span> <span class=\"s\">1</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                tj<span class=\"k\">.</span>removeAttribute<span class=\"k\">(</span> <span class=\"s\">'colSpan'</span> <span class=\"k\">)</span>","            <span class=\"k\">}</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span> tj<span class=\"k\">.</span>rowSpan <span class=\"k\">&amp;&amp;</span> tj<span class=\"k\">.</span>rowSpan <span class=\"k\">==</span> <span class=\"s\">1</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                tj<span class=\"k\">.</span>removeAttribute<span class=\"k\">(</span> <span class=\"s\">'rowSpan'</span> <span class=\"k\">)</span>","            <span class=\"k\">}</span>","            <span class=\"k\">var</span> width<span class=\"k\">;</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span> <span class=\"k\">!</span>_isHide<span class=\"k\">(</span> tj <span class=\"k\">)</span> <span class=\"k\">&amp;&amp;</span> <span class=\"k\">(</span>width <span class=\"k\">=</span> tj<span class=\"k\">.</span>style<span class=\"k\">.</span>width<span class=\"k\">)</span> <span class=\"k\">&amp;&amp;</span> <span class=\"s\">/%/</span><span class=\"k\">.</span>test<span class=\"k\">(</span> width <span class=\"k\">)</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                tj<span class=\"k\">.</span>style<span class=\"k\">.</span>width <span class=\"k\">=</span> Math<span class=\"k\">.</span>floor<span class=\"k\">(</span> <span class=\"s\">100</span> <span class=\"k\">/</span> tj<span class=\"k\">.</span>parentNode<span class=\"k\">.</span>cells<span class=\"k\">.</span>length <span class=\"k\">)</span> <span class=\"k\">+</span> <span class=\"s\">'%'</span>","            <span class=\"k\">}</span>","        <span class=\"k\">}</span>","    <span class=\"k\">}</span>","","    me<span class=\"k\">.</span>adjustTable <span class=\"k\">=</span> <span class=\"k\">function</span> <span class=\"k\">(</span> cont <span class=\"k\">)</span> <span class=\"k\">{</span>","        <span class=\"k\">var</span> table <span class=\"k\">=</span> cont<span class=\"k\">.</span>getElementsByTagName<span class=\"k\">(</span> <span class=\"s\">'table'</span> <span class=\"k\">);</span>","        <span class=\"k\">for</span> <span class=\"k\">(</span> <span class=\"k\">var</span> i <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">,</span> ti<span class=\"k\">;</span> ti <span class=\"k\">=</span> table<span class=\"k\">[</span>i<span class=\"k\">++];</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","            <span class=\"c\">//&#22914;&#26524;&#34920;&#26684;&#30340;align&#19981;&#26159;&#40664;&#35748;&#65292;&#23558;&#19981;&#21344;&#20301;,&#32473;&#21518;&#36793;&#30340;block&#20803;&#32032;&#35774;&#32622;clear:both</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span> ti<span class=\"k\">.</span>getAttribute<span class=\"k\">(</span> <span class=\"s\">'align'</span> <span class=\"k\">)</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                <span class=\"k\">var</span> next <span class=\"k\">=</span> ti<span class=\"k\">.</span>nextSibling<span class=\"k\">;</span>","                <span class=\"k\">while</span> <span class=\"k\">(</span> next <span class=\"k\">)</span> <span class=\"k\">{</span>","                    <span class=\"k\">if</span> <span class=\"k\">(</span> domUtils<span class=\"k\">.</span>isBlockElm<span class=\"k\">(</span> next <span class=\"k\">)</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                        <span class=\"k\">break</span><span class=\"k\">;</span>","                    <span class=\"k\">}</span>","                    next <span class=\"k\">=</span> next<span class=\"k\">.</span>nextSibling<span class=\"k\">;</span>","                <span class=\"k\">}</span>","                <span class=\"k\">if</span> <span class=\"k\">(</span> next <span class=\"k\">)</span> <span class=\"k\">{</span>","                    next<span class=\"k\">.</span>style<span class=\"k\">.</span>clear <span class=\"k\">=</span> <span class=\"s\">'both'</span><span class=\"k\">;</span>","                <span class=\"k\">}</span>","            <span class=\"k\">}</span>","","            ti<span class=\"k\">.</span>removeAttribute<span class=\"k\">(</span> <span class=\"s\">'_innerCreateTable'</span> <span class=\"k\">);</span>","            <span class=\"k\">var</span> tds <span class=\"k\">=</span> domUtils<span class=\"k\">.</span>getElementsByTagName<span class=\"k\">(</span> ti<span class=\"k\">,</span> <span class=\"s\">'td'</span> <span class=\"k\">),</span>","                    td<span class=\"k\">,</span> tmpTd<span class=\"k\">;</span>","","            <span class=\"k\">for</span> <span class=\"k\">(</span> <span class=\"k\">var</span> j <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">,</span> tj<span class=\"k\">;</span> tj <span class=\"k\">=</span> tds<span class=\"k\">[</span>j<span class=\"k\">++];</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                <span class=\"k\">if</span> <span class=\"k\">(</span> domUtils<span class=\"k\">.</span>isEmptyNode<span class=\"k\">(</span> tj <span class=\"k\">)</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                    tj<span class=\"k\">.</span>innerHTML <span class=\"k\">=</span> browser<span class=\"k\">.</span>ie <span class=\"k\">?</span> domUtils<span class=\"k\">.</span>fillChar <span class=\"k\">:</span> <span class=\"s\">'&lt;br/&gt;'</span><span class=\"k\">;</span>","                <span class=\"k\">}</span>","                <span class=\"k\">var</span> index <span class=\"k\">=</span> getIndex<span class=\"k\">(</span> tj <span class=\"k\">),</span>","                        rowIndex <span class=\"k\">=</span> tj<span class=\"k\">.</span>parentNode<span class=\"k\">.</span>rowIndex<span class=\"k\">,</span>","                        rows <span class=\"k\">=</span> domUtils<span class=\"k\">.</span>findParentByTagName<span class=\"k\">(</span> tj<span class=\"k\">,</span> <span class=\"s\">'table'</span> <span class=\"k\">).</span>rows<span class=\"k\">;</span>","","                <span class=\"k\">for</span> <span class=\"k\">(</span> <span class=\"k\">var</span> r <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">;</span> r <span class=\"k\">&lt;</span> tj<span class=\"k\">.</span>rowSpan<span class=\"k\">;</span> r<span class=\"k\">++</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                    <span class=\"k\">var</span> c <span class=\"k\">=</span> r <span class=\"k\">==</span> <span class=\"s\">0</span> <span class=\"k\">?</span> <span class=\"s\">1</span> <span class=\"k\">:</span> <span class=\"s\">0</span><span class=\"k\">;</span>","                    <span class=\"k\">for</span> <span class=\"k\">(</span> <span class=\"k\">;</span> c <span class=\"k\">&lt;</span> tj<span class=\"k\">.</span>colSpan<span class=\"k\">;</span> c<span class=\"k\">++</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","","                        <span class=\"k\">if</span> <span class=\"k\">(</span> <span class=\"k\">!</span>td <span class=\"k\">)</span> <span class=\"k\">{</span>","                            td <span class=\"k\">=</span> tj<span class=\"k\">.</span>cloneNode<span class=\"k\">(</span> <span class=\"k\">false</span> <span class=\"k\">);</span>","","                            td<span class=\"k\">.</span>rowSpan <span class=\"k\">=</span> td<span class=\"k\">.</span>colSpan <span class=\"k\">=</span> <span class=\"s\">1</span><span class=\"k\">;</span>","                            td<span class=\"k\">.</span>style<span class=\"k\">.</span>display <span class=\"k\">=</span> <span class=\"s\">'none'</span><span class=\"k\">;</span>","                            td<span class=\"k\">.</span>innerHTML <span class=\"k\">=</span> browser<span class=\"k\">.</span>ie <span class=\"k\">?</span> <span class=\"s\">''</span> <span class=\"k\">:</span> <span class=\"s\">'&lt;br/&gt;'</span><span class=\"k\">;</span>","","","                        <span class=\"k\">}</span> <span class=\"k\">else</span> <span class=\"k\">{</span>","                            td <span class=\"k\">=</span> td<span class=\"k\">.</span>cloneNode<span class=\"k\">(</span> <span class=\"k\">true</span> <span class=\"k\">)</span>","                        <span class=\"k\">}</span>","","                        td<span class=\"k\">.</span>setAttribute<span class=\"k\">(</span> <span class=\"s\">'rootRowIndex'</span><span class=\"k\">,</span> tj<span class=\"k\">.</span>parentNode<span class=\"k\">.</span>rowIndex <span class=\"k\">);</span>","                        td<span class=\"k\">.</span>setAttribute<span class=\"k\">(</span> <span class=\"s\">'rootCellIndex'</span><span class=\"k\">,</span> index <span class=\"k\">);</span>","                        <span class=\"k\">if</span> <span class=\"k\">(</span> r <span class=\"k\">==</span> <span class=\"s\">0</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                            <span class=\"k\">if</span> <span class=\"k\">(</span> tj<span class=\"k\">.</span>nextSibling <span class=\"k\">)</span> <span class=\"k\">{</span>","                                tj<span class=\"k\">.</span>parentNode<span class=\"k\">.</span>insertBefore<span class=\"k\">(</span> td<span class=\"k\">,</span> tj<span class=\"k\">.</span>nextSibling <span class=\"k\">);</span>","                            <span class=\"k\">}</span> <span class=\"k\">else</span> <span class=\"k\">{</span>","                                tj<span class=\"k\">.</span>parentNode<span class=\"k\">.</span>appendChild<span class=\"k\">(</span> td <span class=\"k\">)</span>","                            <span class=\"k\">}</span>","                        <span class=\"k\">}</span> <span class=\"k\">else</span> <span class=\"k\">{</span>","                            tmpTd <span class=\"k\">=</span> rows<span class=\"k\">[</span>rowIndex <span class=\"k\">+</span> r<span class=\"k\">].</span>children<span class=\"k\">[</span>index<span class=\"k\">];</span>","                            <span class=\"k\">if</span> <span class=\"k\">(</span> tmpTd <span class=\"k\">)</span> <span class=\"k\">{</span>","                                tmpTd<span class=\"k\">.</span>parentNode<span class=\"k\">.</span>insertBefore<span class=\"k\">(</span> td<span class=\"k\">,</span> tmpTd <span class=\"k\">)</span>","                            <span class=\"k\">}</span> <span class=\"k\">else</span> <span class=\"k\">{</span>","                                <span class=\"c\">//trace:1032</span>","                                rows<span class=\"k\">[</span>rowIndex <span class=\"k\">+</span> r<span class=\"k\">].</span>appendChild<span class=\"k\">(</span> td <span class=\"k\">)</span>","                            <span class=\"k\">}</span>","                        <span class=\"k\">}</span>","","","                    <span class=\"k\">}</span>","                <span class=\"k\">}</span>","","","            <span class=\"k\">}</span>","            <span class=\"k\">var</span> bw <span class=\"k\">=</span> domUtils<span class=\"k\">.</span>getComputedStyle<span class=\"k\">(</span> ti<span class=\"k\">,</span> <span class=\"s\">\"border-width\"</span> <span class=\"k\">);</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span> bw <span class=\"k\">==</span> <span class=\"s\">'0px'</span> <span class=\"k\">&amp;&amp;</span> ti<span class=\"k\">.</span>style<span class=\"k\">.</span>border<span class=\"k\">!=</span><span class=\"s\">\"none\"</span> <span class=\"k\">||</span> <span class=\"k\">((</span>bw <span class=\"k\">==</span> <span class=\"s\">\"\"</span><span class=\"k\">||</span>bw <span class=\"k\">==</span><span class=\"s\">\"medium\"</span><span class=\"k\">)</span> <span class=\"k\">&amp;&amp;</span> ti<span class=\"k\">.</span>getAttribute<span class=\"k\">(</span> <span class=\"s\">\"border\"</span> <span class=\"k\">)</span> <span class=\"k\">===</span> <span class=\"s\">\"0\"</span><span class=\"k\">))</span> <span class=\"k\">{</span> <span class=\"c\">//trace 2377 ie7&#19979;&#33719;&#21462;&#23485;&#24230;&#20540;&#20026;medium</span>","                domUtils<span class=\"k\">.</span>addClass<span class=\"k\">(</span>ti<span class=\"k\">,</span><span class=\"s\">\"noBorderTable\"</span><span class=\"k\">);</span>","            <span class=\"k\">}</span>","        <span class=\"k\">}</span>","        me<span class=\"k\">.</span>fireEvent<span class=\"k\">(</span> <span class=\"s\">\"afteradjusttable\"</span><span class=\"k\">,</span> cont <span class=\"k\">);</span>","    <span class=\"k\">}</span><span class=\"k\">;</span>","    me<span class=\"k\">.</span>addListener<span class=\"k\">(</span><span class=\"s\">\"aftersetcontent\"</span><span class=\"k\">,</span><span class=\"k\">function</span><span class=\"k\">()</span><span class=\"k\">{</span>","        me<span class=\"k\">.</span>adjustTable<span class=\"k\">(</span> me<span class=\"k\">.</span>body <span class=\"k\">);</span>","    <span class=\"k\">}</span><span class=\"k\">);</span>","","<span class=\"c\">//    me.addListener( 'beforegetcontent', function () {</span>","<span class=\"c\">//        for ( var i = 0, ti, ts = me.document.getElementsByTagName( 'table' ); ti = ts[i++]; ) {</span>","<span class=\"c\">//            var pN = ti.parentNode;</span>","<span class=\"c\">//            if ( pN &amp;&amp; pN.getAttribute( 'dropdrag' ) ) {</span>","<span class=\"c\">//                domUtils.remove( pN, true )</span>","<span class=\"c\">//            }</span>","<span class=\"c\">//        }</span>","<span class=\"c\">//    } );</span>","<span class=\"c\">//</span>","<span class=\"c\">//    me.addListener( 'aftergetcontent', function () {</span>","<span class=\"c\">//        if ( !me.queryCommandState( 'source' ) )</span>","<span class=\"c\">//            me.fireEvent( 'afteradjusttable', me.document )</span>","<span class=\"c\">//    } );</span>","<span class=\"c\">//    //table&#25302;&#25341;</span>","<span class=\"c\">//    me.addListener( \"afteradjusttable\", function ( type, cont ) {</span>","<span class=\"c\">//        var table = cont.getElementsByTagName( \"table\" ),</span>","<span class=\"c\">//                dragCont = domUtils.createElement( me.document, 'div', {</span>","<span class=\"c\">//                    style:'margin:0;padding:5px;border:0;',</span>","<span class=\"c\">//                    dropdrag:true</span>","<span class=\"c\">//                } );</span>","<span class=\"c\">//</span>","<span class=\"c\">//        for ( var i = 0, ti; ti = table[i++]; ) {</span>","<span class=\"c\">//            var parentNode = ti.parentNode;</span>","<span class=\"c\">//            if ( parentNode &amp;&amp; parentNode.nodeType == 1 ) {</span>","<span class=\"c\">//                //&#25554;&#20837;&#20195;&#30721;</span>","<span class=\"c\">//                if ( /syntaxhighlighter/.test( parentNode.className ) ) continue;</span>","<span class=\"c\">//                (function ( ti ) {</span>","<span class=\"c\">//                    var div = dragCont.cloneNode( false );</span>","<span class=\"c\">//                    ti.parentNode.insertBefore( div, ti );</span>","<span class=\"c\">//                    div.appendChild( ti );</span>","<span class=\"c\">//                    var borderStyle;</span>","<span class=\"c\">//                    domUtils.on( div, 'mousemove', function ( evt ) {</span>","<span class=\"c\">//                        var tag = evt.srcElement || evt.target;</span>","<span class=\"c\">//                        if ( tag.tagName.toLowerCase() == \"div\" ) {</span>","<span class=\"c\">//                            if ( ie &amp;&amp; me.body.getAttribute( \"contentEditable\" ) == 'true' )</span>","<span class=\"c\">//                                me.body.setAttribute( \"contentEditable\", \"false\" );</span>","<span class=\"c\">//                            borderStyle = clickPosition( ti, this, evt )</span>","<span class=\"c\">//</span>","<span class=\"c\">//                        }</span>","<span class=\"c\">//                    } );</span>","<span class=\"c\">//                    if ( ie ) {</span>","<span class=\"c\">//                        domUtils.on( div, 'mouseleave', function ( evt ) {</span>","<span class=\"c\">//</span>","<span class=\"c\">//                            if ( domUtils.isTagNode( evt.srcElement, \"div\" ) &amp;&amp; me.body.getAttribute( \"contentEditable\" ) == 'false' ) {</span>","<span class=\"c\">//</span>","<span class=\"c\">//                                me.body.setAttribute( \"contentEditable\", \"true\" );</span>","<span class=\"c\">//                            }</span>","<span class=\"c\">//</span>","<span class=\"c\">//</span>","<span class=\"c\">//                        } );</span>","<span class=\"c\">//                    }</span>","<span class=\"c\">//</span>","<span class=\"c\">//                    domUtils.on( div, \"mousedown\", function ( evt ) {</span>","<span class=\"c\">//</span>","<span class=\"c\">//                        if ( domUtils.isTagNode( evt.srcElement || evt.target, 'div' ) ) {</span>","<span class=\"c\">//                            if ( ie &amp;&amp; me.body.getAttribute( \"contentEditable\" ) == 'true' )</span>","<span class=\"c\">//                                me.body.setAttribute( \"contentEditable\", \"false\" );</span>","<span class=\"c\">//                            var tWidth = ti.offsetWidth,</span>","<span class=\"c\">//                                    tHeight = ti.offsetHeight,</span>","<span class=\"c\">//                                    align = ti.getAttribute( 'align' );</span>","<span class=\"c\">//                            try {</span>","<span class=\"c\">//                                baidu.editor.ui.uiUtils.startDrag( evt, {</span>","<span class=\"c\">//                                    ondragstart:function () {</span>","<span class=\"c\">//                                    },</span>","<span class=\"c\">//                                    ondragmove:function ( x, y ) {</span>","<span class=\"c\">//</span>","<span class=\"c\">//                                        if ( align &amp;&amp; align != \"left\" &amp;&amp; /\\w?w-/.test( borderStyle ) ) {</span>","<span class=\"c\">//                                            x = -x;</span>","<span class=\"c\">//                                        }</span>","<span class=\"c\">//                                        if ( /^s?[we]/.test( borderStyle ) ) {</span>","<span class=\"c\">//                                            ti.setAttribute( \"width\", (tWidth + x) &gt; 0 ? tWidth + x : 0 );</span>","<span class=\"c\">//                                        }</span>","<span class=\"c\">//                                        if ( /^s/.test( borderStyle ) ) {</span>","<span class=\"c\">//                                            ti.setAttribute( \"height\", (tHeight + y) &gt; 0 ? tHeight + y : 0 );</span>","<span class=\"c\">//                                        }</span>","<span class=\"c\">//                                    },</span>","<span class=\"c\">//                                    ondragstop:function () {</span>","<span class=\"c\">//                                    }</span>","<span class=\"c\">//                                }, me.document );</span>","<span class=\"c\">//                            } catch ( e ) {</span>","<span class=\"c\">//                                alert( me.getLang(\"tableDrag\"));</span>","<span class=\"c\">//                            }</span>","<span class=\"c\">//</span>","<span class=\"c\">//                        }</span>","<span class=\"c\">//                    } );</span>","<span class=\"c\">//</span>","<span class=\"c\">//                    domUtils.on( ti, \"mouseover\", function () {</span>","<span class=\"c\">//                        var div = ti.parentNode;</span>","<span class=\"c\">//                        if ( div &amp;&amp; div.parentNode &amp;&amp; div.getAttribute( 'dropdrag' ) ) {</span>","<span class=\"c\">//                            domUtils.setStyle( div, \"cursor\", \"text\" );</span>","<span class=\"c\">//                            if ( ie &amp;&amp; me.body.getAttribute( \"contentEditable\" ) == 'false' )</span>","<span class=\"c\">//                                me.body.setAttribute( \"contentEditable\", \"true\" );</span>","<span class=\"c\">//                        }</span>","<span class=\"c\">//</span>","<span class=\"c\">//</span>","<span class=\"c\">//                    } );</span>","<span class=\"c\">//                })( ti );</span>","<span class=\"c\">//</span>","<span class=\"c\">//            }</span>","<span class=\"c\">//        }</span>","<span class=\"c\">//    } );</span>","<span class=\"c\">//    function clickPosition( table, div, evt ) {</span>","<span class=\"c\">//        var pos = domUtils.getXY( table ),</span>","<span class=\"c\">//                tWidth = table.offsetWidth,</span>","<span class=\"c\">//                tHeight = table.offsetHeight,</span>","<span class=\"c\">//                evtPos = {</span>","<span class=\"c\">//                    top:evt.clientY,</span>","<span class=\"c\">//                    left:evt.clientX</span>","<span class=\"c\">//                },</span>","<span class=\"c\">//                borderStyle = \"\";</span>","<span class=\"c\">//</span>","<span class=\"c\">//        if ( Math.abs( evtPos.left - pos.x - tWidth ) &lt; 15 ) {</span>","<span class=\"c\">//            //&#21491;&#65292;&#21491;&#19979;</span>","<span class=\"c\">//            borderStyle = Math.abs( evtPos.top - pos.y - tHeight ) &lt; 15 ? \"se-resize\" : \"e-resize\";</span>","<span class=\"c\">//        } else if ( Math.abs( evtPos.top - pos.y - tHeight ) &lt; 15 &amp;&amp; Math.abs( evtPos.left - pos.x ) &lt; tWidth ) {</span>","<span class=\"c\">//            //&#19979;</span>","<span class=\"c\">//            borderStyle = \"s-resize\";</span>","<span class=\"c\">//        }</span>","<span class=\"c\">//        domUtils.setStyle( div, \"cursor\", borderStyle || 'text' );</span>","<span class=\"c\">//        return borderStyle;</span>","<span class=\"c\">//    }</span>","<span class=\"k\">}</span><span class=\"k\">;</span>"]);
_$jscoverage['plugins/template.js'] && (_$jscoverage['plugins/template.js'].source = ["<span class=\"c\">///import core</span>","<span class=\"c\">///commands &#27169;&#26495;</span>","<span class=\"c\">///commandsName  template</span>","<span class=\"c\">///commandsTitle  &#27169;&#26495;</span>","<span class=\"c\">///commandsDialog  dialogs\\template\\template.html</span>","UE<span class=\"k\">.</span>plugins<span class=\"k\">[</span><span class=\"s\">'template'</span><span class=\"k\">]</span> <span class=\"k\">=</span> <span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","    UE<span class=\"k\">.</span>commands<span class=\"k\">[</span><span class=\"s\">'template'</span><span class=\"k\">]</span> <span class=\"k\">=</span> <span class=\"k\">{</span>","        execCommand<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">(</span>cmd<span class=\"k\">,</span> obj<span class=\"k\">)</span> <span class=\"k\">{</span>","            obj<span class=\"k\">.</span>html <span class=\"k\">&amp;&amp;</span> <span class=\"k\">this</span><span class=\"k\">.</span>execCommand<span class=\"k\">(</span><span class=\"s\">\"inserthtml\"</span><span class=\"k\">,</span> obj<span class=\"k\">.</span>html<span class=\"k\">);</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        queryCommandState<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","            <span class=\"k\">return</span> <span class=\"k\">this</span><span class=\"k\">.</span>highlight <span class=\"k\">?</span> <span class=\"k\">-</span><span class=\"s\">1</span> <span class=\"k\">:</span> <span class=\"s\">0</span><span class=\"k\">;</span>","        <span class=\"k\">}</span>","    <span class=\"k\">}</span><span class=\"k\">;</span>","    <span class=\"k\">this</span><span class=\"k\">.</span>addListener<span class=\"k\">(</span><span class=\"s\">\"click\"</span><span class=\"k\">,</span> <span class=\"k\">function</span> <span class=\"k\">(</span>type<span class=\"k\">,</span> evt<span class=\"k\">)</span> <span class=\"k\">{</span>","        <span class=\"k\">var</span> el <span class=\"k\">=</span> evt<span class=\"k\">.</span>target <span class=\"k\">||</span> evt<span class=\"k\">.</span>srcElement<span class=\"k\">,</span>","            range <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>selection<span class=\"k\">.</span>getRange<span class=\"k\">();</span>","        <span class=\"k\">var</span> tnode <span class=\"k\">=</span> domUtils<span class=\"k\">.</span>findParent<span class=\"k\">(</span>el<span class=\"k\">,</span> <span class=\"k\">function</span> <span class=\"k\">(</span>node<span class=\"k\">)</span> <span class=\"k\">{</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span>node<span class=\"k\">.</span>className <span class=\"k\">&amp;&amp;</span> domUtils<span class=\"k\">.</span>hasClass<span class=\"k\">(</span>node<span class=\"k\">,</span> <span class=\"s\">\"ue_t\"</span><span class=\"k\">))</span> <span class=\"k\">{</span>","                <span class=\"k\">return</span> node<span class=\"k\">;</span>","            <span class=\"k\">}</span>","        <span class=\"k\">}</span><span class=\"k\">,</span> <span class=\"k\">true</span><span class=\"k\">);</span>","        tnode <span class=\"k\">&amp;&amp;</span> range<span class=\"k\">.</span>selectNode<span class=\"k\">(</span>tnode<span class=\"k\">).</span>shrinkBoundary<span class=\"k\">().</span>select<span class=\"k\">();</span>","    <span class=\"k\">}</span><span class=\"k\">);</span>","    <span class=\"k\">this</span><span class=\"k\">.</span>addListener<span class=\"k\">(</span><span class=\"s\">\"keydown\"</span><span class=\"k\">,</span> <span class=\"k\">function</span> <span class=\"k\">(</span>type<span class=\"k\">,</span> evt<span class=\"k\">)</span> <span class=\"k\">{</span>","        <span class=\"k\">var</span> range <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>selection<span class=\"k\">.</span>getRange<span class=\"k\">();</span>","        <span class=\"k\">if</span> <span class=\"k\">(!</span>range<span class=\"k\">.</span>collapsed<span class=\"k\">)</span> <span class=\"k\">{</span>","            <span class=\"k\">if</span> <span class=\"k\">(!</span>evt<span class=\"k\">.</span>ctrlKey <span class=\"k\">&amp;&amp;</span> <span class=\"k\">!</span>evt<span class=\"k\">.</span>metaKey <span class=\"k\">&amp;&amp;</span> <span class=\"k\">!</span>evt<span class=\"k\">.</span>shiftKey <span class=\"k\">&amp;&amp;</span> <span class=\"k\">!</span>evt<span class=\"k\">.</span>altKey<span class=\"k\">)</span> <span class=\"k\">{</span>","                <span class=\"k\">var</span> tnode <span class=\"k\">=</span> domUtils<span class=\"k\">.</span>findParent<span class=\"k\">(</span>range<span class=\"k\">.</span>startContainer<span class=\"k\">,</span> <span class=\"k\">function</span> <span class=\"k\">(</span>node<span class=\"k\">)</span> <span class=\"k\">{</span>","                    <span class=\"k\">if</span> <span class=\"k\">(</span>node<span class=\"k\">.</span>className <span class=\"k\">&amp;&amp;</span> domUtils<span class=\"k\">.</span>hasClass<span class=\"k\">(</span>node<span class=\"k\">,</span> <span class=\"s\">\"ue_t\"</span><span class=\"k\">))</span> <span class=\"k\">{</span>","                        <span class=\"k\">return</span> node<span class=\"k\">;</span>","                    <span class=\"k\">}</span>","                <span class=\"k\">}</span><span class=\"k\">,</span> <span class=\"k\">true</span><span class=\"k\">);</span>","                <span class=\"k\">if</span> <span class=\"k\">(</span>tnode<span class=\"k\">)</span> <span class=\"k\">{</span>","                    domUtils<span class=\"k\">.</span>removeClasses<span class=\"k\">(</span>tnode<span class=\"k\">,</span> <span class=\"k\">[</span><span class=\"s\">\"ue_t\"</span><span class=\"k\">]);</span>","                <span class=\"k\">}</span>","            <span class=\"k\">}</span>","        <span class=\"k\">}</span>","    <span class=\"k\">}</span><span class=\"k\">);</span>","<span class=\"k\">}</span><span class=\"k\">;</span>"]);
_$jscoverage['plugins/time.js'] && (_$jscoverage['plugins/time.js'].source = ["<span class=\"c\">///import core</span>","<span class=\"c\">///import plugins\\inserthtml.js</span>","<span class=\"c\">///commands &#26085;&#26399;,&#26102;&#38388;</span>","<span class=\"c\">///commandsName  Date,Time</span>","<span class=\"c\">///commandsTitle  &#26085;&#26399;,&#26102;&#38388;</span>","<span class=\"c\">/**</span>","<span class=\"c\"> * &#25554;&#20837;&#26085;&#26399;</span>","<span class=\"c\"> * @function</span>","<span class=\"c\"> * @name baidu.editor.execCommand</span>","<span class=\"c\"> * @param   {String}   cmdName    date&#25554;&#20837;&#26085;&#26399;</span>","<span class=\"c\"> * @author zhuwenxuan</span>","<span class=\"c\">*/</span>","<span class=\"c\">/**</span>","<span class=\"c\"> * &#25554;&#20837;&#26102;&#38388;</span>","<span class=\"c\"> * @function</span>","<span class=\"c\"> * @name baidu.editor.execCommand</span>","<span class=\"c\"> * @param   {String}   cmdName    time&#25554;&#20837;&#26102;&#38388;</span>","<span class=\"c\"> * @author zhuwenxuan</span>","<span class=\"c\">*/</span>","UE<span class=\"k\">.</span>commands<span class=\"k\">[</span><span class=\"s\">'time'</span><span class=\"k\">]</span> <span class=\"k\">=</span> UE<span class=\"k\">.</span>commands<span class=\"k\">[</span><span class=\"s\">\"date\"</span><span class=\"k\">]</span> <span class=\"k\">=</span> <span class=\"k\">{</span>","    execCommand <span class=\"k\">:</span> <span class=\"k\">function</span><span class=\"k\">(</span>cmd<span class=\"k\">)</span><span class=\"k\">{</span>","        <span class=\"k\">var</span> date <span class=\"k\">=</span> <span class=\"k\">new</span> Date<span class=\"k\">;</span>","        <span class=\"k\">this</span><span class=\"k\">.</span>execCommand<span class=\"k\">(</span><span class=\"s\">'insertHtml'</span><span class=\"k\">,</span>cmd <span class=\"k\">==</span> <span class=\"s\">\"time\"</span> <span class=\"k\">?</span>","            <span class=\"k\">(</span>date<span class=\"k\">.</span>getHours<span class=\"k\">()+</span><span class=\"s\">\":\"</span><span class=\"k\">+</span> <span class=\"k\">(</span>date<span class=\"k\">.</span>getMinutes<span class=\"k\">()&lt;</span><span class=\"s\">10</span> <span class=\"k\">?</span> <span class=\"s\">\"0\"</span><span class=\"k\">+</span>date<span class=\"k\">.</span>getMinutes<span class=\"k\">()</span> <span class=\"k\">:</span> date<span class=\"k\">.</span>getMinutes<span class=\"k\">())+</span><span class=\"s\">\":\"</span><span class=\"k\">+(</span>date<span class=\"k\">.</span>getSeconds<span class=\"k\">()&lt;</span><span class=\"s\">10</span> <span class=\"k\">?</span> <span class=\"s\">\"0\"</span><span class=\"k\">+</span>date<span class=\"k\">.</span>getSeconds<span class=\"k\">()</span> <span class=\"k\">:</span> date<span class=\"k\">.</span>getSeconds<span class=\"k\">()))</span> <span class=\"k\">:</span>","            <span class=\"k\">(</span>date<span class=\"k\">.</span>getFullYear<span class=\"k\">()+</span><span class=\"s\">\"-\"</span><span class=\"k\">+((</span>date<span class=\"k\">.</span>getMonth<span class=\"k\">()+</span><span class=\"s\">1</span><span class=\"k\">)&lt;</span><span class=\"s\">10</span> <span class=\"k\">?</span> <span class=\"s\">\"0\"</span><span class=\"k\">+(</span>date<span class=\"k\">.</span>getMonth<span class=\"k\">()+</span><span class=\"s\">1</span><span class=\"k\">)</span> <span class=\"k\">:</span> date<span class=\"k\">.</span>getMonth<span class=\"k\">()+</span><span class=\"s\">1</span><span class=\"k\">)+</span><span class=\"s\">\"-\"</span><span class=\"k\">+(</span>date<span class=\"k\">.</span>getDate<span class=\"k\">()&lt;</span><span class=\"s\">10</span><span class=\"k\">?</span><span class=\"s\">\"0\"</span><span class=\"k\">+</span>date<span class=\"k\">.</span>getDate<span class=\"k\">():</span>date<span class=\"k\">.</span>getDate<span class=\"k\">())));</span>","    <span class=\"k\">}</span><span class=\"k\">,</span>","    queryCommandState <span class=\"k\">:</span> <span class=\"k\">function</span><span class=\"k\">()</span><span class=\"k\">{</span>","            <span class=\"k\">return</span> <span class=\"k\">this</span><span class=\"k\">.</span>highlight <span class=\"k\">?</span> <span class=\"k\">-</span><span class=\"s\">1</span> <span class=\"k\">:</span><span class=\"s\">0</span><span class=\"k\">;</span>","    <span class=\"k\">}</span>","<span class=\"k\">}</span><span class=\"k\">;</span>","","",""]);
_$jscoverage['plugins/undo.js'] && (_$jscoverage['plugins/undo.js'].source = ["<span class=\"c\">///import core</span>","<span class=\"c\">///commands &#25764;&#38144;&#21644;&#37325;&#20570;</span>","<span class=\"c\">///commandsName  Undo,Redo</span>","<span class=\"c\">///commandsTitle  &#25764;&#38144;,&#37325;&#20570;</span>","<span class=\"c\">/**</span>","<span class=\"c\">* @description &#22238;&#36864;</span>","<span class=\"c\">* @author zhanyi</span>","<span class=\"c\">*/</span>","","UE<span class=\"k\">.</span>plugins<span class=\"k\">[</span><span class=\"s\">'undo'</span><span class=\"k\">]</span> <span class=\"k\">=</span> <span class=\"k\">function</span><span class=\"k\">()</span> <span class=\"k\">{</span>","    <span class=\"k\">var</span> me <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">,</span>","        maxUndoCount <span class=\"k\">=</span> me<span class=\"k\">.</span>options<span class=\"k\">.</span>maxUndoCount <span class=\"k\">||</span> <span class=\"s\">20</span><span class=\"k\">,</span>","        maxInputCount <span class=\"k\">=</span> me<span class=\"k\">.</span>options<span class=\"k\">.</span>maxInputCount <span class=\"k\">||</span> <span class=\"s\">20</span><span class=\"k\">,</span>","        fillchar <span class=\"k\">=</span> <span class=\"k\">new</span> RegExp<span class=\"k\">(</span>domUtils<span class=\"k\">.</span>fillChar <span class=\"k\">+</span> <span class=\"s\">'|&lt;</span><span class=\"t\">\\/</span><span class=\"s\">hr&gt;'</span><span class=\"k\">,</span><span class=\"s\">'gi'</span><span class=\"k\">),</span><span class=\"c\">// ie&#20250;&#20135;&#29983;&#22810;&#20313;&#30340;&lt;/hr&gt;</span>","        <span class=\"c\">//&#22312;&#27604;&#36739;&#26102;&#65292;&#38656;&#35201;&#36807;&#28388;&#25481;&#36825;&#20123;&#23646;&#24615;</span>","        specialAttr <span class=\"k\">=</span> <span class=\"s\">/\\b(?:href|src|name)=\"[^\"]*?\"/gi</span><span class=\"k\">;</span>","","    <span class=\"c\">//&#22330;&#26223;&#30340;range&#23454;&#20363;</span>","    <span class=\"k\">function</span> sceneRange<span class=\"k\">(</span>rng<span class=\"k\">)</span><span class=\"k\">{</span>","        <span class=\"k\">var</span> me <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">;</span>","        me<span class=\"k\">.</span>collapsed <span class=\"k\">=</span> rng<span class=\"k\">.</span>collapsed<span class=\"k\">;</span>","        me<span class=\"k\">.</span>startAddr <span class=\"k\">=</span> getAddr<span class=\"k\">(</span>rng<span class=\"k\">.</span>startContainer<span class=\"k\">,</span>rng<span class=\"k\">.</span>startOffset<span class=\"k\">);</span>","        me<span class=\"k\">.</span>endAddr <span class=\"k\">=</span> rng<span class=\"k\">.</span>collapsed <span class=\"k\">?</span> me<span class=\"k\">.</span>startAddr <span class=\"k\">:</span> getAddr<span class=\"k\">(</span>rng<span class=\"k\">.</span>endContainer<span class=\"k\">,</span>rng<span class=\"k\">.</span>endOffset<span class=\"k\">)</span>","","    <span class=\"k\">}</span>","    sceneRange<span class=\"k\">.</span>prototype <span class=\"k\">=</span><span class=\"k\">{</span>","        compare <span class=\"k\">:</span> <span class=\"k\">function</span><span class=\"k\">(</span>obj<span class=\"k\">)</span><span class=\"k\">{</span>","            <span class=\"k\">if</span><span class=\"k\">(</span>me<span class=\"k\">.</span>collapsed <span class=\"k\">!==</span> obj<span class=\"k\">.</span>collapsed<span class=\"k\">)</span><span class=\"k\">{</span>","                <span class=\"k\">return</span> <span class=\"s\">0</span><span class=\"k\">;</span>","            <span class=\"k\">}</span>","            <span class=\"k\">if</span><span class=\"k\">(!</span>compareAddr<span class=\"k\">(</span>me<span class=\"k\">.</span>startAddr<span class=\"k\">,</span>obj<span class=\"k\">.</span>startAddr<span class=\"k\">)</span> <span class=\"k\">||</span> <span class=\"k\">!</span>compareAddr<span class=\"k\">(</span>me<span class=\"k\">.</span>endAddr<span class=\"k\">,</span>obj<span class=\"k\">.</span>endAddr<span class=\"k\">))</span><span class=\"k\">{</span>","                <span class=\"k\">return</span> <span class=\"s\">0</span><span class=\"k\">;</span>","            <span class=\"k\">}</span>","            <span class=\"k\">return</span> <span class=\"s\">1</span><span class=\"k\">;</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        transformRange <span class=\"k\">:</span> <span class=\"k\">function</span><span class=\"k\">(</span>rng<span class=\"k\">)</span><span class=\"k\">{</span>","            <span class=\"k\">var</span> me <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">;</span>","            rng<span class=\"k\">.</span>collapsed <span class=\"k\">=</span> me<span class=\"k\">.</span>collapsed<span class=\"k\">;</span>","            setAddr<span class=\"k\">(</span>rng<span class=\"k\">,</span><span class=\"s\">'start'</span><span class=\"k\">,</span>me<span class=\"k\">.</span>startAddr<span class=\"k\">);</span>","            rng<span class=\"k\">.</span>collapsed <span class=\"k\">?</span> rng<span class=\"k\">.</span>collapse<span class=\"k\">(</span><span class=\"k\">true</span><span class=\"k\">)</span> <span class=\"k\">:</span> setAddr<span class=\"k\">(</span>rng<span class=\"k\">,</span><span class=\"s\">'end'</span><span class=\"k\">,</span>me<span class=\"k\">.</span>endAddr<span class=\"k\">)</span>","","        <span class=\"k\">}</span>","    <span class=\"k\">}</span><span class=\"k\">;</span>","    <span class=\"k\">function</span> getAddr<span class=\"k\">(</span>node<span class=\"k\">,</span>index<span class=\"k\">)</span><span class=\"k\">{</span>","        <span class=\"k\">for</span><span class=\"k\">(</span><span class=\"k\">var</span> i<span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">,</span>parentsIndex <span class=\"k\">=</span> <span class=\"k\">[</span>index<span class=\"k\">],</span>ci<span class=\"k\">,</span>","                parents <span class=\"k\">=</span> domUtils<span class=\"k\">.</span>findParents<span class=\"k\">(</span>node<span class=\"k\">,</span><span class=\"k\">true</span><span class=\"k\">,</span><span class=\"k\">function</span><span class=\"k\">(</span>node<span class=\"k\">)</span><span class=\"k\">{</span><span class=\"k\">return</span> <span class=\"k\">!</span>domUtils<span class=\"k\">.</span>isBody<span class=\"k\">(</span>node<span class=\"k\">)</span><span class=\"k\">}</span><span class=\"k\">,</span><span class=\"k\">true</span><span class=\"k\">);</span>","            ci<span class=\"k\">=</span>parents<span class=\"k\">[</span>i<span class=\"k\">++];)</span><span class=\"k\">{</span>","            <span class=\"c\">//&#20462;&#27491;&#20559;&#31227;&#20301;&#32622;</span>","            <span class=\"k\">if</span><span class=\"k\">(</span>i <span class=\"k\">==</span> <span class=\"s\">1</span> <span class=\"k\">&amp;&amp;</span> ci<span class=\"k\">.</span>nodeType <span class=\"k\">==</span> <span class=\"s\">3</span><span class=\"k\">)</span><span class=\"k\">{</span>","","                <span class=\"k\">var</span> tmpNode <span class=\"k\">=</span> ci<span class=\"k\">;</span>","                <span class=\"k\">while</span><span class=\"k\">(</span>tmpNode <span class=\"k\">=</span> tmpNode<span class=\"k\">.</span>previousSibling<span class=\"k\">)</span><span class=\"k\">{</span>","                    <span class=\"k\">if</span><span class=\"k\">(</span>tmpNode<span class=\"k\">.</span>nodeType <span class=\"k\">==</span> <span class=\"s\">3</span><span class=\"k\">)</span><span class=\"k\">{</span>","<span class=\"c\">//                        console.log(index)</span>","                        index <span class=\"k\">+=</span> tmpNode<span class=\"k\">.</span>nodeValue<span class=\"k\">.</span>replace<span class=\"k\">(</span>fillCharReg<span class=\"k\">,</span><span class=\"s\">''</span><span class=\"k\">).</span>length<span class=\"k\">;</span>","                    <span class=\"k\">}</span><span class=\"k\">else</span><span class=\"k\">{</span>","                        <span class=\"k\">break</span><span class=\"k\">;</span>","                    <span class=\"k\">}</span>","                <span class=\"k\">}</span>","                parentsIndex<span class=\"k\">[</span><span class=\"s\">0</span><span class=\"k\">]</span> <span class=\"k\">=</span> index<span class=\"k\">;</span>","            <span class=\"k\">}</span>","","            parentsIndex<span class=\"k\">.</span>push<span class=\"k\">(</span>domUtils<span class=\"k\">.</span>getNodeIndex<span class=\"k\">(</span>ci<span class=\"k\">,</span><span class=\"k\">true</span><span class=\"k\">));</span>","","        <span class=\"k\">}</span>","","        <span class=\"k\">return</span> parentsIndex<span class=\"k\">.</span>reverse<span class=\"k\">();</span>","","    <span class=\"k\">}</span>","","    <span class=\"k\">function</span> compareAddr<span class=\"k\">(</span>indexA<span class=\"k\">,</span>indexB<span class=\"k\">)</span><span class=\"k\">{</span>","        <span class=\"k\">if</span><span class=\"k\">(</span>indexA<span class=\"k\">.</span>length <span class=\"k\">!=</span> indexB<span class=\"k\">.</span>length<span class=\"k\">)</span>","            <span class=\"k\">return</span> <span class=\"s\">0</span><span class=\"k\">;</span>","        <span class=\"k\">for</span><span class=\"k\">(</span><span class=\"k\">var</span> i<span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">,</span>l<span class=\"k\">=</span>indexA<span class=\"k\">.</span>length<span class=\"k\">;</span>i<span class=\"k\">&lt;</span>l<span class=\"k\">;</span>i<span class=\"k\">++)</span><span class=\"k\">{</span>","            <span class=\"k\">if</span><span class=\"k\">(</span>indexA<span class=\"k\">[</span>i<span class=\"k\">]!=</span>indexB<span class=\"k\">[</span>i<span class=\"k\">])</span>","                <span class=\"k\">return</span> <span class=\"s\">0</span>","        <span class=\"k\">}</span>","        <span class=\"k\">return</span> <span class=\"s\">1</span><span class=\"k\">;</span>","    <span class=\"k\">}</span>","    <span class=\"k\">function</span> setAddr<span class=\"k\">(</span>range<span class=\"k\">,</span>boundary<span class=\"k\">,</span>addr<span class=\"k\">)</span><span class=\"k\">{</span>","","        node <span class=\"k\">=</span> range<span class=\"k\">.</span>document<span class=\"k\">.</span>body<span class=\"k\">;</span>","        <span class=\"k\">for</span><span class=\"k\">(</span><span class=\"k\">var</span> i<span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">,</span>node<span class=\"k\">,</span>l <span class=\"k\">=</span> addr<span class=\"k\">.</span>length <span class=\"k\">-</span> <span class=\"s\">1</span><span class=\"k\">;</span>i<span class=\"k\">&lt;</span>l<span class=\"k\">;</span>i<span class=\"k\">++)</span><span class=\"k\">{</span>","            node <span class=\"k\">=</span> node<span class=\"k\">.</span>childNodes<span class=\"k\">[</span>addr<span class=\"k\">[</span>i<span class=\"k\">]];</span>","        <span class=\"k\">}</span>","        range<span class=\"k\">[</span>boundary<span class=\"k\">+</span><span class=\"s\">'Container'</span><span class=\"k\">]</span> <span class=\"k\">=</span> node<span class=\"k\">;</span>","        range<span class=\"k\">[</span>boundary<span class=\"k\">+</span><span class=\"s\">'Offset'</span><span class=\"k\">]</span> <span class=\"k\">=</span>  addr<span class=\"k\">[</span>addr<span class=\"k\">.</span>length<span class=\"k\">-</span><span class=\"s\">1</span><span class=\"k\">];</span>","    <span class=\"k\">}</span>","    <span class=\"k\">function</span> UndoManager<span class=\"k\">()</span> <span class=\"k\">{</span>","","        <span class=\"k\">this</span><span class=\"k\">.</span>list <span class=\"k\">=</span> <span class=\"k\">[];</span>","        <span class=\"k\">this</span><span class=\"k\">.</span>index <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">;</span>","        <span class=\"k\">this</span><span class=\"k\">.</span>hasUndo <span class=\"k\">=</span> <span class=\"k\">false</span><span class=\"k\">;</span>","        <span class=\"k\">this</span><span class=\"k\">.</span>hasRedo <span class=\"k\">=</span> <span class=\"k\">false</span><span class=\"k\">;</span>","        <span class=\"k\">this</span><span class=\"k\">.</span>undo <span class=\"k\">=</span> <span class=\"k\">function</span><span class=\"k\">()</span> <span class=\"k\">{</span>","","            <span class=\"k\">if</span> <span class=\"k\">(</span> <span class=\"k\">this</span><span class=\"k\">.</span>hasUndo <span class=\"k\">)</span> <span class=\"k\">{</span>","                <span class=\"k\">var</span> currentScene <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>getScene<span class=\"k\">(),</span>","                    lastScene <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>list<span class=\"k\">[</span><span class=\"k\">this</span><span class=\"k\">.</span>index<span class=\"k\">];</span>","                <span class=\"k\">if</span> <span class=\"k\">(</span> lastScene<span class=\"k\">.</span>content<span class=\"k\">.</span>replace<span class=\"k\">(</span>specialAttr<span class=\"k\">,</span><span class=\"s\">''</span><span class=\"k\">)</span> <span class=\"k\">!=</span> currentScene<span class=\"k\">.</span>content<span class=\"k\">.</span>replace<span class=\"k\">(</span>specialAttr<span class=\"k\">,</span><span class=\"s\">''</span><span class=\"k\">)</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                    <span class=\"k\">this</span><span class=\"k\">.</span>save<span class=\"k\">();</span>","                <span class=\"k\">}</span>","                                    <span class=\"k\">if</span><span class=\"k\">(!</span><span class=\"k\">this</span><span class=\"k\">.</span>list<span class=\"k\">[</span><span class=\"k\">this</span><span class=\"k\">.</span>index <span class=\"k\">-</span> <span class=\"s\">1</span><span class=\"k\">]</span> <span class=\"k\">&amp;&amp;</span> <span class=\"k\">this</span><span class=\"k\">.</span>list<span class=\"k\">.</span>length <span class=\"k\">==</span> <span class=\"s\">1</span><span class=\"k\">)</span><span class=\"k\">{</span>","                    <span class=\"k\">this</span><span class=\"k\">.</span>reset<span class=\"k\">();</span>","                    <span class=\"k\">return</span><span class=\"k\">;</span>","                <span class=\"k\">}</span>","                <span class=\"k\">while</span> <span class=\"k\">(</span> <span class=\"k\">this</span><span class=\"k\">.</span>list<span class=\"k\">[</span><span class=\"k\">this</span><span class=\"k\">.</span>index<span class=\"k\">].</span>content <span class=\"k\">==</span> <span class=\"k\">this</span><span class=\"k\">.</span>list<span class=\"k\">[</span><span class=\"k\">this</span><span class=\"k\">.</span>index <span class=\"k\">-</span> <span class=\"s\">1</span><span class=\"k\">].</span>content <span class=\"k\">)</span> <span class=\"k\">{</span>","                    <span class=\"k\">this</span><span class=\"k\">.</span>index<span class=\"k\">--;</span>","                    <span class=\"k\">if</span> <span class=\"k\">(</span> <span class=\"k\">this</span><span class=\"k\">.</span>index <span class=\"k\">==</span> <span class=\"s\">0</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                        <span class=\"k\">return</span> <span class=\"k\">this</span><span class=\"k\">.</span>restore<span class=\"k\">(</span> <span class=\"s\">0</span> <span class=\"k\">);</span>","                    <span class=\"k\">}</span>","                <span class=\"k\">}</span>","                <span class=\"k\">this</span><span class=\"k\">.</span>restore<span class=\"k\">(</span> <span class=\"k\">--</span><span class=\"k\">this</span><span class=\"k\">.</span>index <span class=\"k\">);</span>","            <span class=\"k\">}</span>","        <span class=\"k\">}</span><span class=\"k\">;</span>","        <span class=\"k\">this</span><span class=\"k\">.</span>redo <span class=\"k\">=</span> <span class=\"k\">function</span><span class=\"k\">()</span> <span class=\"k\">{</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span> <span class=\"k\">this</span><span class=\"k\">.</span>hasRedo <span class=\"k\">)</span> <span class=\"k\">{</span>","                <span class=\"k\">while</span> <span class=\"k\">(</span> <span class=\"k\">this</span><span class=\"k\">.</span>list<span class=\"k\">[</span><span class=\"k\">this</span><span class=\"k\">.</span>index<span class=\"k\">].</span>content <span class=\"k\">==</span> <span class=\"k\">this</span><span class=\"k\">.</span>list<span class=\"k\">[</span><span class=\"k\">this</span><span class=\"k\">.</span>index <span class=\"k\">+</span> <span class=\"s\">1</span><span class=\"k\">].</span>content <span class=\"k\">)</span> <span class=\"k\">{</span>","                    <span class=\"k\">this</span><span class=\"k\">.</span>index<span class=\"k\">++;</span>","                    <span class=\"k\">if</span> <span class=\"k\">(</span> <span class=\"k\">this</span><span class=\"k\">.</span>index <span class=\"k\">==</span> <span class=\"k\">this</span><span class=\"k\">.</span>list<span class=\"k\">.</span>length <span class=\"k\">-</span> <span class=\"s\">1</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                        <span class=\"k\">return</span> <span class=\"k\">this</span><span class=\"k\">.</span>restore<span class=\"k\">(</span> <span class=\"k\">this</span><span class=\"k\">.</span>index <span class=\"k\">);</span>","                    <span class=\"k\">}</span>","                <span class=\"k\">}</span>","                <span class=\"k\">this</span><span class=\"k\">.</span>restore<span class=\"k\">(</span> <span class=\"k\">++</span><span class=\"k\">this</span><span class=\"k\">.</span>index <span class=\"k\">);</span>","            <span class=\"k\">}</span>","        <span class=\"k\">}</span><span class=\"k\">;</span>","","        <span class=\"k\">this</span><span class=\"k\">.</span>restore <span class=\"k\">=</span> <span class=\"k\">function</span><span class=\"k\">()</span> <span class=\"k\">{</span>","            <span class=\"k\">var</span> scene <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>list<span class=\"k\">[</span><span class=\"k\">this</span><span class=\"k\">.</span>index<span class=\"k\">];</span>","            <span class=\"c\">//trace:873</span>","            <span class=\"c\">//&#21435;&#25481;&#23637;&#20301;&#31526;</span>","            me<span class=\"k\">.</span>document<span class=\"k\">.</span>body<span class=\"k\">.</span>innerHTML <span class=\"k\">=</span> scene<span class=\"k\">.</span>bookcontent<span class=\"k\">.</span>replace<span class=\"k\">(</span>fillchar<span class=\"k\">,</span><span class=\"s\">''</span><span class=\"k\">);</span>","            <span class=\"c\">//&#22788;&#29702;undo&#21518;&#31354;&#26684;&#19981;&#23637;&#20301;&#30340;&#38382;&#39064;</span>","            <span class=\"k\">if</span><span class=\"k\">(</span>browser<span class=\"k\">.</span>ie<span class=\"k\">)</span><span class=\"k\">{</span>","                <span class=\"k\">for</span><span class=\"k\">(</span><span class=\"k\">var</span> i<span class=\"k\">=</span><span class=\"s\">0</span><span class=\"k\">,</span>pi<span class=\"k\">,</span>ps <span class=\"k\">=</span> me<span class=\"k\">.</span>document<span class=\"k\">.</span>getElementsByTagName<span class=\"k\">(</span><span class=\"s\">'p'</span><span class=\"k\">);</span>pi <span class=\"k\">=</span> ps<span class=\"k\">[</span>i<span class=\"k\">++];)</span><span class=\"k\">{</span>","                    <span class=\"k\">if</span><span class=\"k\">(</span>pi<span class=\"k\">.</span>innerHTML <span class=\"k\">==</span> <span class=\"s\">''</span><span class=\"k\">)</span><span class=\"k\">{</span>","                        domUtils<span class=\"k\">.</span>fillNode<span class=\"k\">(</span>me<span class=\"k\">.</span>document<span class=\"k\">,</span>pi<span class=\"k\">);</span>","                    <span class=\"k\">}</span>","                <span class=\"k\">}</span>","            <span class=\"k\">}</span>","","            <span class=\"k\">var</span> range <span class=\"k\">=</span> <span class=\"k\">new</span> dom<span class=\"k\">.</span>Range<span class=\"k\">(</span> me<span class=\"k\">.</span>document <span class=\"k\">);</span>","","","            <span class=\"c\">//&#26377;&#21487;&#33021;&#20877;save&#26102;&#27809;&#26377;bookmark</span>","            <span class=\"k\">try</span><span class=\"k\">{</span>","                <span class=\"k\">if</span><span class=\"k\">(</span>browser<span class=\"k\">.</span>opera <span class=\"k\">||</span> browser<span class=\"k\">.</span>safari<span class=\"k\">)</span><span class=\"k\">{</span>","                    scene<span class=\"k\">.</span>senceRange<span class=\"k\">.</span>transformRange<span class=\"k\">(</span>range<span class=\"k\">)</span>","                <span class=\"k\">}</span><span class=\"k\">else</span><span class=\"k\">{</span>","                    range<span class=\"k\">.</span>moveToBookmark<span class=\"k\">(</span> <span class=\"k\">{</span>","                        start <span class=\"k\">:</span> <span class=\"s\">'_baidu_bookmark_start_'</span><span class=\"k\">,</span>","                        end <span class=\"k\">:</span> <span class=\"s\">'_baidu_bookmark_end_'</span><span class=\"k\">,</span>","                        id <span class=\"k\">:</span> <span class=\"k\">true</span>","                        <span class=\"c\">//&#21435;&#25481;true &#26159;&#20026;&#20102;&lt;b&gt;|&lt;/b&gt;&#65292;&#22238;&#36864;&#21518;&#36824;&#33021;&#22312;b&#37324;</span>","                    <span class=\"k\">}</span> <span class=\"k\">);</span>","                <span class=\"k\">}</span>","","                <span class=\"c\">//trace:1278 ie9block&#20803;&#32032;&#20026;&#31354;&#65292;&#23558;&#20986;&#29616;&#20809;&#26631;&#23450;&#20301;&#30340;&#38382;&#39064;&#65292;&#24517;&#39035;&#22635;&#20805;&#20869;&#23481;</span>","                <span class=\"k\">if</span><span class=\"k\">(</span>browser<span class=\"k\">.</span>ie <span class=\"k\">&amp;&amp;</span> browser<span class=\"k\">.</span>version <span class=\"k\">==</span> <span class=\"s\">9</span> <span class=\"k\">&amp;&amp;</span> range<span class=\"k\">.</span>collapsed <span class=\"k\">&amp;&amp;</span> domUtils<span class=\"k\">.</span>isBlockElm<span class=\"k\">(</span>range<span class=\"k\">.</span>startContainer<span class=\"k\">)</span> <span class=\"k\">&amp;&amp;</span> domUtils<span class=\"k\">.</span>isEmptyNode<span class=\"k\">(</span>range<span class=\"k\">.</span>startContainer<span class=\"k\">))</span><span class=\"k\">{</span>","                    domUtils<span class=\"k\">.</span>fillNode<span class=\"k\">(</span>range<span class=\"k\">.</span>document<span class=\"k\">,</span>range<span class=\"k\">.</span>startContainer<span class=\"k\">);</span>","","                <span class=\"k\">}</span>","                range<span class=\"k\">.</span>select<span class=\"k\">(!</span>browser<span class=\"k\">.</span>gecko<span class=\"k\">);</span>","                <span class=\"k\">if</span><span class=\"k\">(!(</span>browser<span class=\"k\">.</span>opera <span class=\"k\">||</span> browser<span class=\"k\">.</span>safari<span class=\"k\">))</span><span class=\"k\">{</span>","                    setTimeout<span class=\"k\">(</span><span class=\"k\">function</span><span class=\"k\">()</span><span class=\"k\">{</span>","                        range<span class=\"k\">.</span>scrollToView<span class=\"k\">(</span>me<span class=\"k\">.</span>autoHeightEnabled<span class=\"k\">,</span>me<span class=\"k\">.</span>autoHeightEnabled <span class=\"k\">?</span> domUtils<span class=\"k\">.</span>getXY<span class=\"k\">(</span>me<span class=\"k\">.</span>iframe<span class=\"k\">).</span>y<span class=\"k\">:</span><span class=\"s\">0</span><span class=\"k\">);</span>","                    <span class=\"k\">}</span><span class=\"k\">,</span><span class=\"s\">200</span><span class=\"k\">);</span>","                <span class=\"k\">}</span>","","            <span class=\"k\">}</span><span class=\"k\">catch</span><span class=\"k\">(</span>e<span class=\"k\">)</span><span class=\"k\">{}</span>","","            <span class=\"k\">this</span><span class=\"k\">.</span>update<span class=\"k\">();</span>","            <span class=\"c\">//table&#30340;&#21333;&#29420;&#22788;&#29702;</span>","            <span class=\"k\">if</span><span class=\"k\">(</span>me<span class=\"k\">.</span>currentSelectedArr<span class=\"k\">)</span><span class=\"k\">{</span>","                me<span class=\"k\">.</span>currentSelectedArr <span class=\"k\">=</span> <span class=\"k\">[];</span>","                <span class=\"k\">var</span> tds <span class=\"k\">=</span> me<span class=\"k\">.</span>document<span class=\"k\">.</span>getElementsByTagName<span class=\"k\">(</span><span class=\"s\">'td'</span><span class=\"k\">);</span>","                <span class=\"k\">for</span><span class=\"k\">(</span><span class=\"k\">var</span> i<span class=\"k\">=</span><span class=\"s\">0</span><span class=\"k\">,</span>td<span class=\"k\">;</span>td<span class=\"k\">=</span>tds<span class=\"k\">[</span>i<span class=\"k\">++];)</span><span class=\"k\">{</span>","                    <span class=\"k\">if</span><span class=\"k\">(</span>td<span class=\"k\">.</span>className <span class=\"k\">==</span> me<span class=\"k\">.</span>options<span class=\"k\">.</span>selectedTdClass<span class=\"k\">)</span><span class=\"k\">{</span>","                         me<span class=\"k\">.</span>currentSelectedArr<span class=\"k\">.</span>push<span class=\"k\">(</span>td<span class=\"k\">);</span>","                    <span class=\"k\">}</span>","                <span class=\"k\">}</span>","            <span class=\"k\">}</span>","            <span class=\"k\">this</span><span class=\"k\">.</span>clearKey<span class=\"k\">();</span>","            <span class=\"c\">//&#19981;&#33021;&#25226;&#33258;&#24049;reset&#20102;</span>","            me<span class=\"k\">.</span>fireEvent<span class=\"k\">(</span><span class=\"s\">'reset'</span><span class=\"k\">,</span><span class=\"k\">true</span><span class=\"k\">);</span>","        <span class=\"k\">}</span><span class=\"k\">;</span>","","        <span class=\"k\">this</span><span class=\"k\">.</span>getScene <span class=\"k\">=</span> <span class=\"k\">function</span><span class=\"k\">()</span> <span class=\"k\">{</span>","            <span class=\"k\">var</span> range <span class=\"k\">=</span> me<span class=\"k\">.</span>selection<span class=\"k\">.</span>getRange<span class=\"k\">(),</span>","                cont <span class=\"k\">=</span> me<span class=\"k\">.</span>body<span class=\"k\">.</span>innerHTML<span class=\"k\">.</span>replace<span class=\"k\">(</span>fillchar<span class=\"k\">,</span><span class=\"s\">''</span><span class=\"k\">);</span>","            <span class=\"c\">//&#26377;&#21487;&#33021;&#36793;&#30028;&#33853;&#21040;&#20102;&lt;table&gt;|&lt;tbody&gt;&#36825;&#26679;&#30340;&#20301;&#32622;&#65292;&#25152;&#20197;&#32553;&#19968;&#19979;&#20301;&#32622;</span>","            range<span class=\"k\">.</span>shrinkBoundary<span class=\"k\">();</span>","            browser<span class=\"k\">.</span>ie <span class=\"k\">&amp;&amp;</span> <span class=\"k\">(</span>cont <span class=\"k\">=</span> cont<span class=\"k\">.</span>replace<span class=\"k\">(</span><span class=\"s\">/&gt;&amp;nbsp;&lt;/g</span><span class=\"k\">,</span><span class=\"s\">'&gt;&lt;'</span><span class=\"k\">).</span>replace<span class=\"k\">(</span><span class=\"s\">/\\s*&lt;/g</span><span class=\"k\">,</span><span class=\"s\">''</span><span class=\"k\">).</span>replace<span class=\"k\">(</span><span class=\"s\">/&gt;\\s*/g</span><span class=\"k\">,</span><span class=\"s\">'&gt;'</span><span class=\"k\">));</span>","","            <span class=\"k\">if</span><span class=\"k\">(</span>browser<span class=\"k\">.</span>opera <span class=\"k\">||</span> browser<span class=\"k\">.</span>safari<span class=\"k\">)</span><span class=\"k\">{</span>","                <span class=\"k\">return</span> <span class=\"k\">{</span>","                    senceRange <span class=\"k\">:</span> <span class=\"k\">new</span> sceneRange<span class=\"k\">(</span>range<span class=\"k\">),</span>","                    content <span class=\"k\">:</span> cont<span class=\"k\">,</span>","                    bookcontent <span class=\"k\">:</span> cont","                <span class=\"k\">}</span>","            <span class=\"k\">}</span><span class=\"k\">else</span><span class=\"k\">{</span>","                <span class=\"k\">var</span> bookmark <span class=\"k\">=</span> range<span class=\"k\">.</span>createBookmark<span class=\"k\">(</span> <span class=\"k\">true</span><span class=\"k\">,</span> <span class=\"k\">true</span> <span class=\"k\">),</span>","                    bookCont <span class=\"k\">=</span> me<span class=\"k\">.</span>body<span class=\"k\">.</span>innerHTML<span class=\"k\">.</span>replace<span class=\"k\">(</span>fillchar<span class=\"k\">,</span><span class=\"s\">''</span><span class=\"k\">);</span>","                bookmark <span class=\"k\">&amp;&amp;</span> range<span class=\"k\">.</span>moveToBookmark<span class=\"k\">(</span> bookmark <span class=\"k\">).</span>select<span class=\"k\">(</span> <span class=\"k\">true</span> <span class=\"k\">);</span>","                <span class=\"k\">return</span> <span class=\"k\">{</span>","                    bookcontent <span class=\"k\">:</span> bookCont<span class=\"k\">,</span>","                    content <span class=\"k\">:</span> cont","                <span class=\"k\">}</span><span class=\"k\">;</span>","            <span class=\"k\">}</span>","","        <span class=\"k\">}</span><span class=\"k\">;</span>","        <span class=\"k\">this</span><span class=\"k\">.</span>save <span class=\"k\">=</span> <span class=\"k\">function</span><span class=\"k\">()</span> <span class=\"k\">{</span>","","            <span class=\"k\">var</span> currentScene <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>getScene<span class=\"k\">(),</span>","                lastScene <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>list<span class=\"k\">[</span><span class=\"k\">this</span><span class=\"k\">.</span>index<span class=\"k\">];</span>","            <span class=\"c\">//&#20869;&#23481;&#30456;&#21516;&#20301;&#32622;&#30456;&#21516;&#19981;&#23384;</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span> lastScene <span class=\"k\">&amp;&amp;</span> lastScene<span class=\"k\">.</span>content <span class=\"k\">==</span> currentScene<span class=\"k\">.</span>content <span class=\"k\">&amp;&amp;</span>","                  <span class=\"k\">(</span> <span class=\"k\">(</span>browser<span class=\"k\">.</span>opera <span class=\"k\">||</span> browser<span class=\"k\">.</span>safari<span class=\"k\">)</span> <span class=\"k\">?</span> lastScene<span class=\"k\">.</span>senceRange<span class=\"k\">.</span>compare<span class=\"k\">(</span>currentScene<span class=\"k\">.</span>senceRange<span class=\"k\">)</span> <span class=\"k\">:</span> lastScene<span class=\"k\">.</span>bookcontent <span class=\"k\">==</span> currentScene<span class=\"k\">.</span>bookcontent<span class=\"k\">)</span>","            <span class=\"k\">)</span> <span class=\"k\">{</span>","                <span class=\"k\">return</span><span class=\"k\">;</span>","            <span class=\"k\">}</span>","","            <span class=\"k\">this</span><span class=\"k\">.</span>list <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>list<span class=\"k\">.</span>slice<span class=\"k\">(</span> <span class=\"s\">0</span><span class=\"k\">,</span> <span class=\"k\">this</span><span class=\"k\">.</span>index <span class=\"k\">+</span> <span class=\"s\">1</span> <span class=\"k\">);</span>","            <span class=\"k\">this</span><span class=\"k\">.</span>list<span class=\"k\">.</span>push<span class=\"k\">(</span> currentScene <span class=\"k\">);</span>","            <span class=\"c\">//&#22914;&#26524;&#22823;&#20110;&#26368;&#22823;&#25968;&#37327;&#20102;&#65292;&#23601;&#25226;&#26368;&#21069;&#30340;&#21076;&#38500;</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span> <span class=\"k\">this</span><span class=\"k\">.</span>list<span class=\"k\">.</span>length <span class=\"k\">&gt;</span> maxUndoCount <span class=\"k\">)</span> <span class=\"k\">{</span>","                <span class=\"k\">this</span><span class=\"k\">.</span>list<span class=\"k\">.</span>shift<span class=\"k\">();</span>","            <span class=\"k\">}</span>","            <span class=\"k\">this</span><span class=\"k\">.</span>index <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>list<span class=\"k\">.</span>length <span class=\"k\">-</span> <span class=\"s\">1</span><span class=\"k\">;</span>","            <span class=\"k\">this</span><span class=\"k\">.</span>clearKey<span class=\"k\">();</span>","            <span class=\"c\">//&#36319;&#26032;undo/redo&#29366;&#24577;</span>","            <span class=\"k\">this</span><span class=\"k\">.</span>update<span class=\"k\">();</span>","        <span class=\"k\">}</span><span class=\"k\">;</span>","        <span class=\"k\">this</span><span class=\"k\">.</span>update <span class=\"k\">=</span> <span class=\"k\">function</span><span class=\"k\">()</span> <span class=\"k\">{</span>","            <span class=\"k\">this</span><span class=\"k\">.</span>hasRedo <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>list<span class=\"k\">[</span><span class=\"k\">this</span><span class=\"k\">.</span>index <span class=\"k\">+</span> <span class=\"s\">1</span><span class=\"k\">]</span> <span class=\"k\">?</span> <span class=\"k\">true</span> <span class=\"k\">:</span> <span class=\"k\">false</span><span class=\"k\">;</span>","            <span class=\"k\">this</span><span class=\"k\">.</span>hasUndo <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>list<span class=\"k\">[</span><span class=\"k\">this</span><span class=\"k\">.</span>index <span class=\"k\">-</span> <span class=\"s\">1</span><span class=\"k\">]</span> <span class=\"k\">||</span> <span class=\"k\">this</span><span class=\"k\">.</span>list<span class=\"k\">.</span>length <span class=\"k\">==</span> <span class=\"s\">1</span> <span class=\"k\">?</span> <span class=\"k\">true</span> <span class=\"k\">:</span> <span class=\"k\">false</span><span class=\"k\">;</span>","        <span class=\"k\">}</span><span class=\"k\">;</span>","        <span class=\"k\">this</span><span class=\"k\">.</span>reset <span class=\"k\">=</span> <span class=\"k\">function</span><span class=\"k\">()</span> <span class=\"k\">{</span>","            <span class=\"k\">this</span><span class=\"k\">.</span>list <span class=\"k\">=</span> <span class=\"k\">[];</span>","            <span class=\"k\">this</span><span class=\"k\">.</span>index <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">;</span>","            <span class=\"k\">this</span><span class=\"k\">.</span>hasUndo <span class=\"k\">=</span> <span class=\"k\">false</span><span class=\"k\">;</span>","            <span class=\"k\">this</span><span class=\"k\">.</span>hasRedo <span class=\"k\">=</span> <span class=\"k\">false</span><span class=\"k\">;</span>","            <span class=\"k\">this</span><span class=\"k\">.</span>clearKey<span class=\"k\">();</span>","        <span class=\"k\">}</span><span class=\"k\">;</span>","        <span class=\"k\">this</span><span class=\"k\">.</span>clearKey <span class=\"k\">=</span> <span class=\"k\">function</span><span class=\"k\">()</span><span class=\"k\">{</span>","            keycont <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">;</span>","            lastKeyCode <span class=\"k\">=</span> <span class=\"k\">null</span><span class=\"k\">;</span>","            me<span class=\"k\">.</span>fireEvent<span class=\"k\">(</span><span class=\"s\">'contentchange'</span><span class=\"k\">);</span>","        <span class=\"k\">}</span><span class=\"k\">;</span>","    <span class=\"k\">}</span>","","    me<span class=\"k\">.</span>undoManger <span class=\"k\">=</span> <span class=\"k\">new</span> UndoManager<span class=\"k\">();</span>","    <span class=\"k\">function</span> saveScene<span class=\"k\">()</span> <span class=\"k\">{</span>","        <span class=\"k\">this</span><span class=\"k\">.</span>undoManger<span class=\"k\">.</span>save<span class=\"k\">();</span>","    <span class=\"k\">}</span>","","    me<span class=\"k\">.</span>addListener<span class=\"k\">(</span> <span class=\"s\">'beforeexeccommand'</span><span class=\"k\">,</span> saveScene <span class=\"k\">);</span>","    me<span class=\"k\">.</span>addListener<span class=\"k\">(</span> <span class=\"s\">'afterexeccommand'</span><span class=\"k\">,</span> saveScene <span class=\"k\">);</span>","","    me<span class=\"k\">.</span>addListener<span class=\"k\">(</span><span class=\"s\">'reset'</span><span class=\"k\">,</span><span class=\"k\">function</span><span class=\"k\">(</span>type<span class=\"k\">,</span>exclude<span class=\"k\">)</span><span class=\"k\">{</span>","        <span class=\"k\">if</span><span class=\"k\">(!</span>exclude<span class=\"k\">)</span><span class=\"k\">{</span>","            me<span class=\"k\">.</span>undoManger<span class=\"k\">.</span>reset<span class=\"k\">();</span>","        <span class=\"k\">}</span>","    <span class=\"k\">}</span><span class=\"k\">);</span>","    me<span class=\"k\">.</span>commands<span class=\"k\">[</span><span class=\"s\">'redo'</span><span class=\"k\">]</span> <span class=\"k\">=</span> me<span class=\"k\">.</span>commands<span class=\"k\">[</span><span class=\"s\">'undo'</span><span class=\"k\">]</span> <span class=\"k\">=</span> <span class=\"k\">{</span>","        execCommand <span class=\"k\">:</span> <span class=\"k\">function</span><span class=\"k\">(</span> cmdName <span class=\"k\">)</span> <span class=\"k\">{</span>","            me<span class=\"k\">.</span>undoManger<span class=\"k\">[</span>cmdName<span class=\"k\">]();</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        queryCommandState <span class=\"k\">:</span> <span class=\"k\">function</span><span class=\"k\">(</span> cmdName <span class=\"k\">)</span> <span class=\"k\">{</span>","            <span class=\"k\">return</span> me<span class=\"k\">.</span>undoManger<span class=\"k\">[</span><span class=\"s\">'has'</span> <span class=\"k\">+</span> <span class=\"k\">(</span>cmdName<span class=\"k\">.</span>toLowerCase<span class=\"k\">()</span> <span class=\"k\">==</span> <span class=\"s\">'undo'</span> <span class=\"k\">?</span> <span class=\"s\">'Undo'</span> <span class=\"k\">:</span> <span class=\"s\">'Redo'</span><span class=\"k\">)]</span> <span class=\"k\">?</span> <span class=\"s\">0</span> <span class=\"k\">:</span> <span class=\"k\">-</span><span class=\"s\">1</span><span class=\"k\">;</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        notNeedUndo <span class=\"k\">:</span> <span class=\"s\">1</span>","    <span class=\"k\">}</span><span class=\"k\">;</span>","","    <span class=\"k\">var</span> keys <span class=\"k\">=</span> <span class=\"k\">{</span>","         <span class=\"c\">//  /*Backspace*/ 8:1, /*Delete*/ 46:1,</span>","            <span class=\"c\">/*Shift*/</span> <span class=\"s\">16</span><span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span> <span class=\"c\">/*Ctrl*/</span> <span class=\"s\">17</span><span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span> <span class=\"c\">/*Alt*/</span> <span class=\"s\">18</span><span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>","            <span class=\"s\">37</span><span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span> <span class=\"s\">38</span><span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span> <span class=\"s\">39</span><span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span> <span class=\"s\">40</span><span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span>","            <span class=\"s\">13</span><span class=\"k\">:</span><span class=\"s\">1</span> <span class=\"c\">/*enter*/</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        keycont <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">,</span>","        lastKeyCode<span class=\"k\">;</span>","","    me<span class=\"k\">.</span>addListener<span class=\"k\">(</span> <span class=\"s\">'keydown'</span><span class=\"k\">,</span> <span class=\"k\">function</span><span class=\"k\">(</span> type<span class=\"k\">,</span> evt <span class=\"k\">)</span> <span class=\"k\">{</span>","        <span class=\"k\">var</span> keyCode <span class=\"k\">=</span> evt<span class=\"k\">.</span>keyCode <span class=\"k\">||</span> evt<span class=\"k\">.</span>which<span class=\"k\">;</span>","        <span class=\"k\">if</span> <span class=\"k\">(</span> <span class=\"k\">!</span>keys<span class=\"k\">[</span>keyCode<span class=\"k\">]</span> <span class=\"k\">&amp;&amp;</span> <span class=\"k\">!</span>evt<span class=\"k\">.</span>ctrlKey <span class=\"k\">&amp;&amp;</span> <span class=\"k\">!</span>evt<span class=\"k\">.</span>metaKey <span class=\"k\">&amp;&amp;</span> <span class=\"k\">!</span>evt<span class=\"k\">.</span>shiftKey <span class=\"k\">&amp;&amp;</span> <span class=\"k\">!</span>evt<span class=\"k\">.</span>altKey <span class=\"k\">)</span> <span class=\"k\">{</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span> me<span class=\"k\">.</span>undoManger<span class=\"k\">.</span>list<span class=\"k\">.</span>length <span class=\"k\">==</span> <span class=\"s\">0</span> <span class=\"k\">||</span> <span class=\"k\">((</span>keyCode <span class=\"k\">==</span> <span class=\"s\">8</span> <span class=\"k\">||</span>keyCode <span class=\"k\">==</span> <span class=\"s\">46</span><span class=\"k\">)</span> <span class=\"k\">&amp;&amp;</span> lastKeyCode <span class=\"k\">!=</span> keyCode<span class=\"k\">)</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                me<span class=\"k\">.</span>undoManger<span class=\"k\">.</span>save<span class=\"k\">(</span><span class=\"k\">true</span><span class=\"k\">);</span>","                lastKeyCode <span class=\"k\">=</span> keyCode<span class=\"k\">;</span>","                <span class=\"k\">return</span><span class=\"k\">;</span>","            <span class=\"k\">}</span>","            <span class=\"c\">//trace:856</span>","            <span class=\"c\">//&#20462;&#27491;&#31532;&#19968;&#27425;&#36755;&#20837;&#21518;&#65292;&#22238;&#36864;&#65292;&#20877;&#36755;&#20837;&#35201;&#21040;keycont&gt;maxInputCount&#25165;&#33021;&#22312;&#22238;&#36864;&#30340;&#38382;&#39064;</span>","            <span class=\"k\">if</span><span class=\"k\">(</span>me<span class=\"k\">.</span>undoManger<span class=\"k\">.</span>list<span class=\"k\">.</span>length <span class=\"k\">==</span> <span class=\"s\">2</span> <span class=\"k\">&amp;&amp;</span> me<span class=\"k\">.</span>undoManger<span class=\"k\">.</span>index <span class=\"k\">==</span> <span class=\"s\">0</span> <span class=\"k\">&amp;&amp;</span> keycont <span class=\"k\">==</span> <span class=\"s\">0</span><span class=\"k\">)</span><span class=\"k\">{</span>","                me<span class=\"k\">.</span>undoManger<span class=\"k\">.</span>list<span class=\"k\">.</span>splice<span class=\"k\">(</span><span class=\"s\">1</span><span class=\"k\">,</span><span class=\"s\">1</span><span class=\"k\">);</span>","                me<span class=\"k\">.</span>undoManger<span class=\"k\">.</span>update<span class=\"k\">();</span>","            <span class=\"k\">}</span>","            lastKeyCode <span class=\"k\">=</span> keyCode<span class=\"k\">;</span>","            keycont<span class=\"k\">++;</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span> keycont <span class=\"k\">&gt;=</span> maxInputCount <span class=\"k\">)</span> <span class=\"k\">{</span>","                <span class=\"k\">if</span><span class=\"k\">(</span>me<span class=\"k\">.</span>selection<span class=\"k\">.</span>getRange<span class=\"k\">().</span>collapsed<span class=\"k\">)</span>","                    me<span class=\"k\">.</span>undoManger<span class=\"k\">.</span>save<span class=\"k\">();</span>","            <span class=\"k\">}</span>","        <span class=\"k\">}</span>","    <span class=\"k\">}</span> <span class=\"k\">);</span>","<span class=\"k\">}</span><span class=\"k\">;</span>"]);
_$jscoverage['plugins/video.js'] && (_$jscoverage['plugins/video.js'].source = ["<span class=\"c\">///import core</span>","<span class=\"c\">///import plugins/inserthtml.js</span>","<span class=\"c\">///commands &#35270;&#39057;</span>","<span class=\"c\">///commandsName InsertVideo</span>","<span class=\"c\">///commandsTitle  &#25554;&#20837;&#35270;&#39057;</span>","<span class=\"c\">///commandsDialog  dialogs\\video\\video.html</span>","UE<span class=\"k\">.</span>plugins<span class=\"k\">[</span><span class=\"s\">'video'</span><span class=\"k\">]</span> <span class=\"k\">=</span> <span class=\"k\">function</span> <span class=\"k\">()</span><span class=\"k\">{</span>","    <span class=\"k\">var</span> me <span class=\"k\">=</span><span class=\"k\">this</span><span class=\"k\">,</span>","        div<span class=\"k\">;</span>","","    <span class=\"c\">/**</span>","<span class=\"c\">     * &#21019;&#24314;&#25554;&#20837;&#35270;&#39057;&#23383;&#31526;&#31388;</span>","<span class=\"c\">     * @param url &#35270;&#39057;&#22320;&#22336;</span>","<span class=\"c\">     * @param width &#35270;&#39057;&#23485;&#24230;</span>","<span class=\"c\">     * @param height &#35270;&#39057;&#39640;&#24230;</span>","<span class=\"c\">     * @param align &#35270;&#39057;&#23545;&#40784;</span>","<span class=\"c\">     * @param toEmbed &#26159;&#21542;&#20197;&#22270;&#29255;&#20195;&#26367;&#26174;&#31034;</span>","<span class=\"c\">     * @param addParagraph  &#26159;&#21542;&#38656;&#35201;&#28155;&#21152;P &#26631;&#31614;</span>","<span class=\"c\">     */</span>","    <span class=\"k\">function</span> creatInsertStr<span class=\"k\">(</span>url<span class=\"k\">,</span>width<span class=\"k\">,</span>height<span class=\"k\">,</span>align<span class=\"k\">,</span>toEmbed<span class=\"k\">,</span>addParagraph<span class=\"k\">)</span><span class=\"k\">{</span>","        <span class=\"k\">return</span>  <span class=\"k\">!</span>toEmbed <span class=\"k\">?</span>","                <span class=\"k\">(</span>addParagraph<span class=\"k\">?</span> <span class=\"k\">(</span><span class=\"s\">'&lt;p '</span><span class=\"k\">+</span> <span class=\"k\">(</span>align <span class=\"k\">!=</span><span class=\"s\">\"none\"</span> <span class=\"k\">?</span> <span class=\"k\">(</span> align <span class=\"k\">==</span> <span class=\"s\">\"center\"</span><span class=\"k\">?</span> <span class=\"s\">' style=\"text-align:center;\" '</span><span class=\"k\">:</span><span class=\"s\">' style=\"float:\"'</span><span class=\"k\">+</span> align <span class=\"k\">)</span> <span class=\"k\">:</span> <span class=\"s\">''</span><span class=\"k\">)</span> <span class=\"k\">+</span> <span class=\"s\">'&gt;'</span><span class=\"k\">):</span> <span class=\"s\">''</span><span class=\"k\">)</span> <span class=\"k\">+</span>","                <span class=\"s\">'&lt;img align=\"'</span><span class=\"k\">+</span>align<span class=\"k\">+</span><span class=\"s\">'\" width=\"'</span><span class=\"k\">+</span> width <span class=\"k\">+</span><span class=\"s\">'\" height=\"'</span> <span class=\"k\">+</span> height <span class=\"k\">+</span> <span class=\"s\">'\" _url=\"'</span><span class=\"k\">+</span>url<span class=\"k\">+</span><span class=\"s\">'\" class=\"edui-faked-video\"'</span> <span class=\"k\">+</span>","                <span class=\"s\">' src=\"'</span><span class=\"k\">+</span>me<span class=\"k\">.</span>options<span class=\"k\">.</span>UEDITOR_HOME_URL<span class=\"k\">+</span><span class=\"s\">'themes/default/images/spacer.gif\" style=\"background:url('</span><span class=\"k\">+</span>me<span class=\"k\">.</span>options<span class=\"k\">.</span>UEDITOR_HOME_URL<span class=\"k\">+</span><span class=\"s\">'themes/default/images/videologo.gif) no-repeat center center; border:1px solid gray;\" /&gt;'</span> <span class=\"k\">+</span>","                <span class=\"k\">(</span>addParagraph<span class=\"k\">?</span><span class=\"s\">'&lt;/p&gt;'</span><span class=\"k\">:</span><span class=\"s\">''</span><span class=\"k\">)</span>","                <span class=\"k\">:</span>","                <span class=\"s\">'&lt;embed type=\"application/x-shockwave-flash\" class=\"edui-faked-video\" pluginspage=\"http://www.macromedia.com/go/getflashplayer\"'</span> <span class=\"k\">+</span>","                <span class=\"s\">' src=\"'</span> <span class=\"k\">+</span> url <span class=\"k\">+</span> <span class=\"s\">'\" width=\"'</span> <span class=\"k\">+</span> width  <span class=\"k\">+</span> <span class=\"s\">'\" height=\"'</span> <span class=\"k\">+</span> height  <span class=\"k\">+</span> <span class=\"s\">'\" align=\"'</span> <span class=\"k\">+</span> align <span class=\"k\">+</span> <span class=\"s\">'\"'</span> <span class=\"k\">+</span>","                <span class=\"k\">(</span> align <span class=\"k\">!=</span><span class=\"s\">\"none\"</span> <span class=\"k\">?</span> <span class=\"s\">' style= \"'</span><span class=\"k\">+</span> <span class=\"k\">(</span> align <span class=\"k\">==</span> <span class=\"s\">\"center\"</span><span class=\"k\">?</span> <span class=\"s\">\"display:block;\"</span><span class=\"k\">:</span><span class=\"s\">\" float: \"</span><span class=\"k\">+</span> align <span class=\"k\">)</span>  <span class=\"k\">+</span> <span class=\"s\">'\"'</span> <span class=\"k\">:</span><span class=\"s\">''</span> <span class=\"k\">)</span> <span class=\"k\">+</span>","                <span class=\"s\">' wmode=\"transparent\" play=\"true\" loop=\"false\" menu=\"false\" allowscriptaccess=\"never\" allowfullscreen=\"true\" &gt;'</span><span class=\"k\">;</span>","    <span class=\"k\">}</span>","","    <span class=\"k\">function</span> switchImgAndEmbed<span class=\"k\">(</span>img2embed<span class=\"k\">)</span><span class=\"k\">{</span>","        <span class=\"k\">var</span> tmpdiv<span class=\"k\">,</span>","            nodes <span class=\"k\">=</span>domUtils<span class=\"k\">.</span>getElementsByTagName<span class=\"k\">(</span>me<span class=\"k\">.</span>document<span class=\"k\">,</span> <span class=\"k\">!</span>img2embed <span class=\"k\">?</span> <span class=\"s\">\"embed\"</span> <span class=\"k\">:</span> <span class=\"s\">\"img\"</span><span class=\"k\">);</span>","        <span class=\"k\">for</span><span class=\"k\">(</span><span class=\"k\">var</span> i<span class=\"k\">=</span><span class=\"s\">0</span><span class=\"k\">,</span>node<span class=\"k\">;</span>node <span class=\"k\">=</span> nodes<span class=\"k\">[</span>i<span class=\"k\">++];)</span><span class=\"k\">{</span>","            <span class=\"k\">if</span><span class=\"k\">(</span>node<span class=\"k\">.</span>className<span class=\"k\">!=</span><span class=\"s\">\"edui-faked-video\"</span><span class=\"k\">)</span><span class=\"k\">{</span>","                <span class=\"k\">continue</span><span class=\"k\">;</span>","            <span class=\"k\">}</span>","            tmpdiv <span class=\"k\">=</span> me<span class=\"k\">.</span>document<span class=\"k\">.</span>createElement<span class=\"k\">(</span><span class=\"s\">\"div\"</span><span class=\"k\">);</span>","            <span class=\"c\">//&#20808;&#30475;float&#22312;&#30475;align,&#28014;&#21160;&#26377;&#30340;&#26159;&#26102;&#20505;&#26159;&#22312;float&#19978;&#23450;&#20041;&#30340;</span>","            <span class=\"k\">var</span> align <span class=\"k\">=</span> node<span class=\"k\">.</span>style<span class=\"k\">.</span>cssFloat<span class=\"k\">;</span>","            tmpdiv<span class=\"k\">.</span>innerHTML <span class=\"k\">=</span> creatInsertStr<span class=\"k\">(</span>img2embed <span class=\"k\">?</span> node<span class=\"k\">.</span>getAttribute<span class=\"k\">(</span><span class=\"s\">\"_url\"</span><span class=\"k\">):</span>node<span class=\"k\">.</span>getAttribute<span class=\"k\">(</span><span class=\"s\">\"src\"</span><span class=\"k\">),</span>node<span class=\"k\">.</span>width<span class=\"k\">,</span>node<span class=\"k\">.</span>height<span class=\"k\">,</span>align <span class=\"k\">||</span> node<span class=\"k\">.</span>getAttribute<span class=\"k\">(</span><span class=\"s\">\"align\"</span><span class=\"k\">),</span>img2embed<span class=\"k\">);</span>","            node<span class=\"k\">.</span>parentNode<span class=\"k\">.</span>replaceChild<span class=\"k\">(</span>tmpdiv<span class=\"k\">.</span>firstChild<span class=\"k\">,</span>node<span class=\"k\">);</span>","        <span class=\"k\">}</span>","    <span class=\"k\">}</span>","    me<span class=\"k\">.</span>addListener<span class=\"k\">(</span><span class=\"s\">\"beforegetcontent\"</span><span class=\"k\">,</span><span class=\"k\">function</span><span class=\"k\">()</span><span class=\"k\">{</span>","        switchImgAndEmbed<span class=\"k\">(</span><span class=\"k\">true</span><span class=\"k\">);</span>","    <span class=\"k\">}</span><span class=\"k\">);</span>","    me<span class=\"k\">.</span>addListener<span class=\"k\">(</span><span class=\"s\">'aftersetcontent'</span><span class=\"k\">,</span><span class=\"k\">function</span><span class=\"k\">()</span><span class=\"k\">{</span>","        switchImgAndEmbed<span class=\"k\">(</span><span class=\"k\">false</span><span class=\"k\">);</span>","    <span class=\"k\">}</span><span class=\"k\">);</span>","    me<span class=\"k\">.</span>addListener<span class=\"k\">(</span><span class=\"s\">'aftergetcontent'</span><span class=\"k\">,</span><span class=\"k\">function</span><span class=\"k\">(</span>cmdName<span class=\"k\">)</span><span class=\"k\">{</span>","        <span class=\"k\">if</span><span class=\"k\">(</span>cmdName <span class=\"k\">==</span> <span class=\"s\">'aftergetcontent'</span> <span class=\"k\">&amp;&amp;</span> me<span class=\"k\">.</span>queryCommandState<span class=\"k\">(</span><span class=\"s\">'source'</span><span class=\"k\">))</span><span class=\"k\">{</span>","            <span class=\"k\">return</span><span class=\"k\">;</span>","        <span class=\"k\">}</span>","        switchImgAndEmbed<span class=\"k\">(</span><span class=\"k\">false</span><span class=\"k\">);</span>","    <span class=\"k\">}</span><span class=\"k\">);</span>","","    me<span class=\"k\">.</span>commands<span class=\"k\">[</span><span class=\"s\">\"insertvideo\"</span><span class=\"k\">]</span> <span class=\"k\">=</span> <span class=\"k\">{</span>","        execCommand<span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">(</span>cmd<span class=\"k\">,</span> videoObjs<span class=\"k\">)</span><span class=\"k\">{</span>","            videoObjs <span class=\"k\">=</span> utils<span class=\"k\">.</span>isArray<span class=\"k\">(</span>videoObjs<span class=\"k\">)?</span>videoObjs<span class=\"k\">:[</span>videoObjs<span class=\"k\">];</span>","            <span class=\"k\">var</span> html <span class=\"k\">=</span> <span class=\"k\">[];</span>","            <span class=\"k\">for</span><span class=\"k\">(</span><span class=\"k\">var</span> i<span class=\"k\">=</span><span class=\"s\">0</span><span class=\"k\">,</span>vi<span class=\"k\">,</span>len <span class=\"k\">=</span> videoObjs<span class=\"k\">.</span>length<span class=\"k\">;</span>i<span class=\"k\">&lt;</span>len<span class=\"k\">;</span>i<span class=\"k\">++)</span><span class=\"k\">{</span>","                 vi <span class=\"k\">=</span> videoObjs<span class=\"k\">[</span>i<span class=\"k\">];</span>","                 html<span class=\"k\">.</span>push<span class=\"k\">(</span>creatInsertStr<span class=\"k\">(</span> vi<span class=\"k\">.</span>url<span class=\"k\">,</span> vi<span class=\"k\">.</span>width <span class=\"k\">||</span> <span class=\"s\">420</span><span class=\"k\">,</span>  vi<span class=\"k\">.</span>height <span class=\"k\">||</span> <span class=\"s\">280</span><span class=\"k\">,</span> vi<span class=\"k\">.</span>align<span class=\"k\">||</span><span class=\"s\">\"none\"</span><span class=\"k\">,</span><span class=\"k\">false</span><span class=\"k\">,</span><span class=\"k\">true</span><span class=\"k\">));</span>","            <span class=\"k\">}</span>","            me<span class=\"k\">.</span>execCommand<span class=\"k\">(</span><span class=\"s\">\"inserthtml\"</span><span class=\"k\">,</span>html<span class=\"k\">.</span>join<span class=\"k\">(</span><span class=\"s\">\"\"</span><span class=\"k\">));</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        queryCommandState <span class=\"k\">:</span> <span class=\"k\">function</span><span class=\"k\">()</span><span class=\"k\">{</span>","            <span class=\"k\">var</span> img <span class=\"k\">=</span> me<span class=\"k\">.</span>selection<span class=\"k\">.</span>getRange<span class=\"k\">().</span>getClosedNode<span class=\"k\">(),</span>","                flag <span class=\"k\">=</span> img <span class=\"k\">&amp;&amp;</span> <span class=\"k\">(</span>img<span class=\"k\">.</span>className <span class=\"k\">==</span> <span class=\"s\">\"edui-faked-video\"</span><span class=\"k\">);</span>","            <span class=\"k\">return</span> <span class=\"k\">this</span><span class=\"k\">.</span>highlight <span class=\"k\">?</span> <span class=\"k\">-</span><span class=\"s\">1</span> <span class=\"k\">:(</span>flag<span class=\"k\">?</span><span class=\"s\">1</span><span class=\"k\">:</span><span class=\"s\">0</span><span class=\"k\">);</span>","        <span class=\"k\">}</span>","    <span class=\"k\">}</span><span class=\"k\">;</span>","<span class=\"k\">}</span><span class=\"k\">;</span>"]);
_$jscoverage['plugins/webapp.js'] && (_$jscoverage['plugins/webapp.js'].source = ["<span class=\"c\">/**</span>","<span class=\"c\"> * Created by JetBrains PhpStorm.</span>","<span class=\"c\"> * User: taoqili</span>","<span class=\"c\"> * Date: 12-5-7</span>","<span class=\"c\"> * Time: &#19979;&#21320;2:37</span>","<span class=\"c\"> * To change this template use File | Settings | File Templates.</span>","<span class=\"c\"> */</span>","UE<span class=\"k\">.</span>plugins<span class=\"k\">[</span><span class=\"s\">'webapp'</span><span class=\"k\">]</span> <span class=\"k\">=</span> <span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","    <span class=\"k\">var</span> me <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">;</span>","    <span class=\"k\">function</span> createInsertStr<span class=\"k\">(</span> obj<span class=\"k\">,</span> toIframe<span class=\"k\">,</span> addParagraph <span class=\"k\">)</span> <span class=\"k\">{</span>","        <span class=\"k\">return</span> <span class=\"k\">!</span>toIframe <span class=\"k\">?</span>","                <span class=\"k\">(</span>addParagraph <span class=\"k\">?</span> <span class=\"s\">'&lt;p&gt;'</span> <span class=\"k\">:</span> <span class=\"s\">''</span><span class=\"k\">)</span> <span class=\"k\">+</span> <span class=\"s\">'&lt;img title=\"'</span><span class=\"k\">+</span>obj<span class=\"k\">.</span>title<span class=\"k\">+</span><span class=\"s\">'\" width=\"'</span> <span class=\"k\">+</span> obj<span class=\"k\">.</span>width <span class=\"k\">+</span> <span class=\"s\">'\" height=\"'</span> <span class=\"k\">+</span> obj<span class=\"k\">.</span>height <span class=\"k\">+</span> <span class=\"s\">'\"'</span> <span class=\"k\">+</span>","                        <span class=\"s\">' src=\"'</span> <span class=\"k\">+</span> me<span class=\"k\">.</span>options<span class=\"k\">.</span>UEDITOR_HOME_URL <span class=\"k\">+</span> <span class=\"s\">'themes/default/images/spacer.gif\" style=\"background:url('</span> <span class=\"k\">+</span> obj<span class=\"k\">.</span>logo<span class=\"k\">+</span><span class=\"s\">') no-repeat center center; border:1px solid gray;\" class=\"edui-faked-webapp\" _url=\"'</span> <span class=\"k\">+</span> obj<span class=\"k\">.</span>url <span class=\"k\">+</span> <span class=\"s\">'\" /&gt;'</span> <span class=\"k\">+</span>","                        <span class=\"k\">(</span>addParagraph <span class=\"k\">?</span> <span class=\"s\">'&lt;/p&gt;'</span> <span class=\"k\">:</span> <span class=\"s\">''</span><span class=\"k\">)</span>","                <span class=\"k\">:</span>","                <span class=\"s\">'&lt;iframe class=\"edui-faked-webapp\" title=\"'</span><span class=\"k\">+</span>obj<span class=\"k\">.</span>title<span class=\"k\">+</span><span class=\"s\">'\" width=\"'</span> <span class=\"k\">+</span> obj<span class=\"k\">.</span>width <span class=\"k\">+</span> <span class=\"s\">'\" height=\"'</span> <span class=\"k\">+</span> obj<span class=\"k\">.</span>height <span class=\"k\">+</span> <span class=\"s\">'\"  scrolling=\"no\" frameborder=\"0\" src=\"'</span> <span class=\"k\">+</span> obj<span class=\"k\">.</span>url <span class=\"k\">+</span> <span class=\"s\">'\" logo_url = '</span><span class=\"k\">+</span>obj<span class=\"k\">.</span>logo<span class=\"k\">+</span><span class=\"s\">'&gt;&lt;/iframe&gt;'</span><span class=\"k\">;</span>","    <span class=\"k\">}</span>","","    <span class=\"k\">function</span> switchImgAndIframe<span class=\"k\">(</span> img2frame <span class=\"k\">)</span> <span class=\"k\">{</span>","        <span class=\"k\">var</span> tmpdiv<span class=\"k\">,</span>","                nodes <span class=\"k\">=</span> domUtils<span class=\"k\">.</span>getElementsByTagName<span class=\"k\">(</span> me<span class=\"k\">.</span>document<span class=\"k\">,</span> <span class=\"k\">!</span>img2frame <span class=\"k\">?</span> <span class=\"s\">\"iframe\"</span> <span class=\"k\">:</span> <span class=\"s\">\"img\"</span> <span class=\"k\">);</span>","        <span class=\"k\">for</span> <span class=\"k\">(</span> <span class=\"k\">var</span> i <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">,</span> node<span class=\"k\">;</span> node <span class=\"k\">=</span> nodes<span class=\"k\">[</span>i<span class=\"k\">++];</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span> node<span class=\"k\">.</span>className <span class=\"k\">!=</span> <span class=\"s\">\"edui-faked-webapp\"</span> <span class=\"k\">)</span><span class=\"k\">{</span>","                <span class=\"k\">continue</span><span class=\"k\">;</span>","            <span class=\"k\">}</span>","            tmpdiv <span class=\"k\">=</span> me<span class=\"k\">.</span>document<span class=\"k\">.</span>createElement<span class=\"k\">(</span> <span class=\"s\">\"div\"</span> <span class=\"k\">);</span>","            tmpdiv<span class=\"k\">.</span>innerHTML <span class=\"k\">=</span> createInsertStr<span class=\"k\">(</span> img2frame <span class=\"k\">?</span> <span class=\"k\">{</span>url<span class=\"k\">:</span>node<span class=\"k\">.</span>getAttribute<span class=\"k\">(</span> <span class=\"s\">\"_url\"</span> <span class=\"k\">),</span> width<span class=\"k\">:</span>node<span class=\"k\">.</span>width<span class=\"k\">,</span> height<span class=\"k\">:</span>node<span class=\"k\">.</span>height<span class=\"k\">,</span>title<span class=\"k\">:</span>node<span class=\"k\">.</span>title<span class=\"k\">,</span>logo<span class=\"k\">:</span>node<span class=\"k\">.</span>style<span class=\"k\">.</span>backgroundImage<span class=\"k\">.</span>replace<span class=\"k\">(</span><span class=\"s\">\"url(\"</span><span class=\"k\">,</span><span class=\"s\">\"\"</span><span class=\"k\">).</span>replace<span class=\"k\">(</span><span class=\"s\">\")\"</span><span class=\"k\">,</span><span class=\"s\">\"\"</span><span class=\"k\">)</span><span class=\"k\">}</span> <span class=\"k\">:</span> <span class=\"k\">{</span>url<span class=\"k\">:</span>node<span class=\"k\">.</span>getAttribute<span class=\"k\">(</span> <span class=\"s\">\"src\"</span><span class=\"k\">,</span> <span class=\"s\">2</span> <span class=\"k\">),</span>title<span class=\"k\">:</span>node<span class=\"k\">.</span>title<span class=\"k\">,</span> width<span class=\"k\">:</span>node<span class=\"k\">.</span>width<span class=\"k\">,</span> height<span class=\"k\">:</span>node<span class=\"k\">.</span>height<span class=\"k\">,</span>logo<span class=\"k\">:</span>node<span class=\"k\">.</span>getAttribute<span class=\"k\">(</span><span class=\"s\">\"logo_url\"</span><span class=\"k\">)</span><span class=\"k\">}</span><span class=\"k\">,</span> img2frame <span class=\"k\">?</span> <span class=\"k\">true</span> <span class=\"k\">:</span> <span class=\"k\">false</span><span class=\"k\">,</span><span class=\"k\">false</span> <span class=\"k\">);</span>","            node<span class=\"k\">.</span>parentNode<span class=\"k\">.</span>replaceChild<span class=\"k\">(</span> tmpdiv<span class=\"k\">.</span>firstChild<span class=\"k\">,</span> node <span class=\"k\">);</span>","        <span class=\"k\">}</span>","    <span class=\"k\">}</span>","","    me<span class=\"k\">.</span>addListener<span class=\"k\">(</span> <span class=\"s\">\"beforegetcontent\"</span><span class=\"k\">,</span> <span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","        switchImgAndIframe<span class=\"k\">(</span> <span class=\"k\">true</span> <span class=\"k\">);</span>","    <span class=\"k\">}</span> <span class=\"k\">);</span>","    me<span class=\"k\">.</span>addListener<span class=\"k\">(</span> <span class=\"s\">'aftersetcontent'</span><span class=\"k\">,</span> <span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","        switchImgAndIframe<span class=\"k\">(</span> <span class=\"k\">false</span> <span class=\"k\">);</span>","    <span class=\"k\">}</span> <span class=\"k\">);</span>","    me<span class=\"k\">.</span>addListener<span class=\"k\">(</span> <span class=\"s\">'aftergetcontent'</span><span class=\"k\">,</span> <span class=\"k\">function</span> <span class=\"k\">(</span> cmdName <span class=\"k\">)</span> <span class=\"k\">{</span>","        <span class=\"k\">if</span> <span class=\"k\">(</span> cmdName <span class=\"k\">==</span> <span class=\"s\">'aftergetcontent'</span> <span class=\"k\">&amp;&amp;</span> me<span class=\"k\">.</span>queryCommandState<span class=\"k\">(</span> <span class=\"s\">'source'</span> <span class=\"k\">)</span> <span class=\"k\">)</span><span class=\"k\">{</span>","            <span class=\"k\">return</span><span class=\"k\">;</span>","        <span class=\"k\">}</span>","        switchImgAndIframe<span class=\"k\">(</span> <span class=\"k\">false</span> <span class=\"k\">);</span>","    <span class=\"k\">}</span> <span class=\"k\">);</span>","","    UE<span class=\"k\">.</span>commands<span class=\"k\">[</span><span class=\"s\">'webapp'</span><span class=\"k\">]</span> <span class=\"k\">=</span> <span class=\"k\">{</span>","        execCommand<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">(</span> cmd<span class=\"k\">,</span> obj <span class=\"k\">)</span> <span class=\"k\">{</span>","            me<span class=\"k\">.</span>execCommand<span class=\"k\">(</span> <span class=\"s\">\"inserthtml\"</span><span class=\"k\">,</span> createInsertStr<span class=\"k\">(</span> obj<span class=\"k\">,</span> <span class=\"k\">false</span><span class=\"k\">,</span><span class=\"k\">true</span> <span class=\"k\">)</span> <span class=\"k\">);</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        queryCommandState<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","            <span class=\"k\">return</span> me<span class=\"k\">.</span>highlight <span class=\"k\">?</span> <span class=\"k\">-</span><span class=\"s\">1</span> <span class=\"k\">:</span> <span class=\"s\">0</span><span class=\"k\">;</span>","        <span class=\"k\">}</span>","    <span class=\"k\">}</span><span class=\"k\">;</span>","<span class=\"k\">}</span><span class=\"k\">;</span>"]);
_$jscoverage['plugins/wordcount.js'] && (_$jscoverage['plugins/wordcount.js'].source = ["<span class=\"c\">///import core</span>","<span class=\"c\">///commands &#23383;&#25968;&#32479;&#35745;</span>","<span class=\"c\">///commandsName  WordCount,wordCount</span>","<span class=\"c\">///commandsTitle  &#23383;&#25968;&#32479;&#35745;</span>","<span class=\"c\">/**</span>","<span class=\"c\"> * Created by JetBrains WebStorm.</span>","<span class=\"c\"> * User: taoqili</span>","<span class=\"c\"> * Date: 11-9-7</span>","<span class=\"c\"> * Time: &#19979;&#21320;8:18</span>","<span class=\"c\"> * To change this template use File | Settings | File Templates.</span>","<span class=\"c\"> */</span>","","UE<span class=\"k\">.</span>plugins<span class=\"k\">[</span><span class=\"s\">'wordcount'</span><span class=\"k\">]</span> <span class=\"k\">=</span> <span class=\"k\">function</span><span class=\"k\">()</span><span class=\"k\">{</span>","    <span class=\"k\">var</span> me <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">;</span>","    me<span class=\"k\">.</span>setOpt<span class=\"k\">(</span><span class=\"k\">{</span>","        wordCount<span class=\"k\">:</span><span class=\"k\">true</span><span class=\"k\">,</span>","        maximumWords<span class=\"k\">:</span><span class=\"s\">10000</span><span class=\"k\">,</span>","        wordCountMsg<span class=\"k\">:</span> me<span class=\"k\">.</span>options<span class=\"k\">.</span>wordCountMsg<span class=\"k\">||</span>me<span class=\"k\">.</span>getLang<span class=\"k\">(</span><span class=\"s\">\"wordCountMsg\"</span><span class=\"k\">),</span>","        wordOverFlowMsg<span class=\"k\">:</span>me<span class=\"k\">.</span>options<span class=\"k\">.</span>wordOverFlowMsg<span class=\"k\">||</span>me<span class=\"k\">.</span>getLang<span class=\"k\">(</span><span class=\"s\">\"wordOverFlowMsg\"</span><span class=\"k\">)</span>","    <span class=\"k\">}</span><span class=\"k\">);</span>","    <span class=\"k\">var</span> opt <span class=\"k\">=</span> me<span class=\"k\">.</span>options<span class=\"k\">,</span>","        max <span class=\"k\">=</span> opt<span class=\"k\">.</span>maximumWords<span class=\"k\">,</span>","        msg <span class=\"k\">=</span> opt<span class=\"k\">.</span>wordCountMsg <span class=\"k\">,</span>","        errMsg <span class=\"k\">=</span> opt<span class=\"k\">.</span>wordOverFlowMsg<span class=\"k\">;</span>","    <span class=\"k\">if</span><span class=\"k\">(!</span>opt<span class=\"k\">.</span>wordCount<span class=\"k\">)</span><span class=\"k\">{</span>","        <span class=\"k\">return</span><span class=\"k\">;</span>","    <span class=\"k\">}</span>","    me<span class=\"k\">.</span>commands<span class=\"k\">[</span><span class=\"s\">\"wordcount\"</span><span class=\"k\">]=</span><span class=\"k\">{</span>","        queryCommandValue<span class=\"k\">:</span><span class=\"k\">function</span><span class=\"k\">(</span>cmd<span class=\"k\">,</span>onlyCount<span class=\"k\">)</span><span class=\"k\">{</span>","            <span class=\"k\">var</span> length<span class=\"k\">,</span>contentText<span class=\"k\">,</span>reg<span class=\"k\">;</span>","            <span class=\"k\">if</span><span class=\"k\">(</span>onlyCount<span class=\"k\">)</span><span class=\"k\">{</span>","                reg <span class=\"k\">=</span> <span class=\"k\">new</span> RegExp<span class=\"k\">(</span><span class=\"s\">\"[</span><span class=\"t\">\\r\\t\\n</span><span class=\"s\">]\"</span><span class=\"k\">,</span><span class=\"s\">\"g\"</span><span class=\"k\">);</span>","                contentText <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>getContentTxt<span class=\"k\">().</span>replace<span class=\"k\">(</span>reg<span class=\"k\">,</span><span class=\"s\">\"\"</span><span class=\"k\">);</span>","                <span class=\"k\">return</span> contentText<span class=\"k\">.</span>length<span class=\"k\">;</span>","            <span class=\"k\">}</span>","            reg <span class=\"k\">=</span> <span class=\"k\">new</span> RegExp<span class=\"k\">(</span><span class=\"s\">\"[</span><span class=\"t\">\\r\\t\\n</span><span class=\"s\">]\"</span><span class=\"k\">,</span><span class=\"s\">\"g\"</span><span class=\"k\">);</span>","            contentText <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>getContentTxt<span class=\"k\">().</span>replace<span class=\"k\">(</span>reg<span class=\"k\">,</span><span class=\"s\">\"\"</span><span class=\"k\">);</span>","            length <span class=\"k\">=</span> contentText<span class=\"k\">.</span>length<span class=\"k\">;</span>","            <span class=\"k\">if</span><span class=\"k\">(</span>max<span class=\"k\">-</span>length<span class=\"k\">&lt;</span><span class=\"s\">0</span><span class=\"k\">)</span><span class=\"k\">{</span>","                me<span class=\"k\">.</span>fireEvent<span class=\"k\">(</span><span class=\"s\">'wordcountoverflow'</span><span class=\"k\">);</span>","                <span class=\"k\">return</span> errMsg<span class=\"k\">;</span>","            <span class=\"k\">}</span>","","            <span class=\"k\">return</span> msg<span class=\"k\">.</span>replace<span class=\"k\">(</span><span class=\"s\">\"{#leave}\"</span><span class=\"k\">,</span>max<span class=\"k\">-</span>length <span class=\"k\">&gt;=</span> <span class=\"s\">0</span> <span class=\"k\">?</span> max<span class=\"k\">-</span>length<span class=\"k\">:</span><span class=\"s\">0</span><span class=\"k\">).</span>replace<span class=\"k\">(</span><span class=\"s\">\"{#count}\"</span><span class=\"k\">,</span>length<span class=\"k\">);</span>","        <span class=\"k\">}</span>","    <span class=\"k\">}</span><span class=\"k\">;</span>","<span class=\"k\">}</span><span class=\"k\">;</span>"]);
_$jscoverage['plugins/wordimage.js'] && (_$jscoverage['plugins/wordimage.js'].source = ["<span class=\"c\">///import core</span>","<span class=\"c\">///commands &#26412;&#22320;&#22270;&#29255;&#24341;&#23548;&#19978;&#20256;</span>","<span class=\"c\">///commandsName  WordImage</span>","<span class=\"c\">///commandsTitle  &#26412;&#22320;&#22270;&#29255;&#24341;&#23548;&#19978;&#20256;</span>","","","UE<span class=\"k\">.</span>plugins<span class=\"k\">[</span><span class=\"s\">\"wordimage\"</span><span class=\"k\">]</span> <span class=\"k\">=</span> <span class=\"k\">function</span><span class=\"k\">()</span><span class=\"k\">{</span>","    <span class=\"k\">var</span> me <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">,</span>","        images<span class=\"k\">;</span>","    me<span class=\"k\">.</span>commands<span class=\"k\">[</span><span class=\"s\">'wordimage'</span><span class=\"k\">]</span> <span class=\"k\">=</span> <span class=\"k\">{</span>","        execCommand <span class=\"k\">:</span> <span class=\"k\">function</span><span class=\"k\">()</span> <span class=\"k\">{</span>","            images <span class=\"k\">=</span> domUtils<span class=\"k\">.</span>getElementsByTagName<span class=\"k\">(</span>me<span class=\"k\">.</span>document<span class=\"k\">.</span>body<span class=\"k\">,</span><span class=\"s\">\"img\"</span><span class=\"k\">);</span>","            <span class=\"k\">var</span> urlList <span class=\"k\">=</span> <span class=\"k\">[];</span>","            <span class=\"k\">for</span><span class=\"k\">(</span><span class=\"k\">var</span> i<span class=\"k\">=</span><span class=\"s\">0</span><span class=\"k\">,</span>ci<span class=\"k\">;</span>ci<span class=\"k\">=</span>images<span class=\"k\">[</span>i<span class=\"k\">++];)</span><span class=\"k\">{</span>","                <span class=\"k\">var</span> url<span class=\"k\">=</span>ci<span class=\"k\">.</span>getAttribute<span class=\"k\">(</span><span class=\"s\">\"word_img\"</span><span class=\"k\">);</span>","                url <span class=\"k\">&amp;&amp;</span> urlList<span class=\"k\">.</span>push<span class=\"k\">(</span>url<span class=\"k\">);</span>","            <span class=\"k\">}</span>","            <span class=\"k\">if</span><span class=\"k\">(</span>images<span class=\"k\">.</span>length<span class=\"k\">)</span><span class=\"k\">{</span>","                <span class=\"k\">this</span><span class=\"k\">[</span><span class=\"s\">\"word_img\"</span><span class=\"k\">]</span> <span class=\"k\">=</span> urlList<span class=\"k\">;</span>","            <span class=\"k\">}</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        queryCommandState<span class=\"k\">:</span> <span class=\"k\">function</span><span class=\"k\">()</span><span class=\"k\">{</span>","            images <span class=\"k\">=</span> domUtils<span class=\"k\">.</span>getElementsByTagName<span class=\"k\">(</span>me<span class=\"k\">.</span>document<span class=\"k\">.</span>body<span class=\"k\">,</span><span class=\"s\">\"img\"</span><span class=\"k\">);</span>","            <span class=\"k\">for</span><span class=\"k\">(</span><span class=\"k\">var</span> i<span class=\"k\">=</span><span class=\"s\">0</span><span class=\"k\">,</span>ci<span class=\"k\">;</span>ci <span class=\"k\">=</span>images<span class=\"k\">[</span>i<span class=\"k\">++];)</span><span class=\"k\">{</span>","                <span class=\"k\">if</span><span class=\"k\">(</span>ci<span class=\"k\">.</span>getAttribute<span class=\"k\">(</span><span class=\"s\">\"word_img\"</span><span class=\"k\">))</span><span class=\"k\">{</span>","                    <span class=\"k\">return</span> <span class=\"s\">1</span><span class=\"k\">;</span>","                <span class=\"k\">}</span>","            <span class=\"k\">}</span>","            <span class=\"k\">return</span> <span class=\"k\">-</span><span class=\"s\">1</span><span class=\"k\">;</span>","        <span class=\"k\">}</span>","    <span class=\"k\">}</span><span class=\"k\">;</span>","<span class=\"k\">}</span><span class=\"k\">;</span>"]);
_$jscoverage['ui/autotypesetbutton.js'] && (_$jscoverage['ui/autotypesetbutton.js'].source = ["<span class=\"c\">///import core</span>","<span class=\"c\">///import uicore</span>","<span class=\"c\">///import ui/popup.js</span>","<span class=\"c\">///import ui/autotypesetpicker.js</span>","<span class=\"c\">///import ui/splitbutton.js</span>","<span class=\"k\">(</span><span class=\"k\">function</span> <span class=\"k\">()</span><span class=\"k\">{</span>","    <span class=\"k\">var</span> utils <span class=\"k\">=</span> baidu<span class=\"k\">.</span>editor<span class=\"k\">.</span>utils<span class=\"k\">,</span>","        Popup <span class=\"k\">=</span> baidu<span class=\"k\">.</span>editor<span class=\"k\">.</span>ui<span class=\"k\">.</span>Popup<span class=\"k\">,</span>","        AutoTypeSetPicker <span class=\"k\">=</span> baidu<span class=\"k\">.</span>editor<span class=\"k\">.</span>ui<span class=\"k\">.</span>AutoTypeSetPicker<span class=\"k\">,</span>","        SplitButton <span class=\"k\">=</span> baidu<span class=\"k\">.</span>editor<span class=\"k\">.</span>ui<span class=\"k\">.</span>SplitButton<span class=\"k\">,</span>","        AutoTypeSetButton <span class=\"k\">=</span> baidu<span class=\"k\">.</span>editor<span class=\"k\">.</span>ui<span class=\"k\">.</span>AutoTypeSetButton <span class=\"k\">=</span> <span class=\"k\">function</span> <span class=\"k\">(</span>options<span class=\"k\">)</span><span class=\"k\">{</span>","            <span class=\"k\">this</span><span class=\"k\">.</span>initOptions<span class=\"k\">(</span>options<span class=\"k\">);</span>","            <span class=\"k\">this</span><span class=\"k\">.</span>initAutoTypeSetButton<span class=\"k\">();</span>","        <span class=\"k\">}</span><span class=\"k\">;</span>","    <span class=\"k\">function</span> getPara<span class=\"k\">(</span>me<span class=\"k\">)</span><span class=\"k\">{</span>","        <span class=\"k\">var</span> opt <span class=\"k\">=</span> me<span class=\"k\">.</span>editor<span class=\"k\">.</span>options<span class=\"k\">.</span>autotypeset<span class=\"k\">,</span>","            cont <span class=\"k\">=</span> me<span class=\"k\">.</span>getDom<span class=\"k\">(),</span>","            ipts <span class=\"k\">=</span> domUtils<span class=\"k\">.</span>getElementsByTagName<span class=\"k\">(</span>cont<span class=\"k\">,</span><span class=\"s\">\"input\"</span><span class=\"k\">);</span>","        <span class=\"k\">for</span><span class=\"k\">(</span><span class=\"k\">var</span> i<span class=\"k\">=</span>ipts<span class=\"k\">.</span>length<span class=\"k\">-</span><span class=\"s\">1</span><span class=\"k\">,</span>ipt<span class=\"k\">;</span>ipt<span class=\"k\">=</span>ipts<span class=\"k\">[</span>i<span class=\"k\">--];)</span><span class=\"k\">{</span>","            <span class=\"k\">if</span><span class=\"k\">(</span>ipt<span class=\"k\">.</span>getAttribute<span class=\"k\">(</span><span class=\"s\">\"type\"</span><span class=\"k\">)==</span><span class=\"s\">\"checkbox\"</span><span class=\"k\">)</span><span class=\"k\">{</span>","                <span class=\"k\">var</span> attrName <span class=\"k\">=</span> ipt<span class=\"k\">.</span>getAttribute<span class=\"k\">(</span><span class=\"s\">\"name\"</span><span class=\"k\">);</span>","                opt<span class=\"k\">[</span>attrName<span class=\"k\">]</span> <span class=\"k\">&amp;&amp;</span> <span class=\"k\">delete</span> opt<span class=\"k\">[</span>attrName<span class=\"k\">];</span>","                <span class=\"k\">if</span><span class=\"k\">(</span>ipt<span class=\"k\">.</span>checked<span class=\"k\">)</span><span class=\"k\">{</span>","                    <span class=\"k\">var</span> attrValue <span class=\"k\">=</span> document<span class=\"k\">.</span>getElementById<span class=\"k\">(</span>attrName<span class=\"k\">+</span><span class=\"s\">\"Value\"</span><span class=\"k\">);</span>","                    <span class=\"k\">if</span><span class=\"k\">(</span>attrValue<span class=\"k\">)</span><span class=\"k\">{</span>","                        <span class=\"k\">if</span><span class=\"k\">(</span><span class=\"s\">/input/ig</span><span class=\"k\">.</span>test<span class=\"k\">(</span>attrValue<span class=\"k\">.</span>tagName<span class=\"k\">))</span><span class=\"k\">{</span>","                            opt<span class=\"k\">[</span>attrName<span class=\"k\">]</span> <span class=\"k\">=</span> attrValue<span class=\"k\">.</span>value<span class=\"k\">;</span>","                        <span class=\"k\">}</span><span class=\"k\">else</span><span class=\"k\">{</span>","                            <span class=\"k\">var</span> iptChilds <span class=\"k\">=</span> attrValue<span class=\"k\">.</span>getElementsByTagName<span class=\"k\">(</span><span class=\"s\">\"input\"</span><span class=\"k\">);</span>","                            <span class=\"k\">for</span><span class=\"k\">(</span><span class=\"k\">var</span> j<span class=\"k\">=</span>iptChilds<span class=\"k\">.</span>length<span class=\"k\">-</span><span class=\"s\">1</span><span class=\"k\">,</span>iptchild<span class=\"k\">;</span>iptchild<span class=\"k\">=</span>iptChilds<span class=\"k\">[</span>j<span class=\"k\">--];)</span><span class=\"k\">{</span>","                                <span class=\"k\">if</span><span class=\"k\">(</span>iptchild<span class=\"k\">.</span>checked<span class=\"k\">)</span><span class=\"k\">{</span>","                                    opt<span class=\"k\">[</span>attrName<span class=\"k\">]</span> <span class=\"k\">=</span> iptchild<span class=\"k\">.</span>value<span class=\"k\">;</span>","                                    <span class=\"k\">break</span><span class=\"k\">;</span>","                                <span class=\"k\">}</span>","                            <span class=\"k\">}</span>","                        <span class=\"k\">}</span>","                    <span class=\"k\">}</span><span class=\"k\">else</span><span class=\"k\">{</span>","                        opt<span class=\"k\">[</span>attrName<span class=\"k\">]</span> <span class=\"k\">=</span> <span class=\"k\">true</span><span class=\"k\">;</span>","                    <span class=\"k\">}</span>","                <span class=\"k\">}</span>","            <span class=\"k\">}</span>","        <span class=\"k\">}</span>","        <span class=\"k\">var</span> selects <span class=\"k\">=</span> domUtils<span class=\"k\">.</span>getElementsByTagName<span class=\"k\">(</span>cont<span class=\"k\">,</span><span class=\"s\">\"select\"</span><span class=\"k\">);</span>","        <span class=\"k\">for</span><span class=\"k\">(</span><span class=\"k\">var</span> i<span class=\"k\">=</span><span class=\"s\">0</span><span class=\"k\">,</span>si<span class=\"k\">;</span>si<span class=\"k\">=</span>selects<span class=\"k\">[</span>i<span class=\"k\">++];)</span><span class=\"k\">{</span>","            <span class=\"k\">var</span> attr <span class=\"k\">=</span> si<span class=\"k\">.</span>getAttribute<span class=\"k\">(</span><span class=\"s\">'name'</span><span class=\"k\">);</span>","            opt<span class=\"k\">[</span>attr<span class=\"k\">]</span> <span class=\"k\">=</span> opt<span class=\"k\">[</span>attr<span class=\"k\">]</span> <span class=\"k\">?</span> si<span class=\"k\">.</span>value <span class=\"k\">:</span> <span class=\"s\">''</span><span class=\"k\">;</span>","        <span class=\"k\">}</span>","        me<span class=\"k\">.</span>editor<span class=\"k\">.</span>options<span class=\"k\">.</span>autotypeset <span class=\"k\">=</span> opt<span class=\"k\">;</span>","    <span class=\"k\">}</span>","    AutoTypeSetButton<span class=\"k\">.</span>prototype <span class=\"k\">=</span> <span class=\"k\">{</span>","        initAutoTypeSetButton<span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">()</span><span class=\"k\">{</span>","            <span class=\"k\">var</span> me <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">;</span>","            <span class=\"k\">this</span><span class=\"k\">.</span>popup <span class=\"k\">=</span> <span class=\"k\">new</span> Popup<span class=\"k\">(</span><span class=\"k\">{</span>","                <span class=\"c\">//&#20256;&#20837;&#37197;&#32622;&#21442;&#25968;</span>","                content<span class=\"k\">:</span> <span class=\"k\">new</span> AutoTypeSetPicker<span class=\"k\">(</span><span class=\"k\">{</span>editor<span class=\"k\">:</span>me<span class=\"k\">.</span>editor<span class=\"k\">}</span><span class=\"k\">),</span>","                <span class=\"s\">'editor'</span><span class=\"k\">:</span>me<span class=\"k\">.</span>editor<span class=\"k\">,</span>","                hide <span class=\"k\">:</span> <span class=\"k\">function</span><span class=\"k\">()</span><span class=\"k\">{</span>","","                    <span class=\"k\">if</span> <span class=\"k\">(!</span><span class=\"k\">this</span><span class=\"k\">.</span>_hidden <span class=\"k\">&amp;&amp;</span> <span class=\"k\">this</span><span class=\"k\">.</span>getDom<span class=\"k\">())</span> <span class=\"k\">{</span>","                        getPara<span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">);</span>","                        <span class=\"k\">this</span><span class=\"k\">.</span>getDom<span class=\"k\">().</span>style<span class=\"k\">.</span>display <span class=\"k\">=</span> <span class=\"s\">'none'</span><span class=\"k\">;</span>","                        <span class=\"k\">this</span><span class=\"k\">.</span>_hidden <span class=\"k\">=</span> <span class=\"k\">true</span><span class=\"k\">;</span>","                        <span class=\"k\">this</span><span class=\"k\">.</span>fireEvent<span class=\"k\">(</span><span class=\"s\">'hide'</span><span class=\"k\">);</span>","                    <span class=\"k\">}</span>","                <span class=\"k\">}</span>","            <span class=\"k\">}</span><span class=\"k\">);</span>","            <span class=\"k\">var</span> flag <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">;</span>","            <span class=\"k\">this</span><span class=\"k\">.</span>popup<span class=\"k\">.</span>addListener<span class=\"k\">(</span><span class=\"s\">'postRenderAfter'</span><span class=\"k\">,</span><span class=\"k\">function</span><span class=\"k\">()</span><span class=\"k\">{</span>","                <span class=\"k\">var</span> popupUI <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">;</span>","                <span class=\"k\">if</span><span class=\"k\">(</span>flag<span class=\"k\">)</span><span class=\"k\">return</span><span class=\"k\">;</span>","                <span class=\"k\">var</span> cont <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>getDom<span class=\"k\">(),</span>","                    btn <span class=\"k\">=</span> cont<span class=\"k\">.</span>getElementsByTagName<span class=\"k\">(</span><span class=\"s\">'button'</span><span class=\"k\">)[</span><span class=\"s\">0</span><span class=\"k\">];</span>","                btn<span class=\"k\">.</span>onclick <span class=\"k\">=</span> <span class=\"k\">function</span><span class=\"k\">()</span><span class=\"k\">{</span>","                    getPara<span class=\"k\">(</span>popupUI<span class=\"k\">);</span>","                    me<span class=\"k\">.</span>editor<span class=\"k\">.</span>execCommand<span class=\"k\">(</span><span class=\"s\">'autotypeset'</span><span class=\"k\">)</span>","                <span class=\"k\">}</span><span class=\"k\">;</span>","                flag <span class=\"k\">=</span> <span class=\"s\">1</span><span class=\"k\">;</span>","            <span class=\"k\">}</span><span class=\"k\">);</span>","            <span class=\"k\">this</span><span class=\"k\">.</span>initSplitButton<span class=\"k\">();</span>","        <span class=\"k\">}</span>","    <span class=\"k\">}</span><span class=\"k\">;</span>","    utils<span class=\"k\">.</span>inherits<span class=\"k\">(</span>AutoTypeSetButton<span class=\"k\">,</span> SplitButton<span class=\"k\">);</span>","","<span class=\"k\">}</span><span class=\"k\">)();</span>"]);
_$jscoverage['ui/autotypesetpicker.js'] && (_$jscoverage['ui/autotypesetpicker.js'].source = ["<span class=\"c\">///import core</span>","<span class=\"c\">///import uicore</span>","<span class=\"k\">(</span><span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","    <span class=\"k\">var</span> utils <span class=\"k\">=</span> baidu<span class=\"k\">.</span>editor<span class=\"k\">.</span>utils<span class=\"k\">,</span>","        UIBase <span class=\"k\">=</span> baidu<span class=\"k\">.</span>editor<span class=\"k\">.</span>ui<span class=\"k\">.</span>UIBase<span class=\"k\">;</span>","","    <span class=\"k\">var</span> AutoTypeSetPicker <span class=\"k\">=</span> baidu<span class=\"k\">.</span>editor<span class=\"k\">.</span>ui<span class=\"k\">.</span>AutoTypeSetPicker <span class=\"k\">=</span> <span class=\"k\">function</span> <span class=\"k\">(</span>options<span class=\"k\">)</span> <span class=\"k\">{</span>","        <span class=\"k\">this</span><span class=\"k\">.</span>initOptions<span class=\"k\">(</span>options<span class=\"k\">);</span>","        <span class=\"k\">this</span><span class=\"k\">.</span>initAutoTypeSetPicker<span class=\"k\">();</span>","    <span class=\"k\">}</span><span class=\"k\">;</span>","    AutoTypeSetPicker<span class=\"k\">.</span>prototype <span class=\"k\">=</span> <span class=\"k\">{</span>","        initAutoTypeSetPicker<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","            <span class=\"k\">this</span><span class=\"k\">.</span>initUIBase<span class=\"k\">();</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        getHtmlTpl<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","            <span class=\"k\">var</span> me <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>editor<span class=\"k\">,</span>","                opt <span class=\"k\">=</span> me<span class=\"k\">.</span>options<span class=\"k\">.</span>autotypeset<span class=\"k\">,</span>","                lang <span class=\"k\">=</span> me<span class=\"k\">.</span>getLang<span class=\"k\">(</span><span class=\"s\">\"autoTypeSet\"</span><span class=\"k\">);</span>","","            <span class=\"k\">return</span> <span class=\"s\">'&lt;div id=\"##\" class=\"edui-autotypesetpicker %%\"&gt;'</span> <span class=\"k\">+</span>","                <span class=\"s\">'&lt;div class=\"edui-autotypesetpicker-body\"&gt;'</span> <span class=\"k\">+</span>","                <span class=\"s\">'&lt;table &gt;'</span> <span class=\"k\">+</span>","                <span class=\"s\">'&lt;tr&gt;&lt;td colspan=\"2\"&gt;&lt;input type=\"checkbox\" name=\"mergeEmptyline\" '</span> <span class=\"k\">+</span> <span class=\"k\">(</span>opt<span class=\"k\">[</span><span class=\"s\">\"mergeEmptyline\"</span><span class=\"k\">]</span> <span class=\"k\">?</span> <span class=\"s\">\"checked\"</span> <span class=\"k\">:</span> <span class=\"s\">\"\"</span> <span class=\"k\">)</span> <span class=\"k\">+</span> <span class=\"s\">'&gt;'</span> <span class=\"k\">+</span> lang<span class=\"k\">.</span>mergeLine <span class=\"k\">+</span> <span class=\"s\">'&lt;/td&gt;&lt;td colspan=\"2\"&gt;&lt;input type=\"checkbox\" name=\"removeEmptyline\" '</span> <span class=\"k\">+</span> <span class=\"k\">(</span>opt<span class=\"k\">[</span><span class=\"s\">\"removeEmptyline\"</span><span class=\"k\">]</span> <span class=\"k\">?</span> <span class=\"s\">\"checked\"</span> <span class=\"k\">:</span> <span class=\"s\">\"\"</span> <span class=\"k\">)</span> <span class=\"k\">+</span> <span class=\"s\">'&gt;'</span> <span class=\"k\">+</span> lang<span class=\"k\">.</span>delLine <span class=\"k\">+</span> <span class=\"s\">'&lt;/td&gt;&lt;/tr&gt;'</span> <span class=\"k\">+</span>","                <span class=\"s\">'&lt;tr&gt;&lt;td colspan=\"2\"&gt;&lt;input type=\"checkbox\" name=\"removeClass\" '</span> <span class=\"k\">+</span> <span class=\"k\">(</span>opt<span class=\"k\">[</span><span class=\"s\">\"removeClass\"</span><span class=\"k\">]</span> <span class=\"k\">?</span> <span class=\"s\">\"checked\"</span> <span class=\"k\">:</span> <span class=\"s\">\"\"</span> <span class=\"k\">)</span> <span class=\"k\">+</span> <span class=\"s\">'&gt;'</span> <span class=\"k\">+</span> lang<span class=\"k\">.</span>removeFormat <span class=\"k\">+</span> <span class=\"s\">'&lt;/td&gt;&lt;td colspan=\"2\"&gt;&lt;input type=\"checkbox\" name=\"indent\" '</span> <span class=\"k\">+</span> <span class=\"k\">(</span>opt<span class=\"k\">[</span><span class=\"s\">\"indent\"</span><span class=\"k\">]</span> <span class=\"k\">?</span> <span class=\"s\">\"checked\"</span> <span class=\"k\">:</span> <span class=\"s\">\"\"</span> <span class=\"k\">)</span> <span class=\"k\">+</span> <span class=\"s\">'&gt;'</span> <span class=\"k\">+</span> lang<span class=\"k\">.</span>indent <span class=\"k\">+</span> <span class=\"s\">'&lt;/td&gt;&lt;/tr&gt;'</span> <span class=\"k\">+</span>","                <span class=\"s\">'&lt;tr&gt;&lt;td colspan=\"2\"&gt;&lt;input type=\"checkbox\" name=\"textAlign\" '</span> <span class=\"k\">+</span> <span class=\"k\">(</span>opt<span class=\"k\">[</span><span class=\"s\">\"textAlign\"</span><span class=\"k\">]</span> <span class=\"k\">?</span> <span class=\"s\">\"checked\"</span> <span class=\"k\">:</span> <span class=\"s\">\"\"</span> <span class=\"k\">)</span> <span class=\"k\">+</span> <span class=\"s\">'&gt;'</span> <span class=\"k\">+</span> lang<span class=\"k\">.</span>alignment <span class=\"k\">+</span> <span class=\"s\">'&lt;/td&gt;&lt;td colspan=\"2\" id=\"textAlignValue\"&gt;&lt;input type=\"radio\" name=\"textAlignValue\" value=\"left\" '</span> <span class=\"k\">+</span> <span class=\"k\">((</span>opt<span class=\"k\">[</span><span class=\"s\">\"textAlign\"</span><span class=\"k\">]</span> <span class=\"k\">&amp;&amp;</span> opt<span class=\"k\">[</span><span class=\"s\">\"textAlign\"</span><span class=\"k\">]</span> <span class=\"k\">==</span> <span class=\"s\">\"left\"</span><span class=\"k\">)</span> <span class=\"k\">?</span> <span class=\"s\">\"checked\"</span> <span class=\"k\">:</span> <span class=\"s\">\"\"</span><span class=\"k\">)</span> <span class=\"k\">+</span> <span class=\"s\">'&gt;'</span> <span class=\"k\">+</span> me<span class=\"k\">.</span>getLang<span class=\"k\">(</span><span class=\"s\">\"justifyleft\"</span><span class=\"k\">)</span> <span class=\"k\">+</span> <span class=\"s\">'&lt;input type=\"radio\" name=\"textAlignValue\" value=\"center\" '</span> <span class=\"k\">+</span> <span class=\"k\">((</span>opt<span class=\"k\">[</span><span class=\"s\">\"textAlign\"</span><span class=\"k\">]</span> <span class=\"k\">&amp;&amp;</span> opt<span class=\"k\">[</span><span class=\"s\">\"textAlign\"</span><span class=\"k\">]</span> <span class=\"k\">==</span> <span class=\"s\">\"center\"</span><span class=\"k\">)</span> <span class=\"k\">?</span> <span class=\"s\">\"checked\"</span> <span class=\"k\">:</span> <span class=\"s\">\"\"</span><span class=\"k\">)</span> <span class=\"k\">+</span> <span class=\"s\">'&gt;'</span> <span class=\"k\">+</span> me<span class=\"k\">.</span>getLang<span class=\"k\">(</span><span class=\"s\">\"justifycenter\"</span><span class=\"k\">)</span> <span class=\"k\">+</span> <span class=\"s\">'&lt;input type=\"radio\" name=\"textAlignValue\" value=\"right\" '</span> <span class=\"k\">+</span> <span class=\"k\">((</span>opt<span class=\"k\">[</span><span class=\"s\">\"textAlign\"</span><span class=\"k\">]</span> <span class=\"k\">&amp;&amp;</span> opt<span class=\"k\">[</span><span class=\"s\">\"textAlign\"</span><span class=\"k\">]</span> <span class=\"k\">==</span> <span class=\"s\">\"right\"</span><span class=\"k\">)</span> <span class=\"k\">?</span> <span class=\"s\">\"checked\"</span> <span class=\"k\">:</span> <span class=\"s\">\"\"</span><span class=\"k\">)</span> <span class=\"k\">+</span> <span class=\"s\">'&gt;'</span> <span class=\"k\">+</span> me<span class=\"k\">.</span>getLang<span class=\"k\">(</span><span class=\"s\">\"justifyright\"</span><span class=\"k\">)</span> <span class=\"k\">+</span> <span class=\"s\">' &lt;/tr&gt;'</span> <span class=\"k\">+</span>","                <span class=\"s\">'&lt;tr&gt;&lt;td colspan=\"2\"&gt;&lt;input type=\"checkbox\" name=\"imageBlockLine\" '</span> <span class=\"k\">+</span> <span class=\"k\">(</span>opt<span class=\"k\">[</span><span class=\"s\">\"imageBlockLine\"</span><span class=\"k\">]</span> <span class=\"k\">?</span> <span class=\"s\">\"checked\"</span> <span class=\"k\">:</span> <span class=\"s\">\"\"</span> <span class=\"k\">)</span> <span class=\"k\">+</span> <span class=\"s\">'&gt;'</span> <span class=\"k\">+</span> lang<span class=\"k\">.</span>imageFloat <span class=\"k\">+</span> <span class=\"s\">'&lt;/td&gt;'</span> <span class=\"k\">+</span>","                <span class=\"s\">'&lt;td colspan=\"2\" id=\"imageBlockLineValue\"&gt;'</span> <span class=\"k\">+</span>","                <span class=\"s\">'&lt;input type=\"radio\" name=\"imageBlockLineValue\" value=\"none\" '</span> <span class=\"k\">+</span> <span class=\"k\">((</span>opt<span class=\"k\">[</span><span class=\"s\">\"imageBlockLine\"</span><span class=\"k\">]</span> <span class=\"k\">&amp;&amp;</span> opt<span class=\"k\">[</span><span class=\"s\">\"imageBlockLine\"</span><span class=\"k\">]</span> <span class=\"k\">==</span> <span class=\"s\">\"none\"</span><span class=\"k\">)</span> <span class=\"k\">?</span> <span class=\"s\">\"checked\"</span> <span class=\"k\">:</span> <span class=\"s\">\"\"</span><span class=\"k\">)</span> <span class=\"k\">+</span> <span class=\"s\">'&gt;'</span> <span class=\"k\">+</span> me<span class=\"k\">.</span>getLang<span class=\"k\">(</span><span class=\"s\">\"default\"</span><span class=\"k\">)</span> <span class=\"k\">+</span>","                <span class=\"s\">'&lt;input type=\"radio\" name=\"imageBlockLineValue\" value=\"left\" '</span> <span class=\"k\">+</span> <span class=\"k\">((</span>opt<span class=\"k\">[</span><span class=\"s\">\"imageBlockLine\"</span><span class=\"k\">]</span> <span class=\"k\">&amp;&amp;</span> opt<span class=\"k\">[</span><span class=\"s\">\"imageBlockLine\"</span><span class=\"k\">]</span> <span class=\"k\">==</span> <span class=\"s\">\"left\"</span><span class=\"k\">)</span> <span class=\"k\">?</span> <span class=\"s\">\"checked\"</span> <span class=\"k\">:</span> <span class=\"s\">\"\"</span><span class=\"k\">)</span> <span class=\"k\">+</span> <span class=\"s\">'&gt;'</span> <span class=\"k\">+</span> me<span class=\"k\">.</span>getLang<span class=\"k\">(</span><span class=\"s\">\"justifyleft\"</span><span class=\"k\">)</span> <span class=\"k\">+</span>","                <span class=\"s\">'&lt;input type=\"radio\" name=\"imageBlockLineValue\" value=\"center\" '</span> <span class=\"k\">+</span> <span class=\"k\">((</span>opt<span class=\"k\">[</span><span class=\"s\">\"imageBlockLine\"</span><span class=\"k\">]</span> <span class=\"k\">&amp;&amp;</span> opt<span class=\"k\">[</span><span class=\"s\">\"imageBlockLine\"</span><span class=\"k\">]</span> <span class=\"k\">==</span> <span class=\"s\">\"center\"</span><span class=\"k\">)</span> <span class=\"k\">?</span> <span class=\"s\">\"checked\"</span> <span class=\"k\">:</span> <span class=\"s\">\"\"</span><span class=\"k\">)</span> <span class=\"k\">+</span> <span class=\"s\">'&gt;'</span> <span class=\"k\">+</span> me<span class=\"k\">.</span>getLang<span class=\"k\">(</span><span class=\"s\">\"justifycenter\"</span><span class=\"k\">)</span> <span class=\"k\">+</span>","                <span class=\"s\">'&lt;input type=\"radio\" name=\"imageBlockLineValue\" value=\"right\" '</span> <span class=\"k\">+</span> <span class=\"k\">((</span>opt<span class=\"k\">[</span><span class=\"s\">\"imageBlockLine\"</span><span class=\"k\">]</span> <span class=\"k\">&amp;&amp;</span> opt<span class=\"k\">[</span><span class=\"s\">\"imageBlockLine\"</span><span class=\"k\">]</span> <span class=\"k\">==</span> <span class=\"s\">\"right\"</span><span class=\"k\">)</span> <span class=\"k\">?</span> <span class=\"s\">\"checked\"</span> <span class=\"k\">:</span> <span class=\"s\">\"\"</span><span class=\"k\">)</span> <span class=\"k\">+</span> <span class=\"s\">'&gt;'</span> <span class=\"k\">+</span> me<span class=\"k\">.</span>getLang<span class=\"k\">(</span><span class=\"s\">\"justifyright\"</span><span class=\"k\">)</span> <span class=\"k\">+</span> <span class=\"s\">'&lt;/tr&gt;'</span> <span class=\"k\">+</span>","","                <span class=\"s\">'&lt;tr&gt;&lt;td colspan=\"2\"&gt;&lt;input type=\"checkbox\" name=\"clearFontSize\" '</span> <span class=\"k\">+</span> <span class=\"k\">(</span>opt<span class=\"k\">[</span><span class=\"s\">\"clearFontSize\"</span><span class=\"k\">]</span> <span class=\"k\">?</span> <span class=\"s\">\"checked\"</span> <span class=\"k\">:</span> <span class=\"s\">\"\"</span> <span class=\"k\">)</span> <span class=\"k\">+</span> <span class=\"s\">'&gt;'</span> <span class=\"k\">+</span> lang<span class=\"k\">.</span>removeFontsize <span class=\"k\">+</span> <span class=\"s\">'&lt;/td&gt;&lt;td colspan=\"2\"&gt;&lt;input type=\"checkbox\" name=\"clearFontFamily\" '</span> <span class=\"k\">+</span> <span class=\"k\">(</span>opt<span class=\"k\">[</span><span class=\"s\">\"clearFontFamily\"</span><span class=\"k\">]</span> <span class=\"k\">?</span> <span class=\"s\">\"checked\"</span> <span class=\"k\">:</span> <span class=\"s\">\"\"</span> <span class=\"k\">)</span> <span class=\"k\">+</span> <span class=\"s\">'&gt;'</span> <span class=\"k\">+</span> lang<span class=\"k\">.</span>removeFontFamily <span class=\"k\">+</span> <span class=\"s\">'&lt;/td&gt;&lt;/tr&gt;'</span> <span class=\"k\">+</span>","                <span class=\"s\">'&lt;tr&gt;&lt;td colspan=\"4\"&gt;&lt;input type=\"checkbox\" name=\"removeEmptyNode\" '</span> <span class=\"k\">+</span> <span class=\"k\">(</span>opt<span class=\"k\">[</span><span class=\"s\">\"removeEmptyNode\"</span><span class=\"k\">]</span> <span class=\"k\">?</span> <span class=\"s\">\"checked\"</span> <span class=\"k\">:</span> <span class=\"s\">\"\"</span> <span class=\"k\">)</span> <span class=\"k\">+</span> <span class=\"s\">'&gt;'</span> <span class=\"k\">+</span> lang<span class=\"k\">.</span>removeHtml <span class=\"k\">+</span> <span class=\"s\">'&lt;/td&gt;&lt;/tr&gt;'</span> <span class=\"k\">+</span>","                <span class=\"s\">'&lt;tr&gt;&lt;td colspan=\"4\"&gt;&lt;input type=\"checkbox\" name=\"pasteFilter\" '</span> <span class=\"k\">+</span> <span class=\"k\">(</span>opt<span class=\"k\">[</span><span class=\"s\">\"pasteFilter\"</span><span class=\"k\">]</span> <span class=\"k\">?</span> <span class=\"s\">\"checked\"</span> <span class=\"k\">:</span> <span class=\"s\">\"\"</span> <span class=\"k\">)</span> <span class=\"k\">+</span> <span class=\"s\">'&gt;'</span> <span class=\"k\">+</span> lang<span class=\"k\">.</span>pasteFilter <span class=\"k\">+</span> <span class=\"s\">'&lt;/td&gt;&lt;/tr&gt;'</span> <span class=\"k\">+</span>","                <span class=\"s\">'&lt;tr&gt;&lt;td colspan=\"4\" align=\"right\"&gt;&lt;button &gt;'</span> <span class=\"k\">+</span> lang<span class=\"k\">.</span>run <span class=\"k\">+</span> <span class=\"s\">'&lt;/button&gt;&lt;/td&gt;&lt;/tr&gt;'</span> <span class=\"k\">+</span>","                <span class=\"s\">'&lt;/table&gt;'</span> <span class=\"k\">+</span>","                <span class=\"s\">'&lt;/div&gt;'</span> <span class=\"k\">+</span>","                <span class=\"s\">'&lt;/div&gt;'</span><span class=\"k\">;</span>","","","        <span class=\"k\">}</span><span class=\"k\">,</span>","        _UIBase_render<span class=\"k\">:</span>UIBase<span class=\"k\">.</span>prototype<span class=\"k\">.</span>render","    <span class=\"k\">}</span><span class=\"k\">;</span>","    utils<span class=\"k\">.</span>inherits<span class=\"k\">(</span>AutoTypeSetPicker<span class=\"k\">,</span> UIBase<span class=\"k\">);</span>","<span class=\"k\">}</span><span class=\"k\">)();</span>"]);
_$jscoverage['ui/button.js'] && (_$jscoverage['ui/button.js'].source = ["<span class=\"c\">///import core</span>","<span class=\"c\">///import uicore</span>","<span class=\"c\">///import ui/stateful.js</span>","<span class=\"k\">(</span><span class=\"k\">function</span> <span class=\"k\">()</span><span class=\"k\">{</span>","    <span class=\"k\">var</span> utils <span class=\"k\">=</span> baidu<span class=\"k\">.</span>editor<span class=\"k\">.</span>utils<span class=\"k\">,</span>","        UIBase <span class=\"k\">=</span> baidu<span class=\"k\">.</span>editor<span class=\"k\">.</span>ui<span class=\"k\">.</span>UIBase<span class=\"k\">,</span>","        Stateful <span class=\"k\">=</span> baidu<span class=\"k\">.</span>editor<span class=\"k\">.</span>ui<span class=\"k\">.</span>Stateful<span class=\"k\">,</span>","        Button <span class=\"k\">=</span> baidu<span class=\"k\">.</span>editor<span class=\"k\">.</span>ui<span class=\"k\">.</span>Button <span class=\"k\">=</span> <span class=\"k\">function</span> <span class=\"k\">(</span>options<span class=\"k\">)</span><span class=\"k\">{</span>","            <span class=\"k\">this</span><span class=\"k\">.</span>initOptions<span class=\"k\">(</span>options<span class=\"k\">);</span>","            <span class=\"k\">this</span><span class=\"k\">.</span>initButton<span class=\"k\">();</span>","        <span class=\"k\">}</span><span class=\"k\">;</span>","    Button<span class=\"k\">.</span>prototype <span class=\"k\">=</span> <span class=\"k\">{</span>","        uiName<span class=\"k\">:</span> <span class=\"s\">'button'</span><span class=\"k\">,</span>","        label<span class=\"k\">:</span> <span class=\"s\">''</span><span class=\"k\">,</span>","        title<span class=\"k\">:</span> <span class=\"s\">''</span><span class=\"k\">,</span>","        showIcon<span class=\"k\">:</span> <span class=\"k\">true</span><span class=\"k\">,</span>","        showText<span class=\"k\">:</span> <span class=\"k\">true</span><span class=\"k\">,</span>","        initButton<span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">()</span><span class=\"k\">{</span>","            <span class=\"k\">this</span><span class=\"k\">.</span>initUIBase<span class=\"k\">();</span>","            <span class=\"k\">this</span><span class=\"k\">.</span>Stateful_init<span class=\"k\">();</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        getHtmlTpl<span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">()</span><span class=\"k\">{</span>","            <span class=\"k\">return</span> <span class=\"s\">'&lt;div id=\"##\" class=\"edui-box %%\"&gt;'</span> <span class=\"k\">+</span>","                <span class=\"s\">'&lt;div id=\"##_state\" stateful&gt;'</span> <span class=\"k\">+</span>","                 <span class=\"s\">'&lt;div class=\"%%-wrap\"&gt;&lt;div id=\"##_body\" unselectable=\"on\" '</span> <span class=\"k\">+</span> <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>title <span class=\"k\">?</span> <span class=\"s\">'title=\"'</span> <span class=\"k\">+</span> <span class=\"k\">this</span><span class=\"k\">.</span>title <span class=\"k\">+</span> <span class=\"s\">'\"'</span> <span class=\"k\">:</span> <span class=\"s\">''</span><span class=\"k\">)</span> <span class=\"k\">+</span>","                 <span class=\"s\">' class=\"%%-body\" onmousedown=\"return false;\" onclick=\"return $$._onClick();\"&gt;'</span> <span class=\"k\">+</span>","                  <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>showIcon <span class=\"k\">?</span> <span class=\"s\">'&lt;div class=\"edui-box edui-icon\"&gt;&lt;/div&gt;'</span> <span class=\"k\">:</span> <span class=\"s\">''</span><span class=\"k\">)</span> <span class=\"k\">+</span>","                  <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>showText <span class=\"k\">?</span> <span class=\"s\">'&lt;div class=\"edui-box edui-label\"&gt;'</span> <span class=\"k\">+</span> <span class=\"k\">this</span><span class=\"k\">.</span>label <span class=\"k\">+</span> <span class=\"s\">'&lt;/div&gt;'</span> <span class=\"k\">:</span> <span class=\"s\">''</span><span class=\"k\">)</span> <span class=\"k\">+</span>","                 <span class=\"s\">'&lt;/div&gt;'</span> <span class=\"k\">+</span>","                <span class=\"s\">'&lt;/div&gt;'</span> <span class=\"k\">+</span>","                <span class=\"s\">'&lt;/div&gt;&lt;/div&gt;'</span><span class=\"k\">;</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        postRender<span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">()</span><span class=\"k\">{</span>","            <span class=\"k\">this</span><span class=\"k\">.</span>Stateful_postRender<span class=\"k\">();</span>","            <span class=\"k\">this</span><span class=\"k\">.</span>setDisabled<span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>disabled<span class=\"k\">)</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        _onClick<span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">()</span><span class=\"k\">{</span>","            <span class=\"k\">if</span> <span class=\"k\">(!</span><span class=\"k\">this</span><span class=\"k\">.</span>isDisabled<span class=\"k\">())</span> <span class=\"k\">{</span>","                <span class=\"k\">this</span><span class=\"k\">.</span>fireEvent<span class=\"k\">(</span><span class=\"s\">'click'</span><span class=\"k\">);</span>","            <span class=\"k\">}</span>","        <span class=\"k\">}</span>","    <span class=\"k\">}</span><span class=\"k\">;</span>","    utils<span class=\"k\">.</span>inherits<span class=\"k\">(</span>Button<span class=\"k\">,</span> UIBase<span class=\"k\">);</span>","    utils<span class=\"k\">.</span>extend<span class=\"k\">(</span>Button<span class=\"k\">.</span>prototype<span class=\"k\">,</span> Stateful<span class=\"k\">);</span>","","<span class=\"k\">}</span><span class=\"k\">)();</span>"]);
_$jscoverage['ui/colorbutton.js'] && (_$jscoverage['ui/colorbutton.js'].source = ["<span class=\"c\">///import core</span>","<span class=\"c\">///import uicore</span>","<span class=\"c\">///import ui/colorpicker.js</span>","<span class=\"c\">///import ui/popup.js</span>","<span class=\"c\">///import ui/splitbutton.js</span>","<span class=\"k\">(</span><span class=\"k\">function</span> <span class=\"k\">()</span><span class=\"k\">{</span>","    <span class=\"k\">var</span> utils <span class=\"k\">=</span> baidu<span class=\"k\">.</span>editor<span class=\"k\">.</span>utils<span class=\"k\">,</span>","        uiUtils <span class=\"k\">=</span> baidu<span class=\"k\">.</span>editor<span class=\"k\">.</span>ui<span class=\"k\">.</span>uiUtils<span class=\"k\">,</span>","        ColorPicker <span class=\"k\">=</span> baidu<span class=\"k\">.</span>editor<span class=\"k\">.</span>ui<span class=\"k\">.</span>ColorPicker<span class=\"k\">,</span>","        Popup <span class=\"k\">=</span> baidu<span class=\"k\">.</span>editor<span class=\"k\">.</span>ui<span class=\"k\">.</span>Popup<span class=\"k\">,</span>","        SplitButton <span class=\"k\">=</span> baidu<span class=\"k\">.</span>editor<span class=\"k\">.</span>ui<span class=\"k\">.</span>SplitButton<span class=\"k\">,</span>","        ColorButton <span class=\"k\">=</span> baidu<span class=\"k\">.</span>editor<span class=\"k\">.</span>ui<span class=\"k\">.</span>ColorButton <span class=\"k\">=</span> <span class=\"k\">function</span> <span class=\"k\">(</span>options<span class=\"k\">)</span><span class=\"k\">{</span>","            <span class=\"k\">this</span><span class=\"k\">.</span>initOptions<span class=\"k\">(</span>options<span class=\"k\">);</span>","            <span class=\"k\">this</span><span class=\"k\">.</span>initColorButton<span class=\"k\">();</span>","        <span class=\"k\">}</span><span class=\"k\">;</span>","    ColorButton<span class=\"k\">.</span>prototype <span class=\"k\">=</span> <span class=\"k\">{</span>","        initColorButton<span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">()</span><span class=\"k\">{</span>","            <span class=\"k\">var</span> me <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">;</span>","            <span class=\"k\">this</span><span class=\"k\">.</span>popup <span class=\"k\">=</span> <span class=\"k\">new</span> Popup<span class=\"k\">(</span><span class=\"k\">{</span>","                content<span class=\"k\">:</span> <span class=\"k\">new</span> ColorPicker<span class=\"k\">(</span><span class=\"k\">{</span>","                    noColorText<span class=\"k\">:</span> me<span class=\"k\">.</span>editor<span class=\"k\">.</span>getLang<span class=\"k\">(</span><span class=\"s\">\"clearColor\"</span><span class=\"k\">),</span>","                    editor<span class=\"k\">:</span>me<span class=\"k\">.</span>editor<span class=\"k\">,</span>","                    onpickcolor<span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">(</span>t<span class=\"k\">,</span> color<span class=\"k\">)</span><span class=\"k\">{</span>","                        me<span class=\"k\">.</span>_onPickColor<span class=\"k\">(</span>color<span class=\"k\">);</span>","                    <span class=\"k\">}</span><span class=\"k\">,</span>","                    onpicknocolor<span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">(</span>t<span class=\"k\">,</span> color<span class=\"k\">)</span><span class=\"k\">{</span>","                        me<span class=\"k\">.</span>_onPickNoColor<span class=\"k\">(</span>color<span class=\"k\">);</span>","                    <span class=\"k\">}</span>","                <span class=\"k\">}</span><span class=\"k\">),</span>","                editor<span class=\"k\">:</span>me<span class=\"k\">.</span>editor","            <span class=\"k\">}</span><span class=\"k\">);</span>","            <span class=\"k\">this</span><span class=\"k\">.</span>initSplitButton<span class=\"k\">();</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        _SplitButton_postRender<span class=\"k\">:</span> SplitButton<span class=\"k\">.</span>prototype<span class=\"k\">.</span>postRender<span class=\"k\">,</span>","        postRender<span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">()</span><span class=\"k\">{</span>","            <span class=\"k\">this</span><span class=\"k\">.</span>_SplitButton_postRender<span class=\"k\">();</span>","            <span class=\"k\">this</span><span class=\"k\">.</span>getDom<span class=\"k\">(</span><span class=\"s\">'button_body'</span><span class=\"k\">).</span>appendChild<span class=\"k\">(</span>","                uiUtils<span class=\"k\">.</span>createElementByHtml<span class=\"k\">(</span><span class=\"s\">'&lt;div id=\"'</span> <span class=\"k\">+</span> <span class=\"k\">this</span><span class=\"k\">.</span>id <span class=\"k\">+</span> <span class=\"s\">'_colorlump\" class=\"edui-colorlump\"&gt;&lt;/div&gt;'</span><span class=\"k\">)</span>","                <span class=\"k\">);</span>","            <span class=\"k\">this</span><span class=\"k\">.</span>getDom<span class=\"k\">().</span>className <span class=\"k\">+=</span> <span class=\"s\">' edui-colorbutton'</span><span class=\"k\">;</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        setColor<span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">(</span>color<span class=\"k\">)</span><span class=\"k\">{</span>","            <span class=\"k\">this</span><span class=\"k\">.</span>getDom<span class=\"k\">(</span><span class=\"s\">'colorlump'</span><span class=\"k\">).</span>style<span class=\"k\">.</span>backgroundColor <span class=\"k\">=</span> color<span class=\"k\">;</span>","            <span class=\"k\">this</span><span class=\"k\">.</span>color <span class=\"k\">=</span> color<span class=\"k\">;</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        _onPickColor<span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">(</span>color<span class=\"k\">)</span><span class=\"k\">{</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>fireEvent<span class=\"k\">(</span><span class=\"s\">'pickcolor'</span><span class=\"k\">,</span> color<span class=\"k\">)</span> <span class=\"k\">!==</span> <span class=\"k\">false</span><span class=\"k\">)</span> <span class=\"k\">{</span>","                <span class=\"k\">this</span><span class=\"k\">.</span>setColor<span class=\"k\">(</span>color<span class=\"k\">);</span>","                <span class=\"k\">this</span><span class=\"k\">.</span>popup<span class=\"k\">.</span>hide<span class=\"k\">();</span>","            <span class=\"k\">}</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        _onPickNoColor<span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">(</span>color<span class=\"k\">)</span><span class=\"k\">{</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>fireEvent<span class=\"k\">(</span><span class=\"s\">'picknocolor'</span><span class=\"k\">)</span> <span class=\"k\">!==</span> <span class=\"k\">false</span><span class=\"k\">)</span> <span class=\"k\">{</span>","                <span class=\"k\">this</span><span class=\"k\">.</span>popup<span class=\"k\">.</span>hide<span class=\"k\">();</span>","            <span class=\"k\">}</span>","        <span class=\"k\">}</span>","    <span class=\"k\">}</span><span class=\"k\">;</span>","    utils<span class=\"k\">.</span>inherits<span class=\"k\">(</span>ColorButton<span class=\"k\">,</span> SplitButton<span class=\"k\">);</span>","","<span class=\"k\">}</span><span class=\"k\">)();</span>"]);
_$jscoverage['ui/colorpicker.js'] && (_$jscoverage['ui/colorpicker.js'].source = ["<span class=\"c\">///import core</span>","<span class=\"c\">///import uicore</span>","<span class=\"k\">(</span><span class=\"k\">function</span> <span class=\"k\">()</span><span class=\"k\">{</span>","    <span class=\"k\">var</span> utils <span class=\"k\">=</span> baidu<span class=\"k\">.</span>editor<span class=\"k\">.</span>utils<span class=\"k\">,</span>","        UIBase <span class=\"k\">=</span> baidu<span class=\"k\">.</span>editor<span class=\"k\">.</span>ui<span class=\"k\">.</span>UIBase<span class=\"k\">,</span>","        ColorPicker <span class=\"k\">=</span> baidu<span class=\"k\">.</span>editor<span class=\"k\">.</span>ui<span class=\"k\">.</span>ColorPicker <span class=\"k\">=</span> <span class=\"k\">function</span> <span class=\"k\">(</span>options<span class=\"k\">)</span><span class=\"k\">{</span>","            <span class=\"k\">this</span><span class=\"k\">.</span>initOptions<span class=\"k\">(</span>options<span class=\"k\">);</span>","            <span class=\"k\">this</span><span class=\"k\">.</span>noColorText <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>noColorText <span class=\"k\">||</span> <span class=\"k\">this</span><span class=\"k\">.</span>editor<span class=\"k\">.</span>getLang<span class=\"k\">(</span><span class=\"s\">\"clearColor\"</span><span class=\"k\">);</span>","            <span class=\"k\">this</span><span class=\"k\">.</span>initUIBase<span class=\"k\">();</span>","        <span class=\"k\">}</span><span class=\"k\">;</span>","","    ColorPicker<span class=\"k\">.</span>prototype <span class=\"k\">=</span> <span class=\"k\">{</span>","        getHtmlTpl<span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">()</span><span class=\"k\">{</span>","            <span class=\"k\">return</span> genColorPicker<span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>noColorText<span class=\"k\">,</span><span class=\"k\">this</span><span class=\"k\">.</span>editor<span class=\"k\">);</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        _onTableClick<span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">(</span>evt<span class=\"k\">)</span><span class=\"k\">{</span>","            <span class=\"k\">var</span> tgt <span class=\"k\">=</span> evt<span class=\"k\">.</span>target <span class=\"k\">||</span> evt<span class=\"k\">.</span>srcElement<span class=\"k\">;</span>","            <span class=\"k\">var</span> color <span class=\"k\">=</span> tgt<span class=\"k\">.</span>getAttribute<span class=\"k\">(</span><span class=\"s\">'data-color'</span><span class=\"k\">);</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span>color<span class=\"k\">)</span> <span class=\"k\">{</span>","                <span class=\"k\">this</span><span class=\"k\">.</span>fireEvent<span class=\"k\">(</span><span class=\"s\">'pickcolor'</span><span class=\"k\">,</span> color<span class=\"k\">);</span>","            <span class=\"k\">}</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        _onTableOver<span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">(</span>evt<span class=\"k\">)</span><span class=\"k\">{</span>","            <span class=\"k\">var</span> tgt <span class=\"k\">=</span> evt<span class=\"k\">.</span>target <span class=\"k\">||</span> evt<span class=\"k\">.</span>srcElement<span class=\"k\">;</span>","            <span class=\"k\">var</span> color <span class=\"k\">=</span> tgt<span class=\"k\">.</span>getAttribute<span class=\"k\">(</span><span class=\"s\">'data-color'</span><span class=\"k\">);</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span>color<span class=\"k\">)</span> <span class=\"k\">{</span>","                <span class=\"k\">this</span><span class=\"k\">.</span>getDom<span class=\"k\">(</span><span class=\"s\">'preview'</span><span class=\"k\">).</span>style<span class=\"k\">.</span>backgroundColor <span class=\"k\">=</span> color<span class=\"k\">;</span>","            <span class=\"k\">}</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        _onTableOut<span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">()</span><span class=\"k\">{</span>","            <span class=\"k\">this</span><span class=\"k\">.</span>getDom<span class=\"k\">(</span><span class=\"s\">'preview'</span><span class=\"k\">).</span>style<span class=\"k\">.</span>backgroundColor <span class=\"k\">=</span> <span class=\"s\">''</span><span class=\"k\">;</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        _onPickNoColor<span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">()</span><span class=\"k\">{</span>","            <span class=\"k\">this</span><span class=\"k\">.</span>fireEvent<span class=\"k\">(</span><span class=\"s\">'picknocolor'</span><span class=\"k\">);</span>","        <span class=\"k\">}</span>","    <span class=\"k\">}</span><span class=\"k\">;</span>","    utils<span class=\"k\">.</span>inherits<span class=\"k\">(</span>ColorPicker<span class=\"k\">,</span> UIBase<span class=\"k\">);</span>","","    <span class=\"k\">var</span> COLORS <span class=\"k\">=</span> <span class=\"k\">(</span>","            <span class=\"s\">'ffffff,000000,eeece1,1f497d,4f81bd,c0504d,9bbb59,8064a2,4bacc6,f79646,'</span> <span class=\"k\">+</span>","            <span class=\"s\">'f2f2f2,7f7f7f,ddd9c3,c6d9f0,dbe5f1,f2dcdb,ebf1dd,e5e0ec,dbeef3,fdeada,'</span> <span class=\"k\">+</span>","            <span class=\"s\">'d8d8d8,595959,c4bd97,8db3e2,b8cce4,e5b9b7,d7e3bc,ccc1d9,b7dde8,fbd5b5,'</span> <span class=\"k\">+</span>","            <span class=\"s\">'bfbfbf,3f3f3f,938953,548dd4,95b3d7,d99694,c3d69b,b2a2c7,92cddc,fac08f,'</span> <span class=\"k\">+</span>","            <span class=\"s\">'a5a5a5,262626,494429,17365d,366092,953734,76923c,5f497a,31859b,e36c09,'</span> <span class=\"k\">+</span>","            <span class=\"s\">'7f7f7f,0c0c0c,1d1b10,0f243e,244061,632423,4f6128,3f3151,205867,974806,'</span> <span class=\"k\">+</span>","            <span class=\"s\">'c00000,ff0000,ffc000,ffff00,92d050,00b050,00b0f0,0070c0,002060,7030a0,'</span><span class=\"k\">).</span>split<span class=\"k\">(</span><span class=\"s\">','</span><span class=\"k\">);</span>","","    <span class=\"k\">function</span> genColorPicker<span class=\"k\">(</span>noColorText<span class=\"k\">,</span>editor<span class=\"k\">)</span><span class=\"k\">{</span>","        <span class=\"k\">var</span> html <span class=\"k\">=</span> <span class=\"s\">'&lt;div id=\"##\" class=\"edui-colorpicker %%\"&gt;'</span> <span class=\"k\">+</span>","            <span class=\"s\">'&lt;div class=\"edui-colorpicker-topbar edui-clearfix\"&gt;'</span> <span class=\"k\">+</span>","             <span class=\"s\">'&lt;div unselectable=\"on\" id=\"##_preview\" class=\"edui-colorpicker-preview\"&gt;&lt;/div&gt;'</span> <span class=\"k\">+</span>","             <span class=\"s\">'&lt;div unselectable=\"on\" class=\"edui-colorpicker-nocolor\" onclick=\"$$._onPickNoColor(event, this);\"&gt;'</span><span class=\"k\">+</span> noColorText <span class=\"k\">+</span><span class=\"s\">'&lt;/div&gt;'</span> <span class=\"k\">+</span>","            <span class=\"s\">'&lt;/div&gt;'</span> <span class=\"k\">+</span>","            <span class=\"s\">'&lt;table  class=\"edui-box\" style=\"border-collapse: collapse;\" onmouseover=\"$$._onTableOver(event, this);\" onmouseout=\"$$._onTableOut(event, this);\" onclick=\"return $$._onTableClick(event, this);\" cellspacing=\"0\" cellpadding=\"0\"&gt;'</span> <span class=\"k\">+</span>","            <span class=\"s\">'&lt;tr style=\"border-bottom: 1px solid #ddd;font-size: 13px;line-height: 25px;color:#39C;padding-top: 2px\"&gt;&lt;td colspan=\"10\"&gt;'</span><span class=\"k\">+</span>editor<span class=\"k\">.</span>getLang<span class=\"k\">(</span><span class=\"s\">\"themeColor\"</span><span class=\"k\">)+</span><span class=\"s\">'&lt;/td&gt; &lt;/tr&gt;'</span><span class=\"k\">+</span>","            <span class=\"s\">'&lt;tr class=\"edui-colorpicker-tablefirstrow\" &gt;'</span><span class=\"k\">;</span>","        <span class=\"k\">for</span> <span class=\"k\">(</span><span class=\"k\">var</span> i<span class=\"k\">=</span><span class=\"s\">0</span><span class=\"k\">;</span> i<span class=\"k\">&lt;</span>COLORS<span class=\"k\">.</span>length<span class=\"k\">;</span> i<span class=\"k\">++)</span> <span class=\"k\">{</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span>i <span class=\"k\">&amp;&amp;</span> i<span class=\"k\">%</span><span class=\"s\">10</span> <span class=\"k\">===</span> <span class=\"s\">0</span><span class=\"k\">)</span> <span class=\"k\">{</span>","                html <span class=\"k\">+=</span> <span class=\"s\">'&lt;/tr&gt;'</span><span class=\"k\">+(</span>i<span class=\"k\">==</span><span class=\"s\">60</span><span class=\"k\">?</span><span class=\"s\">'&lt;tr style=\"border-bottom: 1px solid #ddd;font-size: 13px;line-height: 25px;color:#39C;\"&gt;&lt;td colspan=\"10\"&gt;'</span><span class=\"k\">+</span>editor<span class=\"k\">.</span>getLang<span class=\"k\">(</span><span class=\"s\">\"standardColor\"</span><span class=\"k\">)+</span><span class=\"s\">'&lt;/td&gt;&lt;/tr&gt;'</span><span class=\"k\">:</span><span class=\"s\">''</span><span class=\"k\">)+</span><span class=\"s\">'&lt;tr'</span><span class=\"k\">+(</span>i<span class=\"k\">==</span><span class=\"s\">60</span><span class=\"k\">?</span><span class=\"s\">' class=\"edui-colorpicker-tablefirstrow\"'</span><span class=\"k\">:</span><span class=\"s\">''</span><span class=\"k\">)+</span><span class=\"s\">'&gt;'</span><span class=\"k\">;</span>","            <span class=\"k\">}</span>","            html <span class=\"k\">+=</span> i<span class=\"k\">&lt;</span><span class=\"s\">70</span> <span class=\"k\">?</span> <span class=\"s\">'&lt;td style=\"padding: 0 2px;\"&gt;&lt;a hidefocus title=\"'</span><span class=\"k\">+</span>COLORS<span class=\"k\">[</span>i<span class=\"k\">]+</span><span class=\"s\">'\" onclick=\"return false;\" href=\"javascript:\" unselectable=\"on\" class=\"edui-box edui-colorpicker-colorcell\"'</span> <span class=\"k\">+</span>","                        <span class=\"s\">' data-color=\"#'</span><span class=\"k\">+</span> COLORS<span class=\"k\">[</span>i<span class=\"k\">]</span> <span class=\"k\">+</span><span class=\"s\">'\"'</span><span class=\"k\">+</span>","                        <span class=\"s\">' style=\"background-color:#'</span><span class=\"k\">+</span> COLORS<span class=\"k\">[</span>i<span class=\"k\">]</span> <span class=\"k\">+</span><span class=\"s\">';border:solid #ccc;'</span><span class=\"k\">+</span>","                        <span class=\"k\">(</span>i<span class=\"k\">&lt;</span><span class=\"s\">10</span> <span class=\"k\">||</span> i<span class=\"k\">&gt;=</span><span class=\"s\">60</span><span class=\"k\">?</span><span class=\"s\">'border-width:1px;'</span><span class=\"k\">:</span>","                         i<span class=\"k\">&gt;=</span><span class=\"s\">10</span><span class=\"k\">&amp;&amp;</span>i<span class=\"k\">&lt;</span><span class=\"s\">20</span><span class=\"k\">?</span><span class=\"s\">'border-width:1px 1px 0 1px;'</span><span class=\"k\">:</span>","","                        <span class=\"s\">'border-width:0 1px 0 1px;'</span><span class=\"k\">)+</span>","                        <span class=\"s\">'\"'</span> <span class=\"k\">+</span>","                    <span class=\"s\">'&gt;&lt;/a&gt;&lt;/td&gt;'</span><span class=\"k\">:</span><span class=\"s\">''</span><span class=\"k\">;</span>","        <span class=\"k\">}</span>","        html <span class=\"k\">+=</span> <span class=\"s\">'&lt;/tr&gt;&lt;/table&gt;&lt;/div&gt;'</span><span class=\"k\">;</span>","        <span class=\"k\">return</span> html<span class=\"k\">;</span>","    <span class=\"k\">}</span>","<span class=\"k\">}</span><span class=\"k\">)();</span>"]);
_$jscoverage['ui/combox.js'] && (_$jscoverage['ui/combox.js'].source = ["<span class=\"c\">///import core</span>","<span class=\"c\">///import uicore</span>","<span class=\"c\">///import ui/menu.js</span>","<span class=\"c\">///import ui/splitbutton.js</span>","<span class=\"k\">(</span><span class=\"k\">function</span> <span class=\"k\">()</span><span class=\"k\">{</span>","    <span class=\"c\">// todo: menu&#21644;item&#25552;&#25104;&#36890;&#29992;list</span>","    <span class=\"k\">var</span> utils <span class=\"k\">=</span> baidu<span class=\"k\">.</span>editor<span class=\"k\">.</span>utils<span class=\"k\">,</span>","        uiUtils <span class=\"k\">=</span> baidu<span class=\"k\">.</span>editor<span class=\"k\">.</span>ui<span class=\"k\">.</span>uiUtils<span class=\"k\">,</span>","        Menu <span class=\"k\">=</span> baidu<span class=\"k\">.</span>editor<span class=\"k\">.</span>ui<span class=\"k\">.</span>Menu<span class=\"k\">,</span>","        SplitButton <span class=\"k\">=</span> baidu<span class=\"k\">.</span>editor<span class=\"k\">.</span>ui<span class=\"k\">.</span>SplitButton<span class=\"k\">,</span>","        Combox <span class=\"k\">=</span> baidu<span class=\"k\">.</span>editor<span class=\"k\">.</span>ui<span class=\"k\">.</span>Combox <span class=\"k\">=</span> <span class=\"k\">function</span> <span class=\"k\">(</span>options<span class=\"k\">)</span><span class=\"k\">{</span>","            <span class=\"k\">this</span><span class=\"k\">.</span>initOptions<span class=\"k\">(</span>options<span class=\"k\">);</span>","            <span class=\"k\">this</span><span class=\"k\">.</span>initCombox<span class=\"k\">();</span>","        <span class=\"k\">}</span><span class=\"k\">;</span>","    Combox<span class=\"k\">.</span>prototype <span class=\"k\">=</span> <span class=\"k\">{</span>","        uiName<span class=\"k\">:</span> <span class=\"s\">'combox'</span><span class=\"k\">,</span>","        initCombox<span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">()</span><span class=\"k\">{</span>","            <span class=\"k\">var</span> me <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">;</span>","            <span class=\"k\">this</span><span class=\"k\">.</span>items <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>items <span class=\"k\">||</span> <span class=\"k\">[];</span>","            <span class=\"k\">for</span> <span class=\"k\">(</span><span class=\"k\">var</span> i<span class=\"k\">=</span><span class=\"s\">0</span><span class=\"k\">;</span> i<span class=\"k\">&lt;</span><span class=\"k\">this</span><span class=\"k\">.</span>items<span class=\"k\">.</span>length<span class=\"k\">;</span> i<span class=\"k\">++)</span> <span class=\"k\">{</span>","                <span class=\"k\">var</span> item <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>items<span class=\"k\">[</span>i<span class=\"k\">];</span>","                item<span class=\"k\">.</span>uiName <span class=\"k\">=</span> <span class=\"s\">'listitem'</span><span class=\"k\">;</span>","                item<span class=\"k\">.</span>index <span class=\"k\">=</span> i<span class=\"k\">;</span>","                item<span class=\"k\">.</span>onclick <span class=\"k\">=</span> <span class=\"k\">function</span> <span class=\"k\">()</span><span class=\"k\">{</span>","                    me<span class=\"k\">.</span>selectByIndex<span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>index<span class=\"k\">);</span>","                <span class=\"k\">}</span><span class=\"k\">;</span>","            <span class=\"k\">}</span>","            <span class=\"k\">this</span><span class=\"k\">.</span>popup <span class=\"k\">=</span> <span class=\"k\">new</span> Menu<span class=\"k\">(</span><span class=\"k\">{</span>","                items<span class=\"k\">:</span> <span class=\"k\">this</span><span class=\"k\">.</span>items<span class=\"k\">,</span>","                uiName<span class=\"k\">:</span> <span class=\"s\">'list'</span><span class=\"k\">,</span>","                editor<span class=\"k\">:</span><span class=\"k\">this</span><span class=\"k\">.</span>editor","            <span class=\"k\">}</span><span class=\"k\">);</span>","            <span class=\"k\">this</span><span class=\"k\">.</span>initSplitButton<span class=\"k\">();</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        _SplitButton_postRender<span class=\"k\">:</span> SplitButton<span class=\"k\">.</span>prototype<span class=\"k\">.</span>postRender<span class=\"k\">,</span>","        postRender<span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">()</span><span class=\"k\">{</span>","            <span class=\"k\">this</span><span class=\"k\">.</span>_SplitButton_postRender<span class=\"k\">();</span>","            <span class=\"k\">this</span><span class=\"k\">.</span>setLabel<span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>label <span class=\"k\">||</span> <span class=\"s\">''</span><span class=\"k\">);</span>","            <span class=\"k\">this</span><span class=\"k\">.</span>setValue<span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>initValue <span class=\"k\">||</span> <span class=\"s\">''</span><span class=\"k\">);</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        showPopup<span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">()</span><span class=\"k\">{</span>","            <span class=\"k\">var</span> rect <span class=\"k\">=</span> uiUtils<span class=\"k\">.</span>getClientRect<span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>getDom<span class=\"k\">());</span>","            rect<span class=\"k\">.</span>top <span class=\"k\">+=</span> <span class=\"s\">1</span><span class=\"k\">;</span>","            rect<span class=\"k\">.</span>bottom <span class=\"k\">-=</span> <span class=\"s\">1</span><span class=\"k\">;</span>","            rect<span class=\"k\">.</span>height <span class=\"k\">-=</span> <span class=\"s\">2</span><span class=\"k\">;</span>","            <span class=\"k\">this</span><span class=\"k\">.</span>popup<span class=\"k\">.</span>showAnchorRect<span class=\"k\">(</span>rect<span class=\"k\">);</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        getValue<span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">()</span><span class=\"k\">{</span>","            <span class=\"k\">return</span> <span class=\"k\">this</span><span class=\"k\">.</span>value<span class=\"k\">;</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        setValue<span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">(</span>value<span class=\"k\">)</span><span class=\"k\">{</span>","            <span class=\"k\">var</span> index <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>indexByValue<span class=\"k\">(</span>value<span class=\"k\">);</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span>index <span class=\"k\">!=</span> <span class=\"k\">-</span><span class=\"s\">1</span><span class=\"k\">)</span> <span class=\"k\">{</span>","                <span class=\"k\">this</span><span class=\"k\">.</span>selectedIndex <span class=\"k\">=</span> index<span class=\"k\">;</span>","                <span class=\"k\">this</span><span class=\"k\">.</span>setLabel<span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>items<span class=\"k\">[</span>index<span class=\"k\">].</span>label<span class=\"k\">);</span>","                <span class=\"k\">this</span><span class=\"k\">.</span>value <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>items<span class=\"k\">[</span>index<span class=\"k\">].</span>value<span class=\"k\">;</span>","            <span class=\"k\">}</span> <span class=\"k\">else</span> <span class=\"k\">{</span>","                <span class=\"k\">this</span><span class=\"k\">.</span>selectedIndex <span class=\"k\">=</span> <span class=\"k\">-</span><span class=\"s\">1</span><span class=\"k\">;</span>","                <span class=\"k\">this</span><span class=\"k\">.</span>setLabel<span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>getLabelForUnknowValue<span class=\"k\">(</span>value<span class=\"k\">));</span>","                <span class=\"k\">this</span><span class=\"k\">.</span>value <span class=\"k\">=</span> value<span class=\"k\">;</span>","            <span class=\"k\">}</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        setLabel<span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">(</span>label<span class=\"k\">)</span><span class=\"k\">{</span>","            <span class=\"k\">this</span><span class=\"k\">.</span>getDom<span class=\"k\">(</span><span class=\"s\">'button_body'</span><span class=\"k\">).</span>innerHTML <span class=\"k\">=</span> label<span class=\"k\">;</span>","            <span class=\"k\">this</span><span class=\"k\">.</span>label <span class=\"k\">=</span> label<span class=\"k\">;</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        getLabelForUnknowValue<span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">(</span>value<span class=\"k\">)</span><span class=\"k\">{</span>","            <span class=\"k\">return</span> value<span class=\"k\">;</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        indexByValue<span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">(</span>value<span class=\"k\">)</span><span class=\"k\">{</span>","            <span class=\"k\">for</span> <span class=\"k\">(</span><span class=\"k\">var</span> i<span class=\"k\">=</span><span class=\"s\">0</span><span class=\"k\">;</span> i<span class=\"k\">&lt;</span><span class=\"k\">this</span><span class=\"k\">.</span>items<span class=\"k\">.</span>length<span class=\"k\">;</span> i<span class=\"k\">++)</span> <span class=\"k\">{</span>","                <span class=\"k\">if</span> <span class=\"k\">(</span>value <span class=\"k\">==</span> <span class=\"k\">this</span><span class=\"k\">.</span>items<span class=\"k\">[</span>i<span class=\"k\">].</span>value<span class=\"k\">)</span> <span class=\"k\">{</span>","                    <span class=\"k\">return</span> i<span class=\"k\">;</span>","                <span class=\"k\">}</span>","            <span class=\"k\">}</span>","            <span class=\"k\">return</span> <span class=\"k\">-</span><span class=\"s\">1</span><span class=\"k\">;</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        getItem<span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">(</span>index<span class=\"k\">)</span><span class=\"k\">{</span>","            <span class=\"k\">return</span> <span class=\"k\">this</span><span class=\"k\">.</span>items<span class=\"k\">[</span>index<span class=\"k\">];</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        selectByIndex<span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">(</span>index<span class=\"k\">)</span><span class=\"k\">{</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span>index <span class=\"k\">&lt;</span> <span class=\"k\">this</span><span class=\"k\">.</span>items<span class=\"k\">.</span>length <span class=\"k\">&amp;&amp;</span> <span class=\"k\">this</span><span class=\"k\">.</span>fireEvent<span class=\"k\">(</span><span class=\"s\">'select'</span><span class=\"k\">,</span> index<span class=\"k\">)</span> <span class=\"k\">!==</span> <span class=\"k\">false</span><span class=\"k\">)</span> <span class=\"k\">{</span>","                <span class=\"k\">this</span><span class=\"k\">.</span>selectedIndex <span class=\"k\">=</span> index<span class=\"k\">;</span>","                <span class=\"k\">this</span><span class=\"k\">.</span>value <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>items<span class=\"k\">[</span>index<span class=\"k\">].</span>value<span class=\"k\">;</span>","                <span class=\"k\">this</span><span class=\"k\">.</span>setLabel<span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>items<span class=\"k\">[</span>index<span class=\"k\">].</span>label<span class=\"k\">);</span>","            <span class=\"k\">}</span>","        <span class=\"k\">}</span>","    <span class=\"k\">}</span><span class=\"k\">;</span>","    utils<span class=\"k\">.</span>inherits<span class=\"k\">(</span>Combox<span class=\"k\">,</span> SplitButton<span class=\"k\">);</span>","<span class=\"k\">}</span><span class=\"k\">)();</span>"]);
_$jscoverage['ui/dialog.js'] && (_$jscoverage['ui/dialog.js'].source = ["<span class=\"c\">///import core</span>","<span class=\"c\">///import uicore</span>","<span class=\"c\">///import ui/mask.js</span>","<span class=\"c\">///import ui/button.js</span>","<span class=\"k\">(</span><span class=\"k\">function</span> <span class=\"k\">()</span><span class=\"k\">{</span>","    <span class=\"k\">var</span> utils <span class=\"k\">=</span> baidu<span class=\"k\">.</span>editor<span class=\"k\">.</span>utils<span class=\"k\">,</span>","        domUtils <span class=\"k\">=</span> baidu<span class=\"k\">.</span>editor<span class=\"k\">.</span>dom<span class=\"k\">.</span>domUtils<span class=\"k\">,</span>","        uiUtils <span class=\"k\">=</span> baidu<span class=\"k\">.</span>editor<span class=\"k\">.</span>ui<span class=\"k\">.</span>uiUtils<span class=\"k\">,</span>","        Mask <span class=\"k\">=</span> baidu<span class=\"k\">.</span>editor<span class=\"k\">.</span>ui<span class=\"k\">.</span>Mask<span class=\"k\">,</span>","        UIBase <span class=\"k\">=</span> baidu<span class=\"k\">.</span>editor<span class=\"k\">.</span>ui<span class=\"k\">.</span>UIBase<span class=\"k\">,</span>","        Button <span class=\"k\">=</span> baidu<span class=\"k\">.</span>editor<span class=\"k\">.</span>ui<span class=\"k\">.</span>Button<span class=\"k\">,</span>","        Dialog <span class=\"k\">=</span> baidu<span class=\"k\">.</span>editor<span class=\"k\">.</span>ui<span class=\"k\">.</span>Dialog <span class=\"k\">=</span> <span class=\"k\">function</span> <span class=\"k\">(</span>options<span class=\"k\">)</span><span class=\"k\">{</span>","            <span class=\"k\">this</span><span class=\"k\">.</span>initOptions<span class=\"k\">(</span>utils<span class=\"k\">.</span>extend<span class=\"k\">(</span><span class=\"k\">{</span>","                autoReset<span class=\"k\">:</span> <span class=\"k\">true</span><span class=\"k\">,</span>","                draggable<span class=\"k\">:</span> <span class=\"k\">true</span><span class=\"k\">,</span>","                onok<span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">()</span><span class=\"k\">{}</span><span class=\"k\">,</span>","                oncancel<span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">()</span><span class=\"k\">{}</span><span class=\"k\">,</span>","                onclose<span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">(</span>t<span class=\"k\">,</span> ok<span class=\"k\">)</span><span class=\"k\">{</span>","                    <span class=\"k\">return</span> ok <span class=\"k\">?</span> <span class=\"k\">this</span><span class=\"k\">.</span>onok<span class=\"k\">()</span> <span class=\"k\">:</span> <span class=\"k\">this</span><span class=\"k\">.</span>oncancel<span class=\"k\">();</span>","                <span class=\"k\">}</span>","            <span class=\"k\">}</span><span class=\"k\">,</span>options<span class=\"k\">));</span>","            <span class=\"k\">this</span><span class=\"k\">.</span>initDialog<span class=\"k\">();</span>","        <span class=\"k\">}</span><span class=\"k\">;</span>","    <span class=\"k\">var</span> modalMask<span class=\"k\">;</span>","    <span class=\"k\">var</span> dragMask<span class=\"k\">;</span>","    Dialog<span class=\"k\">.</span>prototype <span class=\"k\">=</span> <span class=\"k\">{</span>","        draggable<span class=\"k\">:</span> <span class=\"k\">false</span><span class=\"k\">,</span>","        uiName<span class=\"k\">:</span> <span class=\"s\">'dialog'</span><span class=\"k\">,</span>","        initDialog<span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">()</span><span class=\"k\">{</span>","            <span class=\"k\">var</span> me <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">,</span>","                theme<span class=\"k\">=</span><span class=\"k\">this</span><span class=\"k\">.</span>editor<span class=\"k\">.</span>options<span class=\"k\">.</span>theme<span class=\"k\">;</span>","            <span class=\"k\">this</span><span class=\"k\">.</span>initUIBase<span class=\"k\">();</span>","            <span class=\"k\">this</span><span class=\"k\">.</span>modalMask <span class=\"k\">=</span> <span class=\"k\">(</span>modalMask <span class=\"k\">||</span> <span class=\"k\">(</span>modalMask <span class=\"k\">=</span> <span class=\"k\">new</span> Mask<span class=\"k\">(</span><span class=\"k\">{</span>","                className<span class=\"k\">:</span> <span class=\"s\">'edui-dialog-modalmask'</span><span class=\"k\">,</span>","                theme<span class=\"k\">:</span>theme","            <span class=\"k\">}</span><span class=\"k\">)));</span>","            <span class=\"k\">this</span><span class=\"k\">.</span>dragMask <span class=\"k\">=</span> <span class=\"k\">(</span>dragMask <span class=\"k\">||</span> <span class=\"k\">(</span>dragMask <span class=\"k\">=</span> <span class=\"k\">new</span> Mask<span class=\"k\">(</span><span class=\"k\">{</span>","                className<span class=\"k\">:</span> <span class=\"s\">'edui-dialog-dragmask'</span><span class=\"k\">,</span>","                theme<span class=\"k\">:</span>theme","            <span class=\"k\">}</span><span class=\"k\">)));</span>","            <span class=\"k\">this</span><span class=\"k\">.</span>closeButton <span class=\"k\">=</span> <span class=\"k\">new</span> Button<span class=\"k\">(</span><span class=\"k\">{</span>","                className<span class=\"k\">:</span> <span class=\"s\">'edui-dialog-closebutton'</span><span class=\"k\">,</span>","                title<span class=\"k\">:</span> me<span class=\"k\">.</span>closeDialog<span class=\"k\">,</span>","                theme<span class=\"k\">:</span>theme<span class=\"k\">,</span>","                onclick<span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">()</span><span class=\"k\">{</span>","                    me<span class=\"k\">.</span>close<span class=\"k\">(</span><span class=\"k\">false</span><span class=\"k\">);</span>","                <span class=\"k\">}</span>","            <span class=\"k\">}</span><span class=\"k\">);</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>buttons<span class=\"k\">)</span> <span class=\"k\">{</span>","                <span class=\"k\">for</span> <span class=\"k\">(</span><span class=\"k\">var</span> i<span class=\"k\">=</span><span class=\"s\">0</span><span class=\"k\">;</span> i<span class=\"k\">&lt;</span><span class=\"k\">this</span><span class=\"k\">.</span>buttons<span class=\"k\">.</span>length<span class=\"k\">;</span> i<span class=\"k\">++)</span> <span class=\"k\">{</span>","                    <span class=\"k\">if</span> <span class=\"k\">(!(</span><span class=\"k\">this</span><span class=\"k\">.</span>buttons<span class=\"k\">[</span>i<span class=\"k\">]</span> <span class=\"k\">instanceof</span> Button<span class=\"k\">))</span> <span class=\"k\">{</span>","                        <span class=\"k\">this</span><span class=\"k\">.</span>buttons<span class=\"k\">[</span>i<span class=\"k\">]</span> <span class=\"k\">=</span> <span class=\"k\">new</span> Button<span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>buttons<span class=\"k\">[</span>i<span class=\"k\">]);</span>","                    <span class=\"k\">}</span>","                <span class=\"k\">}</span>","            <span class=\"k\">}</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        fitSize<span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">()</span><span class=\"k\">{</span>","            <span class=\"k\">var</span> popBodyEl <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>getDom<span class=\"k\">(</span><span class=\"s\">'body'</span><span class=\"k\">);</span>","<span class=\"c\">//            if (!(baidu.editor.browser.ie &amp;&amp; baidu.editor.browser.version == 7)) {</span>","<span class=\"c\">//                uiUtils.removeStyle(popBodyEl, 'width');</span>","<span class=\"c\">//                uiUtils.removeStyle(popBodyEl, 'height');</span>","<span class=\"c\">//            }</span>","            <span class=\"k\">var</span> size <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>mesureSize<span class=\"k\">();</span>","            popBodyEl<span class=\"k\">.</span>style<span class=\"k\">.</span>width <span class=\"k\">=</span> size<span class=\"k\">.</span>width <span class=\"k\">+</span> <span class=\"s\">'px'</span><span class=\"k\">;</span>","            popBodyEl<span class=\"k\">.</span>style<span class=\"k\">.</span>height <span class=\"k\">=</span> size<span class=\"k\">.</span>height <span class=\"k\">+</span> <span class=\"s\">'px'</span><span class=\"k\">;</span>","            <span class=\"k\">return</span> size<span class=\"k\">;</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        safeSetOffset<span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">(</span>offset<span class=\"k\">)</span><span class=\"k\">{</span>","            <span class=\"k\">var</span> me <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">;</span>","            <span class=\"k\">var</span> el <span class=\"k\">=</span> me<span class=\"k\">.</span>getDom<span class=\"k\">();</span>","            <span class=\"k\">var</span> vpRect <span class=\"k\">=</span> uiUtils<span class=\"k\">.</span>getViewportRect<span class=\"k\">();</span>","            <span class=\"k\">var</span> rect <span class=\"k\">=</span> uiUtils<span class=\"k\">.</span>getClientRect<span class=\"k\">(</span>el<span class=\"k\">);</span>","            <span class=\"k\">var</span> left <span class=\"k\">=</span> offset<span class=\"k\">.</span>left<span class=\"k\">;</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span>left <span class=\"k\">+</span> rect<span class=\"k\">.</span>width <span class=\"k\">&gt;</span> vpRect<span class=\"k\">.</span>right<span class=\"k\">)</span> <span class=\"k\">{</span>","                left <span class=\"k\">=</span> vpRect<span class=\"k\">.</span>right <span class=\"k\">-</span> rect<span class=\"k\">.</span>width<span class=\"k\">;</span>","            <span class=\"k\">}</span>","            <span class=\"k\">var</span> top <span class=\"k\">=</span> offset<span class=\"k\">.</span>top<span class=\"k\">;</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span>top <span class=\"k\">+</span> rect<span class=\"k\">.</span>height <span class=\"k\">&gt;</span> vpRect<span class=\"k\">.</span>bottom<span class=\"k\">)</span> <span class=\"k\">{</span>","                top <span class=\"k\">=</span> vpRect<span class=\"k\">.</span>bottom <span class=\"k\">-</span> rect<span class=\"k\">.</span>height<span class=\"k\">;</span>","            <span class=\"k\">}</span>","            el<span class=\"k\">.</span>style<span class=\"k\">.</span>left <span class=\"k\">=</span> Math<span class=\"k\">.</span>max<span class=\"k\">(</span>left<span class=\"k\">,</span> <span class=\"s\">0</span><span class=\"k\">)</span> <span class=\"k\">+</span> <span class=\"s\">'px'</span><span class=\"k\">;</span>","            el<span class=\"k\">.</span>style<span class=\"k\">.</span>top <span class=\"k\">=</span> Math<span class=\"k\">.</span>max<span class=\"k\">(</span>top<span class=\"k\">,</span> <span class=\"s\">0</span><span class=\"k\">)</span> <span class=\"k\">+</span> <span class=\"s\">'px'</span><span class=\"k\">;</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        showAtCenter<span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">()</span><span class=\"k\">{</span>","            <span class=\"k\">this</span><span class=\"k\">.</span>getDom<span class=\"k\">().</span>style<span class=\"k\">.</span>display <span class=\"k\">=</span> <span class=\"s\">''</span><span class=\"k\">;</span>","            <span class=\"k\">var</span> vpRect <span class=\"k\">=</span> uiUtils<span class=\"k\">.</span>getViewportRect<span class=\"k\">();</span>","            <span class=\"k\">var</span> popSize <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>fitSize<span class=\"k\">();</span>","            <span class=\"k\">var</span> titleHeight <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>getDom<span class=\"k\">(</span><span class=\"s\">'titlebar'</span><span class=\"k\">).</span>offsetHeight <span class=\"k\">|</span> <span class=\"s\">0</span><span class=\"k\">;</span>","            <span class=\"k\">var</span> left <span class=\"k\">=</span> vpRect<span class=\"k\">.</span>width <span class=\"k\">/</span> <span class=\"s\">2</span> <span class=\"k\">-</span> popSize<span class=\"k\">.</span>width <span class=\"k\">/</span> <span class=\"s\">2</span><span class=\"k\">;</span>","            <span class=\"k\">var</span> top <span class=\"k\">=</span> vpRect<span class=\"k\">.</span>height <span class=\"k\">/</span> <span class=\"s\">2</span> <span class=\"k\">-</span> <span class=\"k\">(</span>popSize<span class=\"k\">.</span>height <span class=\"k\">-</span> titleHeight<span class=\"k\">)</span> <span class=\"k\">/</span> <span class=\"s\">2</span> <span class=\"k\">-</span> titleHeight<span class=\"k\">;</span>","            <span class=\"k\">var</span> popEl <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>getDom<span class=\"k\">();</span>","            <span class=\"k\">this</span><span class=\"k\">.</span>safeSetOffset<span class=\"k\">(</span><span class=\"k\">{</span>","                left<span class=\"k\">:</span> Math<span class=\"k\">.</span>max<span class=\"k\">(</span>left <span class=\"k\">|</span> <span class=\"s\">0</span><span class=\"k\">,</span> <span class=\"s\">0</span><span class=\"k\">),</span>","                top<span class=\"k\">:</span> Math<span class=\"k\">.</span>max<span class=\"k\">(</span>top <span class=\"k\">|</span> <span class=\"s\">0</span><span class=\"k\">,</span> <span class=\"s\">0</span><span class=\"k\">)</span>","            <span class=\"k\">}</span><span class=\"k\">);</span>","            <span class=\"k\">if</span> <span class=\"k\">(!</span>domUtils<span class=\"k\">.</span>hasClass<span class=\"k\">(</span>popEl<span class=\"k\">,</span> <span class=\"s\">'edui-state-centered'</span><span class=\"k\">))</span> <span class=\"k\">{</span>","                popEl<span class=\"k\">.</span>className <span class=\"k\">+=</span> <span class=\"s\">' edui-state-centered'</span><span class=\"k\">;</span>","            <span class=\"k\">}</span>","            <span class=\"k\">this</span><span class=\"k\">.</span>_show<span class=\"k\">();</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        getContentHtml<span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">()</span><span class=\"k\">{</span>","            <span class=\"k\">var</span> contentHtml <span class=\"k\">=</span> <span class=\"s\">''</span><span class=\"k\">;</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span><span class=\"k\">typeof</span> <span class=\"k\">this</span><span class=\"k\">.</span>content <span class=\"k\">==</span> <span class=\"s\">'string'</span><span class=\"k\">)</span> <span class=\"k\">{</span>","                contentHtml <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>content<span class=\"k\">;</span>","            <span class=\"k\">}</span> <span class=\"k\">else</span> <span class=\"k\">if</span> <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>iframeUrl<span class=\"k\">)</span> <span class=\"k\">{</span>","                contentHtml <span class=\"k\">=</span> <span class=\"s\">'&lt;span id=\"'</span><span class=\"k\">+</span> <span class=\"k\">this</span><span class=\"k\">.</span>id <span class=\"k\">+</span><span class=\"s\">'_contmask\" class=\"dialogcontmask\"&gt;&lt;/span&gt;&lt;iframe id=\"'</span><span class=\"k\">+</span> <span class=\"k\">this</span><span class=\"k\">.</span>id <span class=\"k\">+</span>","                    <span class=\"s\">'_iframe\" class=\"%%-iframe\" height=\"100%\" width=\"100%\" frameborder=\"0\" src=\"'</span><span class=\"k\">+</span> <span class=\"k\">this</span><span class=\"k\">.</span>iframeUrl <span class=\"k\">+</span><span class=\"s\">'\"&gt;&lt;/iframe&gt;'</span><span class=\"k\">;</span>","            <span class=\"k\">}</span>","            <span class=\"k\">return</span> contentHtml<span class=\"k\">;</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        getHtmlTpl<span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">()</span><span class=\"k\">{</span>","            <span class=\"k\">var</span> footHtml <span class=\"k\">=</span> <span class=\"s\">''</span><span class=\"k\">;</span>","","            <span class=\"k\">if</span> <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>buttons<span class=\"k\">)</span> <span class=\"k\">{</span>","                <span class=\"k\">var</span> buff <span class=\"k\">=</span> <span class=\"k\">[];</span>","                <span class=\"k\">for</span> <span class=\"k\">(</span><span class=\"k\">var</span> i<span class=\"k\">=</span><span class=\"s\">0</span><span class=\"k\">;</span> i<span class=\"k\">&lt;</span><span class=\"k\">this</span><span class=\"k\">.</span>buttons<span class=\"k\">.</span>length<span class=\"k\">;</span> i<span class=\"k\">++)</span> <span class=\"k\">{</span>","                    buff<span class=\"k\">[</span>i<span class=\"k\">]</span> <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>buttons<span class=\"k\">[</span>i<span class=\"k\">].</span>renderHtml<span class=\"k\">();</span>","                <span class=\"k\">}</span>","                footHtml <span class=\"k\">=</span> <span class=\"s\">'&lt;div class=\"%%-foot\"&gt;'</span> <span class=\"k\">+</span>","                     <span class=\"s\">'&lt;div id=\"##_buttons\" class=\"%%-buttons\"&gt;'</span> <span class=\"k\">+</span> buff<span class=\"k\">.</span>join<span class=\"k\">(</span><span class=\"s\">''</span><span class=\"k\">)</span> <span class=\"k\">+</span> <span class=\"s\">'&lt;/div&gt;'</span> <span class=\"k\">+</span>","                    <span class=\"s\">'&lt;/div&gt;'</span><span class=\"k\">;</span>","            <span class=\"k\">}</span>","            <span class=\"k\">return</span> <span class=\"s\">'&lt;div id=\"##\" class=\"%%\"&gt;&lt;div class=\"%%-wrap\"&gt;&lt;div id=\"##_body\" class=\"%%-body\"&gt;'</span> <span class=\"k\">+</span>","                <span class=\"s\">'&lt;div class=\"%%-shadow\"&gt;&lt;/div&gt;'</span> <span class=\"k\">+</span>","                <span class=\"s\">'&lt;div id=\"##_titlebar\" class=\"%%-titlebar\"&gt;'</span> <span class=\"k\">+</span>","                <span class=\"s\">'&lt;div class=\"%%-draghandle\" onmousedown=\"$$._onTitlebarMouseDown(event, this);\"&gt;'</span> <span class=\"k\">+</span>","                 <span class=\"s\">'&lt;span class=\"%%-caption\"&gt;'</span> <span class=\"k\">+</span> <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>title <span class=\"k\">||</span> <span class=\"s\">''</span><span class=\"k\">)</span> <span class=\"k\">+</span> <span class=\"s\">'&lt;/span&gt;'</span> <span class=\"k\">+</span>","                <span class=\"s\">'&lt;/div&gt;'</span> <span class=\"k\">+</span>","                <span class=\"k\">this</span><span class=\"k\">.</span>closeButton<span class=\"k\">.</span>renderHtml<span class=\"k\">()</span> <span class=\"k\">+</span>","                <span class=\"s\">'&lt;/div&gt;'</span> <span class=\"k\">+</span>","                <span class=\"s\">'&lt;div id=\"##_content\" class=\"%%-content\"&gt;'</span><span class=\"k\">+</span> <span class=\"k\">(</span> <span class=\"k\">this</span><span class=\"k\">.</span>autoReset <span class=\"k\">?</span> <span class=\"s\">''</span> <span class=\"k\">:</span> <span class=\"k\">this</span><span class=\"k\">.</span>getContentHtml<span class=\"k\">())</span> <span class=\"k\">+</span><span class=\"s\">'&lt;/div&gt;'</span> <span class=\"k\">+</span>","                footHtml <span class=\"k\">+</span>","                <span class=\"s\">'&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;'</span><span class=\"k\">;</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        postRender<span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">()</span><span class=\"k\">{</span>","            <span class=\"c\">// todo: &#20445;&#25345;&#23621;&#20013;/&#35760;&#20303;&#19978;&#27425;&#20851;&#38381;&#20301;&#32622;&#36873;&#39033;</span>","            <span class=\"k\">if</span> <span class=\"k\">(!</span><span class=\"k\">this</span><span class=\"k\">.</span>modalMask<span class=\"k\">.</span>getDom<span class=\"k\">())</span> <span class=\"k\">{</span>","                <span class=\"k\">this</span><span class=\"k\">.</span>modalMask<span class=\"k\">.</span>render<span class=\"k\">();</span>","                <span class=\"k\">this</span><span class=\"k\">.</span>modalMask<span class=\"k\">.</span>hide<span class=\"k\">();</span>","            <span class=\"k\">}</span>","            <span class=\"k\">if</span> <span class=\"k\">(!</span><span class=\"k\">this</span><span class=\"k\">.</span>dragMask<span class=\"k\">.</span>getDom<span class=\"k\">())</span> <span class=\"k\">{</span>","                <span class=\"k\">this</span><span class=\"k\">.</span>dragMask<span class=\"k\">.</span>render<span class=\"k\">();</span>","                <span class=\"k\">this</span><span class=\"k\">.</span>dragMask<span class=\"k\">.</span>hide<span class=\"k\">();</span>","            <span class=\"k\">}</span>","            <span class=\"k\">var</span> me <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">;</span>","            <span class=\"k\">this</span><span class=\"k\">.</span>addListener<span class=\"k\">(</span><span class=\"s\">'show'</span><span class=\"k\">,</span> <span class=\"k\">function</span> <span class=\"k\">()</span><span class=\"k\">{</span>","                me<span class=\"k\">.</span>modalMask<span class=\"k\">.</span>show<span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>getDom<span class=\"k\">().</span>style<span class=\"k\">.</span>zIndex <span class=\"k\">-</span> <span class=\"s\">2</span><span class=\"k\">);</span>","            <span class=\"k\">}</span><span class=\"k\">);</span>","            <span class=\"k\">this</span><span class=\"k\">.</span>addListener<span class=\"k\">(</span><span class=\"s\">'hide'</span><span class=\"k\">,</span> <span class=\"k\">function</span> <span class=\"k\">()</span><span class=\"k\">{</span>","                me<span class=\"k\">.</span>modalMask<span class=\"k\">.</span>hide<span class=\"k\">();</span>","            <span class=\"k\">}</span><span class=\"k\">);</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>buttons<span class=\"k\">)</span> <span class=\"k\">{</span>","                <span class=\"k\">for</span> <span class=\"k\">(</span><span class=\"k\">var</span> i<span class=\"k\">=</span><span class=\"s\">0</span><span class=\"k\">;</span> i<span class=\"k\">&lt;</span><span class=\"k\">this</span><span class=\"k\">.</span>buttons<span class=\"k\">.</span>length<span class=\"k\">;</span> i<span class=\"k\">++)</span> <span class=\"k\">{</span>","                    <span class=\"k\">this</span><span class=\"k\">.</span>buttons<span class=\"k\">[</span>i<span class=\"k\">].</span>postRender<span class=\"k\">();</span>","                <span class=\"k\">}</span>","            <span class=\"k\">}</span>","            domUtils<span class=\"k\">.</span>on<span class=\"k\">(</span>window<span class=\"k\">,</span> <span class=\"s\">'resize'</span><span class=\"k\">,</span> <span class=\"k\">function</span> <span class=\"k\">()</span><span class=\"k\">{</span>","                setTimeout<span class=\"k\">(</span><span class=\"k\">function</span> <span class=\"k\">()</span><span class=\"k\">{</span>","                    <span class=\"k\">if</span> <span class=\"k\">(!</span>me<span class=\"k\">.</span>isHidden<span class=\"k\">())</span> <span class=\"k\">{</span>","                        me<span class=\"k\">.</span>safeSetOffset<span class=\"k\">(</span>uiUtils<span class=\"k\">.</span>getClientRect<span class=\"k\">(</span>me<span class=\"k\">.</span>getDom<span class=\"k\">()));</span>","                    <span class=\"k\">}</span>","                <span class=\"k\">}</span><span class=\"k\">);</span>","            <span class=\"k\">}</span><span class=\"k\">);</span>","            <span class=\"k\">this</span><span class=\"k\">.</span>_hide<span class=\"k\">();</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        mesureSize<span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">()</span><span class=\"k\">{</span>","            <span class=\"k\">var</span> body <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>getDom<span class=\"k\">(</span><span class=\"s\">'body'</span><span class=\"k\">);</span>","            <span class=\"k\">var</span> width <span class=\"k\">=</span> uiUtils<span class=\"k\">.</span>getClientRect<span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>getDom<span class=\"k\">(</span><span class=\"s\">'content'</span><span class=\"k\">)).</span>width<span class=\"k\">;</span>","            <span class=\"k\">var</span> dialogBodyStyle <span class=\"k\">=</span> body<span class=\"k\">.</span>style<span class=\"k\">;</span>","            dialogBodyStyle<span class=\"k\">.</span>width <span class=\"k\">=</span> width<span class=\"k\">;</span>","            <span class=\"k\">return</span> uiUtils<span class=\"k\">.</span>getClientRect<span class=\"k\">(</span>body<span class=\"k\">);</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        _onTitlebarMouseDown<span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">(</span>evt<span class=\"k\">,</span> el<span class=\"k\">)</span><span class=\"k\">{</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>draggable<span class=\"k\">)</span> <span class=\"k\">{</span>","                <span class=\"k\">var</span> rect<span class=\"k\">;</span>","                <span class=\"k\">var</span> vpRect <span class=\"k\">=</span> uiUtils<span class=\"k\">.</span>getViewportRect<span class=\"k\">();</span>","                <span class=\"k\">var</span> me <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">;</span>","                uiUtils<span class=\"k\">.</span>startDrag<span class=\"k\">(</span>evt<span class=\"k\">,</span> <span class=\"k\">{</span>","                    ondragstart<span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">()</span><span class=\"k\">{</span>","                        rect <span class=\"k\">=</span> uiUtils<span class=\"k\">.</span>getClientRect<span class=\"k\">(</span>me<span class=\"k\">.</span>getDom<span class=\"k\">());</span>","                        me<span class=\"k\">.</span>getDom<span class=\"k\">(</span><span class=\"s\">'contmask'</span><span class=\"k\">).</span>style<span class=\"k\">.</span>visibility <span class=\"k\">=</span> <span class=\"s\">'visible'</span><span class=\"k\">;</span>","                        me<span class=\"k\">.</span>dragMask<span class=\"k\">.</span>show<span class=\"k\">(</span>me<span class=\"k\">.</span>getDom<span class=\"k\">().</span>style<span class=\"k\">.</span>zIndex <span class=\"k\">-</span> <span class=\"s\">1</span><span class=\"k\">);</span>","                    <span class=\"k\">}</span><span class=\"k\">,</span>","                    ondragmove<span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">(</span>x<span class=\"k\">,</span> y<span class=\"k\">)</span><span class=\"k\">{</span>","                        <span class=\"k\">var</span> left <span class=\"k\">=</span> rect<span class=\"k\">.</span>left <span class=\"k\">+</span> x<span class=\"k\">;</span>","                        <span class=\"k\">var</span> top <span class=\"k\">=</span> rect<span class=\"k\">.</span>top <span class=\"k\">+</span> y<span class=\"k\">;</span>","                        me<span class=\"k\">.</span>safeSetOffset<span class=\"k\">(</span><span class=\"k\">{</span>","                            left<span class=\"k\">:</span> left<span class=\"k\">,</span>","                            top<span class=\"k\">:</span> top","                        <span class=\"k\">}</span><span class=\"k\">);</span>","                    <span class=\"k\">}</span><span class=\"k\">,</span>","                    ondragstop<span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">()</span><span class=\"k\">{</span>","                        me<span class=\"k\">.</span>getDom<span class=\"k\">(</span><span class=\"s\">'contmask'</span><span class=\"k\">).</span>style<span class=\"k\">.</span>visibility <span class=\"k\">=</span> <span class=\"s\">'hidden'</span><span class=\"k\">;</span>","                        domUtils<span class=\"k\">.</span>removeClasses<span class=\"k\">(</span>me<span class=\"k\">.</span>getDom<span class=\"k\">(),</span> <span class=\"k\">[</span><span class=\"s\">'edui-state-centered'</span><span class=\"k\">]);</span>","                        me<span class=\"k\">.</span>dragMask<span class=\"k\">.</span>hide<span class=\"k\">();</span>","                    <span class=\"k\">}</span>","                <span class=\"k\">}</span><span class=\"k\">);</span>","            <span class=\"k\">}</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        reset<span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">()</span><span class=\"k\">{</span>","            <span class=\"k\">this</span><span class=\"k\">.</span>getDom<span class=\"k\">(</span><span class=\"s\">'content'</span><span class=\"k\">).</span>innerHTML <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>getContentHtml<span class=\"k\">();</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        _show<span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">()</span><span class=\"k\">{</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>_hidden<span class=\"k\">)</span> <span class=\"k\">{</span>","                <span class=\"k\">this</span><span class=\"k\">.</span>getDom<span class=\"k\">().</span>style<span class=\"k\">.</span>display <span class=\"k\">=</span> <span class=\"s\">''</span><span class=\"k\">;</span>","","                <span class=\"c\">//&#35201;&#39640;&#36807;&#32534;&#36753;&#22120;&#30340;zindxe</span>","                <span class=\"k\">this</span><span class=\"k\">.</span>editor<span class=\"k\">.</span>container<span class=\"k\">.</span>style<span class=\"k\">.</span>zIndex <span class=\"k\">&amp;&amp;</span> <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>getDom<span class=\"k\">().</span>style<span class=\"k\">.</span>zIndex <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>editor<span class=\"k\">.</span>container<span class=\"k\">.</span>style<span class=\"k\">.</span>zIndex <span class=\"k\">*</span> <span class=\"s\">1</span> <span class=\"k\">+</span> <span class=\"s\">10</span><span class=\"k\">);</span>","                <span class=\"k\">this</span><span class=\"k\">.</span>_hidden <span class=\"k\">=</span> <span class=\"k\">false</span><span class=\"k\">;</span>","                <span class=\"k\">this</span><span class=\"k\">.</span>fireEvent<span class=\"k\">(</span><span class=\"s\">'show'</span><span class=\"k\">);</span>","                baidu<span class=\"k\">.</span>editor<span class=\"k\">.</span>ui<span class=\"k\">.</span>uiUtils<span class=\"k\">.</span>getFixedLayer<span class=\"k\">().</span>style<span class=\"k\">.</span>zIndex <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>getDom<span class=\"k\">().</span>style<span class=\"k\">.</span>zIndex <span class=\"k\">-</span> <span class=\"s\">4</span><span class=\"k\">;</span>","            <span class=\"k\">}</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        isHidden<span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">()</span><span class=\"k\">{</span>","            <span class=\"k\">return</span> <span class=\"k\">this</span><span class=\"k\">.</span>_hidden<span class=\"k\">;</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        _hide<span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">()</span><span class=\"k\">{</span>","            <span class=\"k\">if</span> <span class=\"k\">(!</span><span class=\"k\">this</span><span class=\"k\">.</span>_hidden<span class=\"k\">)</span> <span class=\"k\">{</span>","                <span class=\"k\">this</span><span class=\"k\">.</span>getDom<span class=\"k\">().</span>style<span class=\"k\">.</span>display <span class=\"k\">=</span> <span class=\"s\">'none'</span><span class=\"k\">;</span>","                <span class=\"k\">this</span><span class=\"k\">.</span>getDom<span class=\"k\">().</span>style<span class=\"k\">.</span>zIndex <span class=\"k\">=</span> <span class=\"s\">''</span><span class=\"k\">;</span>","                <span class=\"k\">this</span><span class=\"k\">.</span>_hidden <span class=\"k\">=</span> <span class=\"k\">true</span><span class=\"k\">;</span>","                <span class=\"k\">this</span><span class=\"k\">.</span>fireEvent<span class=\"k\">(</span><span class=\"s\">'hide'</span><span class=\"k\">);</span>","            <span class=\"k\">}</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        open<span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">()</span><span class=\"k\">{</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>autoReset<span class=\"k\">)</span> <span class=\"k\">{</span>","                <span class=\"c\">//&#26377;&#21487;&#33021;&#36824;&#27809;&#26377;&#28210;&#26579;</span>","                <span class=\"k\">try</span><span class=\"k\">{</span>","                    <span class=\"k\">this</span><span class=\"k\">.</span>reset<span class=\"k\">();</span>","                <span class=\"k\">}</span><span class=\"k\">catch</span><span class=\"k\">(</span>e<span class=\"k\">)</span><span class=\"k\">{</span>","                    <span class=\"k\">this</span><span class=\"k\">.</span>render<span class=\"k\">();</span>","                    <span class=\"k\">this</span><span class=\"k\">.</span>open<span class=\"k\">()</span>","                <span class=\"k\">}</span>","            <span class=\"k\">}</span>","            <span class=\"k\">this</span><span class=\"k\">.</span>showAtCenter<span class=\"k\">();</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>iframeUrl<span class=\"k\">)</span> <span class=\"k\">{</span>","                <span class=\"k\">try</span> <span class=\"k\">{</span>","                    <span class=\"k\">this</span><span class=\"k\">.</span>getDom<span class=\"k\">(</span><span class=\"s\">'iframe'</span><span class=\"k\">).</span>focus<span class=\"k\">();</span>","                <span class=\"k\">}</span> <span class=\"k\">catch</span><span class=\"k\">(</span>ex<span class=\"k\">)</span><span class=\"k\">{}</span>","            <span class=\"k\">}</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        _onCloseButtonClick<span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">(</span>evt<span class=\"k\">,</span> el<span class=\"k\">)</span><span class=\"k\">{</span>","            <span class=\"k\">this</span><span class=\"k\">.</span>close<span class=\"k\">(</span><span class=\"k\">false</span><span class=\"k\">);</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        close<span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">(</span>ok<span class=\"k\">)</span><span class=\"k\">{</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>fireEvent<span class=\"k\">(</span><span class=\"s\">'close'</span><span class=\"k\">,</span> ok<span class=\"k\">)</span> <span class=\"k\">!==</span> <span class=\"k\">false</span><span class=\"k\">)</span> <span class=\"k\">{</span>","                <span class=\"k\">this</span><span class=\"k\">.</span>_hide<span class=\"k\">();</span>","            <span class=\"k\">}</span>","        <span class=\"k\">}</span>","    <span class=\"k\">}</span><span class=\"k\">;</span>","    utils<span class=\"k\">.</span>inherits<span class=\"k\">(</span>Dialog<span class=\"k\">,</span> UIBase<span class=\"k\">);</span>","<span class=\"k\">}</span><span class=\"k\">)();</span>"]);
_$jscoverage['ui/editor.js'] && (_$jscoverage['ui/editor.js'].source = ["<span class=\"c\">///import core</span>","<span class=\"c\">///commands &#20840;&#23631;</span>","<span class=\"c\">///commandsName FullScreen</span>","<span class=\"c\">///commandsTitle  &#20840;&#23631;</span>","<span class=\"k\">(</span><span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","    <span class=\"k\">var</span> utils <span class=\"k\">=</span> baidu<span class=\"k\">.</span>editor<span class=\"k\">.</span>utils<span class=\"k\">,</span>","        uiUtils <span class=\"k\">=</span> baidu<span class=\"k\">.</span>editor<span class=\"k\">.</span>ui<span class=\"k\">.</span>uiUtils<span class=\"k\">,</span>","        UIBase <span class=\"k\">=</span> baidu<span class=\"k\">.</span>editor<span class=\"k\">.</span>ui<span class=\"k\">.</span>UIBase<span class=\"k\">,</span>","        domUtils <span class=\"k\">=</span> baidu<span class=\"k\">.</span>editor<span class=\"k\">.</span>dom<span class=\"k\">.</span>domUtils<span class=\"k\">;</span>","","    <span class=\"k\">function</span> EditorUI<span class=\"k\">(</span>options<span class=\"k\">)</span> <span class=\"k\">{</span>","        <span class=\"k\">this</span><span class=\"k\">.</span>initOptions<span class=\"k\">(</span>options<span class=\"k\">);</span>","        <span class=\"k\">this</span><span class=\"k\">.</span>initEditorUI<span class=\"k\">();</span>","    <span class=\"k\">}</span>","","    EditorUI<span class=\"k\">.</span>prototype <span class=\"k\">=</span> <span class=\"k\">{</span>","        uiName<span class=\"k\">:</span><span class=\"s\">'editor'</span><span class=\"k\">,</span>","        initEditorUI<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","            <span class=\"k\">this</span><span class=\"k\">.</span>editor<span class=\"k\">.</span>ui <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">;</span>","            <span class=\"k\">this</span><span class=\"k\">.</span>_dialogs <span class=\"k\">=</span> <span class=\"k\">{}</span><span class=\"k\">;</span>","            <span class=\"k\">this</span><span class=\"k\">.</span>initUIBase<span class=\"k\">();</span>","            <span class=\"k\">this</span><span class=\"k\">.</span>_initToolbars<span class=\"k\">();</span>","            <span class=\"k\">var</span> editor <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>editor<span class=\"k\">,</span>","                me <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">;</span>","","            editor<span class=\"k\">.</span>addListener<span class=\"k\">(</span><span class=\"s\">'ready'</span><span class=\"k\">,</span> <span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","                <span class=\"c\">//&#25552;&#20379;getDialog&#26041;&#27861;</span>","                editor<span class=\"k\">.</span>getDialog <span class=\"k\">=</span> <span class=\"k\">function</span> <span class=\"k\">(</span>name<span class=\"k\">)</span> <span class=\"k\">{</span>","                    <span class=\"k\">return</span> editor<span class=\"k\">.</span>ui<span class=\"k\">.</span>_dialogs<span class=\"k\">[</span>name <span class=\"k\">+</span> <span class=\"s\">\"Dialog\"</span><span class=\"k\">];</span>","                <span class=\"k\">}</span><span class=\"k\">;</span>","                domUtils<span class=\"k\">.</span>on<span class=\"k\">(</span>editor<span class=\"k\">.</span>window<span class=\"k\">,</span> <span class=\"s\">'scroll'</span><span class=\"k\">,</span> <span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","                    baidu<span class=\"k\">.</span>editor<span class=\"k\">.</span>ui<span class=\"k\">.</span>Popup<span class=\"k\">.</span>postHide<span class=\"k\">();</span>","                <span class=\"k\">}</span><span class=\"k\">);</span>","","                <span class=\"c\">//display bottom-bar label based on config</span>","                <span class=\"k\">if</span> <span class=\"k\">(</span>editor<span class=\"k\">.</span>options<span class=\"k\">.</span>elementPathEnabled<span class=\"k\">)</span> <span class=\"k\">{</span>","                    editor<span class=\"k\">.</span>ui<span class=\"k\">.</span>getDom<span class=\"k\">(</span><span class=\"s\">'elementpath'</span><span class=\"k\">).</span>innerHTML <span class=\"k\">=</span> <span class=\"s\">'&lt;div class=\"edui-editor-breadcrumb\"&gt;'</span> <span class=\"k\">+</span> editor<span class=\"k\">.</span>getLang<span class=\"k\">(</span><span class=\"s\">\"elementPathTip\"</span><span class=\"k\">)</span> <span class=\"k\">+</span> <span class=\"s\">':&lt;/div&gt;'</span><span class=\"k\">;</span>","                <span class=\"k\">}</span>","                <span class=\"k\">if</span> <span class=\"k\">(</span>editor<span class=\"k\">.</span>options<span class=\"k\">.</span>wordCount<span class=\"k\">)</span> <span class=\"k\">{</span>","                    editor<span class=\"k\">.</span>ui<span class=\"k\">.</span>getDom<span class=\"k\">(</span><span class=\"s\">'wordcount'</span><span class=\"k\">).</span>innerHTML <span class=\"k\">=</span> editor<span class=\"k\">.</span>getLang<span class=\"k\">(</span><span class=\"s\">\"wordCountTip\"</span><span class=\"k\">);</span>","                    <span class=\"c\">//&#20026;wordcount&#25429;&#33719;&#20013;&#25991;&#36755;&#20837;&#27861;&#30340;&#31354;&#26684;</span>","                    editor<span class=\"k\">.</span>addListener<span class=\"k\">(</span><span class=\"s\">'keyup'</span><span class=\"k\">,</span> <span class=\"k\">function</span> <span class=\"k\">(</span>type<span class=\"k\">,</span> evt<span class=\"k\">)</span> <span class=\"k\">{</span>","                        <span class=\"k\">var</span> keyCode <span class=\"k\">=</span> evt<span class=\"k\">.</span>keyCode <span class=\"k\">||</span> evt<span class=\"k\">.</span>which<span class=\"k\">;</span>","                        <span class=\"k\">if</span> <span class=\"k\">(</span>keyCode <span class=\"k\">==</span> <span class=\"s\">32</span><span class=\"k\">)</span> <span class=\"k\">{</span>","                            me<span class=\"k\">.</span>_wordCount<span class=\"k\">();</span>","                        <span class=\"k\">}</span>","                    <span class=\"k\">}</span><span class=\"k\">);</span>","                <span class=\"k\">}</span>","                editor<span class=\"k\">.</span>ui<span class=\"k\">.</span>_scale<span class=\"k\">();</span>","                <span class=\"k\">if</span> <span class=\"k\">(</span>editor<span class=\"k\">.</span>options<span class=\"k\">.</span>scaleEnabled<span class=\"k\">)</span> <span class=\"k\">{</span>","                    me<span class=\"k\">.</span>enableScale<span class=\"k\">();</span>","                <span class=\"k\">}</span> <span class=\"k\">else</span> <span class=\"k\">{</span>","                    editor<span class=\"k\">.</span>ui<span class=\"k\">.</span>getDom<span class=\"k\">(</span><span class=\"s\">\"scale\"</span><span class=\"k\">).</span>style<span class=\"k\">.</span>display <span class=\"k\">=</span> <span class=\"s\">\"none\"</span><span class=\"k\">;</span>","                <span class=\"k\">}</span>","                <span class=\"k\">if</span> <span class=\"k\">(!</span>editor<span class=\"k\">.</span>options<span class=\"k\">.</span>elementPathEnabled <span class=\"k\">&amp;&amp;</span> <span class=\"k\">!</span>editor<span class=\"k\">.</span>options<span class=\"k\">.</span>wordCount <span class=\"k\">&amp;&amp;</span> <span class=\"k\">!</span>editor<span class=\"k\">.</span>options<span class=\"k\">.</span>scaleEnabled<span class=\"k\">)</span> <span class=\"k\">{</span>","                    editor<span class=\"k\">.</span>ui<span class=\"k\">.</span>getDom<span class=\"k\">(</span><span class=\"s\">'elementpath'</span><span class=\"k\">).</span>style<span class=\"k\">.</span>display <span class=\"k\">=</span> <span class=\"s\">\"none\"</span><span class=\"k\">;</span>","                    editor<span class=\"k\">.</span>ui<span class=\"k\">.</span>getDom<span class=\"k\">(</span><span class=\"s\">'wordcount'</span><span class=\"k\">).</span>style<span class=\"k\">.</span>display <span class=\"k\">=</span> <span class=\"s\">\"none\"</span><span class=\"k\">;</span>","                    editor<span class=\"k\">.</span>ui<span class=\"k\">.</span>getDom<span class=\"k\">(</span><span class=\"s\">'scale'</span><span class=\"k\">).</span>style<span class=\"k\">.</span>display <span class=\"k\">=</span> <span class=\"s\">\"none\"</span><span class=\"k\">;</span>","                <span class=\"k\">}</span>","","                <span class=\"k\">if</span> <span class=\"k\">(!</span>editor<span class=\"k\">.</span>selection<span class=\"k\">.</span>isFocus<span class=\"k\">())</span><span class=\"k\">return</span><span class=\"k\">;</span>","                editor<span class=\"k\">.</span>fireEvent<span class=\"k\">(</span><span class=\"s\">'selectionchange'</span><span class=\"k\">,</span> <span class=\"k\">false</span><span class=\"k\">,</span> <span class=\"k\">true</span><span class=\"k\">);</span>","","","            <span class=\"k\">}</span><span class=\"k\">);</span>","","            editor<span class=\"k\">.</span>addListener<span class=\"k\">(</span><span class=\"s\">'mousedown'</span><span class=\"k\">,</span> <span class=\"k\">function</span> <span class=\"k\">(</span>t<span class=\"k\">,</span> evt<span class=\"k\">)</span> <span class=\"k\">{</span>","                <span class=\"k\">var</span> el <span class=\"k\">=</span> evt<span class=\"k\">.</span>target <span class=\"k\">||</span> evt<span class=\"k\">.</span>srcElement<span class=\"k\">;</span>","                baidu<span class=\"k\">.</span>editor<span class=\"k\">.</span>ui<span class=\"k\">.</span>Popup<span class=\"k\">.</span>postHide<span class=\"k\">(</span>el<span class=\"k\">);</span>","            <span class=\"k\">}</span><span class=\"k\">);</span>","            editor<span class=\"k\">.</span>addListener<span class=\"k\">(</span><span class=\"s\">'contextmenu'</span><span class=\"k\">,</span> <span class=\"k\">function</span> <span class=\"k\">(</span>t<span class=\"k\">,</span> evt<span class=\"k\">)</span> <span class=\"k\">{</span>","                baidu<span class=\"k\">.</span>editor<span class=\"k\">.</span>ui<span class=\"k\">.</span>Popup<span class=\"k\">.</span>postHide<span class=\"k\">();</span>","            <span class=\"k\">}</span><span class=\"k\">);</span>","            editor<span class=\"k\">.</span>addListener<span class=\"k\">(</span><span class=\"s\">'selectionchange'</span><span class=\"k\">,</span> <span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","                <span class=\"c\">//if(!editor.selection.isFocus())return;</span>","                <span class=\"k\">if</span> <span class=\"k\">(</span>editor<span class=\"k\">.</span>options<span class=\"k\">.</span>elementPathEnabled<span class=\"k\">)</span> <span class=\"k\">{</span>","                    me<span class=\"k\">[(</span>editor<span class=\"k\">.</span>queryCommandState<span class=\"k\">(</span><span class=\"s\">'elementpath'</span><span class=\"k\">)</span> <span class=\"k\">==</span> <span class=\"k\">-</span><span class=\"s\">1</span> <span class=\"k\">?</span> <span class=\"s\">'dis'</span> <span class=\"k\">:</span> <span class=\"s\">'en'</span><span class=\"k\">)</span> <span class=\"k\">+</span> <span class=\"s\">'ableElementPath'</span><span class=\"k\">]()</span>","                <span class=\"k\">}</span>","                <span class=\"k\">if</span> <span class=\"k\">(</span>editor<span class=\"k\">.</span>options<span class=\"k\">.</span>wordCount<span class=\"k\">)</span> <span class=\"k\">{</span>","                    me<span class=\"k\">[(</span>editor<span class=\"k\">.</span>queryCommandState<span class=\"k\">(</span><span class=\"s\">'wordcount'</span><span class=\"k\">)</span> <span class=\"k\">==</span> <span class=\"k\">-</span><span class=\"s\">1</span> <span class=\"k\">?</span> <span class=\"s\">'dis'</span> <span class=\"k\">:</span> <span class=\"s\">'en'</span><span class=\"k\">)</span> <span class=\"k\">+</span> <span class=\"s\">'ableWordCount'</span><span class=\"k\">]()</span>","                <span class=\"k\">}</span>","                <span class=\"k\">if</span> <span class=\"k\">(</span>editor<span class=\"k\">.</span>options<span class=\"k\">.</span>scaleEnabled<span class=\"k\">)</span> <span class=\"k\">{</span>","                    me<span class=\"k\">[(</span>editor<span class=\"k\">.</span>queryCommandState<span class=\"k\">(</span><span class=\"s\">'scale'</span><span class=\"k\">)</span> <span class=\"k\">==</span> <span class=\"k\">-</span><span class=\"s\">1</span> <span class=\"k\">?</span> <span class=\"s\">'dis'</span> <span class=\"k\">:</span> <span class=\"s\">'en'</span><span class=\"k\">)</span> <span class=\"k\">+</span> <span class=\"s\">'ableScale'</span><span class=\"k\">]()</span>","                <span class=\"k\">}</span>","            <span class=\"k\">}</span><span class=\"k\">);</span>","            <span class=\"k\">var</span> popup <span class=\"k\">=</span> <span class=\"k\">new</span> baidu<span class=\"k\">.</span>editor<span class=\"k\">.</span>ui<span class=\"k\">.</span>Popup<span class=\"k\">(</span><span class=\"k\">{</span>","                editor<span class=\"k\">:</span>editor<span class=\"k\">,</span>","                content<span class=\"k\">:</span><span class=\"s\">''</span><span class=\"k\">,</span>","                className<span class=\"k\">:</span><span class=\"s\">'edui-bubble'</span><span class=\"k\">,</span>","                _onEditButtonClick<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","                    <span class=\"k\">this</span><span class=\"k\">.</span>hide<span class=\"k\">();</span>","                    editor<span class=\"k\">.</span>ui<span class=\"k\">.</span>_dialogs<span class=\"k\">.</span>linkDialog<span class=\"k\">.</span>open<span class=\"k\">();</span>","                <span class=\"k\">}</span><span class=\"k\">,</span>","                _onImgEditButtonClick<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">(</span>name<span class=\"k\">)</span> <span class=\"k\">{</span>","                    <span class=\"k\">this</span><span class=\"k\">.</span>hide<span class=\"k\">();</span>","                    editor<span class=\"k\">.</span>ui<span class=\"k\">.</span>_dialogs<span class=\"k\">[</span>name<span class=\"k\">]</span> <span class=\"k\">&amp;&amp;</span> editor<span class=\"k\">.</span>ui<span class=\"k\">.</span>_dialogs<span class=\"k\">[</span>name<span class=\"k\">].</span>open<span class=\"k\">();</span>","","                <span class=\"k\">}</span><span class=\"k\">,</span>","                _onImgSetFloat<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">(</span>value<span class=\"k\">)</span> <span class=\"k\">{</span>","                    <span class=\"k\">this</span><span class=\"k\">.</span>hide<span class=\"k\">();</span>","                    editor<span class=\"k\">.</span>execCommand<span class=\"k\">(</span><span class=\"s\">\"imagefloat\"</span><span class=\"k\">,</span> value<span class=\"k\">);</span>","","                <span class=\"k\">}</span><span class=\"k\">,</span>","                _setIframeAlign<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">(</span>value<span class=\"k\">)</span> <span class=\"k\">{</span>","                    <span class=\"k\">var</span> frame <span class=\"k\">=</span> popup<span class=\"k\">.</span>anchorEl<span class=\"k\">;</span>","                    <span class=\"k\">var</span> newFrame <span class=\"k\">=</span> frame<span class=\"k\">.</span>cloneNode<span class=\"k\">(</span><span class=\"k\">true</span><span class=\"k\">);</span>","                    <span class=\"k\">switch</span> <span class=\"k\">(</span>value<span class=\"k\">)</span> <span class=\"k\">{</span>","                        <span class=\"k\">case</span> <span class=\"k\">-</span><span class=\"s\">2</span><span class=\"k\">:</span>","                            newFrame<span class=\"k\">.</span>setAttribute<span class=\"k\">(</span><span class=\"s\">\"align\"</span><span class=\"k\">,</span> <span class=\"s\">\"\"</span><span class=\"k\">);</span>","                            <span class=\"k\">break</span><span class=\"k\">;</span>","                        <span class=\"k\">case</span> <span class=\"k\">-</span><span class=\"s\">1</span><span class=\"k\">:</span>","                            newFrame<span class=\"k\">.</span>setAttribute<span class=\"k\">(</span><span class=\"s\">\"align\"</span><span class=\"k\">,</span> <span class=\"s\">\"left\"</span><span class=\"k\">);</span>","                            <span class=\"k\">break</span><span class=\"k\">;</span>","                        <span class=\"k\">case</span> <span class=\"s\">1</span><span class=\"k\">:</span>","                            newFrame<span class=\"k\">.</span>setAttribute<span class=\"k\">(</span><span class=\"s\">\"align\"</span><span class=\"k\">,</span> <span class=\"s\">\"right\"</span><span class=\"k\">);</span>","                            <span class=\"k\">break</span><span class=\"k\">;</span>","                        <span class=\"k\">case</span> <span class=\"s\">2</span><span class=\"k\">:</span>","                            newFrame<span class=\"k\">.</span>setAttribute<span class=\"k\">(</span><span class=\"s\">\"align\"</span><span class=\"k\">,</span> <span class=\"s\">\"middle\"</span><span class=\"k\">);</span>","                            <span class=\"k\">break</span><span class=\"k\">;</span>","                    <span class=\"k\">}</span>","                    frame<span class=\"k\">.</span>parentNode<span class=\"k\">.</span>insertBefore<span class=\"k\">(</span>newFrame<span class=\"k\">,</span> frame<span class=\"k\">);</span>","                    domUtils<span class=\"k\">.</span>remove<span class=\"k\">(</span>frame<span class=\"k\">);</span>","                    popup<span class=\"k\">.</span>anchorEl <span class=\"k\">=</span> newFrame<span class=\"k\">;</span>","                    popup<span class=\"k\">.</span>showAnchor<span class=\"k\">(</span>popup<span class=\"k\">.</span>anchorEl<span class=\"k\">);</span>","                <span class=\"k\">}</span><span class=\"k\">,</span>","                _updateIframe<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","                    editor<span class=\"k\">.</span>_iframe <span class=\"k\">=</span> popup<span class=\"k\">.</span>anchorEl<span class=\"k\">;</span>","                    editor<span class=\"k\">.</span>ui<span class=\"k\">.</span>_dialogs<span class=\"k\">.</span>insertframeDialog<span class=\"k\">.</span>open<span class=\"k\">();</span>","                    popup<span class=\"k\">.</span>hide<span class=\"k\">();</span>","                <span class=\"k\">}</span><span class=\"k\">,</span>","                _onRemoveButtonClick<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">(</span>cmdName<span class=\"k\">)</span> <span class=\"k\">{</span>","                    editor<span class=\"k\">.</span>execCommand<span class=\"k\">(</span>cmdName<span class=\"k\">);</span>","                    <span class=\"k\">this</span><span class=\"k\">.</span>hide<span class=\"k\">();</span>","                <span class=\"k\">}</span><span class=\"k\">,</span>","                queryAutoHide<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">(</span>el<span class=\"k\">)</span> <span class=\"k\">{</span>","                    <span class=\"k\">if</span> <span class=\"k\">(</span>el <span class=\"k\">&amp;&amp;</span> el<span class=\"k\">.</span>ownerDocument <span class=\"k\">==</span> editor<span class=\"k\">.</span>document<span class=\"k\">)</span> <span class=\"k\">{</span>","                        <span class=\"k\">if</span> <span class=\"k\">(</span>el<span class=\"k\">.</span>tagName<span class=\"k\">.</span>toLowerCase<span class=\"k\">()</span> <span class=\"k\">==</span> <span class=\"s\">'img'</span> <span class=\"k\">||</span> domUtils<span class=\"k\">.</span>findParentByTagName<span class=\"k\">(</span>el<span class=\"k\">,</span> <span class=\"s\">'a'</span><span class=\"k\">,</span> <span class=\"k\">true</span><span class=\"k\">))</span> <span class=\"k\">{</span>","                            <span class=\"k\">return</span> el <span class=\"k\">!==</span> popup<span class=\"k\">.</span>anchorEl<span class=\"k\">;</span>","                        <span class=\"k\">}</span>","                    <span class=\"k\">}</span>","                    <span class=\"k\">return</span> baidu<span class=\"k\">.</span>editor<span class=\"k\">.</span>ui<span class=\"k\">.</span>Popup<span class=\"k\">.</span>prototype<span class=\"k\">.</span>queryAutoHide<span class=\"k\">.</span>call<span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">,</span> el<span class=\"k\">);</span>","                <span class=\"k\">}</span>","            <span class=\"k\">}</span><span class=\"k\">);</span>","            popup<span class=\"k\">.</span>render<span class=\"k\">();</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span>editor<span class=\"k\">.</span>options<span class=\"k\">.</span>imagePopup<span class=\"k\">)</span> <span class=\"k\">{</span>","                editor<span class=\"k\">.</span>addListener<span class=\"k\">(</span><span class=\"s\">'mouseover'</span><span class=\"k\">,</span> <span class=\"k\">function</span> <span class=\"k\">(</span>t<span class=\"k\">,</span> evt<span class=\"k\">)</span> <span class=\"k\">{</span>","                    evt <span class=\"k\">=</span> evt <span class=\"k\">||</span> window<span class=\"k\">.</span>event<span class=\"k\">;</span>","                    <span class=\"k\">var</span> el <span class=\"k\">=</span> evt<span class=\"k\">.</span>target <span class=\"k\">||</span> evt<span class=\"k\">.</span>srcElement<span class=\"k\">;</span>","                    <span class=\"k\">if</span> <span class=\"k\">(</span>editor<span class=\"k\">.</span>ui<span class=\"k\">.</span>_dialogs<span class=\"k\">.</span>insertframeDialog <span class=\"k\">&amp;&amp;</span> <span class=\"s\">/iframe/ig</span><span class=\"k\">.</span>test<span class=\"k\">(</span>el<span class=\"k\">.</span>tagName<span class=\"k\">))</span> <span class=\"k\">{</span>","                        <span class=\"k\">var</span> html <span class=\"k\">=</span> popup<span class=\"k\">.</span>formatHtml<span class=\"k\">(</span>","                            <span class=\"s\">'&lt;nobr&gt;'</span> <span class=\"k\">+</span> editor<span class=\"k\">.</span>getLang<span class=\"k\">(</span><span class=\"s\">\"property\"</span><span class=\"k\">)</span> <span class=\"k\">+</span> <span class=\"s\">': &lt;span onclick=$$._setIframeAlign(-2) class=\"edui-clickable\"&gt;'</span> <span class=\"k\">+</span> editor<span class=\"k\">.</span>getLang<span class=\"k\">(</span><span class=\"s\">\"default\"</span><span class=\"k\">)</span> <span class=\"k\">+</span> <span class=\"s\">'&lt;/span&gt;&amp;nbsp;&amp;nbsp;&lt;span onclick=$$._setIframeAlign(-1) class=\"edui-clickable\"&gt;'</span> <span class=\"k\">+</span> editor<span class=\"k\">.</span>getLang<span class=\"k\">(</span><span class=\"s\">\"justifyleft\"</span><span class=\"k\">)</span> <span class=\"k\">+</span> <span class=\"s\">'&lt;/span&gt;&amp;nbsp;&amp;nbsp;&lt;span onclick=$$._setIframeAlign(1) class=\"edui-clickable\"&gt;'</span> <span class=\"k\">+</span> editor<span class=\"k\">.</span>getLang<span class=\"k\">(</span><span class=\"s\">\"justifyright\"</span><span class=\"k\">)</span> <span class=\"k\">+</span> <span class=\"s\">'&lt;/span&gt;&amp;nbsp;&amp;nbsp;'</span> <span class=\"k\">+</span>","                                <span class=\"s\">'&lt;span onclick=$$._setIframeAlign(2) class=\"edui-clickable\"&gt;'</span> <span class=\"k\">+</span> editor<span class=\"k\">.</span>getLang<span class=\"k\">(</span><span class=\"s\">\"justifycenter\"</span><span class=\"k\">)</span> <span class=\"k\">+</span> <span class=\"s\">'&lt;/span&gt;'</span> <span class=\"k\">+</span>","                                <span class=\"s\">' &lt;span onclick=\"$$._updateIframe( this);\" class=\"edui-clickable\"&gt;'</span> <span class=\"k\">+</span> editor<span class=\"k\">.</span>getLang<span class=\"k\">(</span><span class=\"s\">\"modify\"</span><span class=\"k\">)</span> <span class=\"k\">+</span> <span class=\"s\">'&lt;/span&gt;&lt;/nobr&gt;'</span><span class=\"k\">);</span>","                        <span class=\"k\">if</span> <span class=\"k\">(</span>html<span class=\"k\">)</span> <span class=\"k\">{</span>","                            popup<span class=\"k\">.</span>getDom<span class=\"k\">(</span><span class=\"s\">'content'</span><span class=\"k\">).</span>innerHTML <span class=\"k\">=</span> html<span class=\"k\">;</span>","                            popup<span class=\"k\">.</span>anchorEl <span class=\"k\">=</span> el<span class=\"k\">;</span>","                            popup<span class=\"k\">.</span>showAnchor<span class=\"k\">(</span>popup<span class=\"k\">.</span>anchorEl<span class=\"k\">);</span>","                        <span class=\"k\">}</span> <span class=\"k\">else</span> <span class=\"k\">{</span>","                            popup<span class=\"k\">.</span>hide<span class=\"k\">();</span>","                        <span class=\"k\">}</span>","                    <span class=\"k\">}</span>","                <span class=\"k\">}</span><span class=\"k\">);</span>","                editor<span class=\"k\">.</span>addListener<span class=\"k\">(</span><span class=\"s\">'selectionchange'</span><span class=\"k\">,</span> <span class=\"k\">function</span> <span class=\"k\">(</span>t<span class=\"k\">,</span> causeByUi<span class=\"k\">)</span> <span class=\"k\">{</span>","                    <span class=\"k\">if</span> <span class=\"k\">(!</span>causeByUi<span class=\"k\">)</span> <span class=\"k\">return</span><span class=\"k\">;</span>","                    <span class=\"k\">var</span> html <span class=\"k\">=</span> <span class=\"s\">''</span><span class=\"k\">,</span>","                        img <span class=\"k\">=</span> editor<span class=\"k\">.</span>selection<span class=\"k\">.</span>getRange<span class=\"k\">().</span>getClosedNode<span class=\"k\">(),</span>","                        dialogs <span class=\"k\">=</span> editor<span class=\"k\">.</span>ui<span class=\"k\">.</span>_dialogs<span class=\"k\">;</span>","                    <span class=\"k\">if</span> <span class=\"k\">(</span>img <span class=\"k\">&amp;&amp;</span> img<span class=\"k\">.</span>tagName <span class=\"k\">==</span> <span class=\"s\">'IMG'</span><span class=\"k\">)</span> <span class=\"k\">{</span>","                        <span class=\"k\">var</span> dialogName <span class=\"k\">=</span> <span class=\"s\">'insertimageDialog'</span><span class=\"k\">;</span>","                        <span class=\"k\">if</span> <span class=\"k\">(</span>img<span class=\"k\">.</span>className<span class=\"k\">.</span>indexOf<span class=\"k\">(</span><span class=\"s\">\"edui-faked-video\"</span><span class=\"k\">)</span> <span class=\"k\">!=</span> <span class=\"k\">-</span><span class=\"s\">1</span><span class=\"k\">)</span> <span class=\"k\">{</span>","                            dialogName <span class=\"k\">=</span> <span class=\"s\">\"insertvideoDialog\"</span>","                        <span class=\"k\">}</span>","                        <span class=\"k\">if</span> <span class=\"k\">(</span>img<span class=\"k\">.</span>className<span class=\"k\">.</span>indexOf<span class=\"k\">(</span><span class=\"s\">\"edui-faked-webapp\"</span><span class=\"k\">)</span> <span class=\"k\">!=</span> <span class=\"k\">-</span><span class=\"s\">1</span><span class=\"k\">)</span> <span class=\"k\">{</span>","                            dialogName <span class=\"k\">=</span> <span class=\"s\">\"webappDialog\"</span>","                        <span class=\"k\">}</span>","                        <span class=\"k\">if</span> <span class=\"k\">(</span>img<span class=\"k\">.</span>src<span class=\"k\">.</span>indexOf<span class=\"k\">(</span><span class=\"s\">\"http://api.map.baidu.com\"</span><span class=\"k\">)</span> <span class=\"k\">!=</span> <span class=\"k\">-</span><span class=\"s\">1</span><span class=\"k\">)</span> <span class=\"k\">{</span>","                            dialogName <span class=\"k\">=</span> <span class=\"s\">\"mapDialog\"</span>","                        <span class=\"k\">}</span>","                        <span class=\"k\">if</span> <span class=\"k\">(</span>img<span class=\"k\">.</span>src<span class=\"k\">.</span>indexOf<span class=\"k\">(</span><span class=\"s\">\"http://maps.google.com/maps/api/staticmap\"</span><span class=\"k\">)</span> <span class=\"k\">!=</span> <span class=\"k\">-</span><span class=\"s\">1</span><span class=\"k\">)</span> <span class=\"k\">{</span>","                            dialogName <span class=\"k\">=</span> <span class=\"s\">\"gmapDialog\"</span>","                        <span class=\"k\">}</span>","                        <span class=\"k\">if</span> <span class=\"k\">(</span>img<span class=\"k\">.</span>getAttribute<span class=\"k\">(</span><span class=\"s\">\"anchorname\"</span><span class=\"k\">))</span> <span class=\"k\">{</span>","                            dialogName <span class=\"k\">=</span> <span class=\"s\">\"anchorDialog\"</span><span class=\"k\">;</span>","                            html <span class=\"k\">=</span> popup<span class=\"k\">.</span>formatHtml<span class=\"k\">(</span>","                                <span class=\"s\">'&lt;nobr&gt;'</span> <span class=\"k\">+</span> editor<span class=\"k\">.</span>getLang<span class=\"k\">(</span><span class=\"s\">\"property\"</span><span class=\"k\">)</span> <span class=\"k\">+</span> <span class=\"s\">': &lt;span onclick=$$._onImgEditButtonClick(\"anchorDialog\") class=\"edui-clickable\"&gt;'</span> <span class=\"k\">+</span> editor<span class=\"k\">.</span>getLang<span class=\"k\">(</span><span class=\"s\">\"modify\"</span><span class=\"k\">)</span> <span class=\"k\">+</span> <span class=\"s\">'&lt;/span&gt;&amp;nbsp;&amp;nbsp;'</span> <span class=\"k\">+</span>","                                    <span class=\"s\">'&lt;span onclick=$$._onRemoveButtonClick(</span><span class=\"t\">\\'</span><span class=\"s\">anchor</span><span class=\"t\">\\'</span><span class=\"s\">) class=\"edui-clickable\"&gt;'</span> <span class=\"k\">+</span> editor<span class=\"k\">.</span>getLang<span class=\"k\">(</span><span class=\"s\">\"delete\"</span><span class=\"k\">)</span> <span class=\"k\">+</span> <span class=\"s\">'&lt;/span&gt;&lt;/nobr&gt;'</span><span class=\"k\">);</span>","                        <span class=\"k\">}</span>","                        <span class=\"k\">if</span> <span class=\"k\">(</span>img<span class=\"k\">.</span>getAttribute<span class=\"k\">(</span><span class=\"s\">\"word_img\"</span><span class=\"k\">))</span> <span class=\"k\">{</span>","                            <span class=\"c\">//todo &#25918;&#21040;dialog&#21435;&#20570;&#26597;&#35810;</span>","                            editor<span class=\"k\">.</span>word_img <span class=\"k\">=</span> <span class=\"k\">[</span>img<span class=\"k\">.</span>getAttribute<span class=\"k\">(</span><span class=\"s\">\"word_img\"</span><span class=\"k\">)];</span>","                            dialogName <span class=\"k\">=</span> <span class=\"s\">\"wordimageDialog\"</span>","                        <span class=\"k\">}</span>","                        <span class=\"k\">if</span> <span class=\"k\">(!</span>dialogs<span class=\"k\">[</span>dialogName<span class=\"k\">])</span> <span class=\"k\">{</span>","                            <span class=\"k\">return</span><span class=\"k\">;</span>","                        <span class=\"k\">}</span>","                        <span class=\"k\">!</span>html <span class=\"k\">&amp;&amp;</span> <span class=\"k\">(</span>html <span class=\"k\">=</span> popup<span class=\"k\">.</span>formatHtml<span class=\"k\">(</span>","                            <span class=\"s\">'&lt;nobr&gt;'</span> <span class=\"k\">+</span> editor<span class=\"k\">.</span>getLang<span class=\"k\">(</span><span class=\"s\">\"property\"</span><span class=\"k\">)</span> <span class=\"k\">+</span> <span class=\"s\">': &lt;span onclick=$$._onImgSetFloat(\"none\") class=\"edui-clickable\"&gt;'</span> <span class=\"k\">+</span> editor<span class=\"k\">.</span>getLang<span class=\"k\">(</span><span class=\"s\">\"default\"</span><span class=\"k\">)</span> <span class=\"k\">+</span> <span class=\"s\">'&lt;/span&gt;&amp;nbsp;&amp;nbsp;'</span> <span class=\"k\">+</span>","                                <span class=\"s\">'&lt;span onclick=$$._onImgSetFloat(\"left\") class=\"edui-clickable\"&gt;'</span> <span class=\"k\">+</span> editor<span class=\"k\">.</span>getLang<span class=\"k\">(</span><span class=\"s\">\"justifyleft\"</span><span class=\"k\">)</span> <span class=\"k\">+</span> <span class=\"s\">'&lt;/span&gt;&amp;nbsp;&amp;nbsp;'</span> <span class=\"k\">+</span>","                                <span class=\"s\">'&lt;span onclick=$$._onImgSetFloat(\"right\") class=\"edui-clickable\"&gt;'</span> <span class=\"k\">+</span> editor<span class=\"k\">.</span>getLang<span class=\"k\">(</span><span class=\"s\">\"justifyright\"</span><span class=\"k\">)</span> <span class=\"k\">+</span> <span class=\"s\">'&lt;/span&gt;&amp;nbsp;&amp;nbsp;'</span> <span class=\"k\">+</span>","                                <span class=\"s\">'&lt;span onclick=$$._onImgSetFloat(\"center\") class=\"edui-clickable\"&gt;'</span> <span class=\"k\">+</span> editor<span class=\"k\">.</span>getLang<span class=\"k\">(</span><span class=\"s\">\"justifycenter\"</span><span class=\"k\">)</span> <span class=\"k\">+</span> <span class=\"s\">'&lt;/span&gt;&amp;nbsp;&amp;nbsp;'</span> <span class=\"k\">+</span>","                                <span class=\"s\">'&lt;span onclick=\"$$._onImgEditButtonClick(</span><span class=\"t\">\\'</span><span class=\"s\">'</span> <span class=\"k\">+</span> dialogName <span class=\"k\">+</span> <span class=\"s\">'</span><span class=\"t\">\\'</span><span class=\"s\">);\" class=\"edui-clickable\"&gt;'</span> <span class=\"k\">+</span> editor<span class=\"k\">.</span>getLang<span class=\"k\">(</span><span class=\"s\">\"modify\"</span><span class=\"k\">)</span> <span class=\"k\">+</span> <span class=\"s\">'&lt;/span&gt;&lt;/nobr&gt;'</span><span class=\"k\">))</span>","","                    <span class=\"k\">}</span>","                    <span class=\"k\">if</span> <span class=\"k\">(</span>editor<span class=\"k\">.</span>ui<span class=\"k\">.</span>_dialogs<span class=\"k\">.</span>linkDialog<span class=\"k\">)</span> <span class=\"k\">{</span>","                        <span class=\"k\">var</span> link <span class=\"k\">=</span> domUtils<span class=\"k\">.</span>findParentByTagName<span class=\"k\">(</span>editor<span class=\"k\">.</span>selection<span class=\"k\">.</span>getStart<span class=\"k\">(),</span> <span class=\"s\">\"a\"</span><span class=\"k\">,</span> <span class=\"k\">true</span><span class=\"k\">);</span>","                        <span class=\"k\">var</span> url<span class=\"k\">;</span>","                        <span class=\"k\">if</span> <span class=\"k\">(</span>link <span class=\"k\">&amp;&amp;</span> <span class=\"k\">(</span>url <span class=\"k\">=</span> <span class=\"k\">(</span>link<span class=\"k\">.</span>getAttribute<span class=\"k\">(</span><span class=\"s\">'data_ue_src'</span><span class=\"k\">)</span> <span class=\"k\">||</span> link<span class=\"k\">.</span>getAttribute<span class=\"k\">(</span><span class=\"s\">'href'</span><span class=\"k\">,</span> <span class=\"s\">2</span><span class=\"k\">))))</span> <span class=\"k\">{</span>","                            <span class=\"k\">var</span> txt <span class=\"k\">=</span> url<span class=\"k\">;</span>","                            <span class=\"k\">if</span> <span class=\"k\">(</span>url<span class=\"k\">.</span>length <span class=\"k\">&gt;</span> <span class=\"s\">30</span><span class=\"k\">)</span> <span class=\"k\">{</span>","                                txt <span class=\"k\">=</span> url<span class=\"k\">.</span>substring<span class=\"k\">(</span><span class=\"s\">0</span><span class=\"k\">,</span> <span class=\"s\">20</span><span class=\"k\">)</span> <span class=\"k\">+</span> <span class=\"s\">\"...\"</span><span class=\"k\">;</span>","                            <span class=\"k\">}</span>","                            <span class=\"k\">if</span> <span class=\"k\">(</span>html<span class=\"k\">)</span> <span class=\"k\">{</span>","                                html <span class=\"k\">+=</span> <span class=\"s\">'&lt;div style=\"height:5px;\"&gt;&lt;/div&gt;'</span>","                            <span class=\"k\">}</span>","                            html <span class=\"k\">+=</span> popup<span class=\"k\">.</span>formatHtml<span class=\"k\">(</span>","                                <span class=\"s\">'&lt;nobr&gt;'</span> <span class=\"k\">+</span> editor<span class=\"k\">.</span>getLang<span class=\"k\">(</span><span class=\"s\">\"anthorMsg\"</span><span class=\"k\">)</span> <span class=\"k\">+</span> <span class=\"s\">': &lt;a target=\"_blank\" href=\"'</span> <span class=\"k\">+</span> url <span class=\"k\">+</span> <span class=\"s\">'\" title=\"'</span> <span class=\"k\">+</span> url <span class=\"k\">+</span> <span class=\"s\">'\" &gt;'</span> <span class=\"k\">+</span> txt <span class=\"k\">+</span> <span class=\"s\">'&lt;/a&gt;'</span> <span class=\"k\">+</span>","                                    <span class=\"s\">' &lt;span class=\"edui-clickable\" onclick=\"$$._onEditButtonClick();\"&gt;'</span> <span class=\"k\">+</span> editor<span class=\"k\">.</span>getLang<span class=\"k\">(</span><span class=\"s\">\"modify\"</span><span class=\"k\">)</span> <span class=\"k\">+</span> <span class=\"s\">'&lt;/span&gt;'</span> <span class=\"k\">+</span>","                                    <span class=\"s\">' &lt;span class=\"edui-clickable\" onclick=\"$$._onRemoveButtonClick(</span><span class=\"t\">\\'</span><span class=\"s\">unlink</span><span class=\"t\">\\'</span><span class=\"s\">);\"&gt; '</span> <span class=\"k\">+</span> editor<span class=\"k\">.</span>getLang<span class=\"k\">(</span><span class=\"s\">\"clear\"</span><span class=\"k\">)</span> <span class=\"k\">+</span> <span class=\"s\">'&lt;/span&gt;&lt;/nobr&gt;'</span><span class=\"k\">);</span>","                            popup<span class=\"k\">.</span>showAnchor<span class=\"k\">(</span>link<span class=\"k\">);</span>","                        <span class=\"k\">}</span>","                    <span class=\"k\">}</span>","","                    <span class=\"k\">if</span> <span class=\"k\">(</span>html<span class=\"k\">)</span> <span class=\"k\">{</span>","                        popup<span class=\"k\">.</span>getDom<span class=\"k\">(</span><span class=\"s\">'content'</span><span class=\"k\">).</span>innerHTML <span class=\"k\">=</span> html<span class=\"k\">;</span>","                        popup<span class=\"k\">.</span>anchorEl <span class=\"k\">=</span> img <span class=\"k\">||</span> link<span class=\"k\">;</span>","                        popup<span class=\"k\">.</span>showAnchor<span class=\"k\">(</span>popup<span class=\"k\">.</span>anchorEl<span class=\"k\">);</span>","                    <span class=\"k\">}</span> <span class=\"k\">else</span> <span class=\"k\">{</span>","                        popup<span class=\"k\">.</span>hide<span class=\"k\">();</span>","                    <span class=\"k\">}</span>","                <span class=\"k\">}</span><span class=\"k\">);</span>","            <span class=\"k\">}</span>","","        <span class=\"k\">}</span><span class=\"k\">,</span>","        _initToolbars<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","            <span class=\"k\">var</span> editor <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>editor<span class=\"k\">;</span>","            <span class=\"k\">var</span> toolbars <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>toolbars <span class=\"k\">||</span> <span class=\"k\">[];</span>","            <span class=\"k\">var</span> toolbarUis <span class=\"k\">=</span> <span class=\"k\">[];</span>","            <span class=\"k\">for</span> <span class=\"k\">(</span><span class=\"k\">var</span> i <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">;</span> i <span class=\"k\">&lt;</span> toolbars<span class=\"k\">.</span>length<span class=\"k\">;</span> i<span class=\"k\">++)</span> <span class=\"k\">{</span>","                <span class=\"k\">var</span> toolbar <span class=\"k\">=</span> toolbars<span class=\"k\">[</span>i<span class=\"k\">];</span>","                <span class=\"k\">var</span> toolbarUi <span class=\"k\">=</span> <span class=\"k\">new</span> baidu<span class=\"k\">.</span>editor<span class=\"k\">.</span>ui<span class=\"k\">.</span>Toolbar<span class=\"k\">(</span><span class=\"k\">{</span>theme<span class=\"k\">:</span>editor<span class=\"k\">.</span>options<span class=\"k\">.</span>theme<span class=\"k\">}</span><span class=\"k\">);</span>","                <span class=\"k\">for</span> <span class=\"k\">(</span><span class=\"k\">var</span> j <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">;</span> j <span class=\"k\">&lt;</span> toolbar<span class=\"k\">.</span>length<span class=\"k\">;</span> j<span class=\"k\">++)</span> <span class=\"k\">{</span>","                    <span class=\"k\">var</span> toolbarItem <span class=\"k\">=</span> toolbar<span class=\"k\">[</span>j<span class=\"k\">];</span>","                    <span class=\"k\">var</span> toolbarItemUi <span class=\"k\">=</span> <span class=\"k\">null</span><span class=\"k\">;</span>","                    <span class=\"k\">if</span> <span class=\"k\">(</span><span class=\"k\">typeof</span> toolbarItem <span class=\"k\">==</span> <span class=\"s\">'string'</span><span class=\"k\">)</span> <span class=\"k\">{</span>","                        toolbarItem <span class=\"k\">=</span> toolbarItem<span class=\"k\">.</span>toLowerCase<span class=\"k\">();</span>","                        <span class=\"k\">if</span> <span class=\"k\">(</span>toolbarItem <span class=\"k\">==</span> <span class=\"s\">'|'</span><span class=\"k\">)</span> <span class=\"k\">{</span>","                            toolbarItem <span class=\"k\">=</span> <span class=\"s\">'Separator'</span><span class=\"k\">;</span>","                        <span class=\"k\">}</span>","","                        <span class=\"k\">if</span> <span class=\"k\">(</span>baidu<span class=\"k\">.</span>editor<span class=\"k\">.</span>ui<span class=\"k\">[</span>toolbarItem<span class=\"k\">])</span> <span class=\"k\">{</span>","                            toolbarItemUi <span class=\"k\">=</span> <span class=\"k\">new</span> baidu<span class=\"k\">.</span>editor<span class=\"k\">.</span>ui<span class=\"k\">[</span>toolbarItem<span class=\"k\">](</span>editor<span class=\"k\">);</span>","                        <span class=\"k\">}</span>","","                        <span class=\"c\">//fullscreen&#36825;&#37324;&#21333;&#29420;&#22788;&#29702;&#19968;&#19979;&#65292;&#25918;&#21040;&#39318;&#34892;&#21435;</span>","                        <span class=\"k\">if</span> <span class=\"k\">(</span>toolbarItem <span class=\"k\">==</span> <span class=\"s\">'fullscreen'</span><span class=\"k\">)</span> <span class=\"k\">{</span>","                            <span class=\"k\">if</span> <span class=\"k\">(</span>toolbarUis <span class=\"k\">&amp;&amp;</span> toolbarUis<span class=\"k\">[</span><span class=\"s\">0</span><span class=\"k\">])</span> <span class=\"k\">{</span>","                                toolbarUis<span class=\"k\">[</span><span class=\"s\">0</span><span class=\"k\">].</span>items<span class=\"k\">.</span>splice<span class=\"k\">(</span><span class=\"s\">0</span><span class=\"k\">,</span> <span class=\"s\">0</span><span class=\"k\">,</span> toolbarItemUi<span class=\"k\">);</span>","                            <span class=\"k\">}</span> <span class=\"k\">else</span> <span class=\"k\">{</span>","                                toolbarItemUi <span class=\"k\">&amp;&amp;</span> toolbarUi<span class=\"k\">.</span>items<span class=\"k\">.</span>splice<span class=\"k\">(</span><span class=\"s\">0</span><span class=\"k\">,</span> <span class=\"s\">0</span><span class=\"k\">,</span> toolbarItemUi<span class=\"k\">);</span>","                            <span class=\"k\">}</span>","","                            <span class=\"k\">continue</span><span class=\"k\">;</span>","","","                        <span class=\"k\">}</span>","                    <span class=\"k\">}</span> <span class=\"k\">else</span> <span class=\"k\">{</span>","                        toolbarItemUi <span class=\"k\">=</span> toolbarItem<span class=\"k\">;</span>","                    <span class=\"k\">}</span>","                    <span class=\"k\">if</span> <span class=\"k\">(</span>toolbarItemUi<span class=\"k\">)</span> <span class=\"k\">{</span>","                        toolbarUi<span class=\"k\">.</span>add<span class=\"k\">(</span>toolbarItemUi<span class=\"k\">);</span>","                    <span class=\"k\">}</span>","                <span class=\"k\">}</span>","                toolbarUis<span class=\"k\">[</span>i<span class=\"k\">]</span> <span class=\"k\">=</span> toolbarUi<span class=\"k\">;</span>","            <span class=\"k\">}</span>","            <span class=\"k\">this</span><span class=\"k\">.</span>toolbars <span class=\"k\">=</span> toolbarUis<span class=\"k\">;</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        getHtmlTpl<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","            <span class=\"k\">return</span> <span class=\"s\">'&lt;div id=\"##\" class=\"%%\"&gt;'</span> <span class=\"k\">+</span>","                <span class=\"s\">'&lt;div id=\"##_toolbarbox\" class=\"%%-toolbarbox\"&gt;'</span> <span class=\"k\">+</span>","                <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>toolbars<span class=\"k\">.</span>length <span class=\"k\">?</span>","                    <span class=\"s\">'&lt;div id=\"##_toolbarboxouter\" class=\"%%-toolbarboxouter\"&gt;&lt;div class=\"%%-toolbarboxinner\"&gt;'</span> <span class=\"k\">+</span>","                        <span class=\"k\">this</span><span class=\"k\">.</span>renderToolbarBoxHtml<span class=\"k\">()</span> <span class=\"k\">+</span>","                        <span class=\"s\">'&lt;/div&gt;&lt;/div&gt;'</span> <span class=\"k\">:</span> <span class=\"s\">''</span><span class=\"k\">)</span> <span class=\"k\">+</span>","                <span class=\"s\">'&lt;div id=\"##_toolbarmsg\" class=\"%%-toolbarmsg\" style=\"display:none;\"&gt;'</span> <span class=\"k\">+</span>","                <span class=\"s\">'&lt;div id = \"##_upload_dialog\" class=\"%%-toolbarmsg-upload\" onclick=\"$$.showWordImageDialog();\"&gt;'</span> <span class=\"k\">+</span> <span class=\"k\">this</span><span class=\"k\">.</span>editor<span class=\"k\">.</span>getLang<span class=\"k\">(</span><span class=\"s\">\"clickToUpload\"</span><span class=\"k\">)</span> <span class=\"k\">+</span> <span class=\"s\">'&lt;/div&gt;'</span> <span class=\"k\">+</span>","                <span class=\"s\">'&lt;div class=\"%%-toolbarmsg-close\" onclick=\"$$.hideToolbarMsg();\"&gt;x&lt;/div&gt;'</span> <span class=\"k\">+</span>","                <span class=\"s\">'&lt;div id=\"##_toolbarmsg_label\" class=\"%%-toolbarmsg-label\"&gt;&lt;/div&gt;'</span> <span class=\"k\">+</span>","                <span class=\"s\">'&lt;div style=\"height:0;overflow:hidden;clear:both;\"&gt;&lt;/div&gt;'</span> <span class=\"k\">+</span>","                <span class=\"s\">'&lt;/div&gt;'</span> <span class=\"k\">+</span>","                <span class=\"s\">'&lt;/div&gt;'</span> <span class=\"k\">+</span>","                <span class=\"s\">'&lt;div id=\"##_iframeholder\" class=\"%%-iframeholder\"&gt;&lt;/div&gt;'</span> <span class=\"k\">+</span>","                <span class=\"c\">//modify wdcount by matao</span>","                <span class=\"s\">'&lt;div id=\"##_bottombar\" class=\"%%-bottomContainer\"&gt;&lt;table&gt;&lt;tr&gt;'</span> <span class=\"k\">+</span>","                <span class=\"s\">'&lt;td id=\"##_elementpath\" class=\"%%-bottombar\"&gt;&lt;/td&gt;'</span> <span class=\"k\">+</span>","                <span class=\"s\">'&lt;td id=\"##_wordcount\" class=\"%%-wordcount\"&gt;&lt;/td&gt;'</span> <span class=\"k\">+</span>","                <span class=\"s\">'&lt;td id=\"##_scale\" class=\"%%-scale\"&gt;&lt;div class=\"%%-icon\"&gt;&lt;/div&gt;&lt;/td&gt;'</span> <span class=\"k\">+</span>","                <span class=\"s\">'&lt;/tr&gt;&lt;/table&gt;&lt;/div&gt;'</span> <span class=\"k\">+</span>","                <span class=\"s\">'&lt;div id=\"##_scalelayer\"&gt;&lt;/div&gt;'</span> <span class=\"k\">+</span>","                <span class=\"s\">'&lt;/div&gt;'</span><span class=\"k\">;</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        showWordImageDialog<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","            <span class=\"k\">this</span><span class=\"k\">.</span>editor<span class=\"k\">.</span>execCommand<span class=\"k\">(</span><span class=\"s\">\"wordimage\"</span><span class=\"k\">,</span> <span class=\"s\">\"word_img\"</span><span class=\"k\">);</span>","            <span class=\"k\">this</span><span class=\"k\">.</span>_dialogs<span class=\"k\">[</span><span class=\"s\">'wordimageDialog'</span><span class=\"k\">].</span>open<span class=\"k\">();</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        renderToolbarBoxHtml<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","            <span class=\"k\">var</span> buff <span class=\"k\">=</span> <span class=\"k\">[];</span>","            <span class=\"k\">for</span> <span class=\"k\">(</span><span class=\"k\">var</span> i <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">;</span> i <span class=\"k\">&lt;</span> <span class=\"k\">this</span><span class=\"k\">.</span>toolbars<span class=\"k\">.</span>length<span class=\"k\">;</span> i<span class=\"k\">++)</span> <span class=\"k\">{</span>","                buff<span class=\"k\">.</span>push<span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>toolbars<span class=\"k\">[</span>i<span class=\"k\">].</span>renderHtml<span class=\"k\">());</span>","            <span class=\"k\">}</span>","            <span class=\"k\">return</span> buff<span class=\"k\">.</span>join<span class=\"k\">(</span><span class=\"s\">''</span><span class=\"k\">);</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        setFullScreen<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">(</span>fullscreen<span class=\"k\">)</span> <span class=\"k\">{</span>","","            <span class=\"k\">if</span> <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>_fullscreen <span class=\"k\">!=</span> fullscreen<span class=\"k\">)</span> <span class=\"k\">{</span>","                <span class=\"k\">this</span><span class=\"k\">.</span>_fullscreen <span class=\"k\">=</span> fullscreen<span class=\"k\">;</span>","                <span class=\"k\">this</span><span class=\"k\">.</span>editor<span class=\"k\">.</span>fireEvent<span class=\"k\">(</span><span class=\"s\">'beforefullscreenchange'</span><span class=\"k\">,</span> fullscreen<span class=\"k\">);</span>","                <span class=\"k\">var</span> editor <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>editor<span class=\"k\">;</span>","","                <span class=\"k\">if</span> <span class=\"k\">(</span>baidu<span class=\"k\">.</span>editor<span class=\"k\">.</span>browser<span class=\"k\">.</span>gecko<span class=\"k\">)</span> <span class=\"k\">{</span>","                    <span class=\"k\">var</span> bk <span class=\"k\">=</span> editor<span class=\"k\">.</span>selection<span class=\"k\">.</span>getRange<span class=\"k\">().</span>createBookmark<span class=\"k\">();</span>","                <span class=\"k\">}</span>","","","                <span class=\"k\">if</span> <span class=\"k\">(</span>fullscreen<span class=\"k\">)</span> <span class=\"k\">{</span>","","                    <span class=\"k\">this</span><span class=\"k\">.</span>_bakHtmlOverflow <span class=\"k\">=</span> document<span class=\"k\">.</span>documentElement<span class=\"k\">.</span>style<span class=\"k\">.</span>overflow<span class=\"k\">;</span>","                    <span class=\"k\">this</span><span class=\"k\">.</span>_bakBodyOverflow <span class=\"k\">=</span> document<span class=\"k\">.</span>body<span class=\"k\">.</span>style<span class=\"k\">.</span>overflow<span class=\"k\">;</span>","                    <span class=\"k\">this</span><span class=\"k\">.</span>_bakAutoHeight <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>editor<span class=\"k\">.</span>autoHeightEnabled<span class=\"k\">;</span>","                    <span class=\"k\">this</span><span class=\"k\">.</span>_bakScrollTop <span class=\"k\">=</span> Math<span class=\"k\">.</span>max<span class=\"k\">(</span>document<span class=\"k\">.</span>documentElement<span class=\"k\">.</span>scrollTop<span class=\"k\">,</span> document<span class=\"k\">.</span>body<span class=\"k\">.</span>scrollTop<span class=\"k\">);</span>","                    <span class=\"k\">if</span> <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>_bakAutoHeight<span class=\"k\">)</span> <span class=\"k\">{</span>","                        <span class=\"c\">//&#24403;&#20840;&#23631;&#26102;&#19981;&#33021;&#25191;&#34892;&#33258;&#21160;&#38271;&#39640;</span>","                        editor<span class=\"k\">.</span>autoHeightEnabled <span class=\"k\">=</span> <span class=\"k\">false</span><span class=\"k\">;</span>","                        <span class=\"k\">this</span><span class=\"k\">.</span>editor<span class=\"k\">.</span>disableAutoHeight<span class=\"k\">();</span>","                    <span class=\"k\">}</span>","","                    document<span class=\"k\">.</span>documentElement<span class=\"k\">.</span>style<span class=\"k\">.</span>overflow <span class=\"k\">=</span> <span class=\"s\">'hidden'</span><span class=\"k\">;</span>","                    document<span class=\"k\">.</span>body<span class=\"k\">.</span>style<span class=\"k\">.</span>overflow <span class=\"k\">=</span> <span class=\"s\">'hidden'</span><span class=\"k\">;</span>","","                    <span class=\"k\">this</span><span class=\"k\">.</span>_bakCssText <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>getDom<span class=\"k\">().</span>style<span class=\"k\">.</span>cssText<span class=\"k\">;</span>","                    <span class=\"k\">this</span><span class=\"k\">.</span>_bakCssText1 <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>getDom<span class=\"k\">(</span><span class=\"s\">'iframeholder'</span><span class=\"k\">).</span>style<span class=\"k\">.</span>cssText<span class=\"k\">;</span>","                    <span class=\"k\">this</span><span class=\"k\">.</span>_updateFullScreen<span class=\"k\">();</span>","","                <span class=\"k\">}</span> <span class=\"k\">else</span> <span class=\"k\">{</span>","","                    <span class=\"k\">this</span><span class=\"k\">.</span>getDom<span class=\"k\">().</span>style<span class=\"k\">.</span>cssText <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>_bakCssText<span class=\"k\">;</span>","                    <span class=\"k\">this</span><span class=\"k\">.</span>getDom<span class=\"k\">(</span><span class=\"s\">'iframeholder'</span><span class=\"k\">).</span>style<span class=\"k\">.</span>cssText <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>_bakCssText1<span class=\"k\">;</span>","                    <span class=\"k\">if</span> <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>_bakAutoHeight<span class=\"k\">)</span> <span class=\"k\">{</span>","                        editor<span class=\"k\">.</span>autoHeightEnabled <span class=\"k\">=</span> <span class=\"k\">true</span><span class=\"k\">;</span>","                        <span class=\"k\">this</span><span class=\"k\">.</span>editor<span class=\"k\">.</span>enableAutoHeight<span class=\"k\">();</span>","                    <span class=\"k\">}</span>","                    document<span class=\"k\">.</span>documentElement<span class=\"k\">.</span>style<span class=\"k\">.</span>overflow <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>_bakHtmlOverflow<span class=\"k\">;</span>","                    document<span class=\"k\">.</span>body<span class=\"k\">.</span>style<span class=\"k\">.</span>overflow <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>_bakBodyOverflow<span class=\"k\">;</span>","                    window<span class=\"k\">.</span>scrollTo<span class=\"k\">(</span><span class=\"s\">0</span><span class=\"k\">,</span> <span class=\"k\">this</span><span class=\"k\">.</span>_bakScrollTop<span class=\"k\">);</span>","                <span class=\"k\">}</span>","                <span class=\"k\">if</span> <span class=\"k\">(</span>baidu<span class=\"k\">.</span>editor<span class=\"k\">.</span>browser<span class=\"k\">.</span>gecko<span class=\"k\">)</span> <span class=\"k\">{</span>","","                    <span class=\"k\">var</span> input <span class=\"k\">=</span> document<span class=\"k\">.</span>createElement<span class=\"k\">(</span><span class=\"s\">'input'</span><span class=\"k\">);</span>","","                    document<span class=\"k\">.</span>body<span class=\"k\">.</span>appendChild<span class=\"k\">(</span>input<span class=\"k\">);</span>","","                    editor<span class=\"k\">.</span>body<span class=\"k\">.</span>contentEditable <span class=\"k\">=</span> <span class=\"k\">false</span><span class=\"k\">;</span>","                    setTimeout<span class=\"k\">(</span><span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","","                        input<span class=\"k\">.</span>focus<span class=\"k\">();</span>","                        setTimeout<span class=\"k\">(</span><span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","                            editor<span class=\"k\">.</span>body<span class=\"k\">.</span>contentEditable <span class=\"k\">=</span> <span class=\"k\">true</span><span class=\"k\">;</span>","                            editor<span class=\"k\">.</span>selection<span class=\"k\">.</span>getRange<span class=\"k\">().</span>moveToBookmark<span class=\"k\">(</span>bk<span class=\"k\">).</span>select<span class=\"k\">(</span><span class=\"k\">true</span><span class=\"k\">);</span>","                            baidu<span class=\"k\">.</span>editor<span class=\"k\">.</span>dom<span class=\"k\">.</span>domUtils<span class=\"k\">.</span>remove<span class=\"k\">(</span>input<span class=\"k\">);</span>","","                            fullscreen <span class=\"k\">&amp;&amp;</span> window<span class=\"k\">.</span>scroll<span class=\"k\">(</span><span class=\"s\">0</span><span class=\"k\">,</span> <span class=\"s\">0</span><span class=\"k\">);</span>","","                        <span class=\"k\">}</span><span class=\"k\">)</span>","","                    <span class=\"k\">}</span><span class=\"k\">)</span>","                <span class=\"k\">}</span>","","                <span class=\"k\">this</span><span class=\"k\">.</span>editor<span class=\"k\">.</span>fireEvent<span class=\"k\">(</span><span class=\"s\">'fullscreenchanged'</span><span class=\"k\">,</span> fullscreen<span class=\"k\">);</span>","                <span class=\"k\">this</span><span class=\"k\">.</span>triggerLayout<span class=\"k\">();</span>","            <span class=\"k\">}</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        _wordCount<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","            <span class=\"k\">var</span> wdcount <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>getDom<span class=\"k\">(</span><span class=\"s\">'wordcount'</span><span class=\"k\">);</span>","            <span class=\"k\">if</span> <span class=\"k\">(!</span><span class=\"k\">this</span><span class=\"k\">.</span>editor<span class=\"k\">.</span>options<span class=\"k\">.</span>wordCount<span class=\"k\">)</span> <span class=\"k\">{</span>","                wdcount<span class=\"k\">.</span>style<span class=\"k\">.</span>display <span class=\"k\">=</span> <span class=\"s\">\"none\"</span><span class=\"k\">;</span>","                <span class=\"k\">return</span><span class=\"k\">;</span>","            <span class=\"k\">}</span>","            wdcount<span class=\"k\">.</span>innerHTML <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>editor<span class=\"k\">.</span>queryCommandValue<span class=\"k\">(</span><span class=\"s\">\"wordcount\"</span><span class=\"k\">);</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        disableWordCount<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","            <span class=\"k\">var</span> w <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>getDom<span class=\"k\">(</span><span class=\"s\">'wordcount'</span><span class=\"k\">);</span>","            w<span class=\"k\">.</span>innerHTML <span class=\"k\">=</span> <span class=\"s\">''</span><span class=\"k\">;</span>","            w<span class=\"k\">.</span>style<span class=\"k\">.</span>display <span class=\"k\">=</span> <span class=\"s\">'none'</span><span class=\"k\">;</span>","            <span class=\"k\">this</span><span class=\"k\">.</span>wordcount <span class=\"k\">=</span> <span class=\"k\">false</span><span class=\"k\">;</span>","","        <span class=\"k\">}</span><span class=\"k\">,</span>","        enableWordCount<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","            <span class=\"k\">var</span> w <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>getDom<span class=\"k\">(</span><span class=\"s\">'wordcount'</span><span class=\"k\">);</span>","            w<span class=\"k\">.</span>style<span class=\"k\">.</span>display <span class=\"k\">=</span> <span class=\"s\">''</span><span class=\"k\">;</span>","            <span class=\"k\">this</span><span class=\"k\">.</span>wordcount <span class=\"k\">=</span> <span class=\"k\">true</span><span class=\"k\">;</span>","            <span class=\"k\">this</span><span class=\"k\">.</span>_wordCount<span class=\"k\">();</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        _updateFullScreen<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>_fullscreen<span class=\"k\">)</span> <span class=\"k\">{</span>","                <span class=\"k\">var</span> vpRect <span class=\"k\">=</span> uiUtils<span class=\"k\">.</span>getViewportRect<span class=\"k\">();</span>","                <span class=\"k\">this</span><span class=\"k\">.</span>getDom<span class=\"k\">().</span>style<span class=\"k\">.</span>cssText <span class=\"k\">=</span> <span class=\"s\">'border:0;position:absolute;left:0;top:'</span> <span class=\"k\">+</span> <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>editor<span class=\"k\">.</span>options<span class=\"k\">.</span>topOffset <span class=\"k\">||</span> <span class=\"s\">0</span><span class=\"k\">)</span> <span class=\"k\">+</span> <span class=\"s\">'px;width:'</span> <span class=\"k\">+</span> vpRect<span class=\"k\">.</span>width <span class=\"k\">+</span> <span class=\"s\">'px;height:'</span> <span class=\"k\">+</span> vpRect<span class=\"k\">.</span>height <span class=\"k\">+</span> <span class=\"s\">'px;z-index:'</span> <span class=\"k\">+</span> <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>getDom<span class=\"k\">().</span>style<span class=\"k\">.</span>zIndex <span class=\"k\">*</span> <span class=\"s\">1</span> <span class=\"k\">+</span> <span class=\"s\">100</span><span class=\"k\">);</span>","                uiUtils<span class=\"k\">.</span>setViewportOffset<span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>getDom<span class=\"k\">(),</span> <span class=\"k\">{</span> left<span class=\"k\">:</span><span class=\"s\">0</span><span class=\"k\">,</span> top<span class=\"k\">:</span><span class=\"k\">this</span><span class=\"k\">.</span>editor<span class=\"k\">.</span>options<span class=\"k\">.</span>topOffset <span class=\"k\">||</span> <span class=\"s\">0</span> <span class=\"k\">}</span><span class=\"k\">);</span>","                <span class=\"k\">this</span><span class=\"k\">.</span>editor<span class=\"k\">.</span>setHeight<span class=\"k\">(</span>vpRect<span class=\"k\">.</span>height <span class=\"k\">-</span> <span class=\"k\">this</span><span class=\"k\">.</span>getDom<span class=\"k\">(</span><span class=\"s\">'toolbarbox'</span><span class=\"k\">).</span>offsetHeight <span class=\"k\">-</span> <span class=\"k\">this</span><span class=\"k\">.</span>getDom<span class=\"k\">(</span><span class=\"s\">'bottombar'</span><span class=\"k\">).</span>offsetHeight <span class=\"k\">-</span> <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>editor<span class=\"k\">.</span>options<span class=\"k\">.</span>topOffset <span class=\"k\">||</span> <span class=\"s\">0</span><span class=\"k\">));</span>","","            <span class=\"k\">}</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        _updateElementPath<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","            <span class=\"k\">var</span> bottom <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>getDom<span class=\"k\">(</span><span class=\"s\">'elementpath'</span><span class=\"k\">),</span> list<span class=\"k\">;</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>elementPathEnabled <span class=\"k\">&amp;&amp;</span> <span class=\"k\">(</span>list <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>editor<span class=\"k\">.</span>queryCommandValue<span class=\"k\">(</span><span class=\"s\">'elementpath'</span><span class=\"k\">)))</span> <span class=\"k\">{</span>","","                <span class=\"k\">var</span> buff <span class=\"k\">=</span> <span class=\"k\">[];</span>","                <span class=\"k\">for</span> <span class=\"k\">(</span><span class=\"k\">var</span> i <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">,</span> ci<span class=\"k\">;</span> ci <span class=\"k\">=</span> list<span class=\"k\">[</span>i<span class=\"k\">];</span> i<span class=\"k\">++)</span> <span class=\"k\">{</span>","                    buff<span class=\"k\">[</span>i<span class=\"k\">]</span> <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>formatHtml<span class=\"k\">(</span><span class=\"s\">'&lt;span unselectable=\"on\" onclick=\"$$.editor.execCommand(&amp;quot;elementpath&amp;quot;, &amp;quot;'</span> <span class=\"k\">+</span> i <span class=\"k\">+</span> <span class=\"s\">'&amp;quot;);\"&gt;'</span> <span class=\"k\">+</span> ci <span class=\"k\">+</span> <span class=\"s\">'&lt;/span&gt;'</span><span class=\"k\">);</span>","                <span class=\"k\">}</span>","                bottom<span class=\"k\">.</span>innerHTML <span class=\"k\">=</span> <span class=\"s\">'&lt;div class=\"edui-editor-breadcrumb\" onmousedown=\"return false;\"&gt;'</span> <span class=\"k\">+</span> <span class=\"k\">this</span><span class=\"k\">.</span>editor<span class=\"k\">.</span>getLang<span class=\"k\">(</span><span class=\"s\">\"elementPathTip\"</span><span class=\"k\">)</span> <span class=\"k\">+</span> <span class=\"s\">': '</span> <span class=\"k\">+</span> buff<span class=\"k\">.</span>join<span class=\"k\">(</span><span class=\"s\">' &amp;gt; '</span><span class=\"k\">)</span> <span class=\"k\">+</span> <span class=\"s\">'&lt;/div&gt;'</span><span class=\"k\">;</span>","","            <span class=\"k\">}</span> <span class=\"k\">else</span> <span class=\"k\">{</span>","                bottom<span class=\"k\">.</span>style<span class=\"k\">.</span>display <span class=\"k\">=</span> <span class=\"s\">'none'</span>","            <span class=\"k\">}</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        disableElementPath<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","            <span class=\"k\">var</span> bottom <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>getDom<span class=\"k\">(</span><span class=\"s\">'elementpath'</span><span class=\"k\">);</span>","            bottom<span class=\"k\">.</span>innerHTML <span class=\"k\">=</span> <span class=\"s\">''</span><span class=\"k\">;</span>","            bottom<span class=\"k\">.</span>style<span class=\"k\">.</span>display <span class=\"k\">=</span> <span class=\"s\">'none'</span><span class=\"k\">;</span>","            <span class=\"k\">this</span><span class=\"k\">.</span>elementPathEnabled <span class=\"k\">=</span> <span class=\"k\">false</span><span class=\"k\">;</span>","","        <span class=\"k\">}</span><span class=\"k\">,</span>","        enableElementPath<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","            <span class=\"k\">var</span> bottom <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>getDom<span class=\"k\">(</span><span class=\"s\">'elementpath'</span><span class=\"k\">);</span>","            bottom<span class=\"k\">.</span>style<span class=\"k\">.</span>display <span class=\"k\">=</span> <span class=\"s\">''</span><span class=\"k\">;</span>","            <span class=\"k\">this</span><span class=\"k\">.</span>elementPathEnabled <span class=\"k\">=</span> <span class=\"k\">true</span><span class=\"k\">;</span>","            <span class=\"k\">this</span><span class=\"k\">.</span>_updateElementPath<span class=\"k\">();</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        _scale<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","            <span class=\"k\">var</span> doc <span class=\"k\">=</span> document<span class=\"k\">,</span>","                editor <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>editor<span class=\"k\">,</span>","                editorHolder <span class=\"k\">=</span> editor<span class=\"k\">.</span>container<span class=\"k\">,</span>","                editorDocument <span class=\"k\">=</span> editor<span class=\"k\">.</span>document<span class=\"k\">,</span>","                toolbarBox <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>getDom<span class=\"k\">(</span><span class=\"s\">\"toolbarbox\"</span><span class=\"k\">),</span>","                bottombar <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>getDom<span class=\"k\">(</span><span class=\"s\">\"bottombar\"</span><span class=\"k\">),</span>","                scale <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>getDom<span class=\"k\">(</span><span class=\"s\">\"scale\"</span><span class=\"k\">),</span>","                scalelayer <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>getDom<span class=\"k\">(</span><span class=\"s\">\"scalelayer\"</span><span class=\"k\">);</span>","","            <span class=\"k\">var</span> isMouseMove <span class=\"k\">=</span> <span class=\"k\">false</span><span class=\"k\">,</span>","                position<span class=\"k\">=</span><span class=\"k\">null</span><span class=\"k\">,</span>","                minEditorHeight <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">,</span>","                minEditorWidth <span class=\"k\">=</span> editor<span class=\"k\">.</span>options<span class=\"k\">.</span>minFrameWidth<span class=\"k\">,</span>","                pageX <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">,</span>","                pageY <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">,</span>","                scaleWidth <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">,</span>","                scaleHeight <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">;</span>","","            <span class=\"k\">function</span> down<span class=\"k\">()</span> <span class=\"k\">{</span>","                position<span class=\"k\">=</span>domUtils<span class=\"k\">.</span>getXY<span class=\"k\">(</span>editorHolder<span class=\"k\">);</span>","","                <span class=\"k\">if</span> <span class=\"k\">(!</span>minEditorHeight<span class=\"k\">)</span> <span class=\"k\">{</span>","                    minEditorHeight <span class=\"k\">=</span> editor<span class=\"k\">.</span>options<span class=\"k\">.</span>minFrameHeight <span class=\"k\">+</span> toolbarBox<span class=\"k\">.</span>offsetHeight <span class=\"k\">+</span> bottombar<span class=\"k\">.</span>offsetHeight<span class=\"k\">;</span>","                <span class=\"k\">}</span>","","                scalelayer<span class=\"k\">.</span>style<span class=\"k\">.</span>cssText <span class=\"k\">=</span> <span class=\"s\">\"position:absolute;left:0;display:;top:0;background-color:#41ABFF;opacity:0.4;filter: Alpha(opacity=40);width:\"</span> <span class=\"k\">+</span> editorHolder<span class=\"k\">.</span>offsetWidth <span class=\"k\">+</span> <span class=\"s\">\"px;height:\"</span>","                    <span class=\"k\">+</span> editorHolder<span class=\"k\">.</span>offsetHeight <span class=\"k\">+</span> <span class=\"s\">\"px;z-index:\"</span> <span class=\"k\">+</span> <span class=\"k\">(</span>editor<span class=\"k\">.</span>options<span class=\"k\">.</span>zIndex <span class=\"k\">+</span> <span class=\"s\">1</span><span class=\"k\">);</span>","","                doc<span class=\"k\">.</span>onmousemove <span class=\"k\">=</span> <span class=\"k\">function</span> <span class=\"k\">(</span>event<span class=\"k\">)</span> <span class=\"k\">{</span>","                    clearSelection<span class=\"k\">();</span>","                    <span class=\"k\">var</span> e <span class=\"k\">=</span> event <span class=\"k\">||</span> window<span class=\"k\">.</span>event<span class=\"k\">;</span>","                    pageX <span class=\"k\">=</span> e<span class=\"k\">.</span>pageX <span class=\"k\">||</span> <span class=\"k\">(</span>doc<span class=\"k\">.</span>documentElement<span class=\"k\">.</span>scrollLeft <span class=\"k\">+</span> e<span class=\"k\">.</span>clientX<span class=\"k\">);</span>","                    pageY <span class=\"k\">=</span> e<span class=\"k\">.</span>pageY <span class=\"k\">||</span> <span class=\"k\">(</span>doc<span class=\"k\">.</span>documentElement<span class=\"k\">.</span>scrollTop <span class=\"k\">+</span> e<span class=\"k\">.</span>clientY<span class=\"k\">);</span>","                    scaleWidth <span class=\"k\">=</span> pageX <span class=\"k\">-</span> position<span class=\"k\">.</span>x<span class=\"k\">;</span>","                    scaleHeight <span class=\"k\">=</span> pageY <span class=\"k\">-</span> position<span class=\"k\">.</span>y<span class=\"k\">;</span>","","                    <span class=\"k\">if</span> <span class=\"k\">(</span>scaleWidth <span class=\"k\">&gt;=</span> minEditorWidth<span class=\"k\">)</span> <span class=\"k\">{</span>","                        isMouseMove <span class=\"k\">=</span> <span class=\"k\">true</span><span class=\"k\">;</span>","                        scalelayer<span class=\"k\">.</span>style<span class=\"k\">.</span>width <span class=\"k\">=</span> scaleWidth <span class=\"k\">+</span> <span class=\"s\">'px'</span><span class=\"k\">;</span>","                    <span class=\"k\">}</span>","                    <span class=\"k\">if</span> <span class=\"k\">(</span>scaleHeight <span class=\"k\">&gt;=</span> minEditorHeight<span class=\"k\">)</span> <span class=\"k\">{</span>","                        isMouseMove <span class=\"k\">=</span> <span class=\"k\">true</span><span class=\"k\">;</span>","                        scalelayer<span class=\"k\">.</span>style<span class=\"k\">.</span>height <span class=\"k\">=</span> scaleHeight <span class=\"k\">+</span> <span class=\"s\">\"px\"</span><span class=\"k\">;</span>","                    <span class=\"k\">}</span>","                <span class=\"k\">}</span><span class=\"k\">;</span>","","                domUtils<span class=\"k\">.</span>on<span class=\"k\">(</span>editorDocument<span class=\"k\">,</span> <span class=\"s\">\"mouseup\"</span><span class=\"k\">,</span> up<span class=\"k\">);</span>","                domUtils<span class=\"k\">.</span>on<span class=\"k\">(</span>doc<span class=\"k\">,</span> <span class=\"s\">\"mouseup\"</span><span class=\"k\">,</span> up<span class=\"k\">);</span>","            <span class=\"k\">}</span>","","            <span class=\"k\">function</span> up<span class=\"k\">()</span> <span class=\"k\">{</span>","                <span class=\"k\">if</span> <span class=\"k\">(</span>isMouseMove<span class=\"k\">)</span> <span class=\"k\">{</span>","                    isMouseMove <span class=\"k\">=</span> <span class=\"k\">false</span><span class=\"k\">;</span>","                    editorHolder<span class=\"k\">.</span>style<span class=\"k\">.</span>width <span class=\"k\">=</span> scalelayer<span class=\"k\">.</span>offsetWidth <span class=\"k\">-</span> <span class=\"s\">2</span> <span class=\"k\">+</span> <span class=\"s\">'px'</span><span class=\"k\">;</span>","                    editor<span class=\"k\">.</span>setHeight<span class=\"k\">(</span>scalelayer<span class=\"k\">.</span>offsetHeight <span class=\"k\">-</span> bottombar<span class=\"k\">.</span>offsetHeight <span class=\"k\">-</span> toolbarBox<span class=\"k\">.</span>offsetHeight <span class=\"k\">-</span> <span class=\"s\">2</span><span class=\"k\">);</span>","                <span class=\"k\">}</span>","                <span class=\"k\">if</span> <span class=\"k\">(</span>scalelayer<span class=\"k\">)</span> <span class=\"k\">{</span>","                    scalelayer<span class=\"k\">.</span>style<span class=\"k\">.</span>display <span class=\"k\">=</span> <span class=\"s\">\"none\"</span><span class=\"k\">;</span>","                <span class=\"k\">}</span>","                clearSelection<span class=\"k\">();</span>","                doc<span class=\"k\">.</span>onmousemove <span class=\"k\">=</span> <span class=\"k\">null</span><span class=\"k\">;</span>","                domUtils<span class=\"k\">.</span>un<span class=\"k\">(</span>editorDocument<span class=\"k\">,</span> <span class=\"s\">\"mouseup\"</span><span class=\"k\">,</span> up<span class=\"k\">);</span>","                domUtils<span class=\"k\">.</span>un<span class=\"k\">(</span>doc<span class=\"k\">,</span> <span class=\"s\">\"mouseup\"</span><span class=\"k\">,</span> up<span class=\"k\">);</span>","            <span class=\"k\">}</span>","","            <span class=\"k\">function</span> clearSelection<span class=\"k\">()</span> <span class=\"k\">{</span>","                <span class=\"k\">if</span> <span class=\"k\">(</span>browser<span class=\"k\">.</span>ie<span class=\"k\">)</span>","                    doc<span class=\"k\">.</span>selection<span class=\"k\">.</span>clear<span class=\"k\">();</span>","                <span class=\"k\">else</span>","                    window<span class=\"k\">.</span>getSelection<span class=\"k\">().</span>removeAllRanges<span class=\"k\">();</span>","            <span class=\"k\">}</span>","","            <span class=\"k\">this</span><span class=\"k\">.</span>enableScale <span class=\"k\">=</span> <span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","                <span class=\"k\">if</span> <span class=\"k\">(</span>editor<span class=\"k\">.</span>disableAutoHeight<span class=\"k\">)</span> <span class=\"k\">{</span>","                    editor<span class=\"k\">.</span>autoHeightEnabled <span class=\"k\">=</span> <span class=\"k\">false</span><span class=\"k\">;</span>","                    editor<span class=\"k\">.</span>disableAutoHeight<span class=\"k\">();</span>","                <span class=\"k\">}</span>","                scale<span class=\"k\">.</span>style<span class=\"k\">.</span>display <span class=\"k\">=</span> <span class=\"s\">\"\"</span><span class=\"k\">;</span>","                editor<span class=\"k\">.</span>options<span class=\"k\">.</span>scaleEnabled <span class=\"k\">=</span> <span class=\"k\">true</span><span class=\"k\">;</span>","","                domUtils<span class=\"k\">.</span>on<span class=\"k\">(</span>scale<span class=\"k\">,</span> <span class=\"s\">\"mousedown\"</span><span class=\"k\">,</span> down<span class=\"k\">);</span>","            <span class=\"k\">}</span><span class=\"k\">;</span>","            <span class=\"k\">this</span><span class=\"k\">.</span>disableScale <span class=\"k\">=</span> <span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","                <span class=\"k\">if</span> <span class=\"k\">(</span>editor<span class=\"k\">.</span>enableAutoHeight<span class=\"k\">)</span> <span class=\"k\">{</span>","                    editor<span class=\"k\">.</span>autoHeightEnabled <span class=\"k\">=</span> <span class=\"k\">true</span><span class=\"k\">;</span>","                    editor<span class=\"k\">.</span>enableAutoHeight<span class=\"k\">();</span>","                <span class=\"k\">}</span>","                scale<span class=\"k\">.</span>style<span class=\"k\">.</span>display <span class=\"k\">=</span> <span class=\"s\">\"none\"</span><span class=\"k\">;</span>","                editor<span class=\"k\">.</span>options<span class=\"k\">.</span>scaleEnabled <span class=\"k\">=</span> <span class=\"k\">false</span><span class=\"k\">;</span>","","                domUtils<span class=\"k\">.</span>un<span class=\"k\">(</span>scale<span class=\"k\">,</span> <span class=\"s\">\"mousedown\"</span><span class=\"k\">,</span> down<span class=\"k\">);</span>","            <span class=\"k\">}</span><span class=\"k\">;</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        isFullScreen<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","            <span class=\"k\">return</span> <span class=\"k\">this</span><span class=\"k\">.</span>_fullscreen<span class=\"k\">;</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        postRender<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","            UIBase<span class=\"k\">.</span>prototype<span class=\"k\">.</span>postRender<span class=\"k\">.</span>call<span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">);</span>","            <span class=\"k\">for</span> <span class=\"k\">(</span><span class=\"k\">var</span> i <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">;</span> i <span class=\"k\">&lt;</span> <span class=\"k\">this</span><span class=\"k\">.</span>toolbars<span class=\"k\">.</span>length<span class=\"k\">;</span> i<span class=\"k\">++)</span> <span class=\"k\">{</span>","                <span class=\"k\">this</span><span class=\"k\">.</span>toolbars<span class=\"k\">[</span>i<span class=\"k\">].</span>postRender<span class=\"k\">();</span>","            <span class=\"k\">}</span>","            <span class=\"k\">var</span> me <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">;</span>","            <span class=\"k\">var</span> timerId<span class=\"k\">,</span>","                domUtils <span class=\"k\">=</span> baidu<span class=\"k\">.</span>editor<span class=\"k\">.</span>dom<span class=\"k\">.</span>domUtils<span class=\"k\">,</span>","                updateFullScreenTime <span class=\"k\">=</span> <span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","                    clearTimeout<span class=\"k\">(</span>timerId<span class=\"k\">);</span>","                    timerId <span class=\"k\">=</span> setTimeout<span class=\"k\">(</span><span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","                        me<span class=\"k\">.</span>_updateFullScreen<span class=\"k\">();</span>","                    <span class=\"k\">}</span><span class=\"k\">);</span>","                <span class=\"k\">}</span><span class=\"k\">;</span>","            domUtils<span class=\"k\">.</span>on<span class=\"k\">(</span>window<span class=\"k\">,</span> <span class=\"s\">'resize'</span><span class=\"k\">,</span> updateFullScreenTime<span class=\"k\">);</span>","","            me<span class=\"k\">.</span>addListener<span class=\"k\">(</span><span class=\"s\">'destroy'</span><span class=\"k\">,</span> <span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","                domUtils<span class=\"k\">.</span>un<span class=\"k\">(</span>window<span class=\"k\">,</span> <span class=\"s\">'resize'</span><span class=\"k\">,</span> updateFullScreenTime<span class=\"k\">);</span>","                clearTimeout<span class=\"k\">(</span>timerId<span class=\"k\">);</span>","            <span class=\"k\">}</span><span class=\"k\">)</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        showToolbarMsg<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">(</span>msg<span class=\"k\">,</span> flag<span class=\"k\">)</span> <span class=\"k\">{</span>","            <span class=\"k\">this</span><span class=\"k\">.</span>getDom<span class=\"k\">(</span><span class=\"s\">'toolbarmsg_label'</span><span class=\"k\">).</span>innerHTML <span class=\"k\">=</span> msg<span class=\"k\">;</span>","            <span class=\"k\">this</span><span class=\"k\">.</span>getDom<span class=\"k\">(</span><span class=\"s\">'toolbarmsg'</span><span class=\"k\">).</span>style<span class=\"k\">.</span>display <span class=\"k\">=</span> <span class=\"s\">''</span><span class=\"k\">;</span>","            <span class=\"c\">//</span>","            <span class=\"k\">if</span> <span class=\"k\">(!</span>flag<span class=\"k\">)</span> <span class=\"k\">{</span>","                <span class=\"k\">var</span> w <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>getDom<span class=\"k\">(</span><span class=\"s\">'upload_dialog'</span><span class=\"k\">);</span>","                w<span class=\"k\">.</span>style<span class=\"k\">.</span>display <span class=\"k\">=</span> <span class=\"s\">'none'</span><span class=\"k\">;</span>","            <span class=\"k\">}</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        hideToolbarMsg<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","            <span class=\"k\">this</span><span class=\"k\">.</span>getDom<span class=\"k\">(</span><span class=\"s\">'toolbarmsg'</span><span class=\"k\">).</span>style<span class=\"k\">.</span>display <span class=\"k\">=</span> <span class=\"s\">'none'</span><span class=\"k\">;</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        mapUrl<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">(</span>url<span class=\"k\">)</span> <span class=\"k\">{</span>","            <span class=\"k\">return</span> url <span class=\"k\">?</span> url<span class=\"k\">.</span>replace<span class=\"k\">(</span><span class=\"s\">'~/'</span><span class=\"k\">,</span> <span class=\"k\">this</span><span class=\"k\">.</span>editor<span class=\"k\">.</span>options<span class=\"k\">.</span>UEDITOR_HOME_URL <span class=\"k\">||</span> <span class=\"s\">''</span><span class=\"k\">)</span> <span class=\"k\">:</span> <span class=\"s\">''</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        triggerLayout<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","            <span class=\"k\">var</span> dom <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>getDom<span class=\"k\">();</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span>dom<span class=\"k\">.</span>style<span class=\"k\">.</span>zoom <span class=\"k\">==</span> <span class=\"s\">'1'</span><span class=\"k\">)</span> <span class=\"k\">{</span>","                dom<span class=\"k\">.</span>style<span class=\"k\">.</span>zoom <span class=\"k\">=</span> <span class=\"s\">'100%'</span><span class=\"k\">;</span>","            <span class=\"k\">}</span> <span class=\"k\">else</span> <span class=\"k\">{</span>","                dom<span class=\"k\">.</span>style<span class=\"k\">.</span>zoom <span class=\"k\">=</span> <span class=\"s\">'1'</span><span class=\"k\">;</span>","            <span class=\"k\">}</span>","        <span class=\"k\">}</span>","    <span class=\"k\">}</span><span class=\"k\">;</span>","    utils<span class=\"k\">.</span>inherits<span class=\"k\">(</span>EditorUI<span class=\"k\">,</span> baidu<span class=\"k\">.</span>editor<span class=\"k\">.</span>ui<span class=\"k\">.</span>UIBase<span class=\"k\">);</span>","","    baidu<span class=\"k\">.</span>editor<span class=\"k\">.</span>ui<span class=\"k\">.</span>Editor <span class=\"k\">=</span> <span class=\"k\">function</span> <span class=\"k\">(</span>options<span class=\"k\">)</span> <span class=\"k\">{</span>","        <span class=\"k\">var</span> editor <span class=\"k\">=</span> <span class=\"k\">new</span> baidu<span class=\"k\">.</span>editor<span class=\"k\">.</span>Editor<span class=\"k\">(</span>options<span class=\"k\">);</span>","        editor<span class=\"k\">.</span>options<span class=\"k\">.</span>editor <span class=\"k\">=</span> editor<span class=\"k\">;</span>","        utils<span class=\"k\">.</span>loadFile<span class=\"k\">(</span>document<span class=\"k\">,</span> <span class=\"k\">{</span>","            href<span class=\"k\">:</span>editor<span class=\"k\">.</span>options<span class=\"k\">.</span>themePath <span class=\"k\">+</span> editor<span class=\"k\">.</span>options<span class=\"k\">.</span>theme <span class=\"k\">+</span> <span class=\"s\">\"/_css/ueditor.css\"</span><span class=\"k\">,</span>","            tag<span class=\"k\">:</span><span class=\"s\">\"link\"</span><span class=\"k\">,</span>","            type<span class=\"k\">:</span><span class=\"s\">\"text/css\"</span><span class=\"k\">,</span>","            rel<span class=\"k\">:</span><span class=\"s\">\"stylesheet\"</span>","        <span class=\"k\">}</span><span class=\"k\">);</span>","","        <span class=\"k\">var</span> oldRender <span class=\"k\">=</span> editor<span class=\"k\">.</span>render<span class=\"k\">;</span>","        editor<span class=\"k\">.</span>render <span class=\"k\">=</span> <span class=\"k\">function</span> <span class=\"k\">(</span>holder<span class=\"k\">)</span> <span class=\"k\">{</span>","            utils<span class=\"k\">.</span>domReady<span class=\"k\">(</span><span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","                editor<span class=\"k\">.</span>langIsReady <span class=\"k\">?</span> renderUI<span class=\"k\">()</span> <span class=\"k\">:</span> editor<span class=\"k\">.</span>addListener<span class=\"k\">(</span><span class=\"s\">\"langReady\"</span><span class=\"k\">,</span> renderUI<span class=\"k\">);</span>","                <span class=\"k\">function</span> renderUI<span class=\"k\">()</span> <span class=\"k\">{</span>","                    editor<span class=\"k\">.</span>setOpt<span class=\"k\">(</span><span class=\"k\">{</span>","                        labelMap<span class=\"k\">:</span>editor<span class=\"k\">.</span>options<span class=\"k\">.</span>labelMap <span class=\"k\">||</span> UE<span class=\"k\">.</span>I18N<span class=\"k\">[</span>editor<span class=\"k\">.</span>options<span class=\"k\">.</span>lang<span class=\"k\">].</span>labelMap","                    <span class=\"k\">}</span><span class=\"k\">);</span>","                    <span class=\"k\">new</span> EditorUI<span class=\"k\">(</span>editor<span class=\"k\">.</span>options<span class=\"k\">);</span>","                    <span class=\"k\">if</span> <span class=\"k\">(</span>holder<span class=\"k\">)</span> <span class=\"k\">{</span>","                        <span class=\"k\">if</span> <span class=\"k\">(</span>holder<span class=\"k\">.</span>constructor <span class=\"k\">===</span> String<span class=\"k\">)</span> <span class=\"k\">{</span>","                            holder <span class=\"k\">=</span> document<span class=\"k\">.</span>getElementById<span class=\"k\">(</span>holder<span class=\"k\">);</span>","                        <span class=\"k\">}</span>","                        holder <span class=\"k\">&amp;&amp;</span> holder<span class=\"k\">.</span>getAttribute<span class=\"k\">(</span><span class=\"s\">'name'</span><span class=\"k\">)</span> <span class=\"k\">&amp;&amp;</span> <span class=\"k\">(</span> editor<span class=\"k\">.</span>options<span class=\"k\">.</span>textarea <span class=\"k\">=</span> holder<span class=\"k\">.</span>getAttribute<span class=\"k\">(</span><span class=\"s\">'name'</span><span class=\"k\">));</span>","                        <span class=\"k\">if</span> <span class=\"k\">(</span>holder <span class=\"k\">&amp;&amp;</span> <span class=\"s\">/script|textarea/ig</span><span class=\"k\">.</span>test<span class=\"k\">(</span>holder<span class=\"k\">.</span>tagName<span class=\"k\">))</span> <span class=\"k\">{</span>","                            <span class=\"k\">var</span> newDiv <span class=\"k\">=</span> document<span class=\"k\">.</span>createElement<span class=\"k\">(</span><span class=\"s\">'div'</span><span class=\"k\">);</span>","                            holder<span class=\"k\">.</span>parentNode<span class=\"k\">.</span>insertBefore<span class=\"k\">(</span>newDiv<span class=\"k\">,</span> holder<span class=\"k\">);</span>","                            <span class=\"k\">var</span> cont <span class=\"k\">=</span> holder<span class=\"k\">.</span>value <span class=\"k\">||</span> holder<span class=\"k\">.</span>innerHTML<span class=\"k\">;</span>","                            editor<span class=\"k\">.</span>options<span class=\"k\">.</span>initialContent <span class=\"k\">=</span> <span class=\"s\">/^[\\t\\r\\n ]*$/</span><span class=\"k\">.</span>test<span class=\"k\">(</span>cont<span class=\"k\">)</span> <span class=\"k\">?</span> editor<span class=\"k\">.</span>options<span class=\"k\">.</span>initialContent <span class=\"k\">:</span>","                                cont<span class=\"k\">.</span>replace<span class=\"k\">(</span><span class=\"s\">/&gt;[\\n\\r\\t]+([ ]{4})+/g</span><span class=\"k\">,</span> <span class=\"s\">'&gt;'</span><span class=\"k\">)</span>","                                    <span class=\"k\">.</span>replace<span class=\"k\">(</span><span class=\"s\">/[\\n\\r\\t]+([ ]{4})+&lt;/g</span><span class=\"k\">,</span> <span class=\"s\">'&lt;'</span><span class=\"k\">)</span>","                                    <span class=\"k\">.</span>replace<span class=\"k\">(</span><span class=\"s\">/&gt;[\\n\\r\\t]+&lt;/g</span><span class=\"k\">,</span> <span class=\"s\">'&gt;&lt;'</span><span class=\"k\">);</span>","","                            holder<span class=\"k\">.</span>id <span class=\"k\">&amp;&amp;</span> <span class=\"k\">(</span>newDiv<span class=\"k\">.</span>id <span class=\"k\">=</span> holder<span class=\"k\">.</span>id<span class=\"k\">);</span>","","                            holder<span class=\"k\">.</span>className <span class=\"k\">&amp;&amp;</span> <span class=\"k\">(</span>newDiv<span class=\"k\">.</span>className <span class=\"k\">=</span> holder<span class=\"k\">.</span>className<span class=\"k\">);</span>","                            holder<span class=\"k\">.</span>style<span class=\"k\">.</span>cssText <span class=\"k\">&amp;&amp;</span> <span class=\"k\">(</span>newDiv<span class=\"k\">.</span>style<span class=\"k\">.</span>cssText <span class=\"k\">=</span> holder<span class=\"k\">.</span>style<span class=\"k\">.</span>cssText<span class=\"k\">);</span>","                            <span class=\"k\">if</span> <span class=\"k\">(</span><span class=\"s\">/textarea/i</span><span class=\"k\">.</span>test<span class=\"k\">(</span>holder<span class=\"k\">.</span>tagName<span class=\"k\">))</span> <span class=\"k\">{</span>","                                editor<span class=\"k\">.</span>textarea <span class=\"k\">=</span> holder<span class=\"k\">;</span>","                                editor<span class=\"k\">.</span>textarea<span class=\"k\">.</span>style<span class=\"k\">.</span>display <span class=\"k\">=</span> <span class=\"s\">'none'</span>","                            <span class=\"k\">}</span> <span class=\"k\">else</span> <span class=\"k\">{</span>","                                holder<span class=\"k\">.</span>parentNode<span class=\"k\">.</span>removeChild<span class=\"k\">(</span>holder<span class=\"k\">)</span>","                            <span class=\"k\">}</span>","                            holder <span class=\"k\">=</span> newDiv<span class=\"k\">;</span>","                            holder<span class=\"k\">.</span>innerHTML <span class=\"k\">=</span> <span class=\"s\">''</span><span class=\"k\">;</span>","                        <span class=\"k\">}</span>","","                    <span class=\"k\">}</span>","                    domUtils<span class=\"k\">.</span>addClass<span class=\"k\">(</span>holder<span class=\"k\">,</span> <span class=\"s\">\"edui-\"</span> <span class=\"k\">+</span> editor<span class=\"k\">.</span>options<span class=\"k\">.</span>theme<span class=\"k\">);</span>","                    editor<span class=\"k\">.</span>ui<span class=\"k\">.</span>render<span class=\"k\">(</span>holder<span class=\"k\">);</span>","                    <span class=\"k\">var</span> iframeholder <span class=\"k\">=</span> editor<span class=\"k\">.</span>ui<span class=\"k\">.</span>getDom<span class=\"k\">(</span><span class=\"s\">'iframeholder'</span><span class=\"k\">);</span>","                    <span class=\"c\">//&#32473;&#23454;&#20363;&#28155;&#21152;&#19968;&#20010;&#32534;&#36753;&#22120;&#30340;&#23481;&#22120;&#24341;&#29992;</span>","                    editor<span class=\"k\">.</span>container <span class=\"k\">=</span> editor<span class=\"k\">.</span>ui<span class=\"k\">.</span>getDom<span class=\"k\">();</span>","                    editor<span class=\"k\">.</span>container<span class=\"k\">.</span>style<span class=\"k\">.</span>cssText <span class=\"k\">=</span> <span class=\"s\">\"z-index:\"</span> <span class=\"k\">+</span> editor<span class=\"k\">.</span>options<span class=\"k\">.</span>zIndex <span class=\"k\">+</span> <span class=\"s\">\";width:\"</span> <span class=\"k\">+</span> editor<span class=\"k\">.</span>options<span class=\"k\">.</span>initialFrameWidth <span class=\"k\">+</span> <span class=\"s\">\"px\"</span><span class=\"k\">;</span>","                    oldRender<span class=\"k\">.</span>call<span class=\"k\">(</span>editor<span class=\"k\">,</span> iframeholder<span class=\"k\">);</span>","                <span class=\"k\">}</span>","            <span class=\"k\">}</span><span class=\"k\">)</span>","        <span class=\"k\">}</span><span class=\"k\">;</span>","        <span class=\"k\">return</span> editor<span class=\"k\">;</span>","    <span class=\"k\">}</span><span class=\"k\">;</span>","<span class=\"k\">}</span><span class=\"k\">)();</span>"]);
_$jscoverage['ui/editorui.js'] && (_$jscoverage['ui/editorui.js'].source = ["<span class=\"c\">//ui&#36319;&#32534;&#36753;&#22120;&#30340;&#36866;&#37197;&#23652;</span>","<span class=\"c\">//&#37027;&#20010;&#25353;&#38062;&#24377;&#20986;&#26159;dialog&#65292;&#26159;&#19979;&#25289;&#31568;&#31561;&#37117;&#26159;&#22312;&#36825;&#20010;js&#20013;&#37197;&#32622;</span>","<span class=\"c\">//&#33258;&#24049;&#20889;&#30340;ui&#20063;&#35201;&#22312;&#36825;&#37324;&#37197;&#32622;&#65292;&#25918;&#21040;baidu.editor.ui&#19979;&#36793;&#65292;&#24403;&#32534;&#36753;&#22120;&#23454;&#20363;&#21270;&#30340;&#26102;&#20505;&#20250;&#26681;&#25454;editor_config&#20013;&#30340;toolbars&#25214;&#21040;&#30456;&#24212;&#30340;&#36827;&#34892;&#23454;&#20363;&#21270;</span>","<span class=\"k\">(</span><span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","    <span class=\"k\">var</span> utils <span class=\"k\">=</span> baidu<span class=\"k\">.</span>editor<span class=\"k\">.</span>utils<span class=\"k\">;</span>","    <span class=\"k\">var</span> editorui <span class=\"k\">=</span> baidu<span class=\"k\">.</span>editor<span class=\"k\">.</span>ui<span class=\"k\">;</span>","    <span class=\"k\">var</span> _Dialog <span class=\"k\">=</span> editorui<span class=\"k\">.</span>Dialog<span class=\"k\">;</span>","    editorui<span class=\"k\">.</span>Dialog <span class=\"k\">=</span> <span class=\"k\">function</span> <span class=\"k\">(</span>options<span class=\"k\">)</span> <span class=\"k\">{</span>","        <span class=\"k\">var</span> dialog <span class=\"k\">=</span> <span class=\"k\">new</span> _Dialog<span class=\"k\">(</span>options<span class=\"k\">);</span>","        dialog<span class=\"k\">.</span>addListener<span class=\"k\">(</span><span class=\"s\">'hide'</span><span class=\"k\">,</span> <span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","","            <span class=\"k\">if</span> <span class=\"k\">(</span>dialog<span class=\"k\">.</span>editor<span class=\"k\">)</span> <span class=\"k\">{</span>","                <span class=\"k\">var</span> editor <span class=\"k\">=</span> dialog<span class=\"k\">.</span>editor<span class=\"k\">;</span>","                <span class=\"k\">try</span> <span class=\"k\">{</span>","                    <span class=\"k\">if</span> <span class=\"k\">(</span>browser<span class=\"k\">.</span>gecko<span class=\"k\">)</span> <span class=\"k\">{</span>","                        <span class=\"k\">var</span> y <span class=\"k\">=</span> editor<span class=\"k\">.</span>window<span class=\"k\">.</span>scrollY<span class=\"k\">,</span>","                            x <span class=\"k\">=</span> editor<span class=\"k\">.</span>window<span class=\"k\">.</span>scrollX<span class=\"k\">;</span>","                        editor<span class=\"k\">.</span>body<span class=\"k\">.</span>focus<span class=\"k\">();</span>","                        editor<span class=\"k\">.</span>window<span class=\"k\">.</span>scrollTo<span class=\"k\">(</span>x<span class=\"k\">,</span> y<span class=\"k\">);</span>","                    <span class=\"k\">}</span> <span class=\"k\">else</span> <span class=\"k\">{</span>","                        editor<span class=\"k\">.</span>focus<span class=\"k\">();</span>","                    <span class=\"k\">}</span>","","","                <span class=\"k\">}</span> <span class=\"k\">catch</span> <span class=\"k\">(</span>ex<span class=\"k\">)</span> <span class=\"k\">{</span>","                <span class=\"k\">}</span>","            <span class=\"k\">}</span>","        <span class=\"k\">}</span><span class=\"k\">);</span>","        <span class=\"k\">return</span> dialog<span class=\"k\">;</span>","    <span class=\"k\">}</span><span class=\"k\">;</span>","","    <span class=\"k\">var</span> iframeUrlMap <span class=\"k\">=</span> <span class=\"k\">{</span>","        <span class=\"s\">'anchor'</span><span class=\"k\">:</span><span class=\"s\">'~/dialogs/anchor/anchor.html'</span><span class=\"k\">,</span>","        <span class=\"s\">'insertimage'</span><span class=\"k\">:</span><span class=\"s\">'~/dialogs/image/image.html'</span><span class=\"k\">,</span>","        <span class=\"s\">'inserttable'</span><span class=\"k\">:</span><span class=\"s\">'~/dialogs/table/table.html'</span><span class=\"k\">,</span>","        <span class=\"s\">'link'</span><span class=\"k\">:</span><span class=\"s\">'~/dialogs/link/link.html'</span><span class=\"k\">,</span>","        <span class=\"s\">'spechars'</span><span class=\"k\">:</span><span class=\"s\">'~/dialogs/spechars/spechars.html'</span><span class=\"k\">,</span>","        <span class=\"s\">'searchreplace'</span><span class=\"k\">:</span><span class=\"s\">'~/dialogs/searchreplace/searchreplace.html'</span><span class=\"k\">,</span>","        <span class=\"s\">'map'</span><span class=\"k\">:</span><span class=\"s\">'~/dialogs/map/map.html'</span><span class=\"k\">,</span>","        <span class=\"s\">'gmap'</span><span class=\"k\">:</span><span class=\"s\">'~/dialogs/gmap/gmap.html'</span><span class=\"k\">,</span>","        <span class=\"s\">'insertvideo'</span><span class=\"k\">:</span><span class=\"s\">'~/dialogs/video/video.html'</span><span class=\"k\">,</span>","        <span class=\"s\">'help'</span><span class=\"k\">:</span><span class=\"s\">'~/dialogs/help/help.html'</span><span class=\"k\">,</span>","        <span class=\"s\">'highlightcode'</span><span class=\"k\">:</span><span class=\"s\">'~/dialogs/highlightcode/highlightcode.html'</span><span class=\"k\">,</span>","        <span class=\"s\">'emotion'</span><span class=\"k\">:</span><span class=\"s\">'~/dialogs/emotion/emotion.html'</span><span class=\"k\">,</span>","        <span class=\"s\">'wordimage'</span><span class=\"k\">:</span><span class=\"s\">'~/dialogs/wordimage/wordimage.html'</span><span class=\"k\">,</span>","        <span class=\"s\">'attachment'</span><span class=\"k\">:</span><span class=\"s\">'~/dialogs/attachment/attachment.html'</span><span class=\"k\">,</span>","        <span class=\"s\">'insertframe'</span><span class=\"k\">:</span><span class=\"s\">'~/dialogs/insertframe/insertframe.html'</span><span class=\"k\">,</span>","        <span class=\"s\">'edittd'</span><span class=\"k\">:</span><span class=\"s\">'~/dialogs/table/edittd.html'</span><span class=\"k\">,</span>","        <span class=\"s\">'webapp'</span><span class=\"k\">:</span><span class=\"s\">'~/dialogs/webapp/webapp.html'</span><span class=\"k\">,</span>","        <span class=\"s\">'snapscreen'</span><span class=\"k\">:</span><span class=\"s\">'~/dialogs/snapscreen/snapscreen.html'</span><span class=\"k\">,</span>","        <span class=\"s\">'scrawl'</span><span class=\"k\">:</span><span class=\"s\">'~/dialogs/scrawl/scrawl.html'</span><span class=\"k\">,</span>","        <span class=\"s\">'template'</span><span class=\"k\">:</span><span class=\"s\">'~/dialogs/template/template.html'</span><span class=\"k\">,</span>","        <span class=\"s\">'background'</span><span class=\"k\">:</span><span class=\"s\">'~/dialogs/background/background.html'</span>","    <span class=\"k\">}</span><span class=\"k\">;</span>","    <span class=\"c\">//&#20026;&#24037;&#20855;&#26639;&#28155;&#21152;&#25353;&#38062;&#65292;&#20197;&#19979;&#37117;&#26159;&#32479;&#19968;&#30340;&#25353;&#38062;&#35302;&#21457;&#21629;&#20196;&#65292;&#25152;&#20197;&#20889;&#22312;&#19968;&#36215;</span>","    <span class=\"k\">var</span> btnCmds <span class=\"k\">=</span> <span class=\"k\">[</span><span class=\"s\">'undo'</span><span class=\"k\">,</span> <span class=\"s\">'redo'</span><span class=\"k\">,</span> <span class=\"s\">'formatmatch'</span><span class=\"k\">,</span>","        <span class=\"s\">'bold'</span><span class=\"k\">,</span> <span class=\"s\">'italic'</span><span class=\"k\">,</span> <span class=\"s\">'underline'</span><span class=\"k\">,</span> <span class=\"s\">'touppercase'</span><span class=\"k\">,</span> <span class=\"s\">'tolowercase'</span><span class=\"k\">,</span>","        <span class=\"s\">'strikethrough'</span><span class=\"k\">,</span> <span class=\"s\">'subscript'</span><span class=\"k\">,</span> <span class=\"s\">'superscript'</span><span class=\"k\">,</span> <span class=\"s\">'source'</span><span class=\"k\">,</span> <span class=\"s\">'indent'</span><span class=\"k\">,</span> <span class=\"s\">'outdent'</span><span class=\"k\">,</span>","        <span class=\"s\">'blockquote'</span><span class=\"k\">,</span> <span class=\"s\">'pasteplain'</span><span class=\"k\">,</span> <span class=\"s\">'pagebreak'</span><span class=\"k\">,</span>","        <span class=\"s\">'selectall'</span><span class=\"k\">,</span> <span class=\"s\">'print'</span><span class=\"k\">,</span> <span class=\"s\">'preview'</span><span class=\"k\">,</span> <span class=\"s\">'horizontal'</span><span class=\"k\">,</span> <span class=\"s\">'removeformat'</span><span class=\"k\">,</span> <span class=\"s\">'time'</span><span class=\"k\">,</span> <span class=\"s\">'date'</span><span class=\"k\">,</span> <span class=\"s\">'unlink'</span><span class=\"k\">,</span>","        <span class=\"s\">'insertparagraphbeforetable'</span><span class=\"k\">,</span> <span class=\"s\">'insertrow'</span><span class=\"k\">,</span> <span class=\"s\">'insertcol'</span><span class=\"k\">,</span> <span class=\"s\">'mergeright'</span><span class=\"k\">,</span> <span class=\"s\">'mergedown'</span><span class=\"k\">,</span> <span class=\"s\">'deleterow'</span><span class=\"k\">,</span>","        <span class=\"s\">'deletecol'</span><span class=\"k\">,</span> <span class=\"s\">'splittorows'</span><span class=\"k\">,</span> <span class=\"s\">'splittocols'</span><span class=\"k\">,</span> <span class=\"s\">'splittocells'</span><span class=\"k\">,</span> <span class=\"s\">'mergecells'</span><span class=\"k\">,</span> <span class=\"s\">'deletetable'</span><span class=\"k\">];</span>","","    <span class=\"k\">for</span> <span class=\"k\">(</span><span class=\"k\">var</span> i <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">,</span> ci<span class=\"k\">;</span> ci <span class=\"k\">=</span> btnCmds<span class=\"k\">[</span>i<span class=\"k\">++];)</span> <span class=\"k\">{</span>","        ci <span class=\"k\">=</span> ci<span class=\"k\">.</span>toLowerCase<span class=\"k\">();</span>","        editorui<span class=\"k\">[</span>ci<span class=\"k\">]</span> <span class=\"k\">=</span> <span class=\"k\">function</span> <span class=\"k\">(</span>cmd<span class=\"k\">)</span> <span class=\"k\">{</span>","            <span class=\"k\">return</span> <span class=\"k\">function</span> <span class=\"k\">(</span>editor<span class=\"k\">)</span> <span class=\"k\">{</span>","                <span class=\"k\">var</span> ui <span class=\"k\">=</span> <span class=\"k\">new</span> editorui<span class=\"k\">.</span>Button<span class=\"k\">(</span><span class=\"k\">{</span>","                    className<span class=\"k\">:</span><span class=\"s\">'edui-for-'</span> <span class=\"k\">+</span> cmd<span class=\"k\">,</span>","                    title<span class=\"k\">:</span>editor<span class=\"k\">.</span>options<span class=\"k\">.</span>labelMap<span class=\"k\">[</span>cmd<span class=\"k\">]</span> <span class=\"k\">||</span> editor<span class=\"k\">.</span>getLang<span class=\"k\">(</span><span class=\"s\">\"labelMap.\"</span> <span class=\"k\">+</span> cmd<span class=\"k\">)</span> <span class=\"k\">||</span> <span class=\"s\">''</span><span class=\"k\">,</span>","                    onclick<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","                        editor<span class=\"k\">.</span>execCommand<span class=\"k\">(</span>cmd<span class=\"k\">);</span>","                    <span class=\"k\">}</span><span class=\"k\">,</span>","                    theme<span class=\"k\">:</span>editor<span class=\"k\">.</span>options<span class=\"k\">.</span>theme<span class=\"k\">,</span>","                    showText<span class=\"k\">:</span><span class=\"k\">false</span>","                <span class=\"k\">}</span><span class=\"k\">);</span>","                editor<span class=\"k\">.</span>addListener<span class=\"k\">(</span><span class=\"s\">'selectionchange'</span><span class=\"k\">,</span> <span class=\"k\">function</span> <span class=\"k\">(</span>type<span class=\"k\">,</span> causeByUi<span class=\"k\">,</span> uiReady<span class=\"k\">)</span> <span class=\"k\">{</span>","                    <span class=\"k\">var</span> state <span class=\"k\">=</span> editor<span class=\"k\">.</span>queryCommandState<span class=\"k\">(</span>cmd<span class=\"k\">);</span>","                    <span class=\"k\">if</span> <span class=\"k\">(</span>state <span class=\"k\">==</span> <span class=\"k\">-</span><span class=\"s\">1</span><span class=\"k\">)</span> <span class=\"k\">{</span>","                        ui<span class=\"k\">.</span>setDisabled<span class=\"k\">(</span><span class=\"k\">true</span><span class=\"k\">);</span>","                        ui<span class=\"k\">.</span>setChecked<span class=\"k\">(</span><span class=\"k\">false</span><span class=\"k\">);</span>","                    <span class=\"k\">}</span> <span class=\"k\">else</span> <span class=\"k\">{</span>","                        <span class=\"k\">if</span> <span class=\"k\">(!</span>uiReady<span class=\"k\">)</span> <span class=\"k\">{</span>","                            ui<span class=\"k\">.</span>setDisabled<span class=\"k\">(</span><span class=\"k\">false</span><span class=\"k\">);</span>","                            ui<span class=\"k\">.</span>setChecked<span class=\"k\">(</span>state<span class=\"k\">);</span>","                        <span class=\"k\">}</span>","                    <span class=\"k\">}</span>","                <span class=\"k\">}</span><span class=\"k\">);</span>","                <span class=\"k\">return</span> ui<span class=\"k\">;</span>","            <span class=\"k\">}</span><span class=\"k\">;</span>","        <span class=\"k\">}</span><span class=\"k\">(</span>ci<span class=\"k\">);</span>","    <span class=\"k\">}</span>","","    <span class=\"c\">//&#28165;&#38500;&#25991;&#26723;</span>","    editorui<span class=\"k\">.</span>cleardoc <span class=\"k\">=</span> <span class=\"k\">function</span> <span class=\"k\">(</span>editor<span class=\"k\">)</span> <span class=\"k\">{</span>","        <span class=\"k\">var</span> ui <span class=\"k\">=</span> <span class=\"k\">new</span> editorui<span class=\"k\">.</span>Button<span class=\"k\">(</span><span class=\"k\">{</span>","            className<span class=\"k\">:</span><span class=\"s\">'edui-for-cleardoc'</span><span class=\"k\">,</span>","            title<span class=\"k\">:</span>editor<span class=\"k\">.</span>options<span class=\"k\">.</span>labelMap<span class=\"k\">.</span>cleardoc <span class=\"k\">||</span> editor<span class=\"k\">.</span>getLang<span class=\"k\">(</span><span class=\"s\">\"labelMap.cleardoc\"</span><span class=\"k\">)</span> <span class=\"k\">||</span> <span class=\"s\">''</span><span class=\"k\">,</span>","            theme<span class=\"k\">:</span>editor<span class=\"k\">.</span>options<span class=\"k\">.</span>theme<span class=\"k\">,</span>","            onclick<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","                <span class=\"k\">if</span> <span class=\"k\">(</span>confirm<span class=\"k\">(</span>editor<span class=\"k\">.</span>getLang<span class=\"k\">(</span><span class=\"s\">\"confirmClear\"</span><span class=\"k\">)))</span> <span class=\"k\">{</span>","                    editor<span class=\"k\">.</span>execCommand<span class=\"k\">(</span><span class=\"s\">'cleardoc'</span><span class=\"k\">);</span>","                <span class=\"k\">}</span>","            <span class=\"k\">}</span>","        <span class=\"k\">}</span><span class=\"k\">);</span>","        editor<span class=\"k\">.</span>addListener<span class=\"k\">(</span><span class=\"s\">'selectionchange'</span><span class=\"k\">,</span> <span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","            ui<span class=\"k\">.</span>setDisabled<span class=\"k\">(</span>editor<span class=\"k\">.</span>queryCommandState<span class=\"k\">(</span><span class=\"s\">'cleardoc'</span><span class=\"k\">)</span> <span class=\"k\">==</span> <span class=\"k\">-</span><span class=\"s\">1</span><span class=\"k\">);</span>","        <span class=\"k\">}</span><span class=\"k\">);</span>","        <span class=\"k\">return</span> ui<span class=\"k\">;</span>","    <span class=\"k\">}</span><span class=\"k\">;</span>","","    <span class=\"c\">//&#25490;&#29256;&#65292;&#22270;&#29255;&#25490;&#29256;&#65292;&#25991;&#23383;&#26041;&#21521;</span>","    <span class=\"k\">var</span> typeset <span class=\"k\">=</span> <span class=\"k\">{</span>","        <span class=\"s\">'justify'</span><span class=\"k\">:[</span><span class=\"s\">'left'</span><span class=\"k\">,</span> <span class=\"s\">'right'</span><span class=\"k\">,</span> <span class=\"s\">'center'</span><span class=\"k\">,</span> <span class=\"s\">'justify'</span><span class=\"k\">],</span>","        <span class=\"s\">'imagefloat'</span><span class=\"k\">:[</span><span class=\"s\">'none'</span><span class=\"k\">,</span> <span class=\"s\">'left'</span><span class=\"k\">,</span> <span class=\"s\">'center'</span><span class=\"k\">,</span> <span class=\"s\">'right'</span><span class=\"k\">],</span>","        <span class=\"s\">'directionality'</span><span class=\"k\">:[</span><span class=\"s\">'ltr'</span><span class=\"k\">,</span> <span class=\"s\">'rtl'</span><span class=\"k\">]</span>","    <span class=\"k\">}</span><span class=\"k\">;</span>","","    <span class=\"k\">for</span> <span class=\"k\">(</span><span class=\"k\">var</span> p <span class=\"k\">in</span> typeset<span class=\"k\">)</span> <span class=\"k\">{</span>","","        <span class=\"k\">(</span><span class=\"k\">function</span> <span class=\"k\">(</span>cmd<span class=\"k\">,</span> val<span class=\"k\">)</span> <span class=\"k\">{</span>","            <span class=\"k\">for</span> <span class=\"k\">(</span><span class=\"k\">var</span> i <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">,</span> ci<span class=\"k\">;</span> ci <span class=\"k\">=</span> val<span class=\"k\">[</span>i<span class=\"k\">++];)</span> <span class=\"k\">{</span>","                <span class=\"k\">(</span><span class=\"k\">function</span> <span class=\"k\">(</span>cmd2<span class=\"k\">)</span> <span class=\"k\">{</span>","                    editorui<span class=\"k\">[</span>cmd<span class=\"k\">.</span>replace<span class=\"k\">(</span><span class=\"s\">'float'</span><span class=\"k\">,</span> <span class=\"s\">''</span><span class=\"k\">)</span> <span class=\"k\">+</span> cmd2<span class=\"k\">]</span> <span class=\"k\">=</span> <span class=\"k\">function</span> <span class=\"k\">(</span>editor<span class=\"k\">)</span> <span class=\"k\">{</span>","                        <span class=\"k\">var</span> ui <span class=\"k\">=</span> <span class=\"k\">new</span> editorui<span class=\"k\">.</span>Button<span class=\"k\">(</span><span class=\"k\">{</span>","                            className<span class=\"k\">:</span><span class=\"s\">'edui-for-'</span> <span class=\"k\">+</span> cmd<span class=\"k\">.</span>replace<span class=\"k\">(</span><span class=\"s\">'float'</span><span class=\"k\">,</span> <span class=\"s\">''</span><span class=\"k\">)</span> <span class=\"k\">+</span> cmd2<span class=\"k\">,</span>","                            title<span class=\"k\">:</span>editor<span class=\"k\">.</span>options<span class=\"k\">.</span>labelMap<span class=\"k\">[</span>cmd<span class=\"k\">.</span>replace<span class=\"k\">(</span><span class=\"s\">'float'</span><span class=\"k\">,</span> <span class=\"s\">''</span><span class=\"k\">)</span> <span class=\"k\">+</span> cmd2<span class=\"k\">]</span> <span class=\"k\">||</span> editor<span class=\"k\">.</span>getLang<span class=\"k\">(</span><span class=\"s\">\"labelMap.\"</span> <span class=\"k\">+</span> cmd<span class=\"k\">.</span>replace<span class=\"k\">(</span><span class=\"s\">'float'</span><span class=\"k\">,</span> <span class=\"s\">''</span><span class=\"k\">)</span> <span class=\"k\">+</span> cmd2<span class=\"k\">)</span> <span class=\"k\">||</span> <span class=\"s\">''</span><span class=\"k\">,</span>","                            theme<span class=\"k\">:</span>editor<span class=\"k\">.</span>options<span class=\"k\">.</span>theme<span class=\"k\">,</span>","                            onclick<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","                                editor<span class=\"k\">.</span>execCommand<span class=\"k\">(</span>cmd<span class=\"k\">,</span> cmd2<span class=\"k\">);</span>","                            <span class=\"k\">}</span>","                        <span class=\"k\">}</span><span class=\"k\">);</span>","                        editor<span class=\"k\">.</span>addListener<span class=\"k\">(</span><span class=\"s\">'selectionchange'</span><span class=\"k\">,</span> <span class=\"k\">function</span> <span class=\"k\">(</span>type<span class=\"k\">,</span> causeByUi<span class=\"k\">,</span> uiReady<span class=\"k\">)</span> <span class=\"k\">{</span>","                            ui<span class=\"k\">.</span>setDisabled<span class=\"k\">(</span>editor<span class=\"k\">.</span>queryCommandState<span class=\"k\">(</span>cmd<span class=\"k\">)</span> <span class=\"k\">==</span> <span class=\"k\">-</span><span class=\"s\">1</span><span class=\"k\">);</span>","                            ui<span class=\"k\">.</span>setChecked<span class=\"k\">(</span>editor<span class=\"k\">.</span>queryCommandValue<span class=\"k\">(</span>cmd<span class=\"k\">)</span> <span class=\"k\">==</span> cmd2 <span class=\"k\">&amp;&amp;</span> <span class=\"k\">!</span>uiReady<span class=\"k\">);</span>","                        <span class=\"k\">}</span><span class=\"k\">);</span>","                        <span class=\"k\">return</span> ui<span class=\"k\">;</span>","                    <span class=\"k\">}</span><span class=\"k\">;</span>","                <span class=\"k\">}</span><span class=\"k\">)(</span>ci<span class=\"k\">)</span>","            <span class=\"k\">}</span>","        <span class=\"k\">}</span><span class=\"k\">)(</span>p<span class=\"k\">,</span> typeset<span class=\"k\">[</span>p<span class=\"k\">])</span>","    <span class=\"k\">}</span>","","    <span class=\"c\">//&#23383;&#20307;&#39068;&#33394;&#21644;&#32972;&#26223;&#39068;&#33394;</span>","    <span class=\"k\">for</span> <span class=\"k\">(</span><span class=\"k\">var</span> i <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">,</span> ci<span class=\"k\">;</span> ci <span class=\"k\">=</span> <span class=\"k\">[</span><span class=\"s\">'backcolor'</span><span class=\"k\">,</span> <span class=\"s\">'forecolor'</span><span class=\"k\">][</span>i<span class=\"k\">++];)</span> <span class=\"k\">{</span>","        editorui<span class=\"k\">[</span>ci<span class=\"k\">]</span> <span class=\"k\">=</span> <span class=\"k\">function</span> <span class=\"k\">(</span>cmd<span class=\"k\">)</span> <span class=\"k\">{</span>","            <span class=\"k\">return</span> <span class=\"k\">function</span> <span class=\"k\">(</span>editor<span class=\"k\">)</span> <span class=\"k\">{</span>","                <span class=\"k\">var</span> ui <span class=\"k\">=</span> <span class=\"k\">new</span> editorui<span class=\"k\">.</span>ColorButton<span class=\"k\">(</span><span class=\"k\">{</span>","                    className<span class=\"k\">:</span><span class=\"s\">'edui-for-'</span> <span class=\"k\">+</span> cmd<span class=\"k\">,</span>","                    color<span class=\"k\">:</span><span class=\"s\">'default'</span><span class=\"k\">,</span>","                    title<span class=\"k\">:</span>editor<span class=\"k\">.</span>options<span class=\"k\">.</span>labelMap<span class=\"k\">[</span>cmd<span class=\"k\">]</span> <span class=\"k\">||</span> editor<span class=\"k\">.</span>getLang<span class=\"k\">(</span><span class=\"s\">\"labelMap.\"</span> <span class=\"k\">+</span> cmd<span class=\"k\">)</span> <span class=\"k\">||</span> <span class=\"s\">''</span><span class=\"k\">,</span>","                    editor<span class=\"k\">:</span>editor<span class=\"k\">,</span>","                    onpickcolor<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">(</span>t<span class=\"k\">,</span> color<span class=\"k\">)</span> <span class=\"k\">{</span>","                        editor<span class=\"k\">.</span>execCommand<span class=\"k\">(</span>cmd<span class=\"k\">,</span> color<span class=\"k\">);</span>","                    <span class=\"k\">}</span><span class=\"k\">,</span>","                    onpicknocolor<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","                        editor<span class=\"k\">.</span>execCommand<span class=\"k\">(</span>cmd<span class=\"k\">,</span> <span class=\"s\">'default'</span><span class=\"k\">);</span>","                        <span class=\"k\">this</span><span class=\"k\">.</span>setColor<span class=\"k\">(</span><span class=\"s\">'transparent'</span><span class=\"k\">);</span>","                        <span class=\"k\">this</span><span class=\"k\">.</span>color <span class=\"k\">=</span> <span class=\"s\">'default'</span><span class=\"k\">;</span>","                    <span class=\"k\">}</span><span class=\"k\">,</span>","                    onbuttonclick<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","                        editor<span class=\"k\">.</span>execCommand<span class=\"k\">(</span>cmd<span class=\"k\">,</span> <span class=\"k\">this</span><span class=\"k\">.</span>color<span class=\"k\">);</span>","                    <span class=\"k\">}</span>","                <span class=\"k\">}</span><span class=\"k\">);</span>","                editor<span class=\"k\">.</span>addListener<span class=\"k\">(</span><span class=\"s\">'selectionchange'</span><span class=\"k\">,</span> <span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","                    ui<span class=\"k\">.</span>setDisabled<span class=\"k\">(</span>editor<span class=\"k\">.</span>queryCommandState<span class=\"k\">(</span>cmd<span class=\"k\">)</span> <span class=\"k\">==</span> <span class=\"k\">-</span><span class=\"s\">1</span><span class=\"k\">);</span>","                <span class=\"k\">}</span><span class=\"k\">);</span>","                <span class=\"k\">return</span> ui<span class=\"k\">;</span>","            <span class=\"k\">}</span><span class=\"k\">;</span>","        <span class=\"k\">}</span><span class=\"k\">(</span>ci<span class=\"k\">);</span>","    <span class=\"k\">}</span>","","","    <span class=\"k\">var</span> dialogBtns <span class=\"k\">=</span> <span class=\"k\">{</span>","        noOk<span class=\"k\">:[</span><span class=\"s\">'searchreplace'</span><span class=\"k\">,</span> <span class=\"s\">'help'</span><span class=\"k\">,</span> <span class=\"s\">'spechars'</span><span class=\"k\">,</span> <span class=\"s\">'webapp'</span><span class=\"k\">],</span>","        ok<span class=\"k\">:[</span><span class=\"s\">'attachment'</span><span class=\"k\">,</span> <span class=\"s\">'anchor'</span><span class=\"k\">,</span> <span class=\"s\">'link'</span><span class=\"k\">,</span> <span class=\"s\">'insertimage'</span><span class=\"k\">,</span> <span class=\"s\">'map'</span><span class=\"k\">,</span> <span class=\"s\">'gmap'</span><span class=\"k\">,</span> <span class=\"s\">'insertframe'</span><span class=\"k\">,</span> <span class=\"s\">'wordimage'</span><span class=\"k\">,</span>","            <span class=\"s\">'insertvideo'</span><span class=\"k\">,</span> <span class=\"s\">'highlightcode'</span><span class=\"k\">,</span> <span class=\"s\">'insertframe'</span><span class=\"k\">,</span> <span class=\"s\">'edittd'</span><span class=\"k\">,</span> <span class=\"s\">'scrawl'</span><span class=\"k\">,</span> <span class=\"s\">'template'</span><span class=\"k\">,</span> <span class=\"s\">'background'</span><span class=\"k\">]</span>","","    <span class=\"k\">}</span><span class=\"k\">;</span>","","    <span class=\"k\">for</span> <span class=\"k\">(</span><span class=\"k\">var</span> p <span class=\"k\">in</span> dialogBtns<span class=\"k\">)</span> <span class=\"k\">{</span>","        <span class=\"k\">(</span><span class=\"k\">function</span> <span class=\"k\">(</span>type<span class=\"k\">,</span> vals<span class=\"k\">)</span> <span class=\"k\">{</span>","            <span class=\"k\">for</span> <span class=\"k\">(</span><span class=\"k\">var</span> i <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">,</span> ci<span class=\"k\">;</span> ci <span class=\"k\">=</span> vals<span class=\"k\">[</span>i<span class=\"k\">++];)</span> <span class=\"k\">{</span>","                <span class=\"c\">//todo opera&#19979;&#23384;&#22312;&#38382;&#39064;</span>","                <span class=\"k\">if</span> <span class=\"k\">(</span>browser<span class=\"k\">.</span>opera <span class=\"k\">&amp;&amp;</span> ci <span class=\"k\">===</span> <span class=\"s\">\"searchreplace\"</span><span class=\"k\">)</span> <span class=\"k\">{</span>","                    <span class=\"k\">continue</span><span class=\"k\">;</span>","                <span class=\"k\">}</span>","                <span class=\"k\">(</span><span class=\"k\">function</span> <span class=\"k\">(</span>cmd<span class=\"k\">)</span> <span class=\"k\">{</span>","                    editorui<span class=\"k\">[</span>cmd<span class=\"k\">]</span> <span class=\"k\">=</span> <span class=\"k\">function</span> <span class=\"k\">(</span>editor<span class=\"k\">,</span> iframeUrl<span class=\"k\">,</span> title<span class=\"k\">)</span> <span class=\"k\">{</span>","                        iframeUrl <span class=\"k\">=</span> iframeUrl <span class=\"k\">||</span> <span class=\"k\">(</span>editor<span class=\"k\">.</span>options<span class=\"k\">.</span>iframeUrlMap <span class=\"k\">||</span> <span class=\"k\">{}</span><span class=\"k\">)[</span>cmd<span class=\"k\">]</span> <span class=\"k\">||</span> iframeUrlMap<span class=\"k\">[</span>cmd<span class=\"k\">];</span>","                        title <span class=\"k\">=</span> editor<span class=\"k\">.</span>options<span class=\"k\">.</span>labelMap<span class=\"k\">[</span>cmd<span class=\"k\">]</span> <span class=\"k\">||</span> editor<span class=\"k\">.</span>getLang<span class=\"k\">(</span><span class=\"s\">\"labelMap.\"</span> <span class=\"k\">+</span> cmd<span class=\"k\">)</span> <span class=\"k\">||</span> <span class=\"s\">''</span><span class=\"k\">;</span>","","                        <span class=\"k\">var</span> dialog<span class=\"k\">;</span>","                        <span class=\"c\">//&#27809;&#26377;iframeUrl&#19981;&#21019;&#24314;dialog</span>","                        <span class=\"k\">if</span> <span class=\"k\">(</span>iframeUrl<span class=\"k\">)</span> <span class=\"k\">{</span>","                            dialog <span class=\"k\">=</span> <span class=\"k\">new</span> editorui<span class=\"k\">.</span>Dialog<span class=\"k\">(</span>utils<span class=\"k\">.</span>extend<span class=\"k\">(</span><span class=\"k\">{</span>","                                iframeUrl<span class=\"k\">:</span>editor<span class=\"k\">.</span>ui<span class=\"k\">.</span>mapUrl<span class=\"k\">(</span>iframeUrl<span class=\"k\">),</span>","                                editor<span class=\"k\">:</span>editor<span class=\"k\">,</span>","                                className<span class=\"k\">:</span><span class=\"s\">'edui-for-'</span> <span class=\"k\">+</span> cmd<span class=\"k\">,</span>","                                title<span class=\"k\">:</span>title<span class=\"k\">,</span>","                                closeDialog<span class=\"k\">:</span>editor<span class=\"k\">.</span>getLang<span class=\"k\">(</span><span class=\"s\">\"closeDialog\"</span><span class=\"k\">)</span>","                            <span class=\"k\">}</span><span class=\"k\">,</span> type <span class=\"k\">==</span> <span class=\"s\">'ok'</span> <span class=\"k\">?</span> <span class=\"k\">{</span>","                                buttons<span class=\"k\">:[</span>","                                    <span class=\"k\">{</span>","                                        className<span class=\"k\">:</span><span class=\"s\">'edui-okbutton'</span><span class=\"k\">,</span>","                                        label<span class=\"k\">:</span>editor<span class=\"k\">.</span>getLang<span class=\"k\">(</span><span class=\"s\">\"ok\"</span><span class=\"k\">),</span>","                                        editor<span class=\"k\">:</span>editor<span class=\"k\">,</span>","                                        onclick<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","                                            dialog<span class=\"k\">.</span>close<span class=\"k\">(</span><span class=\"k\">true</span><span class=\"k\">);</span>","                                        <span class=\"k\">}</span>","                                    <span class=\"k\">}</span><span class=\"k\">,</span>","                                    <span class=\"k\">{</span>","                                        className<span class=\"k\">:</span><span class=\"s\">'edui-cancelbutton'</span><span class=\"k\">,</span>","                                        label<span class=\"k\">:</span>editor<span class=\"k\">.</span>getLang<span class=\"k\">(</span><span class=\"s\">\"cancel\"</span><span class=\"k\">),</span>","                                        editor<span class=\"k\">:</span>editor<span class=\"k\">,</span>","                                        onclick<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","                                            dialog<span class=\"k\">.</span>close<span class=\"k\">(</span><span class=\"k\">false</span><span class=\"k\">);</span>","                                        <span class=\"k\">}</span>","                                    <span class=\"k\">}</span>","                                <span class=\"k\">]</span>","                            <span class=\"k\">}</span> <span class=\"k\">:</span> <span class=\"k\">{}</span><span class=\"k\">));</span>","","                            editor<span class=\"k\">.</span>ui<span class=\"k\">.</span>_dialogs<span class=\"k\">[</span>cmd <span class=\"k\">+</span> <span class=\"s\">\"Dialog\"</span><span class=\"k\">]</span> <span class=\"k\">=</span> dialog<span class=\"k\">;</span>","                        <span class=\"k\">}</span>","","                        <span class=\"k\">var</span> ui <span class=\"k\">=</span> <span class=\"k\">new</span> editorui<span class=\"k\">.</span>Button<span class=\"k\">(</span><span class=\"k\">{</span>","                            className<span class=\"k\">:</span><span class=\"s\">'edui-for-'</span> <span class=\"k\">+</span> cmd<span class=\"k\">,</span>","                            title<span class=\"k\">:</span>title<span class=\"k\">,</span>","                            onclick<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","                                <span class=\"k\">if</span> <span class=\"k\">(</span>dialog<span class=\"k\">)</span> <span class=\"k\">{</span>","                                    <span class=\"k\">switch</span> <span class=\"k\">(</span>cmd<span class=\"k\">)</span> <span class=\"k\">{</span>","                                        <span class=\"k\">case</span> <span class=\"s\">\"wordimage\"</span><span class=\"k\">:</span>","                                            editor<span class=\"k\">.</span>execCommand<span class=\"k\">(</span><span class=\"s\">\"wordimage\"</span><span class=\"k\">,</span> <span class=\"s\">\"word_img\"</span><span class=\"k\">);</span>","                                            <span class=\"k\">if</span> <span class=\"k\">(</span>editor<span class=\"k\">.</span>word_img<span class=\"k\">)</span> <span class=\"k\">{</span>","                                                dialog<span class=\"k\">.</span>render<span class=\"k\">();</span>","                                                dialog<span class=\"k\">.</span>open<span class=\"k\">();</span>","                                            <span class=\"k\">}</span>","                                            <span class=\"k\">break</span><span class=\"k\">;</span>","                                        <span class=\"k\">case</span> <span class=\"s\">\"scrawl\"</span><span class=\"k\">:</span>","                                            <span class=\"k\">if</span> <span class=\"k\">(</span>editor<span class=\"k\">.</span>queryCommandState<span class=\"k\">(</span><span class=\"s\">\"scrawl\"</span><span class=\"k\">)</span> <span class=\"k\">!=</span> <span class=\"k\">-</span><span class=\"s\">1</span><span class=\"k\">)</span> <span class=\"k\">{</span>","                                                dialog<span class=\"k\">.</span>render<span class=\"k\">();</span>","                                                dialog<span class=\"k\">.</span>open<span class=\"k\">();</span>","                                            <span class=\"k\">}</span>","","                                            <span class=\"k\">break</span><span class=\"k\">;</span>","                                        <span class=\"k\">default</span><span class=\"k\">:</span>","                                            dialog<span class=\"k\">.</span>render<span class=\"k\">();</span>","                                            dialog<span class=\"k\">.</span>open<span class=\"k\">();</span>","                                    <span class=\"k\">}</span>","                                <span class=\"k\">}</span>","                            <span class=\"k\">}</span><span class=\"k\">,</span>","                            theme<span class=\"k\">:</span>editor<span class=\"k\">.</span>options<span class=\"k\">.</span>theme<span class=\"k\">,</span>","                            disabled<span class=\"k\">:</span>cmd <span class=\"k\">==</span> <span class=\"s\">'scrawl'</span> <span class=\"k\">&amp;&amp;</span> editor<span class=\"k\">.</span>queryCommandState<span class=\"k\">(</span><span class=\"s\">\"scrawl\"</span><span class=\"k\">)</span> <span class=\"k\">==</span> <span class=\"k\">-</span><span class=\"s\">1</span>","                        <span class=\"k\">}</span><span class=\"k\">);</span>","                        editor<span class=\"k\">.</span>addListener<span class=\"k\">(</span><span class=\"s\">'selectionchange'</span><span class=\"k\">,</span> <span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","                            <span class=\"c\">//&#21482;&#23384;&#22312;&#20110;&#21491;&#38190;&#33756;&#21333;&#32780;&#26080;&#24037;&#20855;&#26639;&#25353;&#38062;&#30340;ui&#19981;&#38656;&#35201;&#26816;&#27979;&#29366;&#24577;</span>","                            <span class=\"k\">var</span> unNeedCheckState <span class=\"k\">=</span> <span class=\"k\">{</span><span class=\"s\">'edittd'</span><span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">,</span> <span class=\"s\">'edittable'</span><span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">}</span><span class=\"k\">;</span>","                            <span class=\"k\">if</span> <span class=\"k\">(</span>cmd <span class=\"k\">in</span> unNeedCheckState<span class=\"k\">)</span><span class=\"k\">return</span><span class=\"k\">;</span>","","                            <span class=\"k\">var</span> state <span class=\"k\">=</span> editor<span class=\"k\">.</span>queryCommandState<span class=\"k\">(</span>cmd<span class=\"k\">);</span>","                            <span class=\"k\">if</span> <span class=\"k\">(</span>ui<span class=\"k\">.</span>getDom<span class=\"k\">())</span> <span class=\"k\">{</span>","                                ui<span class=\"k\">.</span>setDisabled<span class=\"k\">(</span>state <span class=\"k\">==</span> <span class=\"k\">-</span><span class=\"s\">1</span><span class=\"k\">);</span>","                                ui<span class=\"k\">.</span>setChecked<span class=\"k\">(</span>state<span class=\"k\">);</span>","                            <span class=\"k\">}</span>","","                        <span class=\"k\">}</span><span class=\"k\">);</span>","","                        <span class=\"k\">return</span> ui<span class=\"k\">;</span>","                    <span class=\"k\">}</span><span class=\"k\">;</span>","                <span class=\"k\">}</span><span class=\"k\">)(</span>ci<span class=\"k\">.</span>toLowerCase<span class=\"k\">())</span>","            <span class=\"k\">}</span>","        <span class=\"k\">}</span><span class=\"k\">)(</span>p<span class=\"k\">,</span> dialogBtns<span class=\"k\">[</span>p<span class=\"k\">])</span>","    <span class=\"k\">}</span>","","    editorui<span class=\"k\">.</span>snapscreen <span class=\"k\">=</span> <span class=\"k\">function</span> <span class=\"k\">(</span>editor<span class=\"k\">,</span> iframeUrl<span class=\"k\">,</span> title<span class=\"k\">)</span> <span class=\"k\">{</span>","        title <span class=\"k\">=</span> editor<span class=\"k\">.</span>options<span class=\"k\">.</span>labelMap<span class=\"k\">[</span><span class=\"s\">'snapscreen'</span><span class=\"k\">]</span> <span class=\"k\">||</span> editor<span class=\"k\">.</span>getLang<span class=\"k\">(</span><span class=\"s\">\"labelMap.snapscreen\"</span><span class=\"k\">)</span> <span class=\"k\">||</span> <span class=\"s\">''</span><span class=\"k\">;</span>","        <span class=\"k\">var</span> ui <span class=\"k\">=</span> <span class=\"k\">new</span> editorui<span class=\"k\">.</span>Button<span class=\"k\">(</span><span class=\"k\">{</span>","            className<span class=\"k\">:</span><span class=\"s\">'edui-for-snapscreen'</span><span class=\"k\">,</span>","            title<span class=\"k\">:</span>title<span class=\"k\">,</span>","            onclick<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","                editor<span class=\"k\">.</span>execCommand<span class=\"k\">(</span><span class=\"s\">\"snapscreen\"</span><span class=\"k\">);</span>","            <span class=\"k\">}</span><span class=\"k\">,</span>","            theme<span class=\"k\">:</span>editor<span class=\"k\">.</span>options<span class=\"k\">.</span>theme<span class=\"k\">,</span>","            disabled<span class=\"k\">:!</span>browser<span class=\"k\">.</span>ie","","        <span class=\"k\">}</span><span class=\"k\">);</span>","","        <span class=\"k\">if</span> <span class=\"k\">(</span>browser<span class=\"k\">.</span>ie<span class=\"k\">)</span> <span class=\"k\">{</span>","            iframeUrl <span class=\"k\">=</span> iframeUrl <span class=\"k\">||</span> <span class=\"k\">(</span>editor<span class=\"k\">.</span>options<span class=\"k\">.</span>iframeUrlMap <span class=\"k\">||</span> <span class=\"k\">{}</span><span class=\"k\">)[</span><span class=\"s\">\"snapscreen\"</span><span class=\"k\">]</span> <span class=\"k\">||</span> iframeUrlMap<span class=\"k\">[</span><span class=\"s\">\"snapscreen\"</span><span class=\"k\">];</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span>iframeUrl<span class=\"k\">)</span> <span class=\"k\">{</span>","                <span class=\"k\">var</span> dialog <span class=\"k\">=</span> <span class=\"k\">new</span> editorui<span class=\"k\">.</span>Dialog<span class=\"k\">(</span><span class=\"k\">{</span>","                    iframeUrl<span class=\"k\">:</span>editor<span class=\"k\">.</span>ui<span class=\"k\">.</span>mapUrl<span class=\"k\">(</span>iframeUrl<span class=\"k\">),</span>","                    editor<span class=\"k\">:</span>editor<span class=\"k\">,</span>","                    className<span class=\"k\">:</span><span class=\"s\">'edui-for-snapscreen'</span><span class=\"k\">,</span>","                    title<span class=\"k\">:</span>title<span class=\"k\">,</span>","                    buttons<span class=\"k\">:[</span>","                        <span class=\"k\">{</span>","                            className<span class=\"k\">:</span><span class=\"s\">'edui-okbutton'</span><span class=\"k\">,</span>","                            label<span class=\"k\">:</span>editor<span class=\"k\">.</span>getLang<span class=\"k\">(</span><span class=\"s\">\"ok\"</span><span class=\"k\">),</span>","                            editor<span class=\"k\">:</span>editor<span class=\"k\">,</span>","                            onclick<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","                                dialog<span class=\"k\">.</span>close<span class=\"k\">(</span><span class=\"k\">true</span><span class=\"k\">);</span>","                            <span class=\"k\">}</span>","                        <span class=\"k\">}</span><span class=\"k\">,</span>","                        <span class=\"k\">{</span>","                            className<span class=\"k\">:</span><span class=\"s\">'edui-cancelbutton'</span><span class=\"k\">,</span>","                            label<span class=\"k\">:</span>editor<span class=\"k\">.</span>getLang<span class=\"k\">(</span><span class=\"s\">\"cancel\"</span><span class=\"k\">),</span>","                            editor<span class=\"k\">:</span>editor<span class=\"k\">,</span>","                            onclick<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","                                dialog<span class=\"k\">.</span>close<span class=\"k\">(</span><span class=\"k\">false</span><span class=\"k\">);</span>","                            <span class=\"k\">}</span>","                        <span class=\"k\">}</span>","                    <span class=\"k\">]</span>","","                <span class=\"k\">}</span><span class=\"k\">);</span>","                dialog<span class=\"k\">.</span>render<span class=\"k\">();</span>","                editor<span class=\"k\">.</span>ui<span class=\"k\">.</span>_dialogs<span class=\"k\">[</span><span class=\"s\">\"snapscreenDialog\"</span><span class=\"k\">]</span> <span class=\"k\">=</span> dialog<span class=\"k\">;</span>","            <span class=\"k\">}</span>","","        <span class=\"k\">}</span>","        editor<span class=\"k\">.</span>addListener<span class=\"k\">(</span><span class=\"s\">'selectionchange'</span><span class=\"k\">,</span> <span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","            ui<span class=\"k\">.</span>setDisabled<span class=\"k\">(</span>editor<span class=\"k\">.</span>queryCommandState<span class=\"k\">(</span><span class=\"s\">'snapscreen'</span><span class=\"k\">)</span> <span class=\"k\">==</span> <span class=\"k\">-</span><span class=\"s\">1</span><span class=\"k\">);</span>","        <span class=\"k\">}</span><span class=\"k\">);</span>","        <span class=\"k\">return</span> ui<span class=\"k\">;</span>","    <span class=\"k\">}</span><span class=\"k\">;</span>","","","    editorui<span class=\"k\">.</span>fontfamily <span class=\"k\">=</span> <span class=\"k\">function</span> <span class=\"k\">(</span>editor<span class=\"k\">,</span> list<span class=\"k\">,</span> title<span class=\"k\">)</span> <span class=\"k\">{</span>","        list <span class=\"k\">=</span> editor<span class=\"k\">.</span>options<span class=\"k\">[</span><span class=\"s\">'fontfamily'</span><span class=\"k\">]</span> <span class=\"k\">||</span> <span class=\"k\">[];</span>","        title <span class=\"k\">=</span> editor<span class=\"k\">.</span>options<span class=\"k\">.</span>labelMap<span class=\"k\">[</span><span class=\"s\">'fontfamily'</span><span class=\"k\">]</span> <span class=\"k\">||</span> editor<span class=\"k\">.</span>getLang<span class=\"k\">(</span><span class=\"s\">\"labelMap.fontfamily\"</span><span class=\"k\">)</span> <span class=\"k\">||</span> <span class=\"s\">''</span><span class=\"k\">;</span>","","        <span class=\"k\">for</span> <span class=\"k\">(</span><span class=\"k\">var</span> i <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">,</span> ci<span class=\"k\">,</span> items <span class=\"k\">=</span> <span class=\"k\">[];</span> ci <span class=\"k\">=</span> list<span class=\"k\">[</span>i<span class=\"k\">];</span> i<span class=\"k\">++)</span> <span class=\"k\">{</span>","            <span class=\"k\">var</span> langLabel <span class=\"k\">=</span> editor<span class=\"k\">.</span>getLang<span class=\"k\">(</span><span class=\"s\">'fontfamily'</span><span class=\"k\">)[</span>ci<span class=\"k\">.</span>name<span class=\"k\">]</span> <span class=\"k\">||</span> <span class=\"s\">\"\"</span><span class=\"k\">;</span>","            <span class=\"k\">(</span><span class=\"k\">function</span> <span class=\"k\">(</span>key<span class=\"k\">,</span> val<span class=\"k\">)</span> <span class=\"k\">{</span>","                items<span class=\"k\">.</span>push<span class=\"k\">(</span><span class=\"k\">{</span>","                    label<span class=\"k\">:</span>key<span class=\"k\">,</span>","                    value<span class=\"k\">:</span>val<span class=\"k\">,</span>","                    theme<span class=\"k\">:</span>editor<span class=\"k\">.</span>options<span class=\"k\">.</span>theme<span class=\"k\">,</span>","                    renderLabelHtml<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","                        <span class=\"k\">return</span> <span class=\"s\">'&lt;div class=\"edui-label %%-label\" style=\"font-family:'</span> <span class=\"k\">+</span>","                            utils<span class=\"k\">.</span>unhtml<span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>value<span class=\"k\">)</span> <span class=\"k\">+</span> <span class=\"s\">'\"&gt;'</span> <span class=\"k\">+</span> <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>label <span class=\"k\">||</span> <span class=\"s\">''</span><span class=\"k\">)</span> <span class=\"k\">+</span> <span class=\"s\">'&lt;/div&gt;'</span><span class=\"k\">;</span>","                    <span class=\"k\">}</span>","                <span class=\"k\">}</span><span class=\"k\">);</span>","            <span class=\"k\">}</span><span class=\"k\">)(</span>ci<span class=\"k\">.</span>label <span class=\"k\">||</span> langLabel<span class=\"k\">,</span> ci<span class=\"k\">.</span>val<span class=\"k\">)</span>","        <span class=\"k\">}</span>","        <span class=\"k\">var</span> ui <span class=\"k\">=</span> <span class=\"k\">new</span> editorui<span class=\"k\">.</span>Combox<span class=\"k\">(</span><span class=\"k\">{</span>","            editor<span class=\"k\">:</span>editor<span class=\"k\">,</span>","            items<span class=\"k\">:</span>items<span class=\"k\">,</span>","            onselect<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">(</span>t<span class=\"k\">,</span> index<span class=\"k\">)</span> <span class=\"k\">{</span>","                editor<span class=\"k\">.</span>execCommand<span class=\"k\">(</span><span class=\"s\">'FontFamily'</span><span class=\"k\">,</span> <span class=\"k\">this</span><span class=\"k\">.</span>items<span class=\"k\">[</span>index<span class=\"k\">].</span>value<span class=\"k\">);</span>","            <span class=\"k\">}</span><span class=\"k\">,</span>","            onbuttonclick<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","                <span class=\"k\">this</span><span class=\"k\">.</span>showPopup<span class=\"k\">();</span>","            <span class=\"k\">}</span><span class=\"k\">,</span>","            title<span class=\"k\">:</span>title<span class=\"k\">,</span>","            initValue<span class=\"k\">:</span>title<span class=\"k\">,</span>","            className<span class=\"k\">:</span><span class=\"s\">'edui-for-fontfamily'</span><span class=\"k\">,</span>","            indexByValue<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">(</span>value<span class=\"k\">)</span> <span class=\"k\">{</span>","                <span class=\"k\">if</span> <span class=\"k\">(</span>value<span class=\"k\">)</span> <span class=\"k\">{</span>","                    <span class=\"k\">for</span> <span class=\"k\">(</span><span class=\"k\">var</span> i <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">,</span> ci<span class=\"k\">;</span> ci <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>items<span class=\"k\">[</span>i<span class=\"k\">];</span> i<span class=\"k\">++)</span> <span class=\"k\">{</span>","                        <span class=\"k\">if</span> <span class=\"k\">(</span>ci<span class=\"k\">.</span>value<span class=\"k\">.</span>indexOf<span class=\"k\">(</span>value<span class=\"k\">)</span> <span class=\"k\">!=</span> <span class=\"k\">-</span><span class=\"s\">1</span><span class=\"k\">)</span>","                            <span class=\"k\">return</span> i<span class=\"k\">;</span>","                    <span class=\"k\">}</span>","                <span class=\"k\">}</span>","","                <span class=\"k\">return</span> <span class=\"k\">-</span><span class=\"s\">1</span><span class=\"k\">;</span>","            <span class=\"k\">}</span>","        <span class=\"k\">}</span><span class=\"k\">);</span>","        editor<span class=\"k\">.</span>addListener<span class=\"k\">(</span><span class=\"s\">'selectionchange'</span><span class=\"k\">,</span> <span class=\"k\">function</span> <span class=\"k\">(</span>type<span class=\"k\">,</span> causeByUi<span class=\"k\">,</span> uiReady<span class=\"k\">)</span> <span class=\"k\">{</span>","            <span class=\"k\">if</span> <span class=\"k\">(!</span>uiReady<span class=\"k\">)</span> <span class=\"k\">{</span>","                <span class=\"k\">var</span> state <span class=\"k\">=</span> editor<span class=\"k\">.</span>queryCommandState<span class=\"k\">(</span><span class=\"s\">'FontFamily'</span><span class=\"k\">);</span>","                <span class=\"k\">if</span> <span class=\"k\">(</span>state <span class=\"k\">==</span> <span class=\"k\">-</span><span class=\"s\">1</span><span class=\"k\">)</span> <span class=\"k\">{</span>","                    ui<span class=\"k\">.</span>setDisabled<span class=\"k\">(</span><span class=\"k\">true</span><span class=\"k\">);</span>","                <span class=\"k\">}</span> <span class=\"k\">else</span> <span class=\"k\">{</span>","                    ui<span class=\"k\">.</span>setDisabled<span class=\"k\">(</span><span class=\"k\">false</span><span class=\"k\">);</span>","                    <span class=\"k\">var</span> value <span class=\"k\">=</span> editor<span class=\"k\">.</span>queryCommandValue<span class=\"k\">(</span><span class=\"s\">'FontFamily'</span><span class=\"k\">);</span>","                    <span class=\"c\">//trace:1871 ie&#19979;&#20174;&#28304;&#30721;&#27169;&#24335;&#20999;&#25442;&#22238;&#26469;&#26102;&#65292;&#23383;&#20307;&#20250;&#24102;&#21333;&#24341;&#21495;&#65292;&#32780;&#19988;&#20250;&#26377;&#36887;&#21495;</span>","                    value <span class=\"k\">&amp;&amp;</span> <span class=\"k\">(</span>value <span class=\"k\">=</span> value<span class=\"k\">.</span>replace<span class=\"k\">(</span><span class=\"s\">/['\"]/g</span><span class=\"k\">,</span> <span class=\"s\">''</span><span class=\"k\">).</span>split<span class=\"k\">(</span><span class=\"s\">','</span><span class=\"k\">)[</span><span class=\"s\">0</span><span class=\"k\">]);</span>","                    ui<span class=\"k\">.</span>setValue<span class=\"k\">(</span>value<span class=\"k\">);</span>","","                <span class=\"k\">}</span>","            <span class=\"k\">}</span>","","        <span class=\"k\">}</span><span class=\"k\">);</span>","        <span class=\"k\">return</span> ui<span class=\"k\">;</span>","    <span class=\"k\">}</span><span class=\"k\">;</span>","","    editorui<span class=\"k\">.</span>fontsize <span class=\"k\">=</span> <span class=\"k\">function</span> <span class=\"k\">(</span>editor<span class=\"k\">,</span> list<span class=\"k\">,</span> title<span class=\"k\">)</span> <span class=\"k\">{</span>","        title <span class=\"k\">=</span> editor<span class=\"k\">.</span>options<span class=\"k\">.</span>labelMap<span class=\"k\">[</span><span class=\"s\">'fontsize'</span><span class=\"k\">]</span> <span class=\"k\">||</span> editor<span class=\"k\">.</span>getLang<span class=\"k\">(</span><span class=\"s\">\"labelMap.fontsize\"</span><span class=\"k\">)</span> <span class=\"k\">||</span> <span class=\"s\">''</span><span class=\"k\">;</span>","        list <span class=\"k\">=</span> list <span class=\"k\">||</span> editor<span class=\"k\">.</span>options<span class=\"k\">[</span><span class=\"s\">'fontsize'</span><span class=\"k\">]</span> <span class=\"k\">||</span> <span class=\"k\">[];</span>","        <span class=\"k\">var</span> items <span class=\"k\">=</span> <span class=\"k\">[];</span>","        <span class=\"k\">for</span> <span class=\"k\">(</span><span class=\"k\">var</span> i <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">;</span> i <span class=\"k\">&lt;</span> list<span class=\"k\">.</span>length<span class=\"k\">;</span> i<span class=\"k\">++)</span> <span class=\"k\">{</span>","            <span class=\"k\">var</span> size <span class=\"k\">=</span> list<span class=\"k\">[</span>i<span class=\"k\">]</span> <span class=\"k\">+</span> <span class=\"s\">'px'</span><span class=\"k\">;</span>","            items<span class=\"k\">.</span>push<span class=\"k\">(</span><span class=\"k\">{</span>","                label<span class=\"k\">:</span>size<span class=\"k\">,</span>","                value<span class=\"k\">:</span>size<span class=\"k\">,</span>","                theme<span class=\"k\">:</span>editor<span class=\"k\">.</span>options<span class=\"k\">.</span>theme<span class=\"k\">,</span>","                renderLabelHtml<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","                    <span class=\"k\">return</span> <span class=\"s\">'&lt;div class=\"edui-label %%-label\" style=\"line-height:1;font-size:'</span> <span class=\"k\">+</span>","                        <span class=\"k\">this</span><span class=\"k\">.</span>value <span class=\"k\">+</span> <span class=\"s\">'\"&gt;'</span> <span class=\"k\">+</span> <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>label <span class=\"k\">||</span> <span class=\"s\">''</span><span class=\"k\">)</span> <span class=\"k\">+</span> <span class=\"s\">'&lt;/div&gt;'</span><span class=\"k\">;</span>","                <span class=\"k\">}</span>","            <span class=\"k\">}</span><span class=\"k\">);</span>","        <span class=\"k\">}</span>","        <span class=\"k\">var</span> ui <span class=\"k\">=</span> <span class=\"k\">new</span> editorui<span class=\"k\">.</span>Combox<span class=\"k\">(</span><span class=\"k\">{</span>","            editor<span class=\"k\">:</span>editor<span class=\"k\">,</span>","            items<span class=\"k\">:</span>items<span class=\"k\">,</span>","            title<span class=\"k\">:</span>title<span class=\"k\">,</span>","            initValue<span class=\"k\">:</span>title<span class=\"k\">,</span>","            onselect<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">(</span>t<span class=\"k\">,</span> index<span class=\"k\">)</span> <span class=\"k\">{</span>","                editor<span class=\"k\">.</span>execCommand<span class=\"k\">(</span><span class=\"s\">'FontSize'</span><span class=\"k\">,</span> <span class=\"k\">this</span><span class=\"k\">.</span>items<span class=\"k\">[</span>index<span class=\"k\">].</span>value<span class=\"k\">);</span>","            <span class=\"k\">}</span><span class=\"k\">,</span>","            onbuttonclick<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","                <span class=\"k\">this</span><span class=\"k\">.</span>showPopup<span class=\"k\">();</span>","            <span class=\"k\">}</span><span class=\"k\">,</span>","            className<span class=\"k\">:</span><span class=\"s\">'edui-for-fontsize'</span>","        <span class=\"k\">}</span><span class=\"k\">);</span>","        editor<span class=\"k\">.</span>addListener<span class=\"k\">(</span><span class=\"s\">'selectionchange'</span><span class=\"k\">,</span> <span class=\"k\">function</span> <span class=\"k\">(</span>type<span class=\"k\">,</span> causeByUi<span class=\"k\">,</span> uiReady<span class=\"k\">)</span> <span class=\"k\">{</span>","            <span class=\"k\">if</span> <span class=\"k\">(!</span>uiReady<span class=\"k\">)</span> <span class=\"k\">{</span>","                <span class=\"k\">var</span> state <span class=\"k\">=</span> editor<span class=\"k\">.</span>queryCommandState<span class=\"k\">(</span><span class=\"s\">'FontSize'</span><span class=\"k\">);</span>","                <span class=\"k\">if</span> <span class=\"k\">(</span>state <span class=\"k\">==</span> <span class=\"k\">-</span><span class=\"s\">1</span><span class=\"k\">)</span> <span class=\"k\">{</span>","                    ui<span class=\"k\">.</span>setDisabled<span class=\"k\">(</span><span class=\"k\">true</span><span class=\"k\">);</span>","                <span class=\"k\">}</span> <span class=\"k\">else</span> <span class=\"k\">{</span>","                    ui<span class=\"k\">.</span>setDisabled<span class=\"k\">(</span><span class=\"k\">false</span><span class=\"k\">);</span>","                    ui<span class=\"k\">.</span>setValue<span class=\"k\">(</span>editor<span class=\"k\">.</span>queryCommandValue<span class=\"k\">(</span><span class=\"s\">'FontSize'</span><span class=\"k\">));</span>","                <span class=\"k\">}</span>","            <span class=\"k\">}</span>","","        <span class=\"k\">}</span><span class=\"k\">);</span>","        <span class=\"k\">return</span> ui<span class=\"k\">;</span>","    <span class=\"k\">}</span><span class=\"k\">;</span>","","    editorui<span class=\"k\">.</span>paragraph <span class=\"k\">=</span> <span class=\"k\">function</span> <span class=\"k\">(</span>editor<span class=\"k\">,</span> list<span class=\"k\">,</span> title<span class=\"k\">)</span> <span class=\"k\">{</span>","        title <span class=\"k\">=</span> editor<span class=\"k\">.</span>options<span class=\"k\">.</span>labelMap<span class=\"k\">[</span><span class=\"s\">'paragraph'</span><span class=\"k\">]</span> <span class=\"k\">||</span> editor<span class=\"k\">.</span>getLang<span class=\"k\">(</span><span class=\"s\">\"labelMap.paragraph\"</span><span class=\"k\">)</span> <span class=\"k\">||</span> <span class=\"s\">''</span><span class=\"k\">;</span>","        list <span class=\"k\">=</span> editor<span class=\"k\">.</span>options<span class=\"k\">[</span><span class=\"s\">'paragraph'</span><span class=\"k\">]</span> <span class=\"k\">||</span> <span class=\"k\">[];</span>","        <span class=\"k\">var</span> items <span class=\"k\">=</span> <span class=\"k\">[];</span>","        <span class=\"k\">for</span> <span class=\"k\">(</span><span class=\"k\">var</span> i <span class=\"k\">in</span> list<span class=\"k\">)</span> <span class=\"k\">{</span>","            items<span class=\"k\">.</span>push<span class=\"k\">(</span><span class=\"k\">{</span>","                value<span class=\"k\">:</span>i<span class=\"k\">,</span>","                label<span class=\"k\">:</span>list<span class=\"k\">[</span>i<span class=\"k\">]</span> <span class=\"k\">||</span> editor<span class=\"k\">.</span>getLang<span class=\"k\">(</span><span class=\"s\">\"paragraph\"</span><span class=\"k\">)[</span>i<span class=\"k\">],</span>","                theme<span class=\"k\">:</span>editor<span class=\"k\">.</span>options<span class=\"k\">.</span>theme<span class=\"k\">,</span>","                renderLabelHtml<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","                    <span class=\"k\">return</span> <span class=\"s\">'&lt;div class=\"edui-label %%-label\"&gt;&lt;span class=\"edui-for-'</span> <span class=\"k\">+</span> <span class=\"k\">this</span><span class=\"k\">.</span>value <span class=\"k\">+</span> <span class=\"s\">'\"&gt;'</span> <span class=\"k\">+</span> <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>label <span class=\"k\">||</span> <span class=\"s\">''</span><span class=\"k\">)</span> <span class=\"k\">+</span> <span class=\"s\">'&lt;/span&gt;&lt;/div&gt;'</span><span class=\"k\">;</span>","                <span class=\"k\">}</span>","            <span class=\"k\">}</span><span class=\"k\">)</span>","        <span class=\"k\">}</span>","        <span class=\"k\">var</span> ui <span class=\"k\">=</span> <span class=\"k\">new</span> editorui<span class=\"k\">.</span>Combox<span class=\"k\">(</span><span class=\"k\">{</span>","            editor<span class=\"k\">:</span>editor<span class=\"k\">,</span>","            items<span class=\"k\">:</span>items<span class=\"k\">,</span>","            title<span class=\"k\">:</span>title<span class=\"k\">,</span>","            initValue<span class=\"k\">:</span>title<span class=\"k\">,</span>","            className<span class=\"k\">:</span><span class=\"s\">'edui-for-paragraph'</span><span class=\"k\">,</span>","            onselect<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">(</span>t<span class=\"k\">,</span> index<span class=\"k\">)</span> <span class=\"k\">{</span>","                editor<span class=\"k\">.</span>execCommand<span class=\"k\">(</span><span class=\"s\">'Paragraph'</span><span class=\"k\">,</span> <span class=\"k\">this</span><span class=\"k\">.</span>items<span class=\"k\">[</span>index<span class=\"k\">].</span>value<span class=\"k\">);</span>","            <span class=\"k\">}</span><span class=\"k\">,</span>","            onbuttonclick<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","                <span class=\"k\">this</span><span class=\"k\">.</span>showPopup<span class=\"k\">();</span>","            <span class=\"k\">}</span>","        <span class=\"k\">}</span><span class=\"k\">);</span>","        editor<span class=\"k\">.</span>addListener<span class=\"k\">(</span><span class=\"s\">'selectionchange'</span><span class=\"k\">,</span> <span class=\"k\">function</span> <span class=\"k\">(</span>type<span class=\"k\">,</span> causeByUi<span class=\"k\">,</span> uiReady<span class=\"k\">)</span> <span class=\"k\">{</span>","            <span class=\"k\">if</span> <span class=\"k\">(!</span>uiReady<span class=\"k\">)</span> <span class=\"k\">{</span>","                <span class=\"k\">var</span> state <span class=\"k\">=</span> editor<span class=\"k\">.</span>queryCommandState<span class=\"k\">(</span><span class=\"s\">'Paragraph'</span><span class=\"k\">);</span>","                <span class=\"k\">if</span> <span class=\"k\">(</span>state <span class=\"k\">==</span> <span class=\"k\">-</span><span class=\"s\">1</span><span class=\"k\">)</span> <span class=\"k\">{</span>","                    ui<span class=\"k\">.</span>setDisabled<span class=\"k\">(</span><span class=\"k\">true</span><span class=\"k\">);</span>","                <span class=\"k\">}</span> <span class=\"k\">else</span> <span class=\"k\">{</span>","                    ui<span class=\"k\">.</span>setDisabled<span class=\"k\">(</span><span class=\"k\">false</span><span class=\"k\">);</span>","                    <span class=\"k\">var</span> value <span class=\"k\">=</span> editor<span class=\"k\">.</span>queryCommandValue<span class=\"k\">(</span><span class=\"s\">'Paragraph'</span><span class=\"k\">);</span>","                    <span class=\"k\">var</span> index <span class=\"k\">=</span> ui<span class=\"k\">.</span>indexByValue<span class=\"k\">(</span>value<span class=\"k\">);</span>","                    <span class=\"k\">if</span> <span class=\"k\">(</span>index <span class=\"k\">!=</span> <span class=\"k\">-</span><span class=\"s\">1</span><span class=\"k\">)</span> <span class=\"k\">{</span>","                        ui<span class=\"k\">.</span>setValue<span class=\"k\">(</span>value<span class=\"k\">);</span>","                    <span class=\"k\">}</span> <span class=\"k\">else</span> <span class=\"k\">{</span>","                        ui<span class=\"k\">.</span>setValue<span class=\"k\">(</span>ui<span class=\"k\">.</span>initValue<span class=\"k\">);</span>","                    <span class=\"k\">}</span>","                <span class=\"k\">}</span>","            <span class=\"k\">}</span>","","        <span class=\"k\">}</span><span class=\"k\">);</span>","        <span class=\"k\">return</span> ui<span class=\"k\">;</span>","    <span class=\"k\">}</span><span class=\"k\">;</span>","","","    <span class=\"c\">//&#33258;&#23450;&#20041;&#26631;&#39064;</span>","    editorui<span class=\"k\">.</span>customstyle <span class=\"k\">=</span> <span class=\"k\">function</span> <span class=\"k\">(</span>editor<span class=\"k\">)</span> <span class=\"k\">{</span>","        <span class=\"k\">var</span> list <span class=\"k\">=</span> editor<span class=\"k\">.</span>options<span class=\"k\">[</span><span class=\"s\">'customstyle'</span><span class=\"k\">]</span> <span class=\"k\">||</span> <span class=\"k\">[],</span>","            title <span class=\"k\">=</span> editor<span class=\"k\">.</span>options<span class=\"k\">.</span>labelMap<span class=\"k\">[</span><span class=\"s\">'customstyle'</span><span class=\"k\">]</span> <span class=\"k\">||</span> editor<span class=\"k\">.</span>getLang<span class=\"k\">(</span><span class=\"s\">\"labelMap.customstyle\"</span><span class=\"k\">)</span> <span class=\"k\">||</span> <span class=\"s\">''</span><span class=\"k\">;</span>","        <span class=\"k\">if</span> <span class=\"k\">(!</span>list<span class=\"k\">)</span><span class=\"k\">return</span><span class=\"k\">;</span>","        <span class=\"k\">var</span> langCs <span class=\"k\">=</span> editor<span class=\"k\">.</span>getLang<span class=\"k\">(</span><span class=\"s\">'customstyle'</span><span class=\"k\">);</span>","        <span class=\"k\">for</span> <span class=\"k\">(</span><span class=\"k\">var</span> i <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">,</span> items <span class=\"k\">=</span> <span class=\"k\">[],</span> t<span class=\"k\">;</span> t <span class=\"k\">=</span> list<span class=\"k\">[</span>i<span class=\"k\">++];)</span> <span class=\"k\">{</span>","            <span class=\"k\">(</span><span class=\"k\">function</span> <span class=\"k\">(</span>t<span class=\"k\">)</span> <span class=\"k\">{</span>","                <span class=\"k\">var</span> ck <span class=\"k\">=</span> <span class=\"k\">{}</span><span class=\"k\">;</span>","                ck<span class=\"k\">.</span>label <span class=\"k\">=</span> t<span class=\"k\">.</span>label <span class=\"k\">?</span> t<span class=\"k\">.</span>label <span class=\"k\">:</span> langCs<span class=\"k\">[</span>t<span class=\"k\">.</span>name<span class=\"k\">];</span>","                ck<span class=\"k\">.</span>style <span class=\"k\">=</span> t<span class=\"k\">.</span>style<span class=\"k\">;</span>","                ck<span class=\"k\">.</span>className <span class=\"k\">=</span> t<span class=\"k\">.</span>className<span class=\"k\">;</span>","                ck<span class=\"k\">.</span>tag <span class=\"k\">=</span> t<span class=\"k\">.</span>tag<span class=\"k\">;</span>","                items<span class=\"k\">.</span>push<span class=\"k\">(</span><span class=\"k\">{</span>","                    label<span class=\"k\">:</span>ck<span class=\"k\">.</span>label<span class=\"k\">,</span>","                    value<span class=\"k\">:</span>ck<span class=\"k\">,</span>","                    theme<span class=\"k\">:</span>editor<span class=\"k\">.</span>options<span class=\"k\">.</span>theme<span class=\"k\">,</span>","                    renderLabelHtml<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","                        <span class=\"k\">return</span> <span class=\"s\">'&lt;div class=\"edui-label %%-label\"&gt;'</span> <span class=\"k\">+</span> <span class=\"s\">'&lt;'</span> <span class=\"k\">+</span> ck<span class=\"k\">.</span>tag <span class=\"k\">+</span> <span class=\"s\">' '</span> <span class=\"k\">+</span> <span class=\"k\">(</span>ck<span class=\"k\">.</span>className <span class=\"k\">?</span> <span class=\"s\">' class=\"'</span> <span class=\"k\">+</span> ck<span class=\"k\">.</span>className <span class=\"k\">+</span> <span class=\"s\">'\"'</span> <span class=\"k\">:</span> <span class=\"s\">\"\"</span><span class=\"k\">)</span>","                            <span class=\"k\">+</span> <span class=\"k\">(</span>ck<span class=\"k\">.</span>style <span class=\"k\">?</span> <span class=\"s\">' style=\"'</span> <span class=\"k\">+</span> ck<span class=\"k\">.</span>style <span class=\"k\">+</span> <span class=\"s\">'\"'</span> <span class=\"k\">:</span> <span class=\"s\">\"\"</span><span class=\"k\">)</span> <span class=\"k\">+</span> <span class=\"s\">'&gt;'</span> <span class=\"k\">+</span> ck<span class=\"k\">.</span>label <span class=\"k\">+</span> <span class=\"s\">\"&lt;</span><span class=\"t\">\\/</span><span class=\"s\">\"</span> <span class=\"k\">+</span> ck<span class=\"k\">.</span>tag <span class=\"k\">+</span> <span class=\"s\">\"&gt;\"</span>","                            <span class=\"k\">+</span> <span class=\"s\">'&lt;/div&gt;'</span><span class=\"k\">;</span>","                    <span class=\"k\">}</span>","                <span class=\"k\">}</span><span class=\"k\">);</span>","            <span class=\"k\">}</span><span class=\"k\">)(</span>t<span class=\"k\">);</span>","        <span class=\"k\">}</span>","","        <span class=\"k\">var</span> ui <span class=\"k\">=</span> <span class=\"k\">new</span> editorui<span class=\"k\">.</span>Combox<span class=\"k\">(</span><span class=\"k\">{</span>","            editor<span class=\"k\">:</span>editor<span class=\"k\">,</span>","            items<span class=\"k\">:</span>items<span class=\"k\">,</span>","            title<span class=\"k\">:</span>title<span class=\"k\">,</span>","            initValue<span class=\"k\">:</span>title<span class=\"k\">,</span>","            className<span class=\"k\">:</span><span class=\"s\">'edui-for-customstyle'</span><span class=\"k\">,</span>","            onselect<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">(</span>t<span class=\"k\">,</span> index<span class=\"k\">)</span> <span class=\"k\">{</span>","                editor<span class=\"k\">.</span>execCommand<span class=\"k\">(</span><span class=\"s\">'customstyle'</span><span class=\"k\">,</span> <span class=\"k\">this</span><span class=\"k\">.</span>items<span class=\"k\">[</span>index<span class=\"k\">].</span>value<span class=\"k\">);</span>","            <span class=\"k\">}</span><span class=\"k\">,</span>","            onbuttonclick<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","                <span class=\"k\">this</span><span class=\"k\">.</span>showPopup<span class=\"k\">();</span>","            <span class=\"k\">}</span><span class=\"k\">,</span>","            indexByValue<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">(</span>value<span class=\"k\">)</span> <span class=\"k\">{</span>","                <span class=\"k\">for</span> <span class=\"k\">(</span><span class=\"k\">var</span> i <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">,</span> ti<span class=\"k\">;</span> ti <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>items<span class=\"k\">[</span>i<span class=\"k\">++];)</span> <span class=\"k\">{</span>","                    <span class=\"k\">if</span> <span class=\"k\">(</span>ti<span class=\"k\">.</span>label <span class=\"k\">==</span> value<span class=\"k\">)</span> <span class=\"k\">{</span>","                        <span class=\"k\">return</span> i <span class=\"k\">-</span> <span class=\"s\">1</span>","                    <span class=\"k\">}</span>","                <span class=\"k\">}</span>","                <span class=\"k\">return</span> <span class=\"k\">-</span><span class=\"s\">1</span><span class=\"k\">;</span>","            <span class=\"k\">}</span>","        <span class=\"k\">}</span><span class=\"k\">);</span>","        editor<span class=\"k\">.</span>addListener<span class=\"k\">(</span><span class=\"s\">'selectionchange'</span><span class=\"k\">,</span> <span class=\"k\">function</span> <span class=\"k\">(</span>type<span class=\"k\">,</span> causeByUi<span class=\"k\">,</span> uiReady<span class=\"k\">)</span> <span class=\"k\">{</span>","            <span class=\"k\">if</span> <span class=\"k\">(!</span>uiReady<span class=\"k\">)</span> <span class=\"k\">{</span>","                <span class=\"k\">var</span> state <span class=\"k\">=</span> editor<span class=\"k\">.</span>queryCommandState<span class=\"k\">(</span><span class=\"s\">'customstyle'</span><span class=\"k\">);</span>","                <span class=\"k\">if</span> <span class=\"k\">(</span>state <span class=\"k\">==</span> <span class=\"k\">-</span><span class=\"s\">1</span><span class=\"k\">)</span> <span class=\"k\">{</span>","                    ui<span class=\"k\">.</span>setDisabled<span class=\"k\">(</span><span class=\"k\">true</span><span class=\"k\">);</span>","                <span class=\"k\">}</span> <span class=\"k\">else</span> <span class=\"k\">{</span>","                    ui<span class=\"k\">.</span>setDisabled<span class=\"k\">(</span><span class=\"k\">false</span><span class=\"k\">);</span>","                    <span class=\"k\">var</span> value <span class=\"k\">=</span> editor<span class=\"k\">.</span>queryCommandValue<span class=\"k\">(</span><span class=\"s\">'customstyle'</span><span class=\"k\">);</span>","                    <span class=\"k\">var</span> index <span class=\"k\">=</span> ui<span class=\"k\">.</span>indexByValue<span class=\"k\">(</span>value<span class=\"k\">);</span>","                    <span class=\"k\">if</span> <span class=\"k\">(</span>index <span class=\"k\">!=</span> <span class=\"k\">-</span><span class=\"s\">1</span><span class=\"k\">)</span> <span class=\"k\">{</span>","                        ui<span class=\"k\">.</span>setValue<span class=\"k\">(</span>value<span class=\"k\">);</span>","                    <span class=\"k\">}</span> <span class=\"k\">else</span> <span class=\"k\">{</span>","                        ui<span class=\"k\">.</span>setValue<span class=\"k\">(</span>ui<span class=\"k\">.</span>initValue<span class=\"k\">);</span>","                    <span class=\"k\">}</span>","                <span class=\"k\">}</span>","            <span class=\"k\">}</span>","","        <span class=\"k\">}</span><span class=\"k\">);</span>","        <span class=\"k\">return</span> ui<span class=\"k\">;</span>","    <span class=\"k\">}</span><span class=\"k\">;</span>","    editorui<span class=\"k\">.</span>inserttable <span class=\"k\">=</span> <span class=\"k\">function</span> <span class=\"k\">(</span>editor<span class=\"k\">,</span> iframeUrl<span class=\"k\">,</span> title<span class=\"k\">)</span> <span class=\"k\">{</span>","        iframeUrl <span class=\"k\">=</span> iframeUrl <span class=\"k\">||</span> <span class=\"k\">(</span>editor<span class=\"k\">.</span>options<span class=\"k\">.</span>iframeUrlMap <span class=\"k\">||</span> <span class=\"k\">{}</span><span class=\"k\">)[</span><span class=\"s\">'inserttable'</span><span class=\"k\">]</span> <span class=\"k\">||</span> iframeUrlMap<span class=\"k\">[</span><span class=\"s\">'inserttable'</span><span class=\"k\">];</span>","        title <span class=\"k\">=</span> editor<span class=\"k\">.</span>options<span class=\"k\">.</span>labelMap<span class=\"k\">[</span><span class=\"s\">'inserttable'</span><span class=\"k\">]</span> <span class=\"k\">||</span> editor<span class=\"k\">.</span>getLang<span class=\"k\">(</span><span class=\"s\">\"labelMap.inserttable\"</span><span class=\"k\">)</span> <span class=\"k\">||</span> <span class=\"s\">''</span><span class=\"k\">;</span>","        <span class=\"k\">if</span> <span class=\"k\">(</span>iframeUrl<span class=\"k\">)</span> <span class=\"k\">{</span>","            <span class=\"k\">var</span> dialog <span class=\"k\">=</span> <span class=\"k\">new</span> editorui<span class=\"k\">.</span>Dialog<span class=\"k\">(</span><span class=\"k\">{</span>","                iframeUrl<span class=\"k\">:</span>editor<span class=\"k\">.</span>ui<span class=\"k\">.</span>mapUrl<span class=\"k\">(</span>iframeUrl<span class=\"k\">),</span>","                editor<span class=\"k\">:</span>editor<span class=\"k\">,</span>","                className<span class=\"k\">:</span><span class=\"s\">'edui-for-inserttable'</span><span class=\"k\">,</span>","                title<span class=\"k\">:</span>title<span class=\"k\">,</span>","                buttons<span class=\"k\">:[</span>","                    <span class=\"k\">{</span>","                        className<span class=\"k\">:</span><span class=\"s\">'edui-okbutton'</span><span class=\"k\">,</span>","                        label<span class=\"k\">:</span>editor<span class=\"k\">.</span>getLang<span class=\"k\">(</span><span class=\"s\">\"ok\"</span><span class=\"k\">),</span>","                        editor<span class=\"k\">:</span>editor<span class=\"k\">,</span>","                        onclick<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","                            dialog<span class=\"k\">.</span>close<span class=\"k\">(</span><span class=\"k\">true</span><span class=\"k\">);</span>","                        <span class=\"k\">}</span>","                    <span class=\"k\">}</span><span class=\"k\">,</span>","                    <span class=\"k\">{</span>","                        className<span class=\"k\">:</span><span class=\"s\">'edui-cancelbutton'</span><span class=\"k\">,</span>","                        label<span class=\"k\">:</span>editor<span class=\"k\">.</span>getLang<span class=\"k\">(</span><span class=\"s\">\"cancel\"</span><span class=\"k\">),</span>","                        editor<span class=\"k\">:</span>editor<span class=\"k\">,</span>","                        onclick<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","                            dialog<span class=\"k\">.</span>close<span class=\"k\">(</span><span class=\"k\">false</span><span class=\"k\">);</span>","                        <span class=\"k\">}</span>","                    <span class=\"k\">}</span>","                <span class=\"k\">]</span>","","            <span class=\"k\">}</span><span class=\"k\">);</span>","            dialog<span class=\"k\">.</span>render<span class=\"k\">();</span>","            editor<span class=\"k\">.</span>ui<span class=\"k\">.</span>_dialogs<span class=\"k\">[</span><span class=\"s\">'inserttableDialog'</span><span class=\"k\">]</span> <span class=\"k\">=</span> dialog<span class=\"k\">;</span>","        <span class=\"k\">}</span>","        <span class=\"k\">var</span> openDialog <span class=\"k\">=</span> <span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span>dialog<span class=\"k\">)</span> <span class=\"k\">{</span>","                <span class=\"c\">//&#25171;&#24320;&#21518;&#20877;&#20851;&#38381;&#20877;&#25171;&#24320;&#26159;&#20026;&#20102;&#35299;&#20915;fieldset&#25991;&#23383;&#38169;&#20301;&#38382;&#39064;</span>","                <span class=\"k\">if</span> <span class=\"k\">(</span>browser<span class=\"k\">.</span>webkit<span class=\"k\">)</span> <span class=\"k\">{</span>","                    dialog<span class=\"k\">.</span>open<span class=\"k\">();</span>","                    dialog<span class=\"k\">.</span>close<span class=\"k\">();</span>","                <span class=\"k\">}</span>","                dialog<span class=\"k\">.</span>open<span class=\"k\">();</span>","            <span class=\"k\">}</span>","        <span class=\"k\">}</span><span class=\"k\">;</span>","        <span class=\"k\">var</span> ui <span class=\"k\">=</span> <span class=\"k\">new</span> editorui<span class=\"k\">.</span>TableButton<span class=\"k\">(</span><span class=\"k\">{</span>","            editor<span class=\"k\">:</span>editor<span class=\"k\">,</span>","            title<span class=\"k\">:</span>title<span class=\"k\">,</span>","            className<span class=\"k\">:</span><span class=\"s\">'edui-for-inserttable'</span><span class=\"k\">,</span>","            onpicktable<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">(</span>t<span class=\"k\">,</span> numCols<span class=\"k\">,</span> numRows<span class=\"k\">)</span> <span class=\"k\">{</span>","                editor<span class=\"k\">.</span>execCommand<span class=\"k\">(</span><span class=\"s\">'InsertTable'</span><span class=\"k\">,</span> <span class=\"k\">{</span>numRows<span class=\"k\">:</span>numRows<span class=\"k\">,</span> numCols<span class=\"k\">:</span>numCols<span class=\"k\">,</span> border<span class=\"k\">:</span><span class=\"s\">1</span><span class=\"k\">}</span><span class=\"k\">);</span>","            <span class=\"k\">}</span><span class=\"k\">,</span>","            onmore<span class=\"k\">:</span>openDialog<span class=\"k\">,</span>","            onbuttonclick<span class=\"k\">:</span>openDialog","        <span class=\"k\">}</span><span class=\"k\">);</span>","        editor<span class=\"k\">.</span>addListener<span class=\"k\">(</span><span class=\"s\">'selectionchange'</span><span class=\"k\">,</span> <span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","            ui<span class=\"k\">.</span>setDisabled<span class=\"k\">(</span>editor<span class=\"k\">.</span>queryCommandState<span class=\"k\">(</span><span class=\"s\">'inserttable'</span><span class=\"k\">)</span> <span class=\"k\">==</span> <span class=\"k\">-</span><span class=\"s\">1</span><span class=\"k\">);</span>","        <span class=\"k\">}</span><span class=\"k\">);</span>","        <span class=\"k\">return</span> ui<span class=\"k\">;</span>","    <span class=\"k\">}</span><span class=\"k\">;</span>","","    editorui<span class=\"k\">.</span>lineheight <span class=\"k\">=</span> <span class=\"k\">function</span> <span class=\"k\">(</span>editor<span class=\"k\">)</span> <span class=\"k\">{</span>","        <span class=\"k\">var</span> val <span class=\"k\">=</span> editor<span class=\"k\">.</span>options<span class=\"k\">.</span>lineheight<span class=\"k\">;</span>","        <span class=\"k\">for</span> <span class=\"k\">(</span><span class=\"k\">var</span> i <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">,</span> ci<span class=\"k\">,</span> items <span class=\"k\">=</span> <span class=\"k\">[];</span> ci <span class=\"k\">=</span> val<span class=\"k\">[</span>i<span class=\"k\">++];)</span> <span class=\"k\">{</span>","            items<span class=\"k\">.</span>push<span class=\"k\">(</span><span class=\"k\">{</span>","                <span class=\"c\">//todo:&#20889;&#27515;&#20102;</span>","                label<span class=\"k\">:</span>ci<span class=\"k\">,</span>","                value<span class=\"k\">:</span>ci<span class=\"k\">,</span>","                theme<span class=\"k\">:</span>editor<span class=\"k\">.</span>options<span class=\"k\">.</span>theme<span class=\"k\">,</span>","                onclick<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","                    editor<span class=\"k\">.</span>execCommand<span class=\"k\">(</span><span class=\"s\">\"lineheight\"</span><span class=\"k\">,</span> <span class=\"k\">this</span><span class=\"k\">.</span>value<span class=\"k\">);</span>","                <span class=\"k\">}</span>","            <span class=\"k\">}</span><span class=\"k\">)</span>","        <span class=\"k\">}</span>","        <span class=\"k\">var</span> ui <span class=\"k\">=</span> <span class=\"k\">new</span> editorui<span class=\"k\">.</span>MenuButton<span class=\"k\">(</span><span class=\"k\">{</span>","            editor<span class=\"k\">:</span>editor<span class=\"k\">,</span>","            className<span class=\"k\">:</span><span class=\"s\">'edui-for-lineheight'</span><span class=\"k\">,</span>","            title<span class=\"k\">:</span>editor<span class=\"k\">.</span>options<span class=\"k\">.</span>labelMap<span class=\"k\">[</span><span class=\"s\">'lineheight'</span><span class=\"k\">]</span> <span class=\"k\">||</span> editor<span class=\"k\">.</span>getLang<span class=\"k\">(</span><span class=\"s\">\"labelMap.lineheight\"</span><span class=\"k\">)</span> <span class=\"k\">||</span> <span class=\"s\">''</span><span class=\"k\">,</span>","            items<span class=\"k\">:</span>items<span class=\"k\">,</span>","            onbuttonclick<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","                <span class=\"k\">var</span> value <span class=\"k\">=</span> editor<span class=\"k\">.</span>queryCommandValue<span class=\"k\">(</span><span class=\"s\">'LineHeight'</span><span class=\"k\">)</span> <span class=\"k\">||</span> <span class=\"k\">this</span><span class=\"k\">.</span>value<span class=\"k\">;</span>","                editor<span class=\"k\">.</span>execCommand<span class=\"k\">(</span><span class=\"s\">\"LineHeight\"</span><span class=\"k\">,</span> value<span class=\"k\">);</span>","            <span class=\"k\">}</span>","        <span class=\"k\">}</span><span class=\"k\">);</span>","        editor<span class=\"k\">.</span>addListener<span class=\"k\">(</span><span class=\"s\">'selectionchange'</span><span class=\"k\">,</span> <span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","            <span class=\"k\">var</span> state <span class=\"k\">=</span> editor<span class=\"k\">.</span>queryCommandState<span class=\"k\">(</span><span class=\"s\">'LineHeight'</span><span class=\"k\">);</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span>state <span class=\"k\">==</span> <span class=\"k\">-</span><span class=\"s\">1</span><span class=\"k\">)</span> <span class=\"k\">{</span>","                ui<span class=\"k\">.</span>setDisabled<span class=\"k\">(</span><span class=\"k\">true</span><span class=\"k\">);</span>","            <span class=\"k\">}</span> <span class=\"k\">else</span> <span class=\"k\">{</span>","                ui<span class=\"k\">.</span>setDisabled<span class=\"k\">(</span><span class=\"k\">false</span><span class=\"k\">);</span>","                <span class=\"k\">var</span> value <span class=\"k\">=</span> editor<span class=\"k\">.</span>queryCommandValue<span class=\"k\">(</span><span class=\"s\">'LineHeight'</span><span class=\"k\">);</span>","                value <span class=\"k\">&amp;&amp;</span> ui<span class=\"k\">.</span>setValue<span class=\"k\">((</span>value <span class=\"k\">+</span> <span class=\"s\">''</span><span class=\"k\">).</span>replace<span class=\"k\">(</span><span class=\"s\">/cm/</span><span class=\"k\">,</span> <span class=\"s\">''</span><span class=\"k\">));</span>","                ui<span class=\"k\">.</span>setChecked<span class=\"k\">(</span>state<span class=\"k\">)</span>","            <span class=\"k\">}</span>","        <span class=\"k\">}</span><span class=\"k\">);</span>","        <span class=\"k\">return</span> ui<span class=\"k\">;</span>","    <span class=\"k\">}</span><span class=\"k\">;</span>","","    <span class=\"k\">var</span> rowspacings <span class=\"k\">=</span> <span class=\"k\">[</span><span class=\"s\">'top'</span><span class=\"k\">,</span> <span class=\"s\">'bottom'</span><span class=\"k\">];</span>","    <span class=\"k\">for</span> <span class=\"k\">(</span><span class=\"k\">var</span> r <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">,</span> ri<span class=\"k\">;</span> ri <span class=\"k\">=</span> rowspacings<span class=\"k\">[</span>r<span class=\"k\">++];)</span> <span class=\"k\">{</span>","        <span class=\"k\">(</span><span class=\"k\">function</span> <span class=\"k\">(</span>cmd<span class=\"k\">)</span> <span class=\"k\">{</span>","            editorui<span class=\"k\">[</span><span class=\"s\">'rowspacing'</span> <span class=\"k\">+</span> cmd<span class=\"k\">]</span> <span class=\"k\">=</span> <span class=\"k\">function</span> <span class=\"k\">(</span>editor<span class=\"k\">)</span> <span class=\"k\">{</span>","                <span class=\"k\">var</span> val <span class=\"k\">=</span> editor<span class=\"k\">.</span>options<span class=\"k\">[</span><span class=\"s\">'rowspacing'</span> <span class=\"k\">+</span> cmd<span class=\"k\">];</span>","","                <span class=\"k\">for</span> <span class=\"k\">(</span><span class=\"k\">var</span> i <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">,</span> ci<span class=\"k\">,</span> items <span class=\"k\">=</span> <span class=\"k\">[];</span> ci <span class=\"k\">=</span> val<span class=\"k\">[</span>i<span class=\"k\">++];)</span> <span class=\"k\">{</span>","                    items<span class=\"k\">.</span>push<span class=\"k\">(</span><span class=\"k\">{</span>","                        label<span class=\"k\">:</span>ci<span class=\"k\">,</span>","                        value<span class=\"k\">:</span>ci<span class=\"k\">,</span>","                        theme<span class=\"k\">:</span>editor<span class=\"k\">.</span>options<span class=\"k\">.</span>theme<span class=\"k\">,</span>","                        onclick<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","                            editor<span class=\"k\">.</span>execCommand<span class=\"k\">(</span><span class=\"s\">\"rowspacing\"</span><span class=\"k\">,</span> <span class=\"k\">this</span><span class=\"k\">.</span>value<span class=\"k\">,</span> cmd<span class=\"k\">);</span>","                        <span class=\"k\">}</span>","                    <span class=\"k\">}</span><span class=\"k\">)</span>","                <span class=\"k\">}</span>","                <span class=\"k\">var</span> ui <span class=\"k\">=</span> <span class=\"k\">new</span> editorui<span class=\"k\">.</span>MenuButton<span class=\"k\">(</span><span class=\"k\">{</span>","                    editor<span class=\"k\">:</span>editor<span class=\"k\">,</span>","                    className<span class=\"k\">:</span><span class=\"s\">'edui-for-rowspacing'</span> <span class=\"k\">+</span> cmd<span class=\"k\">,</span>","                    title<span class=\"k\">:</span>editor<span class=\"k\">.</span>options<span class=\"k\">.</span>labelMap<span class=\"k\">[</span><span class=\"s\">'rowspacing'</span> <span class=\"k\">+</span> cmd<span class=\"k\">]</span> <span class=\"k\">||</span> editor<span class=\"k\">.</span>getLang<span class=\"k\">(</span><span class=\"s\">\"labelMap.rowspacing\"</span> <span class=\"k\">+</span> cmd<span class=\"k\">)</span> <span class=\"k\">||</span> <span class=\"s\">''</span><span class=\"k\">,</span>","                    items<span class=\"k\">:</span>items<span class=\"k\">,</span>","                    onbuttonclick<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","                        <span class=\"k\">var</span> value <span class=\"k\">=</span> editor<span class=\"k\">.</span>queryCommandValue<span class=\"k\">(</span><span class=\"s\">'rowspacing'</span><span class=\"k\">,</span> cmd<span class=\"k\">)</span> <span class=\"k\">||</span> <span class=\"k\">this</span><span class=\"k\">.</span>value<span class=\"k\">;</span>","                        editor<span class=\"k\">.</span>execCommand<span class=\"k\">(</span><span class=\"s\">\"rowspacing\"</span><span class=\"k\">,</span> value<span class=\"k\">,</span> cmd<span class=\"k\">);</span>","                    <span class=\"k\">}</span>","                <span class=\"k\">}</span><span class=\"k\">);</span>","                editor<span class=\"k\">.</span>addListener<span class=\"k\">(</span><span class=\"s\">'selectionchange'</span><span class=\"k\">,</span> <span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","                    <span class=\"k\">var</span> state <span class=\"k\">=</span> editor<span class=\"k\">.</span>queryCommandState<span class=\"k\">(</span><span class=\"s\">'rowspacing'</span><span class=\"k\">,</span> cmd<span class=\"k\">);</span>","                    <span class=\"k\">if</span> <span class=\"k\">(</span>state <span class=\"k\">==</span> <span class=\"k\">-</span><span class=\"s\">1</span><span class=\"k\">)</span> <span class=\"k\">{</span>","                        ui<span class=\"k\">.</span>setDisabled<span class=\"k\">(</span><span class=\"k\">true</span><span class=\"k\">);</span>","                    <span class=\"k\">}</span> <span class=\"k\">else</span> <span class=\"k\">{</span>","                        ui<span class=\"k\">.</span>setDisabled<span class=\"k\">(</span><span class=\"k\">false</span><span class=\"k\">);</span>","                        <span class=\"k\">var</span> value <span class=\"k\">=</span> editor<span class=\"k\">.</span>queryCommandValue<span class=\"k\">(</span><span class=\"s\">'rowspacing'</span><span class=\"k\">,</span> cmd<span class=\"k\">);</span>","                        value <span class=\"k\">&amp;&amp;</span> ui<span class=\"k\">.</span>setValue<span class=\"k\">((</span>value <span class=\"k\">+</span> <span class=\"s\">''</span><span class=\"k\">).</span>replace<span class=\"k\">(</span><span class=\"s\">/%/</span><span class=\"k\">,</span> <span class=\"s\">''</span><span class=\"k\">));</span>","                        ui<span class=\"k\">.</span>setChecked<span class=\"k\">(</span>state<span class=\"k\">)</span>","                    <span class=\"k\">}</span>","                <span class=\"k\">}</span><span class=\"k\">);</span>","                <span class=\"k\">return</span> ui<span class=\"k\">;</span>","            <span class=\"k\">}</span>","        <span class=\"k\">}</span><span class=\"k\">)(</span>ri<span class=\"k\">)</span>","    <span class=\"k\">}</span>","    <span class=\"c\">//&#26377;&#24207;&#65292;&#26080;&#24207;&#21015;&#34920;</span>","    <span class=\"k\">var</span> lists <span class=\"k\">=</span> <span class=\"k\">[</span><span class=\"s\">'insertorderedlist'</span><span class=\"k\">,</span> <span class=\"s\">'insertunorderedlist'</span><span class=\"k\">];</span>","    <span class=\"k\">for</span> <span class=\"k\">(</span><span class=\"k\">var</span> l <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">,</span> cl<span class=\"k\">;</span> cl <span class=\"k\">=</span> lists<span class=\"k\">[</span>l<span class=\"k\">++];)</span> <span class=\"k\">{</span>","        <span class=\"k\">(</span><span class=\"k\">function</span> <span class=\"k\">(</span>cmd<span class=\"k\">)</span> <span class=\"k\">{</span>","            editorui<span class=\"k\">[</span>cmd<span class=\"k\">]</span> <span class=\"k\">=</span> <span class=\"k\">function</span> <span class=\"k\">(</span>editor<span class=\"k\">)</span> <span class=\"k\">{</span>","                <span class=\"k\">var</span> vals <span class=\"k\">=</span> editor<span class=\"k\">.</span>options<span class=\"k\">[</span>cmd<span class=\"k\">],</span>","                    _onMenuClick <span class=\"k\">=</span> <span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","                        editor<span class=\"k\">.</span>execCommand<span class=\"k\">(</span>cmd<span class=\"k\">,</span> <span class=\"k\">this</span><span class=\"k\">.</span>value<span class=\"k\">);</span>","                    <span class=\"k\">}</span><span class=\"k\">,</span> items <span class=\"k\">=</span> <span class=\"k\">[];</span>","                <span class=\"k\">for</span> <span class=\"k\">(</span><span class=\"k\">var</span> i <span class=\"k\">in</span> vals<span class=\"k\">)</span> <span class=\"k\">{</span>","                    items<span class=\"k\">.</span>push<span class=\"k\">(</span><span class=\"k\">{</span>","                        label<span class=\"k\">:</span>vals<span class=\"k\">[</span>i<span class=\"k\">]</span> <span class=\"k\">||</span> editor<span class=\"k\">.</span>getLang<span class=\"k\">()[</span>cmd<span class=\"k\">][</span>i<span class=\"k\">]</span> <span class=\"k\">||</span> <span class=\"s\">\"\"</span><span class=\"k\">,</span>","                        value<span class=\"k\">:</span>i<span class=\"k\">,</span>","                        theme<span class=\"k\">:</span>editor<span class=\"k\">.</span>options<span class=\"k\">.</span>theme<span class=\"k\">,</span>","                        onclick<span class=\"k\">:</span>_onMenuClick","                    <span class=\"k\">}</span><span class=\"k\">)</span>","                <span class=\"k\">}</span>","                <span class=\"k\">var</span> ui <span class=\"k\">=</span> <span class=\"k\">new</span> editorui<span class=\"k\">.</span>MenuButton<span class=\"k\">(</span><span class=\"k\">{</span>","                    editor<span class=\"k\">:</span>editor<span class=\"k\">,</span>","                    className<span class=\"k\">:</span><span class=\"s\">'edui-for-'</span> <span class=\"k\">+</span> cmd<span class=\"k\">,</span>","                    title<span class=\"k\">:</span>editor<span class=\"k\">.</span>getLang<span class=\"k\">(</span><span class=\"s\">\"labelMap.\"</span> <span class=\"k\">+</span> cmd<span class=\"k\">)</span> <span class=\"k\">||</span> <span class=\"s\">''</span><span class=\"k\">,</span>","                    <span class=\"s\">'items'</span><span class=\"k\">:</span>items<span class=\"k\">,</span>","                    onbuttonclick<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","                        <span class=\"k\">var</span> value <span class=\"k\">=</span> editor<span class=\"k\">.</span>queryCommandValue<span class=\"k\">(</span>cmd<span class=\"k\">)</span> <span class=\"k\">||</span> <span class=\"k\">this</span><span class=\"k\">.</span>value<span class=\"k\">;</span>","                        editor<span class=\"k\">.</span>execCommand<span class=\"k\">(</span>cmd<span class=\"k\">,</span> value<span class=\"k\">);</span>","                    <span class=\"k\">}</span>","                <span class=\"k\">}</span><span class=\"k\">);</span>","                editor<span class=\"k\">.</span>addListener<span class=\"k\">(</span><span class=\"s\">'selectionchange'</span><span class=\"k\">,</span> <span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","                    <span class=\"k\">var</span> state <span class=\"k\">=</span> editor<span class=\"k\">.</span>queryCommandState<span class=\"k\">(</span>cmd<span class=\"k\">);</span>","                    <span class=\"k\">if</span> <span class=\"k\">(</span>state <span class=\"k\">==</span> <span class=\"k\">-</span><span class=\"s\">1</span><span class=\"k\">)</span> <span class=\"k\">{</span>","                        ui<span class=\"k\">.</span>setDisabled<span class=\"k\">(</span><span class=\"k\">true</span><span class=\"k\">);</span>","                    <span class=\"k\">}</span> <span class=\"k\">else</span> <span class=\"k\">{</span>","                        ui<span class=\"k\">.</span>setDisabled<span class=\"k\">(</span><span class=\"k\">false</span><span class=\"k\">);</span>","                        <span class=\"k\">var</span> value <span class=\"k\">=</span> editor<span class=\"k\">.</span>queryCommandValue<span class=\"k\">(</span>cmd<span class=\"k\">);</span>","                        ui<span class=\"k\">.</span>setValue<span class=\"k\">(</span>value<span class=\"k\">);</span>","                        ui<span class=\"k\">.</span>setChecked<span class=\"k\">(</span>state<span class=\"k\">)</span>","                    <span class=\"k\">}</span>","                <span class=\"k\">}</span><span class=\"k\">);</span>","                <span class=\"k\">return</span> ui<span class=\"k\">;</span>","            <span class=\"k\">}</span><span class=\"k\">;</span>","        <span class=\"k\">}</span><span class=\"k\">)(</span>cl<span class=\"k\">)</span>","    <span class=\"k\">}</span>","","    editorui<span class=\"k\">.</span>fullscreen <span class=\"k\">=</span> <span class=\"k\">function</span> <span class=\"k\">(</span>editor<span class=\"k\">,</span> title<span class=\"k\">)</span> <span class=\"k\">{</span>","        title <span class=\"k\">=</span> editor<span class=\"k\">.</span>options<span class=\"k\">.</span>labelMap<span class=\"k\">[</span><span class=\"s\">'fullscreen'</span><span class=\"k\">]</span> <span class=\"k\">||</span> editor<span class=\"k\">.</span>getLang<span class=\"k\">(</span><span class=\"s\">\"labelMap.fullscreen\"</span><span class=\"k\">)</span> <span class=\"k\">||</span> <span class=\"s\">''</span><span class=\"k\">;</span>","        <span class=\"k\">var</span> ui <span class=\"k\">=</span> <span class=\"k\">new</span> editorui<span class=\"k\">.</span>Button<span class=\"k\">(</span><span class=\"k\">{</span>","            className<span class=\"k\">:</span><span class=\"s\">'edui-for-fullscreen'</span><span class=\"k\">,</span>","            title<span class=\"k\">:</span>title<span class=\"k\">,</span>","            theme<span class=\"k\">:</span>editor<span class=\"k\">.</span>options<span class=\"k\">.</span>theme<span class=\"k\">,</span>","            onclick<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","                <span class=\"k\">var</span> scale<span class=\"k\">=</span>editor<span class=\"k\">.</span>ui<span class=\"k\">.</span>getDom<span class=\"k\">(</span><span class=\"s\">\"scale\"</span><span class=\"k\">);</span>","                <span class=\"k\">if</span> <span class=\"k\">(</span>editor<span class=\"k\">.</span>ui<span class=\"k\">)</span> <span class=\"k\">{</span>","                    <span class=\"c\">//by xuheng &#20840;&#23631;&#26102;&#20851;&#25481;&#32553;&#25918;</span>","                    <span class=\"k\">if</span><span class=\"k\">(!</span>editor<span class=\"k\">.</span>ui<span class=\"k\">.</span>isFullScreen<span class=\"k\">())</span><span class=\"k\">{</span>","                        scale<span class=\"k\">.</span>style<span class=\"k\">.</span>display<span class=\"k\">=</span><span class=\"s\">\"none\"</span>","                        editor<span class=\"k\">.</span>options<span class=\"k\">.</span>scaleEnabled <span class=\"k\">=</span> <span class=\"k\">false</span><span class=\"k\">;</span>","                    <span class=\"k\">}</span><span class=\"k\">else</span><span class=\"k\">{</span>","                        scale<span class=\"k\">.</span>style<span class=\"k\">.</span>display<span class=\"k\">=</span><span class=\"s\">\"\"</span><span class=\"k\">;</span>","                        editor<span class=\"k\">.</span>options<span class=\"k\">.</span>scaleEnabled <span class=\"k\">=</span> <span class=\"k\">true</span><span class=\"k\">;</span>","                    <span class=\"k\">}</span>","                    editor<span class=\"k\">.</span>ui<span class=\"k\">.</span>setFullScreen<span class=\"k\">(!</span>editor<span class=\"k\">.</span>ui<span class=\"k\">.</span>isFullScreen<span class=\"k\">());</span>","                <span class=\"k\">}</span>","                <span class=\"k\">this</span><span class=\"k\">.</span>setChecked<span class=\"k\">(</span>editor<span class=\"k\">.</span>ui<span class=\"k\">.</span>isFullScreen<span class=\"k\">());</span>","            <span class=\"k\">}</span>","        <span class=\"k\">}</span><span class=\"k\">);</span>","        editor<span class=\"k\">.</span>addListener<span class=\"k\">(</span><span class=\"s\">'selectionchange'</span><span class=\"k\">,</span> <span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","            <span class=\"k\">var</span> state <span class=\"k\">=</span> editor<span class=\"k\">.</span>queryCommandState<span class=\"k\">(</span><span class=\"s\">'fullscreen'</span><span class=\"k\">);</span>","            ui<span class=\"k\">.</span>setDisabled<span class=\"k\">(</span>state <span class=\"k\">==</span> <span class=\"k\">-</span><span class=\"s\">1</span><span class=\"k\">);</span>","            ui<span class=\"k\">.</span>setChecked<span class=\"k\">(</span>editor<span class=\"k\">.</span>ui<span class=\"k\">.</span>isFullScreen<span class=\"k\">());</span>","        <span class=\"k\">}</span><span class=\"k\">);</span>","        <span class=\"k\">return</span> ui<span class=\"k\">;</span>","    <span class=\"k\">}</span><span class=\"k\">;</span>","","    <span class=\"c\">// &#34920;&#24773;</span>","    editorui<span class=\"k\">.</span>emotion <span class=\"k\">=</span> <span class=\"k\">function</span> <span class=\"k\">(</span>editor<span class=\"k\">,</span> iframeUrl<span class=\"k\">)</span> <span class=\"k\">{</span>","        <span class=\"k\">var</span> ui <span class=\"k\">=</span> <span class=\"k\">new</span> editorui<span class=\"k\">.</span>MultiMenuPop<span class=\"k\">(</span><span class=\"k\">{</span>","            title<span class=\"k\">:</span>editor<span class=\"k\">.</span>options<span class=\"k\">.</span>labelMap<span class=\"k\">[</span><span class=\"s\">'emotion'</span><span class=\"k\">]</span> <span class=\"k\">||</span> editor<span class=\"k\">.</span>getLang<span class=\"k\">(</span><span class=\"s\">\"labelMap.emotion\"</span><span class=\"k\">)</span> <span class=\"k\">||</span> <span class=\"s\">''</span><span class=\"k\">,</span>","            editor<span class=\"k\">:</span>editor<span class=\"k\">,</span>","            className<span class=\"k\">:</span><span class=\"s\">'edui-for-emotion'</span><span class=\"k\">,</span>","            iframeUrl<span class=\"k\">:</span>editor<span class=\"k\">.</span>ui<span class=\"k\">.</span>mapUrl<span class=\"k\">(</span>iframeUrl <span class=\"k\">||</span> <span class=\"k\">(</span>editor<span class=\"k\">.</span>options<span class=\"k\">.</span>iframeUrlMap <span class=\"k\">||</span> <span class=\"k\">{}</span><span class=\"k\">)[</span><span class=\"s\">'emotion'</span><span class=\"k\">]</span> <span class=\"k\">||</span> iframeUrlMap<span class=\"k\">[</span><span class=\"s\">'emotion'</span><span class=\"k\">])</span>","        <span class=\"k\">}</span><span class=\"k\">);</span>","        editor<span class=\"k\">.</span>addListener<span class=\"k\">(</span><span class=\"s\">'selectionchange'</span><span class=\"k\">,</span> <span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","            ui<span class=\"k\">.</span>setDisabled<span class=\"k\">(</span>editor<span class=\"k\">.</span>queryCommandState<span class=\"k\">(</span><span class=\"s\">'emotion'</span><span class=\"k\">)</span> <span class=\"k\">==</span> <span class=\"k\">-</span><span class=\"s\">1</span><span class=\"k\">)</span>","        <span class=\"k\">}</span><span class=\"k\">);</span>","        <span class=\"k\">return</span> ui<span class=\"k\">;</span>","    <span class=\"k\">}</span><span class=\"k\">;</span>","","    editorui<span class=\"k\">.</span>autotypeset <span class=\"k\">=</span> <span class=\"k\">function</span> <span class=\"k\">(</span>editor<span class=\"k\">)</span> <span class=\"k\">{</span>","        <span class=\"k\">var</span> ui <span class=\"k\">=</span> <span class=\"k\">new</span> editorui<span class=\"k\">.</span>AutoTypeSetButton<span class=\"k\">(</span><span class=\"k\">{</span>","            editor<span class=\"k\">:</span>editor<span class=\"k\">,</span>","            title<span class=\"k\">:</span>editor<span class=\"k\">.</span>options<span class=\"k\">.</span>labelMap<span class=\"k\">[</span><span class=\"s\">'autotypeset'</span><span class=\"k\">]</span> <span class=\"k\">||</span> editor<span class=\"k\">.</span>getLang<span class=\"k\">(</span><span class=\"s\">\"labelMap.autotypeset\"</span><span class=\"k\">)</span> <span class=\"k\">||</span> <span class=\"s\">''</span><span class=\"k\">,</span>","            className<span class=\"k\">:</span><span class=\"s\">'edui-for-autotypeset'</span><span class=\"k\">,</span>","            onbuttonclick<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","                editor<span class=\"k\">.</span>execCommand<span class=\"k\">(</span><span class=\"s\">'autotypeset'</span><span class=\"k\">)</span>","            <span class=\"k\">}</span>","        <span class=\"k\">}</span><span class=\"k\">);</span>","        editor<span class=\"k\">.</span>addListener<span class=\"k\">(</span><span class=\"s\">'selectionchange'</span><span class=\"k\">,</span> <span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","            ui<span class=\"k\">.</span>setDisabled<span class=\"k\">(</span>editor<span class=\"k\">.</span>queryCommandState<span class=\"k\">(</span><span class=\"s\">'autotypeset'</span><span class=\"k\">)</span> <span class=\"k\">==</span> <span class=\"k\">-</span><span class=\"s\">1</span><span class=\"k\">);</span>","        <span class=\"k\">}</span><span class=\"k\">);</span>","        <span class=\"k\">return</span> ui<span class=\"k\">;</span>","    <span class=\"k\">}</span><span class=\"k\">;</span>","","<span class=\"k\">}</span><span class=\"k\">)();</span>"]);
_$jscoverage['ui/mask.js'] && (_$jscoverage['ui/mask.js'].source = ["<span class=\"c\">///import core</span>","<span class=\"c\">///import uicore</span>","<span class=\"k\">(</span><span class=\"k\">function</span> <span class=\"k\">()</span><span class=\"k\">{</span>","    <span class=\"k\">var</span> utils <span class=\"k\">=</span> baidu<span class=\"k\">.</span>editor<span class=\"k\">.</span>utils<span class=\"k\">,</span>","        domUtils <span class=\"k\">=</span> baidu<span class=\"k\">.</span>editor<span class=\"k\">.</span>dom<span class=\"k\">.</span>domUtils<span class=\"k\">,</span>","        UIBase <span class=\"k\">=</span> baidu<span class=\"k\">.</span>editor<span class=\"k\">.</span>ui<span class=\"k\">.</span>UIBase<span class=\"k\">,</span>","        uiUtils <span class=\"k\">=</span> baidu<span class=\"k\">.</span>editor<span class=\"k\">.</span>ui<span class=\"k\">.</span>uiUtils<span class=\"k\">;</span>","    ","    <span class=\"k\">var</span> Mask <span class=\"k\">=</span> baidu<span class=\"k\">.</span>editor<span class=\"k\">.</span>ui<span class=\"k\">.</span>Mask <span class=\"k\">=</span> <span class=\"k\">function</span> <span class=\"k\">(</span>options<span class=\"k\">)</span><span class=\"k\">{</span>","        <span class=\"k\">this</span><span class=\"k\">.</span>initOptions<span class=\"k\">(</span>options<span class=\"k\">);</span>","        <span class=\"k\">this</span><span class=\"k\">.</span>initUIBase<span class=\"k\">();</span>","    <span class=\"k\">}</span><span class=\"k\">;</span>","    Mask<span class=\"k\">.</span>prototype <span class=\"k\">=</span> <span class=\"k\">{</span>","        getHtmlTpl<span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">()</span><span class=\"k\">{</span>","            <span class=\"k\">return</span> <span class=\"s\">'&lt;div id=\"##\" class=\"edui-mask %%\" onmousedown=\"return $$._onMouseDown(event, this);\"&gt;&lt;/div&gt;'</span><span class=\"k\">;</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        postRender<span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">()</span><span class=\"k\">{</span>","            <span class=\"k\">var</span> me <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">;</span>","            domUtils<span class=\"k\">.</span>on<span class=\"k\">(</span>window<span class=\"k\">,</span> <span class=\"s\">'resize'</span><span class=\"k\">,</span> <span class=\"k\">function</span> <span class=\"k\">()</span><span class=\"k\">{</span>","                setTimeout<span class=\"k\">(</span><span class=\"k\">function</span> <span class=\"k\">()</span><span class=\"k\">{</span>","                    <span class=\"k\">if</span> <span class=\"k\">(!</span>me<span class=\"k\">.</span>isHidden<span class=\"k\">())</span> <span class=\"k\">{</span>","                        me<span class=\"k\">.</span>_fill<span class=\"k\">();</span>","                    <span class=\"k\">}</span>","                <span class=\"k\">}</span><span class=\"k\">);</span>","            <span class=\"k\">}</span><span class=\"k\">);</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        show<span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">(</span>zIndex<span class=\"k\">)</span><span class=\"k\">{</span>","            <span class=\"k\">this</span><span class=\"k\">.</span>_fill<span class=\"k\">();</span>","            <span class=\"k\">this</span><span class=\"k\">.</span>getDom<span class=\"k\">().</span>style<span class=\"k\">.</span>display <span class=\"k\">=</span> <span class=\"s\">''</span><span class=\"k\">;</span>","            <span class=\"k\">this</span><span class=\"k\">.</span>getDom<span class=\"k\">().</span>style<span class=\"k\">.</span>zIndex <span class=\"k\">=</span> zIndex<span class=\"k\">;</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        hide<span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">()</span><span class=\"k\">{</span>","            <span class=\"k\">this</span><span class=\"k\">.</span>getDom<span class=\"k\">().</span>style<span class=\"k\">.</span>display <span class=\"k\">=</span> <span class=\"s\">'none'</span><span class=\"k\">;</span>","            <span class=\"k\">this</span><span class=\"k\">.</span>getDom<span class=\"k\">().</span>style<span class=\"k\">.</span>zIndex <span class=\"k\">=</span> <span class=\"s\">''</span><span class=\"k\">;</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        isHidden<span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">()</span><span class=\"k\">{</span>","            <span class=\"k\">return</span> <span class=\"k\">this</span><span class=\"k\">.</span>getDom<span class=\"k\">().</span>style<span class=\"k\">.</span>display <span class=\"k\">==</span> <span class=\"s\">'none'</span><span class=\"k\">;</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        _onMouseDown<span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">()</span><span class=\"k\">{</span>","            <span class=\"k\">return</span> <span class=\"k\">false</span><span class=\"k\">;</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        _fill<span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">()</span><span class=\"k\">{</span>","            <span class=\"k\">var</span> el <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>getDom<span class=\"k\">();</span>","            <span class=\"k\">var</span> vpRect <span class=\"k\">=</span> uiUtils<span class=\"k\">.</span>getViewportRect<span class=\"k\">();</span>","            el<span class=\"k\">.</span>style<span class=\"k\">.</span>width <span class=\"k\">=</span> vpRect<span class=\"k\">.</span>width <span class=\"k\">+</span> <span class=\"s\">'px'</span><span class=\"k\">;</span>","            el<span class=\"k\">.</span>style<span class=\"k\">.</span>height <span class=\"k\">=</span> vpRect<span class=\"k\">.</span>height <span class=\"k\">+</span> <span class=\"s\">'px'</span><span class=\"k\">;</span>","        <span class=\"k\">}</span>","    <span class=\"k\">}</span><span class=\"k\">;</span>","    utils<span class=\"k\">.</span>inherits<span class=\"k\">(</span>Mask<span class=\"k\">,</span> UIBase<span class=\"k\">);</span>","<span class=\"k\">}</span><span class=\"k\">)();</span>"]);
_$jscoverage['ui/menu.js'] && (_$jscoverage['ui/menu.js'].source = ["<span class=\"c\">///import core</span>","<span class=\"c\">///import uicore</span>","<span class=\"c\">///import ui\\popup.js</span>","<span class=\"c\">///import ui\\stateful.js</span>","<span class=\"k\">(</span><span class=\"k\">function</span> <span class=\"k\">()</span><span class=\"k\">{</span>","    <span class=\"k\">var</span> utils <span class=\"k\">=</span> baidu<span class=\"k\">.</span>editor<span class=\"k\">.</span>utils<span class=\"k\">,</span>","        domUtils <span class=\"k\">=</span> baidu<span class=\"k\">.</span>editor<span class=\"k\">.</span>dom<span class=\"k\">.</span>domUtils<span class=\"k\">,</span>","        uiUtils <span class=\"k\">=</span> baidu<span class=\"k\">.</span>editor<span class=\"k\">.</span>ui<span class=\"k\">.</span>uiUtils<span class=\"k\">,</span>","        UIBase <span class=\"k\">=</span> baidu<span class=\"k\">.</span>editor<span class=\"k\">.</span>ui<span class=\"k\">.</span>UIBase<span class=\"k\">,</span>","        Popup <span class=\"k\">=</span> baidu<span class=\"k\">.</span>editor<span class=\"k\">.</span>ui<span class=\"k\">.</span>Popup<span class=\"k\">,</span>","        Stateful <span class=\"k\">=</span> baidu<span class=\"k\">.</span>editor<span class=\"k\">.</span>ui<span class=\"k\">.</span>Stateful<span class=\"k\">,</span>","        Menu <span class=\"k\">=</span> baidu<span class=\"k\">.</span>editor<span class=\"k\">.</span>ui<span class=\"k\">.</span>Menu <span class=\"k\">=</span> <span class=\"k\">function</span> <span class=\"k\">(</span>options<span class=\"k\">)</span><span class=\"k\">{</span>","            <span class=\"k\">this</span><span class=\"k\">.</span>initOptions<span class=\"k\">(</span>options<span class=\"k\">);</span>","            <span class=\"k\">this</span><span class=\"k\">.</span>initMenu<span class=\"k\">();</span>","        <span class=\"k\">}</span><span class=\"k\">;</span>","","    <span class=\"k\">var</span> menuSeparator <span class=\"k\">=</span> <span class=\"k\">{</span>","        renderHtml<span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">()</span><span class=\"k\">{</span>","            <span class=\"k\">return</span> <span class=\"s\">'&lt;div class=\"edui-menuitem edui-menuseparator\"&gt;&lt;div class=\"edui-menuseparator-inner\"&gt;&lt;/div&gt;&lt;/div&gt;'</span><span class=\"k\">;</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        postRender<span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">()</span><span class=\"k\">{}</span><span class=\"k\">,</span>","        queryAutoHide<span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">()</span><span class=\"k\">{</span> <span class=\"k\">return</span> <span class=\"k\">true</span><span class=\"k\">;</span> <span class=\"k\">}</span>","    <span class=\"k\">}</span><span class=\"k\">;</span>","    Menu<span class=\"k\">.</span>prototype <span class=\"k\">=</span> <span class=\"k\">{</span>","        items<span class=\"k\">:</span> <span class=\"k\">null</span><span class=\"k\">,</span>","        uiName<span class=\"k\">:</span> <span class=\"s\">'menu'</span><span class=\"k\">,</span>","        initMenu<span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">()</span><span class=\"k\">{</span>","            <span class=\"k\">this</span><span class=\"k\">.</span>items <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>items <span class=\"k\">||</span> <span class=\"k\">[];</span>","            <span class=\"k\">this</span><span class=\"k\">.</span>initPopup<span class=\"k\">();</span>","            <span class=\"k\">this</span><span class=\"k\">.</span>initItems<span class=\"k\">();</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        initItems<span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">()</span><span class=\"k\">{</span>","            <span class=\"k\">for</span> <span class=\"k\">(</span><span class=\"k\">var</span> i<span class=\"k\">=</span><span class=\"s\">0</span><span class=\"k\">;</span> i<span class=\"k\">&lt;</span><span class=\"k\">this</span><span class=\"k\">.</span>items<span class=\"k\">.</span>length<span class=\"k\">;</span> i<span class=\"k\">++)</span> <span class=\"k\">{</span>","                <span class=\"k\">var</span> item <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>items<span class=\"k\">[</span>i<span class=\"k\">];</span>","                <span class=\"k\">if</span> <span class=\"k\">(</span>item <span class=\"k\">==</span> <span class=\"s\">'-'</span><span class=\"k\">)</span> <span class=\"k\">{</span>","                    <span class=\"k\">this</span><span class=\"k\">.</span>items<span class=\"k\">[</span>i<span class=\"k\">]</span> <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>getSeparator<span class=\"k\">();</span>","                <span class=\"k\">}</span> <span class=\"k\">else</span> <span class=\"k\">if</span> <span class=\"k\">(!(</span>item <span class=\"k\">instanceof</span> MenuItem<span class=\"k\">))</span> <span class=\"k\">{</span>","                    item<span class=\"k\">.</span>theme<span class=\"k\">=</span><span class=\"k\">this</span><span class=\"k\">.</span>editor<span class=\"k\">.</span>options<span class=\"k\">.</span>theme<span class=\"k\">;</span>","                    <span class=\"k\">this</span><span class=\"k\">.</span>items<span class=\"k\">[</span>i<span class=\"k\">]</span> <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>createItem<span class=\"k\">(</span>item<span class=\"k\">);</span>","                <span class=\"k\">}</span>","            <span class=\"k\">}</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        getSeparator<span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">()</span><span class=\"k\">{</span>","            <span class=\"k\">return</span> menuSeparator<span class=\"k\">;</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        createItem<span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">(</span>item<span class=\"k\">)</span><span class=\"k\">{</span>","            <span class=\"k\">return</span> <span class=\"k\">new</span> MenuItem<span class=\"k\">(</span>item<span class=\"k\">);</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        _Popup_getContentHtmlTpl<span class=\"k\">:</span> Popup<span class=\"k\">.</span>prototype<span class=\"k\">.</span>getContentHtmlTpl<span class=\"k\">,</span>","        getContentHtmlTpl<span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">()</span><span class=\"k\">{</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>items<span class=\"k\">.</span>length <span class=\"k\">==</span> <span class=\"s\">0</span><span class=\"k\">)</span> <span class=\"k\">{</span>","                <span class=\"k\">return</span> <span class=\"k\">this</span><span class=\"k\">.</span>_Popup_getContentHtmlTpl<span class=\"k\">();</span>","            <span class=\"k\">}</span>","            <span class=\"k\">var</span> buff <span class=\"k\">=</span> <span class=\"k\">[];</span>","            <span class=\"k\">for</span> <span class=\"k\">(</span><span class=\"k\">var</span> i<span class=\"k\">=</span><span class=\"s\">0</span><span class=\"k\">;</span> i<span class=\"k\">&lt;</span><span class=\"k\">this</span><span class=\"k\">.</span>items<span class=\"k\">.</span>length<span class=\"k\">;</span> i<span class=\"k\">++)</span> <span class=\"k\">{</span>","                <span class=\"k\">var</span> item <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>items<span class=\"k\">[</span>i<span class=\"k\">];</span>","                buff<span class=\"k\">[</span>i<span class=\"k\">]</span> <span class=\"k\">=</span> item<span class=\"k\">.</span>renderHtml<span class=\"k\">();</span>","            <span class=\"k\">}</span>","            <span class=\"k\">return</span> <span class=\"k\">(</span><span class=\"s\">'&lt;div class=\"%%-body\"&gt;'</span> <span class=\"k\">+</span> buff<span class=\"k\">.</span>join<span class=\"k\">(</span><span class=\"s\">''</span><span class=\"k\">)</span> <span class=\"k\">+</span> <span class=\"s\">'&lt;/div&gt;'</span><span class=\"k\">);</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        _Popup_postRender<span class=\"k\">:</span> Popup<span class=\"k\">.</span>prototype<span class=\"k\">.</span>postRender<span class=\"k\">,</span>","        postRender<span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">()</span><span class=\"k\">{</span>","            <span class=\"k\">var</span> me <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">;</span>","            <span class=\"k\">for</span> <span class=\"k\">(</span><span class=\"k\">var</span> i<span class=\"k\">=</span><span class=\"s\">0</span><span class=\"k\">;</span> i<span class=\"k\">&lt;</span><span class=\"k\">this</span><span class=\"k\">.</span>items<span class=\"k\">.</span>length<span class=\"k\">;</span> i<span class=\"k\">++)</span> <span class=\"k\">{</span>","                <span class=\"k\">var</span> item <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>items<span class=\"k\">[</span>i<span class=\"k\">];</span>","                item<span class=\"k\">.</span>ownerMenu <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">;</span>","                item<span class=\"k\">.</span>postRender<span class=\"k\">();</span>","            <span class=\"k\">}</span>","            domUtils<span class=\"k\">.</span>on<span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>getDom<span class=\"k\">(),</span> <span class=\"s\">'mouseover'</span><span class=\"k\">,</span> <span class=\"k\">function</span> <span class=\"k\">(</span>evt<span class=\"k\">)</span><span class=\"k\">{</span>","                evt <span class=\"k\">=</span> evt <span class=\"k\">||</span> event<span class=\"k\">;</span>","                <span class=\"k\">var</span> rel <span class=\"k\">=</span> evt<span class=\"k\">.</span>relatedTarget <span class=\"k\">||</span> evt<span class=\"k\">.</span>fromElement<span class=\"k\">;</span>","                <span class=\"k\">var</span> el <span class=\"k\">=</span> me<span class=\"k\">.</span>getDom<span class=\"k\">();</span>","                <span class=\"k\">if</span> <span class=\"k\">(!</span>uiUtils<span class=\"k\">.</span>contains<span class=\"k\">(</span>el<span class=\"k\">,</span> rel<span class=\"k\">)</span> <span class=\"k\">&amp;&amp;</span> el <span class=\"k\">!==</span> rel<span class=\"k\">)</span> <span class=\"k\">{</span>","                    me<span class=\"k\">.</span>fireEvent<span class=\"k\">(</span><span class=\"s\">'over'</span><span class=\"k\">);</span>","                <span class=\"k\">}</span>","            <span class=\"k\">}</span><span class=\"k\">);</span>","            <span class=\"k\">this</span><span class=\"k\">.</span>_Popup_postRender<span class=\"k\">();</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        queryAutoHide<span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">(</span>el<span class=\"k\">)</span><span class=\"k\">{</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span>el<span class=\"k\">)</span> <span class=\"k\">{</span>","                <span class=\"k\">if</span> <span class=\"k\">(</span>uiUtils<span class=\"k\">.</span>contains<span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>getDom<span class=\"k\">(),</span> el<span class=\"k\">))</span> <span class=\"k\">{</span>","                    <span class=\"k\">return</span> <span class=\"k\">false</span><span class=\"k\">;</span>","                <span class=\"k\">}</span>","                <span class=\"k\">for</span> <span class=\"k\">(</span><span class=\"k\">var</span> i<span class=\"k\">=</span><span class=\"s\">0</span><span class=\"k\">;</span> i<span class=\"k\">&lt;</span><span class=\"k\">this</span><span class=\"k\">.</span>items<span class=\"k\">.</span>length<span class=\"k\">;</span> i<span class=\"k\">++)</span> <span class=\"k\">{</span>","                    <span class=\"k\">var</span> item <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>items<span class=\"k\">[</span>i<span class=\"k\">];</span>","                    <span class=\"k\">if</span> <span class=\"k\">(</span>item<span class=\"k\">.</span>queryAutoHide<span class=\"k\">(</span>el<span class=\"k\">)</span> <span class=\"k\">===</span> <span class=\"k\">false</span><span class=\"k\">)</span> <span class=\"k\">{</span>","                        <span class=\"k\">return</span> <span class=\"k\">false</span><span class=\"k\">;</span>","                    <span class=\"k\">}</span>","                <span class=\"k\">}</span>","            <span class=\"k\">}</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        clearItems<span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">()</span><span class=\"k\">{</span>","            <span class=\"k\">for</span> <span class=\"k\">(</span><span class=\"k\">var</span> i<span class=\"k\">=</span><span class=\"s\">0</span><span class=\"k\">;</span> i<span class=\"k\">&lt;</span><span class=\"k\">this</span><span class=\"k\">.</span>items<span class=\"k\">.</span>length<span class=\"k\">;</span> i<span class=\"k\">++)</span> <span class=\"k\">{</span>","                <span class=\"k\">var</span> item <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>items<span class=\"k\">[</span>i<span class=\"k\">];</span>","                clearTimeout<span class=\"k\">(</span>item<span class=\"k\">.</span>_showingTimer<span class=\"k\">);</span>","                clearTimeout<span class=\"k\">(</span>item<span class=\"k\">.</span>_closingTimer<span class=\"k\">);</span>","                <span class=\"k\">if</span> <span class=\"k\">(</span>item<span class=\"k\">.</span>subMenu<span class=\"k\">)</span> <span class=\"k\">{</span>","                    item<span class=\"k\">.</span>subMenu<span class=\"k\">.</span>destroy<span class=\"k\">();</span>","                <span class=\"k\">}</span>","            <span class=\"k\">}</span>","            <span class=\"k\">this</span><span class=\"k\">.</span>items <span class=\"k\">=</span> <span class=\"k\">[];</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        destroy<span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">()</span><span class=\"k\">{</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>getDom<span class=\"k\">())</span> <span class=\"k\">{</span>","                domUtils<span class=\"k\">.</span>remove<span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>getDom<span class=\"k\">());</span>","            <span class=\"k\">}</span>","            <span class=\"k\">this</span><span class=\"k\">.</span>clearItems<span class=\"k\">();</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        dispose<span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">()</span><span class=\"k\">{</span>","            <span class=\"k\">this</span><span class=\"k\">.</span>destroy<span class=\"k\">();</span>","        <span class=\"k\">}</span>","    <span class=\"k\">}</span><span class=\"k\">;</span>","    utils<span class=\"k\">.</span>inherits<span class=\"k\">(</span>Menu<span class=\"k\">,</span> Popup<span class=\"k\">);</span>","    ","    <span class=\"k\">var</span> MenuItem <span class=\"k\">=</span> baidu<span class=\"k\">.</span>editor<span class=\"k\">.</span>ui<span class=\"k\">.</span>MenuItem <span class=\"k\">=</span> <span class=\"k\">function</span> <span class=\"k\">(</span>options<span class=\"k\">)</span><span class=\"k\">{</span>","        <span class=\"k\">this</span><span class=\"k\">.</span>initOptions<span class=\"k\">(</span>options<span class=\"k\">);</span>","        <span class=\"k\">this</span><span class=\"k\">.</span>initUIBase<span class=\"k\">();</span>","        <span class=\"k\">this</span><span class=\"k\">.</span>Stateful_init<span class=\"k\">();</span>","        <span class=\"k\">if</span> <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>subMenu <span class=\"k\">&amp;&amp;</span> <span class=\"k\">!(</span><span class=\"k\">this</span><span class=\"k\">.</span>subMenu <span class=\"k\">instanceof</span> Menu<span class=\"k\">))</span> <span class=\"k\">{</span>","            <span class=\"k\">this</span><span class=\"k\">.</span>subMenu <span class=\"k\">=</span> <span class=\"k\">new</span> Menu<span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>subMenu<span class=\"k\">);</span>","        <span class=\"k\">}</span>","    <span class=\"k\">}</span><span class=\"k\">;</span>","    MenuItem<span class=\"k\">.</span>prototype <span class=\"k\">=</span> <span class=\"k\">{</span>","        label<span class=\"k\">:</span> <span class=\"s\">''</span><span class=\"k\">,</span>","        subMenu<span class=\"k\">:</span> <span class=\"k\">null</span><span class=\"k\">,</span>","        ownerMenu<span class=\"k\">:</span> <span class=\"k\">null</span><span class=\"k\">,</span>","        uiName<span class=\"k\">:</span> <span class=\"s\">'menuitem'</span><span class=\"k\">,</span>","        alwalysHoverable<span class=\"k\">:</span> <span class=\"k\">true</span><span class=\"k\">,</span>","        getHtmlTpl<span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">()</span><span class=\"k\">{</span>","            <span class=\"k\">return</span> <span class=\"s\">'&lt;div id=\"##\" class=\"%%\" stateful onclick=\"$$._onClick(event, this);\"&gt;'</span> <span class=\"k\">+</span>","                <span class=\"s\">'&lt;div class=\"%%-body\"&gt;'</span> <span class=\"k\">+</span>","                <span class=\"k\">this</span><span class=\"k\">.</span>renderLabelHtml<span class=\"k\">()</span> <span class=\"k\">+</span>","                <span class=\"s\">'&lt;/div&gt;'</span> <span class=\"k\">+</span>","                <span class=\"s\">'&lt;/div&gt;'</span><span class=\"k\">;</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        postRender<span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">()</span><span class=\"k\">{</span>","            <span class=\"k\">var</span> me <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">;</span>","            <span class=\"k\">this</span><span class=\"k\">.</span>addListener<span class=\"k\">(</span><span class=\"s\">'over'</span><span class=\"k\">,</span> <span class=\"k\">function</span> <span class=\"k\">()</span><span class=\"k\">{</span>","                me<span class=\"k\">.</span>ownerMenu<span class=\"k\">.</span>fireEvent<span class=\"k\">(</span><span class=\"s\">'submenuover'</span><span class=\"k\">,</span> me<span class=\"k\">);</span>","                <span class=\"k\">if</span> <span class=\"k\">(</span>me<span class=\"k\">.</span>subMenu<span class=\"k\">)</span> <span class=\"k\">{</span>","                    me<span class=\"k\">.</span>delayShowSubMenu<span class=\"k\">();</span>","                <span class=\"k\">}</span>","            <span class=\"k\">}</span><span class=\"k\">);</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>subMenu<span class=\"k\">)</span> <span class=\"k\">{</span>","                <span class=\"k\">this</span><span class=\"k\">.</span>getDom<span class=\"k\">().</span>className <span class=\"k\">+=</span> <span class=\"s\">' edui-hassubmenu'</span><span class=\"k\">;</span>","                <span class=\"k\">this</span><span class=\"k\">.</span>subMenu<span class=\"k\">.</span>render<span class=\"k\">();</span>","                <span class=\"k\">this</span><span class=\"k\">.</span>addListener<span class=\"k\">(</span><span class=\"s\">'out'</span><span class=\"k\">,</span> <span class=\"k\">function</span> <span class=\"k\">()</span><span class=\"k\">{</span>","                    me<span class=\"k\">.</span>delayHideSubMenu<span class=\"k\">();</span>","                <span class=\"k\">}</span><span class=\"k\">);</span>","                <span class=\"k\">this</span><span class=\"k\">.</span>subMenu<span class=\"k\">.</span>addListener<span class=\"k\">(</span><span class=\"s\">'over'</span><span class=\"k\">,</span> <span class=\"k\">function</span> <span class=\"k\">()</span><span class=\"k\">{</span>","                    clearTimeout<span class=\"k\">(</span>me<span class=\"k\">.</span>_closingTimer<span class=\"k\">);</span>","                    me<span class=\"k\">.</span>_closingTimer <span class=\"k\">=</span> <span class=\"k\">null</span><span class=\"k\">;</span>","                    me<span class=\"k\">.</span>addState<span class=\"k\">(</span><span class=\"s\">'opened'</span><span class=\"k\">);</span>","                <span class=\"k\">}</span><span class=\"k\">);</span>","                <span class=\"k\">this</span><span class=\"k\">.</span>ownerMenu<span class=\"k\">.</span>addListener<span class=\"k\">(</span><span class=\"s\">'hide'</span><span class=\"k\">,</span> <span class=\"k\">function</span> <span class=\"k\">()</span><span class=\"k\">{</span>","                    me<span class=\"k\">.</span>hideSubMenu<span class=\"k\">();</span>","                <span class=\"k\">}</span><span class=\"k\">);</span>","                <span class=\"k\">this</span><span class=\"k\">.</span>ownerMenu<span class=\"k\">.</span>addListener<span class=\"k\">(</span><span class=\"s\">'submenuover'</span><span class=\"k\">,</span> <span class=\"k\">function</span> <span class=\"k\">(</span>t<span class=\"k\">,</span> subMenu<span class=\"k\">)</span><span class=\"k\">{</span>","                    <span class=\"k\">if</span> <span class=\"k\">(</span>subMenu <span class=\"k\">!==</span> me<span class=\"k\">)</span> <span class=\"k\">{</span>","                        me<span class=\"k\">.</span>delayHideSubMenu<span class=\"k\">();</span>","                    <span class=\"k\">}</span>","                <span class=\"k\">}</span><span class=\"k\">);</span>","                <span class=\"k\">this</span><span class=\"k\">.</span>subMenu<span class=\"k\">.</span>_bakQueryAutoHide <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>subMenu<span class=\"k\">.</span>queryAutoHide<span class=\"k\">;</span>","                <span class=\"k\">this</span><span class=\"k\">.</span>subMenu<span class=\"k\">.</span>queryAutoHide <span class=\"k\">=</span> <span class=\"k\">function</span> <span class=\"k\">(</span>el<span class=\"k\">)</span><span class=\"k\">{</span>","                    <span class=\"k\">if</span> <span class=\"k\">(</span>el <span class=\"k\">&amp;&amp;</span> uiUtils<span class=\"k\">.</span>contains<span class=\"k\">(</span>me<span class=\"k\">.</span>getDom<span class=\"k\">(),</span> el<span class=\"k\">))</span> <span class=\"k\">{</span>","                        <span class=\"k\">return</span> <span class=\"k\">false</span><span class=\"k\">;</span>","                    <span class=\"k\">}</span>","                    <span class=\"k\">return</span> <span class=\"k\">this</span><span class=\"k\">.</span>_bakQueryAutoHide<span class=\"k\">(</span>el<span class=\"k\">);</span>","                <span class=\"k\">}</span><span class=\"k\">;</span>","            <span class=\"k\">}</span>","            <span class=\"k\">this</span><span class=\"k\">.</span>getDom<span class=\"k\">().</span>style<span class=\"k\">.</span>tabIndex <span class=\"k\">=</span> <span class=\"s\">'-1'</span><span class=\"k\">;</span>","            uiUtils<span class=\"k\">.</span>makeUnselectable<span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>getDom<span class=\"k\">());</span>","            <span class=\"k\">this</span><span class=\"k\">.</span>Stateful_postRender<span class=\"k\">();</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        delayShowSubMenu<span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">()</span><span class=\"k\">{</span>","            <span class=\"k\">var</span> me <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">;</span>","            <span class=\"k\">if</span> <span class=\"k\">(!</span>me<span class=\"k\">.</span>isDisabled<span class=\"k\">())</span> <span class=\"k\">{</span>","                me<span class=\"k\">.</span>addState<span class=\"k\">(</span><span class=\"s\">'opened'</span><span class=\"k\">);</span>","                clearTimeout<span class=\"k\">(</span>me<span class=\"k\">.</span>_showingTimer<span class=\"k\">);</span>","                clearTimeout<span class=\"k\">(</span>me<span class=\"k\">.</span>_closingTimer<span class=\"k\">);</span>","                me<span class=\"k\">.</span>_closingTimer <span class=\"k\">=</span> <span class=\"k\">null</span><span class=\"k\">;</span>","                me<span class=\"k\">.</span>_showingTimer <span class=\"k\">=</span> setTimeout<span class=\"k\">(</span><span class=\"k\">function</span> <span class=\"k\">()</span><span class=\"k\">{</span>","                    me<span class=\"k\">.</span>showSubMenu<span class=\"k\">();</span>","                <span class=\"k\">}</span><span class=\"k\">,</span> <span class=\"s\">250</span><span class=\"k\">);</span>","            <span class=\"k\">}</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        delayHideSubMenu<span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">()</span><span class=\"k\">{</span>","            <span class=\"k\">var</span> me <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">;</span>","            <span class=\"k\">if</span> <span class=\"k\">(!</span>me<span class=\"k\">.</span>isDisabled<span class=\"k\">())</span> <span class=\"k\">{</span>","                me<span class=\"k\">.</span>removeState<span class=\"k\">(</span><span class=\"s\">'opened'</span><span class=\"k\">);</span>","                clearTimeout<span class=\"k\">(</span>me<span class=\"k\">.</span>_showingTimer<span class=\"k\">);</span>","                <span class=\"k\">if</span> <span class=\"k\">(!</span>me<span class=\"k\">.</span>_closingTimer<span class=\"k\">)</span> <span class=\"k\">{</span>","                    me<span class=\"k\">.</span>_closingTimer <span class=\"k\">=</span> setTimeout<span class=\"k\">(</span><span class=\"k\">function</span> <span class=\"k\">()</span><span class=\"k\">{</span>","                        <span class=\"k\">if</span> <span class=\"k\">(!</span>me<span class=\"k\">.</span>hasState<span class=\"k\">(</span><span class=\"s\">'opened'</span><span class=\"k\">))</span> <span class=\"k\">{</span>","                            me<span class=\"k\">.</span>hideSubMenu<span class=\"k\">();</span>","                        <span class=\"k\">}</span>","                        me<span class=\"k\">.</span>_closingTimer <span class=\"k\">=</span> <span class=\"k\">null</span><span class=\"k\">;</span>","                    <span class=\"k\">}</span><span class=\"k\">,</span> <span class=\"s\">400</span><span class=\"k\">);</span>","                <span class=\"k\">}</span>","            <span class=\"k\">}</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        renderLabelHtml<span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">()</span><span class=\"k\">{</span>","            <span class=\"k\">return</span> <span class=\"s\">'&lt;div class=\"edui-arrow\"&gt;&lt;/div&gt;'</span> <span class=\"k\">+</span>","                <span class=\"s\">'&lt;div class=\"edui-box edui-icon\"&gt;&lt;/div&gt;'</span> <span class=\"k\">+</span>","                <span class=\"s\">'&lt;div class=\"edui-box edui-label %%-label\"&gt;'</span> <span class=\"k\">+</span> <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>label <span class=\"k\">||</span> <span class=\"s\">''</span><span class=\"k\">)</span> <span class=\"k\">+</span> <span class=\"s\">'&lt;/div&gt;'</span><span class=\"k\">;</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        getStateDom<span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">()</span><span class=\"k\">{</span>","            <span class=\"k\">return</span> <span class=\"k\">this</span><span class=\"k\">.</span>getDom<span class=\"k\">();</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        queryAutoHide<span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">(</span>el<span class=\"k\">)</span><span class=\"k\">{</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>subMenu <span class=\"k\">&amp;&amp;</span> <span class=\"k\">this</span><span class=\"k\">.</span>hasState<span class=\"k\">(</span><span class=\"s\">'opened'</span><span class=\"k\">))</span> <span class=\"k\">{</span>","                <span class=\"k\">return</span> <span class=\"k\">this</span><span class=\"k\">.</span>subMenu<span class=\"k\">.</span>queryAutoHide<span class=\"k\">(</span>el<span class=\"k\">);</span>","            <span class=\"k\">}</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        _onClick<span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">(</span>event<span class=\"k\">,</span> this_<span class=\"k\">)</span><span class=\"k\">{</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>hasState<span class=\"k\">(</span><span class=\"s\">'disabled'</span><span class=\"k\">))</span> <span class=\"k\">return</span><span class=\"k\">;</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>fireEvent<span class=\"k\">(</span><span class=\"s\">'click'</span><span class=\"k\">,</span> event<span class=\"k\">,</span> this_<span class=\"k\">)</span> <span class=\"k\">!==</span> <span class=\"k\">false</span><span class=\"k\">)</span> <span class=\"k\">{</span>","                <span class=\"k\">if</span> <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>subMenu<span class=\"k\">)</span> <span class=\"k\">{</span>","                    <span class=\"k\">this</span><span class=\"k\">.</span>showSubMenu<span class=\"k\">();</span>","                <span class=\"k\">}</span> <span class=\"k\">else</span> <span class=\"k\">{</span>","                    Popup<span class=\"k\">.</span>postHide<span class=\"k\">();</span>","                <span class=\"k\">}</span>","            <span class=\"k\">}</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        showSubMenu<span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">()</span><span class=\"k\">{</span>","            <span class=\"k\">var</span> rect <span class=\"k\">=</span> uiUtils<span class=\"k\">.</span>getClientRect<span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>getDom<span class=\"k\">());</span>","            rect<span class=\"k\">.</span>right <span class=\"k\">-=</span> <span class=\"s\">5</span><span class=\"k\">;</span>","            rect<span class=\"k\">.</span>left <span class=\"k\">+=</span> <span class=\"s\">2</span><span class=\"k\">;</span>","            rect<span class=\"k\">.</span>width <span class=\"k\">-=</span> <span class=\"s\">7</span><span class=\"k\">;</span>","            rect<span class=\"k\">.</span>top <span class=\"k\">-=</span> <span class=\"s\">4</span><span class=\"k\">;</span>","            rect<span class=\"k\">.</span>bottom <span class=\"k\">+=</span> <span class=\"s\">4</span><span class=\"k\">;</span>","            rect<span class=\"k\">.</span>height <span class=\"k\">+=</span> <span class=\"s\">8</span><span class=\"k\">;</span>","            <span class=\"k\">this</span><span class=\"k\">.</span>subMenu<span class=\"k\">.</span>showAnchorRect<span class=\"k\">(</span>rect<span class=\"k\">,</span> <span class=\"k\">true</span><span class=\"k\">,</span> <span class=\"k\">true</span><span class=\"k\">);</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        hideSubMenu<span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">()</span><span class=\"k\">{</span>","            <span class=\"k\">this</span><span class=\"k\">.</span>subMenu<span class=\"k\">.</span>hide<span class=\"k\">();</span>","        <span class=\"k\">}</span>","    <span class=\"k\">}</span><span class=\"k\">;</span>","    utils<span class=\"k\">.</span>inherits<span class=\"k\">(</span>MenuItem<span class=\"k\">,</span> UIBase<span class=\"k\">);</span>","    utils<span class=\"k\">.</span>extend<span class=\"k\">(</span>MenuItem<span class=\"k\">.</span>prototype<span class=\"k\">,</span> Stateful<span class=\"k\">,</span> <span class=\"k\">true</span><span class=\"k\">);</span>","<span class=\"k\">}</span><span class=\"k\">)();</span>"]);
_$jscoverage['ui/menubutton.js'] && (_$jscoverage['ui/menubutton.js'].source = ["<span class=\"c\">///import core</span>","<span class=\"c\">///import uicore</span>","<span class=\"c\">///import ui/menu.js</span>","<span class=\"c\">///import ui/splitbutton.js</span>","<span class=\"k\">(</span><span class=\"k\">function</span> <span class=\"k\">()</span><span class=\"k\">{</span>","    <span class=\"k\">var</span> utils <span class=\"k\">=</span> baidu<span class=\"k\">.</span>editor<span class=\"k\">.</span>utils<span class=\"k\">,</span>","        Menu <span class=\"k\">=</span> baidu<span class=\"k\">.</span>editor<span class=\"k\">.</span>ui<span class=\"k\">.</span>Menu<span class=\"k\">,</span>","        SplitButton <span class=\"k\">=</span> baidu<span class=\"k\">.</span>editor<span class=\"k\">.</span>ui<span class=\"k\">.</span>SplitButton<span class=\"k\">,</span>","        MenuButton <span class=\"k\">=</span> baidu<span class=\"k\">.</span>editor<span class=\"k\">.</span>ui<span class=\"k\">.</span>MenuButton <span class=\"k\">=</span> <span class=\"k\">function</span> <span class=\"k\">(</span>options<span class=\"k\">)</span><span class=\"k\">{</span>","            <span class=\"k\">this</span><span class=\"k\">.</span>initOptions<span class=\"k\">(</span>options<span class=\"k\">);</span>","            <span class=\"k\">this</span><span class=\"k\">.</span>initMenuButton<span class=\"k\">();</span>","        <span class=\"k\">}</span><span class=\"k\">;</span>","    MenuButton<span class=\"k\">.</span>prototype <span class=\"k\">=</span> <span class=\"k\">{</span>","        initMenuButton<span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">()</span><span class=\"k\">{</span>","            <span class=\"k\">var</span> me <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">;</span>","            <span class=\"k\">this</span><span class=\"k\">.</span>uiName <span class=\"k\">=</span> <span class=\"s\">\"menubutton\"</span><span class=\"k\">;</span>","            <span class=\"k\">this</span><span class=\"k\">.</span>popup <span class=\"k\">=</span> <span class=\"k\">new</span> Menu<span class=\"k\">(</span><span class=\"k\">{</span>","                items<span class=\"k\">:</span> me<span class=\"k\">.</span>items<span class=\"k\">,</span>","                className<span class=\"k\">:</span> me<span class=\"k\">.</span>className<span class=\"k\">,</span>","                editor<span class=\"k\">:</span>me<span class=\"k\">.</span>editor","            <span class=\"k\">}</span><span class=\"k\">);</span>","            <span class=\"k\">this</span><span class=\"k\">.</span>popup<span class=\"k\">.</span>addListener<span class=\"k\">(</span><span class=\"s\">'show'</span><span class=\"k\">,</span> <span class=\"k\">function</span> <span class=\"k\">()</span><span class=\"k\">{</span>","                <span class=\"k\">var</span> list <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">;</span>","                <span class=\"k\">for</span> <span class=\"k\">(</span><span class=\"k\">var</span> i<span class=\"k\">=</span><span class=\"s\">0</span><span class=\"k\">;</span> i<span class=\"k\">&lt;</span>list<span class=\"k\">.</span>items<span class=\"k\">.</span>length<span class=\"k\">;</span> i<span class=\"k\">++)</span> <span class=\"k\">{</span>","                    list<span class=\"k\">.</span>items<span class=\"k\">[</span>i<span class=\"k\">].</span>removeState<span class=\"k\">(</span><span class=\"s\">'checked'</span><span class=\"k\">);</span>","                    <span class=\"k\">if</span> <span class=\"k\">(</span>list<span class=\"k\">.</span>items<span class=\"k\">[</span>i<span class=\"k\">].</span>value <span class=\"k\">==</span> me<span class=\"k\">.</span>_value<span class=\"k\">)</span> <span class=\"k\">{</span>","                        list<span class=\"k\">.</span>items<span class=\"k\">[</span>i<span class=\"k\">].</span>addState<span class=\"k\">(</span><span class=\"s\">'checked'</span><span class=\"k\">);</span>","                        <span class=\"k\">this</span><span class=\"k\">.</span>value <span class=\"k\">=</span> me<span class=\"k\">.</span>_value<span class=\"k\">;</span>","                    <span class=\"k\">}</span>","                <span class=\"k\">}</span>","            <span class=\"k\">}</span><span class=\"k\">);</span>","            <span class=\"k\">this</span><span class=\"k\">.</span>initSplitButton<span class=\"k\">();</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        setValue <span class=\"k\">:</span> <span class=\"k\">function</span><span class=\"k\">(</span>value<span class=\"k\">)</span><span class=\"k\">{</span>","            <span class=\"k\">this</span><span class=\"k\">.</span>_value <span class=\"k\">=</span> value<span class=\"k\">;</span>","        <span class=\"k\">}</span>","        ","    <span class=\"k\">}</span><span class=\"k\">;</span>","    utils<span class=\"k\">.</span>inherits<span class=\"k\">(</span>MenuButton<span class=\"k\">,</span> SplitButton<span class=\"k\">);</span>","<span class=\"k\">}</span><span class=\"k\">)();</span>"]);
_$jscoverage['ui/multiMenu.js'] && (_$jscoverage['ui/multiMenu.js'].source = ["<span class=\"c\">///import core</span>","<span class=\"c\">///import uicore</span>"," <span class=\"c\">///commands &#34920;&#24773;</span>","<span class=\"k\">(</span><span class=\"k\">function</span><span class=\"k\">()</span><span class=\"k\">{</span>","    <span class=\"k\">var</span> utils <span class=\"k\">=</span> baidu<span class=\"k\">.</span>editor<span class=\"k\">.</span>utils<span class=\"k\">,</span>","        Popup <span class=\"k\">=</span> baidu<span class=\"k\">.</span>editor<span class=\"k\">.</span>ui<span class=\"k\">.</span>Popup<span class=\"k\">,</span>","        SplitButton <span class=\"k\">=</span> baidu<span class=\"k\">.</span>editor<span class=\"k\">.</span>ui<span class=\"k\">.</span>SplitButton<span class=\"k\">,</span>","        MultiMenuPop <span class=\"k\">=</span> baidu<span class=\"k\">.</span>editor<span class=\"k\">.</span>ui<span class=\"k\">.</span>MultiMenuPop <span class=\"k\">=</span> <span class=\"k\">function</span><span class=\"k\">(</span>options<span class=\"k\">)</span><span class=\"k\">{</span>","            <span class=\"k\">this</span><span class=\"k\">.</span>initOptions<span class=\"k\">(</span>options<span class=\"k\">);</span>","            <span class=\"k\">this</span><span class=\"k\">.</span>initMultiMenu<span class=\"k\">();</span>","        <span class=\"k\">}</span><span class=\"k\">;</span>","","    MultiMenuPop<span class=\"k\">.</span>prototype <span class=\"k\">=</span> <span class=\"k\">{</span>","        initMultiMenu<span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">()</span><span class=\"k\">{</span>","            <span class=\"k\">var</span> me <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">;</span>","            <span class=\"k\">this</span><span class=\"k\">.</span>popup <span class=\"k\">=</span> <span class=\"k\">new</span> Popup<span class=\"k\">(</span><span class=\"k\">{</span>","                content<span class=\"k\">:</span> <span class=\"s\">''</span><span class=\"k\">,</span>","                editor <span class=\"k\">:</span> me<span class=\"k\">.</span>editor<span class=\"k\">,</span>","                iframe_rendered<span class=\"k\">:</span> <span class=\"k\">false</span><span class=\"k\">,</span>","                onshow<span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">()</span><span class=\"k\">{</span>","                    <span class=\"k\">if</span> <span class=\"k\">(!</span><span class=\"k\">this</span><span class=\"k\">.</span>iframe_rendered<span class=\"k\">)</span> <span class=\"k\">{</span>","                        <span class=\"k\">this</span><span class=\"k\">.</span>iframe_rendered <span class=\"k\">=</span> <span class=\"k\">true</span><span class=\"k\">;</span>","                        <span class=\"k\">this</span><span class=\"k\">.</span>getDom<span class=\"k\">(</span><span class=\"s\">'content'</span><span class=\"k\">).</span>innerHTML <span class=\"k\">=</span> <span class=\"s\">'&lt;iframe id=\"'</span><span class=\"k\">+</span>me<span class=\"k\">.</span>id<span class=\"k\">+</span><span class=\"s\">'_iframe\" src=\"'</span><span class=\"k\">+</span> me<span class=\"k\">.</span>iframeUrl <span class=\"k\">+</span><span class=\"s\">'\" frameborder=\"0\"&gt;&lt;/iframe&gt;'</span><span class=\"k\">;</span>","                        me<span class=\"k\">.</span>editor<span class=\"k\">.</span>container<span class=\"k\">.</span>style<span class=\"k\">.</span>zIndex <span class=\"k\">&amp;&amp;</span> <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>getDom<span class=\"k\">().</span>style<span class=\"k\">.</span>zIndex <span class=\"k\">=</span> me<span class=\"k\">.</span>editor<span class=\"k\">.</span>container<span class=\"k\">.</span>style<span class=\"k\">.</span>zIndex <span class=\"k\">*</span> <span class=\"s\">1</span> <span class=\"k\">+</span> <span class=\"s\">1</span><span class=\"k\">);</span>","                    <span class=\"k\">}</span>","                <span class=\"k\">}</span>","               <span class=\"c\">// canSideUp:false,</span>","               <span class=\"c\">// canSideLeft:false</span>","            <span class=\"k\">}</span><span class=\"k\">);</span>","            <span class=\"k\">this</span><span class=\"k\">.</span>onbuttonclick <span class=\"k\">=</span> <span class=\"k\">function</span><span class=\"k\">()</span><span class=\"k\">{</span>","                <span class=\"k\">this</span><span class=\"k\">.</span>showPopup<span class=\"k\">();</span>","            <span class=\"k\">}</span><span class=\"k\">;</span>","            <span class=\"k\">this</span><span class=\"k\">.</span>initSplitButton<span class=\"k\">();</span>","        <span class=\"k\">}</span>","","    <span class=\"k\">}</span><span class=\"k\">;</span>","","    utils<span class=\"k\">.</span>inherits<span class=\"k\">(</span>MultiMenuPop<span class=\"k\">,</span> SplitButton<span class=\"k\">);</span>","<span class=\"k\">}</span><span class=\"k\">)();</span>"]);
_$jscoverage['ui/popup.js'] && (_$jscoverage['ui/popup.js'].source = ["<span class=\"c\">///import core</span>","<span class=\"c\">///import uicore</span>","<span class=\"k\">(</span><span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","    <span class=\"k\">var</span> utils <span class=\"k\">=</span> baidu<span class=\"k\">.</span>editor<span class=\"k\">.</span>utils<span class=\"k\">,</span>","        uiUtils <span class=\"k\">=</span> baidu<span class=\"k\">.</span>editor<span class=\"k\">.</span>ui<span class=\"k\">.</span>uiUtils<span class=\"k\">,</span>","        domUtils <span class=\"k\">=</span> baidu<span class=\"k\">.</span>editor<span class=\"k\">.</span>dom<span class=\"k\">.</span>domUtils<span class=\"k\">,</span>","        UIBase <span class=\"k\">=</span> baidu<span class=\"k\">.</span>editor<span class=\"k\">.</span>ui<span class=\"k\">.</span>UIBase<span class=\"k\">,</span>","        Popup <span class=\"k\">=</span> baidu<span class=\"k\">.</span>editor<span class=\"k\">.</span>ui<span class=\"k\">.</span>Popup <span class=\"k\">=</span> <span class=\"k\">function</span> <span class=\"k\">(</span>options<span class=\"k\">)</span><span class=\"k\">{</span>","            <span class=\"k\">this</span><span class=\"k\">.</span>initOptions<span class=\"k\">(</span>options<span class=\"k\">);</span>","            <span class=\"k\">this</span><span class=\"k\">.</span>initPopup<span class=\"k\">();</span>","        <span class=\"k\">}</span><span class=\"k\">;</span>","","    <span class=\"k\">var</span> allPopups <span class=\"k\">=</span> <span class=\"k\">[];</span>","    <span class=\"k\">function</span> closeAllPopup<span class=\"k\">(</span> el <span class=\"k\">)</span><span class=\"k\">{</span>","        <span class=\"k\">var</span> newAll <span class=\"k\">=</span> <span class=\"k\">[];</span>","        <span class=\"k\">for</span> <span class=\"k\">(</span> <span class=\"k\">var</span> i <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">;</span> i <span class=\"k\">&lt;</span> allPopups<span class=\"k\">.</span>length<span class=\"k\">;</span> i<span class=\"k\">++</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","            <span class=\"k\">var</span> pop <span class=\"k\">=</span> allPopups<span class=\"k\">[</span>i<span class=\"k\">];</span>","            <span class=\"k\">if</span> <span class=\"k\">(!</span>pop<span class=\"k\">.</span>isHidden<span class=\"k\">())</span> <span class=\"k\">{</span>","                <span class=\"k\">if</span> <span class=\"k\">(</span>pop<span class=\"k\">.</span>queryAutoHide<span class=\"k\">(</span>el<span class=\"k\">)</span> <span class=\"k\">!==</span> <span class=\"k\">false</span><span class=\"k\">)</span> <span class=\"k\">{</span>","                    pop<span class=\"k\">.</span>hide<span class=\"k\">();</span>","                <span class=\"k\">}</span>","            <span class=\"k\">}</span>","        <span class=\"k\">}</span>","    <span class=\"k\">}</span>","","    Popup<span class=\"k\">.</span>postHide <span class=\"k\">=</span> closeAllPopup<span class=\"k\">;</span>","","    <span class=\"k\">var</span> ANCHOR_CLASSES <span class=\"k\">=</span> <span class=\"k\">[</span><span class=\"s\">'edui-anchor-topleft'</span><span class=\"k\">,</span><span class=\"s\">'edui-anchor-topright'</span><span class=\"k\">,</span>","        <span class=\"s\">'edui-anchor-bottomleft'</span><span class=\"k\">,</span><span class=\"s\">'edui-anchor-bottomright'</span><span class=\"k\">];</span>","    Popup<span class=\"k\">.</span>prototype <span class=\"k\">=</span> <span class=\"k\">{</span>","        SHADOW_RADIUS<span class=\"k\">:</span> <span class=\"s\">5</span><span class=\"k\">,</span>","        content<span class=\"k\">:</span> <span class=\"k\">null</span><span class=\"k\">,</span>","        _hidden<span class=\"k\">:</span> <span class=\"k\">false</span><span class=\"k\">,</span>","        autoRender<span class=\"k\">:</span> <span class=\"k\">true</span><span class=\"k\">,</span>","        canSideLeft<span class=\"k\">:</span> <span class=\"k\">true</span><span class=\"k\">,</span>","        canSideUp<span class=\"k\">:</span> <span class=\"k\">true</span><span class=\"k\">,</span>","        initPopup<span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">()</span><span class=\"k\">{</span>","            <span class=\"k\">this</span><span class=\"k\">.</span>initUIBase<span class=\"k\">();</span>","            allPopups<span class=\"k\">.</span>push<span class=\"k\">(</span> <span class=\"k\">this</span> <span class=\"k\">);</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        getHtmlTpl<span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">()</span><span class=\"k\">{</span>","            <span class=\"k\">return</span> <span class=\"s\">'&lt;div id=\"##\" class=\"edui-popup %%\"&gt;'</span> <span class=\"k\">+</span>","                <span class=\"s\">' &lt;div id=\"##_body\" class=\"edui-popup-body\"&gt;'</span> <span class=\"k\">+</span>","                <span class=\"s\">' &lt;iframe style=\"position:absolute;z-index:-1;left:0;top:0;background-color: transparent;\" frameborder=\"0\" width=\"100%\" height=\"100%\" src=\"javascript:\"&gt;&lt;/iframe&gt;'</span> <span class=\"k\">+</span>","                <span class=\"s\">' &lt;div class=\"edui-shadow\"&gt;&lt;/div&gt;'</span> <span class=\"k\">+</span>","                <span class=\"s\">' &lt;div id=\"##_content\" class=\"edui-popup-content\"&gt;'</span> <span class=\"k\">+</span>","                <span class=\"k\">this</span><span class=\"k\">.</span>getContentHtmlTpl<span class=\"k\">()</span> <span class=\"k\">+</span>","                <span class=\"s\">'  &lt;/div&gt;'</span> <span class=\"k\">+</span>","                <span class=\"s\">' &lt;/div&gt;'</span> <span class=\"k\">+</span>","                <span class=\"s\">'&lt;/div&gt;'</span><span class=\"k\">;</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        getContentHtmlTpl<span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">()</span><span class=\"k\">{</span>","            <span class=\"k\">if</span><span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>content<span class=\"k\">)</span><span class=\"k\">{</span>","                <span class=\"k\">if</span> <span class=\"k\">(</span><span class=\"k\">typeof</span> <span class=\"k\">this</span><span class=\"k\">.</span>content <span class=\"k\">==</span> <span class=\"s\">'string'</span><span class=\"k\">)</span> <span class=\"k\">{</span>","                    <span class=\"k\">return</span> <span class=\"k\">this</span><span class=\"k\">.</span>content<span class=\"k\">;</span>","                <span class=\"k\">}</span>","                <span class=\"k\">return</span> <span class=\"k\">this</span><span class=\"k\">.</span>content<span class=\"k\">.</span>renderHtml<span class=\"k\">();</span>","            <span class=\"k\">}</span><span class=\"k\">else</span><span class=\"k\">{</span>","                <span class=\"k\">return</span> <span class=\"s\">''</span>","            <span class=\"k\">}</span>","","        <span class=\"k\">}</span><span class=\"k\">,</span>","        _UIBase_postRender<span class=\"k\">:</span> UIBase<span class=\"k\">.</span>prototype<span class=\"k\">.</span>postRender<span class=\"k\">,</span>","        postRender<span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">()</span><span class=\"k\">{</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>content <span class=\"k\">instanceof</span> UIBase<span class=\"k\">)</span> <span class=\"k\">{</span>","                <span class=\"k\">this</span><span class=\"k\">.</span>content<span class=\"k\">.</span>postRender<span class=\"k\">();</span>","            <span class=\"k\">}</span>","            <span class=\"k\">this</span><span class=\"k\">.</span>fireEvent<span class=\"k\">(</span><span class=\"s\">'postRenderAfter'</span><span class=\"k\">);</span>","            <span class=\"k\">this</span><span class=\"k\">.</span>hide<span class=\"k\">(</span><span class=\"k\">true</span><span class=\"k\">);</span>","            <span class=\"k\">this</span><span class=\"k\">.</span>_UIBase_postRender<span class=\"k\">();</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        _doAutoRender<span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">()</span><span class=\"k\">{</span>","            <span class=\"k\">if</span> <span class=\"k\">(!</span><span class=\"k\">this</span><span class=\"k\">.</span>getDom<span class=\"k\">()</span> <span class=\"k\">&amp;&amp;</span> <span class=\"k\">this</span><span class=\"k\">.</span>autoRender<span class=\"k\">)</span> <span class=\"k\">{</span>","                <span class=\"k\">this</span><span class=\"k\">.</span>render<span class=\"k\">();</span>","            <span class=\"k\">}</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        mesureSize<span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">()</span><span class=\"k\">{</span>","            <span class=\"k\">var</span> box <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>getDom<span class=\"k\">(</span><span class=\"s\">'content'</span><span class=\"k\">);</span>","            <span class=\"k\">return</span> uiUtils<span class=\"k\">.</span>getClientRect<span class=\"k\">(</span>box<span class=\"k\">);</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        fitSize<span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">()</span><span class=\"k\">{</span>","            <span class=\"k\">var</span> popBodyEl <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>getDom<span class=\"k\">(</span><span class=\"s\">'body'</span><span class=\"k\">);</span>","            popBodyEl<span class=\"k\">.</span>style<span class=\"k\">.</span>width <span class=\"k\">=</span> <span class=\"s\">''</span><span class=\"k\">;</span>","            popBodyEl<span class=\"k\">.</span>style<span class=\"k\">.</span>height <span class=\"k\">=</span> <span class=\"s\">''</span><span class=\"k\">;</span>","            <span class=\"k\">var</span> size <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>mesureSize<span class=\"k\">();</span>","            popBodyEl<span class=\"k\">.</span>style<span class=\"k\">.</span>width <span class=\"k\">=</span> size<span class=\"k\">.</span>width <span class=\"k\">+</span> <span class=\"s\">'px'</span><span class=\"k\">;</span>","            popBodyEl<span class=\"k\">.</span>style<span class=\"k\">.</span>height <span class=\"k\">=</span> size<span class=\"k\">.</span>height <span class=\"k\">+</span> <span class=\"s\">'px'</span><span class=\"k\">;</span>","            <span class=\"k\">return</span> size<span class=\"k\">;</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        showAnchor<span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">(</span> element<span class=\"k\">,</span> hoz <span class=\"k\">)</span><span class=\"k\">{</span>","            <span class=\"k\">this</span><span class=\"k\">.</span>showAnchorRect<span class=\"k\">(</span> uiUtils<span class=\"k\">.</span>getClientRect<span class=\"k\">(</span> element <span class=\"k\">),</span> hoz <span class=\"k\">);</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        showAnchorRect<span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">(</span> rect<span class=\"k\">,</span> hoz<span class=\"k\">,</span> adj <span class=\"k\">)</span><span class=\"k\">{</span>","            <span class=\"k\">this</span><span class=\"k\">.</span>_doAutoRender<span class=\"k\">();</span>","            <span class=\"k\">var</span> vpRect <span class=\"k\">=</span> uiUtils<span class=\"k\">.</span>getViewportRect<span class=\"k\">();</span>","            <span class=\"k\">this</span><span class=\"k\">.</span>_show<span class=\"k\">();</span>","            <span class=\"k\">var</span> popSize <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>fitSize<span class=\"k\">();</span>","","            <span class=\"k\">var</span> sideLeft<span class=\"k\">,</span> sideUp<span class=\"k\">,</span> left<span class=\"k\">,</span> top<span class=\"k\">;</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span>hoz<span class=\"k\">)</span> <span class=\"k\">{</span>","                sideLeft <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>canSideLeft <span class=\"k\">&amp;&amp;</span> <span class=\"k\">(</span>rect<span class=\"k\">.</span>right <span class=\"k\">+</span> popSize<span class=\"k\">.</span>width <span class=\"k\">&gt;</span> vpRect<span class=\"k\">.</span>right <span class=\"k\">&amp;&amp;</span> rect<span class=\"k\">.</span>left <span class=\"k\">&gt;</span> popSize<span class=\"k\">.</span>width<span class=\"k\">);</span>","                sideUp <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>canSideUp <span class=\"k\">&amp;&amp;</span> <span class=\"k\">(</span>rect<span class=\"k\">.</span>top <span class=\"k\">+</span> popSize<span class=\"k\">.</span>height <span class=\"k\">&gt;</span> vpRect<span class=\"k\">.</span>bottom <span class=\"k\">&amp;&amp;</span> rect<span class=\"k\">.</span>bottom <span class=\"k\">&gt;</span> popSize<span class=\"k\">.</span>height<span class=\"k\">);</span>","                left <span class=\"k\">=</span> <span class=\"k\">(</span>sideLeft <span class=\"k\">?</span> rect<span class=\"k\">.</span>left <span class=\"k\">-</span> popSize<span class=\"k\">.</span>width <span class=\"k\">:</span> rect<span class=\"k\">.</span>right<span class=\"k\">);</span>","                top <span class=\"k\">=</span> <span class=\"k\">(</span>sideUp <span class=\"k\">?</span> rect<span class=\"k\">.</span>bottom <span class=\"k\">-</span> popSize<span class=\"k\">.</span>height <span class=\"k\">:</span> rect<span class=\"k\">.</span>top<span class=\"k\">);</span>","            <span class=\"k\">}</span> <span class=\"k\">else</span> <span class=\"k\">{</span>","                sideLeft <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>canSideLeft <span class=\"k\">&amp;&amp;</span> <span class=\"k\">(</span>rect<span class=\"k\">.</span>right <span class=\"k\">+</span> popSize<span class=\"k\">.</span>width <span class=\"k\">&gt;</span> vpRect<span class=\"k\">.</span>right <span class=\"k\">&amp;&amp;</span> rect<span class=\"k\">.</span>left <span class=\"k\">&gt;</span> popSize<span class=\"k\">.</span>width<span class=\"k\">);</span>","                sideUp <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>canSideUp <span class=\"k\">&amp;&amp;</span> <span class=\"k\">(</span>rect<span class=\"k\">.</span>top <span class=\"k\">+</span> popSize<span class=\"k\">.</span>height <span class=\"k\">&gt;</span> vpRect<span class=\"k\">.</span>bottom <span class=\"k\">&amp;&amp;</span> rect<span class=\"k\">.</span>bottom <span class=\"k\">&gt;</span> popSize<span class=\"k\">.</span>height<span class=\"k\">);</span>","                left <span class=\"k\">=</span> <span class=\"k\">(</span>sideLeft <span class=\"k\">?</span> rect<span class=\"k\">.</span>right <span class=\"k\">-</span> popSize<span class=\"k\">.</span>width <span class=\"k\">:</span> rect<span class=\"k\">.</span>left<span class=\"k\">);</span>","                top <span class=\"k\">=</span> <span class=\"k\">(</span>sideUp <span class=\"k\">?</span> rect<span class=\"k\">.</span>top <span class=\"k\">-</span> popSize<span class=\"k\">.</span>height <span class=\"k\">:</span> rect<span class=\"k\">.</span>bottom<span class=\"k\">);</span>","            <span class=\"k\">}</span>","","            <span class=\"k\">var</span> popEl <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>getDom<span class=\"k\">();</span>","            uiUtils<span class=\"k\">.</span>setViewportOffset<span class=\"k\">(</span>popEl<span class=\"k\">,</span> <span class=\"k\">{</span>","                left<span class=\"k\">:</span> left<span class=\"k\">,</span>","                top<span class=\"k\">:</span> top","            <span class=\"k\">}</span><span class=\"k\">);</span>","            domUtils<span class=\"k\">.</span>removeClasses<span class=\"k\">(</span>popEl<span class=\"k\">,</span> ANCHOR_CLASSES<span class=\"k\">);</span>","            popEl<span class=\"k\">.</span>className <span class=\"k\">+=</span> <span class=\"s\">' '</span> <span class=\"k\">+</span> ANCHOR_CLASSES<span class=\"k\">[(</span>sideUp <span class=\"k\">?</span> <span class=\"s\">1</span> <span class=\"k\">:</span> <span class=\"s\">0</span><span class=\"k\">)</span> <span class=\"k\">*</span> <span class=\"s\">2</span> <span class=\"k\">+</span> <span class=\"k\">(</span>sideLeft <span class=\"k\">?</span> <span class=\"s\">1</span> <span class=\"k\">:</span> <span class=\"s\">0</span><span class=\"k\">)];</span>","            <span class=\"k\">if</span><span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>editor<span class=\"k\">)</span><span class=\"k\">{</span>","                popEl<span class=\"k\">.</span>style<span class=\"k\">.</span>zIndex <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>editor<span class=\"k\">.</span>container<span class=\"k\">.</span>style<span class=\"k\">.</span>zIndex <span class=\"k\">*</span> <span class=\"s\">1</span> <span class=\"k\">+</span> <span class=\"s\">10</span><span class=\"k\">;</span>","                baidu<span class=\"k\">.</span>editor<span class=\"k\">.</span>ui<span class=\"k\">.</span>uiUtils<span class=\"k\">.</span>getFixedLayer<span class=\"k\">().</span>style<span class=\"k\">.</span>zIndex <span class=\"k\">=</span> popEl<span class=\"k\">.</span>style<span class=\"k\">.</span>zIndex <span class=\"k\">-</span> <span class=\"s\">1</span><span class=\"k\">;</span>","            <span class=\"k\">}</span>","","        <span class=\"k\">}</span><span class=\"k\">,</span>","        showAt<span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">(</span>offset<span class=\"k\">)</span> <span class=\"k\">{</span>","            <span class=\"k\">var</span> left <span class=\"k\">=</span> offset<span class=\"k\">.</span>left<span class=\"k\">;</span>","            <span class=\"k\">var</span> top <span class=\"k\">=</span> offset<span class=\"k\">.</span>top<span class=\"k\">;</span>","            <span class=\"k\">var</span> rect <span class=\"k\">=</span> <span class=\"k\">{</span>","                left<span class=\"k\">:</span> left<span class=\"k\">,</span>","                top<span class=\"k\">:</span> top<span class=\"k\">,</span>","                right<span class=\"k\">:</span> left<span class=\"k\">,</span>","                bottom<span class=\"k\">:</span> top<span class=\"k\">,</span>","                height<span class=\"k\">:</span> <span class=\"s\">0</span><span class=\"k\">,</span>","                width<span class=\"k\">:</span> <span class=\"s\">0</span>","            <span class=\"k\">}</span><span class=\"k\">;</span>","            <span class=\"k\">this</span><span class=\"k\">.</span>showAnchorRect<span class=\"k\">(</span>rect<span class=\"k\">,</span> <span class=\"k\">false</span><span class=\"k\">,</span> <span class=\"k\">true</span><span class=\"k\">);</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        _show<span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">()</span><span class=\"k\">{</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>_hidden<span class=\"k\">)</span> <span class=\"k\">{</span>","                <span class=\"k\">var</span> box <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>getDom<span class=\"k\">();</span>","                box<span class=\"k\">.</span>style<span class=\"k\">.</span>display <span class=\"k\">=</span> <span class=\"s\">''</span><span class=\"k\">;</span>","                <span class=\"k\">this</span><span class=\"k\">.</span>_hidden <span class=\"k\">=</span> <span class=\"k\">false</span><span class=\"k\">;</span>","<span class=\"c\">//                if (box.setActive) {</span>","<span class=\"c\">//                    box.setActive();</span>","<span class=\"c\">//                }</span>","                <span class=\"k\">this</span><span class=\"k\">.</span>fireEvent<span class=\"k\">(</span><span class=\"s\">'show'</span><span class=\"k\">);</span>","            <span class=\"k\">}</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        isHidden<span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">()</span><span class=\"k\">{</span>","            <span class=\"k\">return</span> <span class=\"k\">this</span><span class=\"k\">.</span>_hidden<span class=\"k\">;</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        show<span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">()</span><span class=\"k\">{</span>","            <span class=\"k\">this</span><span class=\"k\">.</span>_doAutoRender<span class=\"k\">();</span>","            <span class=\"k\">this</span><span class=\"k\">.</span>_show<span class=\"k\">();</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        hide<span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">(</span>notNofity<span class=\"k\">)</span><span class=\"k\">{</span>","            <span class=\"k\">if</span> <span class=\"k\">(!</span><span class=\"k\">this</span><span class=\"k\">.</span>_hidden <span class=\"k\">&amp;&amp;</span> <span class=\"k\">this</span><span class=\"k\">.</span>getDom<span class=\"k\">())</span> <span class=\"k\">{</span>","<span class=\"c\">//                this.getDom().style.visibility = 'hidden';</span>","                <span class=\"k\">this</span><span class=\"k\">.</span>getDom<span class=\"k\">().</span>style<span class=\"k\">.</span>display <span class=\"k\">=</span> <span class=\"s\">'none'</span><span class=\"k\">;</span>","                <span class=\"k\">this</span><span class=\"k\">.</span>_hidden <span class=\"k\">=</span> <span class=\"k\">true</span><span class=\"k\">;</span>","                <span class=\"k\">if</span> <span class=\"k\">(!</span>notNofity<span class=\"k\">)</span> <span class=\"k\">{</span>","                    <span class=\"k\">this</span><span class=\"k\">.</span>fireEvent<span class=\"k\">(</span><span class=\"s\">'hide'</span><span class=\"k\">);</span>","                <span class=\"k\">}</span>","            <span class=\"k\">}</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        queryAutoHide<span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">(</span>el<span class=\"k\">)</span><span class=\"k\">{</span>","            <span class=\"k\">return</span> <span class=\"k\">!</span>el <span class=\"k\">||</span> <span class=\"k\">!</span>uiUtils<span class=\"k\">.</span>contains<span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>getDom<span class=\"k\">(),</span> el<span class=\"k\">);</span>","        <span class=\"k\">}</span>","    <span class=\"k\">}</span><span class=\"k\">;</span>","    utils<span class=\"k\">.</span>inherits<span class=\"k\">(</span>Popup<span class=\"k\">,</span> UIBase<span class=\"k\">);</span>","    ","    domUtils<span class=\"k\">.</span>on<span class=\"k\">(</span> document<span class=\"k\">,</span> <span class=\"s\">'mousedown'</span><span class=\"k\">,</span> <span class=\"k\">function</span> <span class=\"k\">(</span> evt <span class=\"k\">)</span> <span class=\"k\">{</span>","        <span class=\"k\">var</span> el <span class=\"k\">=</span> evt<span class=\"k\">.</span>target <span class=\"k\">||</span> evt<span class=\"k\">.</span>srcElement<span class=\"k\">;</span>","        closeAllPopup<span class=\"k\">(</span> el <span class=\"k\">);</span>","    <span class=\"k\">}</span> <span class=\"k\">);</span>","    domUtils<span class=\"k\">.</span>on<span class=\"k\">(</span> window<span class=\"k\">,</span> <span class=\"s\">'scroll'</span><span class=\"k\">,</span> <span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","        closeAllPopup<span class=\"k\">();</span>","    <span class=\"k\">}</span> <span class=\"k\">);</span>","","<span class=\"c\">//    var lastVpRect = uiUtils.getViewportRect();</span>","<span class=\"c\">//    domUtils.on( window, 'resize', function () {</span>","<span class=\"c\">//        var vpRect = uiUtils.getViewportRect();</span>","<span class=\"c\">//        if (vpRect.width != lastVpRect.width || vpRect.height != lastVpRect.height) {</span>","<span class=\"c\">//            closeAllPopup();</span>","<span class=\"c\">//        }</span>","<span class=\"c\">//    } );</span>","","<span class=\"k\">}</span><span class=\"k\">)();</span>"]);
_$jscoverage['ui/separator.js'] && (_$jscoverage['ui/separator.js'].source = ["<span class=\"k\">(</span><span class=\"k\">function</span> <span class=\"k\">()</span><span class=\"k\">{</span>","    <span class=\"k\">var</span> utils <span class=\"k\">=</span> baidu<span class=\"k\">.</span>editor<span class=\"k\">.</span>utils<span class=\"k\">,</span>","        UIBase <span class=\"k\">=</span> baidu<span class=\"k\">.</span>editor<span class=\"k\">.</span>ui<span class=\"k\">.</span>UIBase<span class=\"k\">,</span>","        Separator <span class=\"k\">=</span> baidu<span class=\"k\">.</span>editor<span class=\"k\">.</span>ui<span class=\"k\">.</span>Separator <span class=\"k\">=</span> <span class=\"k\">function</span> <span class=\"k\">(</span>options<span class=\"k\">)</span><span class=\"k\">{</span>","            <span class=\"k\">this</span><span class=\"k\">.</span>initOptions<span class=\"k\">(</span>options<span class=\"k\">);</span>","            <span class=\"k\">this</span><span class=\"k\">.</span>initSeparator<span class=\"k\">();</span>","        <span class=\"k\">}</span><span class=\"k\">;</span>","    Separator<span class=\"k\">.</span>prototype <span class=\"k\">=</span> <span class=\"k\">{</span>","        uiName<span class=\"k\">:</span> <span class=\"s\">'separator'</span><span class=\"k\">,</span>","        initSeparator<span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">()</span><span class=\"k\">{</span>","            <span class=\"k\">this</span><span class=\"k\">.</span>initUIBase<span class=\"k\">();</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        getHtmlTpl<span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">()</span><span class=\"k\">{</span>","            <span class=\"k\">return</span> <span class=\"s\">'&lt;div id=\"##\" class=\"edui-box %%\"&gt;&lt;/div&gt;'</span><span class=\"k\">;</span>","        <span class=\"k\">}</span>","    <span class=\"k\">}</span><span class=\"k\">;</span>","    utils<span class=\"k\">.</span>inherits<span class=\"k\">(</span>Separator<span class=\"k\">,</span> UIBase<span class=\"k\">);</span>","","<span class=\"k\">}</span><span class=\"k\">)();</span>"]);
_$jscoverage['ui/splitbutton.js'] && (_$jscoverage['ui/splitbutton.js'].source = ["<span class=\"c\">///import core</span>","<span class=\"c\">///import uicore</span>","<span class=\"c\">///import ui/stateful.js</span>","<span class=\"k\">(</span><span class=\"k\">function</span> <span class=\"k\">()</span><span class=\"k\">{</span>","    <span class=\"k\">var</span> utils <span class=\"k\">=</span> baidu<span class=\"k\">.</span>editor<span class=\"k\">.</span>utils<span class=\"k\">,</span>","        uiUtils <span class=\"k\">=</span> baidu<span class=\"k\">.</span>editor<span class=\"k\">.</span>ui<span class=\"k\">.</span>uiUtils<span class=\"k\">,</span>","        domUtils <span class=\"k\">=</span> baidu<span class=\"k\">.</span>editor<span class=\"k\">.</span>dom<span class=\"k\">.</span>domUtils<span class=\"k\">,</span>","        UIBase <span class=\"k\">=</span> baidu<span class=\"k\">.</span>editor<span class=\"k\">.</span>ui<span class=\"k\">.</span>UIBase<span class=\"k\">,</span>","        Stateful <span class=\"k\">=</span> baidu<span class=\"k\">.</span>editor<span class=\"k\">.</span>ui<span class=\"k\">.</span>Stateful<span class=\"k\">,</span>","        SplitButton <span class=\"k\">=</span> baidu<span class=\"k\">.</span>editor<span class=\"k\">.</span>ui<span class=\"k\">.</span>SplitButton <span class=\"k\">=</span> <span class=\"k\">function</span> <span class=\"k\">(</span>options<span class=\"k\">)</span><span class=\"k\">{</span>","            <span class=\"k\">this</span><span class=\"k\">.</span>initOptions<span class=\"k\">(</span>options<span class=\"k\">);</span>","            <span class=\"k\">this</span><span class=\"k\">.</span>initSplitButton<span class=\"k\">();</span>","        <span class=\"k\">}</span><span class=\"k\">;</span>","    SplitButton<span class=\"k\">.</span>prototype <span class=\"k\">=</span> <span class=\"k\">{</span>","        popup<span class=\"k\">:</span> <span class=\"k\">null</span><span class=\"k\">,</span>","        uiName<span class=\"k\">:</span> <span class=\"s\">'splitbutton'</span><span class=\"k\">,</span>","        title<span class=\"k\">:</span> <span class=\"s\">''</span><span class=\"k\">,</span>","        initSplitButton<span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">()</span><span class=\"k\">{</span>","            <span class=\"k\">this</span><span class=\"k\">.</span>initUIBase<span class=\"k\">();</span>","            <span class=\"k\">this</span><span class=\"k\">.</span>Stateful_init<span class=\"k\">();</span>","            <span class=\"k\">var</span> me <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">;</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>popup <span class=\"k\">!=</span> <span class=\"k\">null</span><span class=\"k\">)</span> <span class=\"k\">{</span>","                <span class=\"k\">var</span> popup <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>popup<span class=\"k\">;</span>","                <span class=\"k\">this</span><span class=\"k\">.</span>popup <span class=\"k\">=</span> <span class=\"k\">null</span><span class=\"k\">;</span>","                <span class=\"k\">this</span><span class=\"k\">.</span>setPopup<span class=\"k\">(</span>popup<span class=\"k\">);</span>","            <span class=\"k\">}</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        _UIBase_postRender<span class=\"k\">:</span> UIBase<span class=\"k\">.</span>prototype<span class=\"k\">.</span>postRender<span class=\"k\">,</span>","        postRender<span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">()</span><span class=\"k\">{</span>","            <span class=\"k\">this</span><span class=\"k\">.</span>Stateful_postRender<span class=\"k\">();</span>","            <span class=\"k\">this</span><span class=\"k\">.</span>_UIBase_postRender<span class=\"k\">();</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        setPopup<span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">(</span>popup<span class=\"k\">)</span><span class=\"k\">{</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>popup <span class=\"k\">===</span> popup<span class=\"k\">)</span> <span class=\"k\">return</span><span class=\"k\">;</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>popup <span class=\"k\">!=</span> <span class=\"k\">null</span><span class=\"k\">)</span> <span class=\"k\">{</span>","                <span class=\"k\">this</span><span class=\"k\">.</span>popup<span class=\"k\">.</span>dispose<span class=\"k\">();</span>","            <span class=\"k\">}</span>","            popup<span class=\"k\">.</span>addListener<span class=\"k\">(</span><span class=\"s\">'show'</span><span class=\"k\">,</span> utils<span class=\"k\">.</span>bind<span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>_onPopupShow<span class=\"k\">,</span> <span class=\"k\">this</span><span class=\"k\">));</span>","            popup<span class=\"k\">.</span>addListener<span class=\"k\">(</span><span class=\"s\">'hide'</span><span class=\"k\">,</span> utils<span class=\"k\">.</span>bind<span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>_onPopupHide<span class=\"k\">,</span> <span class=\"k\">this</span><span class=\"k\">));</span>","            popup<span class=\"k\">.</span>addListener<span class=\"k\">(</span><span class=\"s\">'postrender'</span><span class=\"k\">,</span> utils<span class=\"k\">.</span>bind<span class=\"k\">(</span><span class=\"k\">function</span> <span class=\"k\">()</span><span class=\"k\">{</span>","                popup<span class=\"k\">.</span>getDom<span class=\"k\">(</span><span class=\"s\">'body'</span><span class=\"k\">).</span>appendChild<span class=\"k\">(</span>","                    uiUtils<span class=\"k\">.</span>createElementByHtml<span class=\"k\">(</span><span class=\"s\">'&lt;div id=\"'</span> <span class=\"k\">+</span>","                        <span class=\"k\">this</span><span class=\"k\">.</span>popup<span class=\"k\">.</span>id <span class=\"k\">+</span> <span class=\"s\">'_bordereraser\" class=\"edui-bordereraser edui-background\" style=\"width:'</span> <span class=\"k\">+</span>","                        <span class=\"k\">(</span>uiUtils<span class=\"k\">.</span>getClientRect<span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>getDom<span class=\"k\">()).</span>width <span class=\"k\">-</span> <span class=\"s\">2</span><span class=\"k\">)</span> <span class=\"k\">+</span> <span class=\"s\">'px\"&gt;&lt;/div&gt;'</span><span class=\"k\">)</span>","                    <span class=\"k\">);</span>","                popup<span class=\"k\">.</span>getDom<span class=\"k\">().</span>className <span class=\"k\">+=</span> <span class=\"s\">' '</span> <span class=\"k\">+</span> <span class=\"k\">this</span><span class=\"k\">.</span>className<span class=\"k\">;</span>","            <span class=\"k\">}</span><span class=\"k\">,</span> <span class=\"k\">this</span><span class=\"k\">));</span>","            <span class=\"k\">this</span><span class=\"k\">.</span>popup <span class=\"k\">=</span> popup<span class=\"k\">;</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        _onPopupShow<span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">()</span><span class=\"k\">{</span>","            <span class=\"k\">this</span><span class=\"k\">.</span>addState<span class=\"k\">(</span><span class=\"s\">'opened'</span><span class=\"k\">);</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        _onPopupHide<span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">()</span><span class=\"k\">{</span>","            <span class=\"k\">this</span><span class=\"k\">.</span>removeState<span class=\"k\">(</span><span class=\"s\">'opened'</span><span class=\"k\">);</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        getHtmlTpl<span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">()</span><span class=\"k\">{</span>","            <span class=\"k\">return</span> <span class=\"s\">'&lt;div id=\"##\" class=\"edui-box %%\"&gt;'</span> <span class=\"k\">+</span>","                <span class=\"s\">'&lt;div '</span><span class=\"k\">+</span> <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>title <span class=\"k\">?</span> <span class=\"s\">'title=\"'</span> <span class=\"k\">+</span> <span class=\"k\">this</span><span class=\"k\">.</span>title <span class=\"k\">+</span> <span class=\"s\">'\"'</span> <span class=\"k\">:</span> <span class=\"s\">''</span><span class=\"k\">)</span> <span class=\"k\">+</span><span class=\"s\">' id=\"##_state\" stateful&gt;&lt;div class=\"%%-body\"&gt;'</span> <span class=\"k\">+</span>","                <span class=\"s\">'&lt;div id=\"##_button_body\" class=\"edui-box edui-button-body\" onclick=\"$$._onButtonClick(event, this);\"&gt;'</span> <span class=\"k\">+</span>","                <span class=\"s\">'&lt;div class=\"edui-box edui-icon\"&gt;&lt;/div&gt;'</span> <span class=\"k\">+</span>","                <span class=\"s\">'&lt;/div&gt;'</span> <span class=\"k\">+</span>","                <span class=\"s\">'&lt;div class=\"edui-box edui-splitborder\"&gt;&lt;/div&gt;'</span> <span class=\"k\">+</span>","                <span class=\"s\">'&lt;div class=\"edui-box edui-arrow\" onclick=\"$$._onArrowClick();\"&gt;&lt;/div&gt;'</span> <span class=\"k\">+</span>","                <span class=\"s\">'&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;'</span><span class=\"k\">;</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        showPopup<span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">()</span><span class=\"k\">{</span>","            <span class=\"c\">// &#24403;popup&#24448;&#19978;&#24377;&#20986;&#30340;&#26102;&#20505;&#65292;&#20570;&#29305;&#27530;&#22788;&#29702;</span>","            <span class=\"k\">var</span> rect <span class=\"k\">=</span> uiUtils<span class=\"k\">.</span>getClientRect<span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>getDom<span class=\"k\">());</span>","            rect<span class=\"k\">.</span>top <span class=\"k\">-=</span> <span class=\"k\">this</span><span class=\"k\">.</span>popup<span class=\"k\">.</span>SHADOW_RADIUS<span class=\"k\">;</span>","            rect<span class=\"k\">.</span>height <span class=\"k\">+=</span> <span class=\"k\">this</span><span class=\"k\">.</span>popup<span class=\"k\">.</span>SHADOW_RADIUS<span class=\"k\">;</span>","            <span class=\"k\">this</span><span class=\"k\">.</span>popup<span class=\"k\">.</span>showAnchorRect<span class=\"k\">(</span>rect<span class=\"k\">);</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        _onArrowClick<span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">(</span>event<span class=\"k\">,</span> el<span class=\"k\">)</span><span class=\"k\">{</span>","            <span class=\"k\">if</span> <span class=\"k\">(!</span><span class=\"k\">this</span><span class=\"k\">.</span>isDisabled<span class=\"k\">())</span> <span class=\"k\">{</span>","                <span class=\"k\">this</span><span class=\"k\">.</span>showPopup<span class=\"k\">();</span>","            <span class=\"k\">}</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        _onButtonClick<span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">()</span><span class=\"k\">{</span>","            <span class=\"k\">if</span> <span class=\"k\">(!</span><span class=\"k\">this</span><span class=\"k\">.</span>isDisabled<span class=\"k\">())</span> <span class=\"k\">{</span>","                <span class=\"k\">this</span><span class=\"k\">.</span>fireEvent<span class=\"k\">(</span><span class=\"s\">'buttonclick'</span><span class=\"k\">);</span>","            <span class=\"k\">}</span>","        <span class=\"k\">}</span>","    <span class=\"k\">}</span><span class=\"k\">;</span>","    utils<span class=\"k\">.</span>inherits<span class=\"k\">(</span>SplitButton<span class=\"k\">,</span> UIBase<span class=\"k\">);</span>","    utils<span class=\"k\">.</span>extend<span class=\"k\">(</span>SplitButton<span class=\"k\">.</span>prototype<span class=\"k\">,</span> Stateful<span class=\"k\">,</span> <span class=\"k\">true</span><span class=\"k\">);</span>","","<span class=\"k\">}</span><span class=\"k\">)();</span>"]);
_$jscoverage['ui/stateful.js'] && (_$jscoverage['ui/stateful.js'].source = ["<span class=\"k\">(</span><span class=\"k\">function</span> <span class=\"k\">()</span><span class=\"k\">{</span>","    <span class=\"k\">var</span> browser <span class=\"k\">=</span> baidu<span class=\"k\">.</span>editor<span class=\"k\">.</span>browser<span class=\"k\">,</span>","        domUtils <span class=\"k\">=</span> baidu<span class=\"k\">.</span>editor<span class=\"k\">.</span>dom<span class=\"k\">.</span>domUtils<span class=\"k\">,</span>","        uiUtils <span class=\"k\">=</span> baidu<span class=\"k\">.</span>editor<span class=\"k\">.</span>ui<span class=\"k\">.</span>uiUtils<span class=\"k\">;</span>","    ","    <span class=\"k\">var</span> TPL_STATEFUL <span class=\"k\">=</span> <span class=\"s\">'onmousedown=\"$$.Stateful_onMouseDown(event, this);\"'</span> <span class=\"k\">+</span>","        <span class=\"s\">' onmouseup=\"$$.Stateful_onMouseUp(event, this);\"'</span> <span class=\"k\">+</span>","        <span class=\"k\">(</span> browser<span class=\"k\">.</span>ie <span class=\"k\">?</span> <span class=\"k\">(</span>","        <span class=\"s\">' onmouseenter=\"$$.Stateful_onMouseEnter(event, this);\"'</span> <span class=\"k\">+</span>","        <span class=\"s\">' onmouseleave=\"$$.Stateful_onMouseLeave(event, this);\"'</span> <span class=\"k\">)</span>","        <span class=\"k\">:</span> <span class=\"k\">(</span>","        <span class=\"s\">' onmouseover=\"$$.Stateful_onMouseOver(event, this);\"'</span> <span class=\"k\">+</span>","        <span class=\"s\">' onmouseout=\"$$.Stateful_onMouseOut(event, this);\"'</span> <span class=\"k\">));</span>","    ","    baidu<span class=\"k\">.</span>editor<span class=\"k\">.</span>ui<span class=\"k\">.</span>Stateful <span class=\"k\">=</span> <span class=\"k\">{</span>","        alwalysHoverable<span class=\"k\">:</span> <span class=\"k\">false</span><span class=\"k\">,</span>","        Stateful_init<span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">()</span><span class=\"k\">{</span>","            <span class=\"k\">this</span><span class=\"k\">.</span>_Stateful_dGetHtmlTpl <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>getHtmlTpl<span class=\"k\">;</span>","            <span class=\"k\">this</span><span class=\"k\">.</span>getHtmlTpl <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>Stateful_getHtmlTpl<span class=\"k\">;</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        Stateful_getHtmlTpl<span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">()</span><span class=\"k\">{</span>","            <span class=\"k\">var</span> tpl <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>_Stateful_dGetHtmlTpl<span class=\"k\">();</span>","            <span class=\"c\">// &#20351;&#29992;function&#36991;&#20813;$&#36716;&#20041;</span>","            <span class=\"k\">return</span> tpl<span class=\"k\">.</span>replace<span class=\"k\">(</span><span class=\"s\">/stateful/g</span><span class=\"k\">,</span> <span class=\"k\">function</span> <span class=\"k\">()</span><span class=\"k\">{</span> <span class=\"k\">return</span> TPL_STATEFUL<span class=\"k\">;</span> <span class=\"k\">}</span><span class=\"k\">);</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        Stateful_onMouseEnter<span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">(</span>evt<span class=\"k\">,</span> el<span class=\"k\">)</span><span class=\"k\">{</span>","            <span class=\"k\">if</span> <span class=\"k\">(!</span><span class=\"k\">this</span><span class=\"k\">.</span>isDisabled<span class=\"k\">()</span> <span class=\"k\">||</span> <span class=\"k\">this</span><span class=\"k\">.</span>alwalysHoverable<span class=\"k\">)</span> <span class=\"k\">{</span>","                <span class=\"k\">this</span><span class=\"k\">.</span>addState<span class=\"k\">(</span><span class=\"s\">'hover'</span><span class=\"k\">);</span>","                <span class=\"k\">this</span><span class=\"k\">.</span>fireEvent<span class=\"k\">(</span><span class=\"s\">'over'</span><span class=\"k\">);</span>","            <span class=\"k\">}</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        Stateful_onMouseLeave<span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">(</span>evt<span class=\"k\">,</span> el<span class=\"k\">)</span><span class=\"k\">{</span>","            <span class=\"k\">if</span> <span class=\"k\">(!</span><span class=\"k\">this</span><span class=\"k\">.</span>isDisabled<span class=\"k\">()</span> <span class=\"k\">||</span> <span class=\"k\">this</span><span class=\"k\">.</span>alwalysHoverable<span class=\"k\">)</span> <span class=\"k\">{</span>","                <span class=\"k\">this</span><span class=\"k\">.</span>removeState<span class=\"k\">(</span><span class=\"s\">'hover'</span><span class=\"k\">);</span>","                <span class=\"k\">this</span><span class=\"k\">.</span>removeState<span class=\"k\">(</span><span class=\"s\">'active'</span><span class=\"k\">);</span>","                <span class=\"k\">this</span><span class=\"k\">.</span>fireEvent<span class=\"k\">(</span><span class=\"s\">'out'</span><span class=\"k\">);</span>","            <span class=\"k\">}</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        Stateful_onMouseOver<span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">(</span>evt<span class=\"k\">,</span> el<span class=\"k\">)</span><span class=\"k\">{</span>","            <span class=\"k\">var</span> rel <span class=\"k\">=</span> evt<span class=\"k\">.</span>relatedTarget<span class=\"k\">;</span>","            <span class=\"k\">if</span> <span class=\"k\">(!</span>uiUtils<span class=\"k\">.</span>contains<span class=\"k\">(</span>el<span class=\"k\">,</span> rel<span class=\"k\">)</span> <span class=\"k\">&amp;&amp;</span> el <span class=\"k\">!==</span> rel<span class=\"k\">)</span> <span class=\"k\">{</span>","                <span class=\"k\">this</span><span class=\"k\">.</span>Stateful_onMouseEnter<span class=\"k\">(</span>evt<span class=\"k\">,</span> el<span class=\"k\">);</span>","            <span class=\"k\">}</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        Stateful_onMouseOut<span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">(</span>evt<span class=\"k\">,</span> el<span class=\"k\">)</span><span class=\"k\">{</span>","            <span class=\"k\">var</span> rel <span class=\"k\">=</span> evt<span class=\"k\">.</span>relatedTarget<span class=\"k\">;</span>","            <span class=\"k\">if</span> <span class=\"k\">(!</span>uiUtils<span class=\"k\">.</span>contains<span class=\"k\">(</span>el<span class=\"k\">,</span> rel<span class=\"k\">)</span> <span class=\"k\">&amp;&amp;</span> el <span class=\"k\">!==</span> rel<span class=\"k\">)</span> <span class=\"k\">{</span>","                <span class=\"k\">this</span><span class=\"k\">.</span>Stateful_onMouseLeave<span class=\"k\">(</span>evt<span class=\"k\">,</span> el<span class=\"k\">);</span>","            <span class=\"k\">}</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        Stateful_onMouseDown<span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">(</span>evt<span class=\"k\">,</span> el<span class=\"k\">)</span><span class=\"k\">{</span>","            <span class=\"k\">if</span> <span class=\"k\">(!</span><span class=\"k\">this</span><span class=\"k\">.</span>isDisabled<span class=\"k\">())</span> <span class=\"k\">{</span>","                <span class=\"k\">this</span><span class=\"k\">.</span>addState<span class=\"k\">(</span><span class=\"s\">'active'</span><span class=\"k\">);</span>","            <span class=\"k\">}</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        Stateful_onMouseUp<span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">(</span>evt<span class=\"k\">,</span> el<span class=\"k\">)</span><span class=\"k\">{</span>","            <span class=\"k\">if</span> <span class=\"k\">(!</span><span class=\"k\">this</span><span class=\"k\">.</span>isDisabled<span class=\"k\">())</span> <span class=\"k\">{</span>","                <span class=\"k\">this</span><span class=\"k\">.</span>removeState<span class=\"k\">(</span><span class=\"s\">'active'</span><span class=\"k\">);</span>","            <span class=\"k\">}</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        Stateful_postRender<span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">()</span><span class=\"k\">{</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>disabled <span class=\"k\">&amp;&amp;</span> <span class=\"k\">!</span><span class=\"k\">this</span><span class=\"k\">.</span>hasState<span class=\"k\">(</span><span class=\"s\">'disabled'</span><span class=\"k\">))</span> <span class=\"k\">{</span>","                <span class=\"k\">this</span><span class=\"k\">.</span>addState<span class=\"k\">(</span><span class=\"s\">'disabled'</span><span class=\"k\">);</span>","            <span class=\"k\">}</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        hasState<span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">(</span>state<span class=\"k\">)</span><span class=\"k\">{</span>","            <span class=\"k\">return</span> domUtils<span class=\"k\">.</span>hasClass<span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>getStateDom<span class=\"k\">(),</span> <span class=\"s\">'edui-state-'</span> <span class=\"k\">+</span> state<span class=\"k\">);</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        addState<span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">(</span>state<span class=\"k\">)</span><span class=\"k\">{</span>","            <span class=\"k\">if</span> <span class=\"k\">(!</span><span class=\"k\">this</span><span class=\"k\">.</span>hasState<span class=\"k\">(</span>state<span class=\"k\">))</span> <span class=\"k\">{</span>","                <span class=\"k\">this</span><span class=\"k\">.</span>getStateDom<span class=\"k\">().</span>className <span class=\"k\">+=</span> <span class=\"s\">' edui-state-'</span> <span class=\"k\">+</span> state<span class=\"k\">;</span>","            <span class=\"k\">}</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        removeState<span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">(</span>state<span class=\"k\">)</span><span class=\"k\">{</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>hasState<span class=\"k\">(</span>state<span class=\"k\">))</span> <span class=\"k\">{</span>","                domUtils<span class=\"k\">.</span>removeClasses<span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>getStateDom<span class=\"k\">(),</span> <span class=\"k\">[</span><span class=\"s\">'edui-state-'</span> <span class=\"k\">+</span> state<span class=\"k\">]);</span>","            <span class=\"k\">}</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        getStateDom<span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">()</span><span class=\"k\">{</span>","            <span class=\"k\">return</span> <span class=\"k\">this</span><span class=\"k\">.</span>getDom<span class=\"k\">(</span><span class=\"s\">'state'</span><span class=\"k\">);</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        isChecked<span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">()</span><span class=\"k\">{</span>","            <span class=\"k\">return</span> <span class=\"k\">this</span><span class=\"k\">.</span>hasState<span class=\"k\">(</span><span class=\"s\">'checked'</span><span class=\"k\">);</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        setChecked<span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">(</span>checked<span class=\"k\">)</span><span class=\"k\">{</span>","            <span class=\"k\">if</span> <span class=\"k\">(!</span><span class=\"k\">this</span><span class=\"k\">.</span>isDisabled<span class=\"k\">()</span> <span class=\"k\">&amp;&amp;</span> checked<span class=\"k\">)</span> <span class=\"k\">{</span>","                <span class=\"k\">this</span><span class=\"k\">.</span>addState<span class=\"k\">(</span><span class=\"s\">'checked'</span><span class=\"k\">);</span>","            <span class=\"k\">}</span> <span class=\"k\">else</span> <span class=\"k\">{</span>","                <span class=\"k\">this</span><span class=\"k\">.</span>removeState<span class=\"k\">(</span><span class=\"s\">'checked'</span><span class=\"k\">);</span>","            <span class=\"k\">}</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        isDisabled<span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">()</span><span class=\"k\">{</span>","            <span class=\"k\">return</span> <span class=\"k\">this</span><span class=\"k\">.</span>hasState<span class=\"k\">(</span><span class=\"s\">'disabled'</span><span class=\"k\">);</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        setDisabled<span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">(</span>disabled<span class=\"k\">)</span><span class=\"k\">{</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span>disabled<span class=\"k\">)</span> <span class=\"k\">{</span>","                <span class=\"k\">this</span><span class=\"k\">.</span>removeState<span class=\"k\">(</span><span class=\"s\">'hover'</span><span class=\"k\">);</span>","                <span class=\"k\">this</span><span class=\"k\">.</span>removeState<span class=\"k\">(</span><span class=\"s\">'checked'</span><span class=\"k\">);</span>","                <span class=\"k\">this</span><span class=\"k\">.</span>removeState<span class=\"k\">(</span><span class=\"s\">'active'</span><span class=\"k\">);</span>","                <span class=\"k\">this</span><span class=\"k\">.</span>addState<span class=\"k\">(</span><span class=\"s\">'disabled'</span><span class=\"k\">);</span>","            <span class=\"k\">}</span> <span class=\"k\">else</span> <span class=\"k\">{</span>","                <span class=\"k\">this</span><span class=\"k\">.</span>removeState<span class=\"k\">(</span><span class=\"s\">'disabled'</span><span class=\"k\">);</span>","            <span class=\"k\">}</span>","        <span class=\"k\">}</span>","    <span class=\"k\">}</span><span class=\"k\">;</span>","<span class=\"k\">}</span><span class=\"k\">)();</span>"]);
_$jscoverage['ui/tablebutton.js'] && (_$jscoverage['ui/tablebutton.js'].source = ["<span class=\"c\">///import core</span>","<span class=\"c\">///import uicore</span>","<span class=\"c\">///import ui/popup.js</span>","<span class=\"c\">///import ui/tablepicker.js</span>","<span class=\"c\">///import ui/splitbutton.js</span>","<span class=\"k\">(</span><span class=\"k\">function</span> <span class=\"k\">()</span><span class=\"k\">{</span>","    <span class=\"k\">var</span> utils <span class=\"k\">=</span> baidu<span class=\"k\">.</span>editor<span class=\"k\">.</span>utils<span class=\"k\">,</span>","        Popup <span class=\"k\">=</span> baidu<span class=\"k\">.</span>editor<span class=\"k\">.</span>ui<span class=\"k\">.</span>Popup<span class=\"k\">,</span>","        TablePicker <span class=\"k\">=</span> baidu<span class=\"k\">.</span>editor<span class=\"k\">.</span>ui<span class=\"k\">.</span>TablePicker<span class=\"k\">,</span>","        SplitButton <span class=\"k\">=</span> baidu<span class=\"k\">.</span>editor<span class=\"k\">.</span>ui<span class=\"k\">.</span>SplitButton<span class=\"k\">,</span>","        TableButton <span class=\"k\">=</span> baidu<span class=\"k\">.</span>editor<span class=\"k\">.</span>ui<span class=\"k\">.</span>TableButton <span class=\"k\">=</span> <span class=\"k\">function</span> <span class=\"k\">(</span>options<span class=\"k\">)</span><span class=\"k\">{</span>","            <span class=\"k\">this</span><span class=\"k\">.</span>initOptions<span class=\"k\">(</span>options<span class=\"k\">);</span>","            <span class=\"k\">this</span><span class=\"k\">.</span>initTableButton<span class=\"k\">();</span>","        <span class=\"k\">}</span><span class=\"k\">;</span>","    TableButton<span class=\"k\">.</span>prototype <span class=\"k\">=</span> <span class=\"k\">{</span>","        initTableButton<span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">()</span><span class=\"k\">{</span>","            <span class=\"k\">var</span> me <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">;</span>","            <span class=\"k\">this</span><span class=\"k\">.</span>popup <span class=\"k\">=</span> <span class=\"k\">new</span> Popup<span class=\"k\">(</span><span class=\"k\">{</span>","                content<span class=\"k\">:</span> <span class=\"k\">new</span> TablePicker<span class=\"k\">(</span><span class=\"k\">{</span>","                    editor<span class=\"k\">:</span>me<span class=\"k\">.</span>editor<span class=\"k\">,</span>","                    onpicktable<span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">(</span>t<span class=\"k\">,</span> numCols<span class=\"k\">,</span> numRows<span class=\"k\">)</span><span class=\"k\">{</span>","                        me<span class=\"k\">.</span>_onPickTable<span class=\"k\">(</span>numCols<span class=\"k\">,</span> numRows<span class=\"k\">);</span>","                    <span class=\"k\">}</span><span class=\"k\">,</span>","                    onmore<span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">()</span><span class=\"k\">{</span>","                        me<span class=\"k\">.</span>popup<span class=\"k\">.</span>hide<span class=\"k\">();</span>","                        me<span class=\"k\">.</span>fireEvent<span class=\"k\">(</span><span class=\"s\">'more'</span><span class=\"k\">);</span>","                    <span class=\"k\">}</span>","                <span class=\"k\">}</span><span class=\"k\">),</span>","                <span class=\"s\">'editor'</span><span class=\"k\">:</span>me<span class=\"k\">.</span>editor","            <span class=\"k\">}</span><span class=\"k\">);</span>","            <span class=\"k\">this</span><span class=\"k\">.</span>initSplitButton<span class=\"k\">();</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        _onPickTable<span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">(</span>numCols<span class=\"k\">,</span> numRows<span class=\"k\">)</span><span class=\"k\">{</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>fireEvent<span class=\"k\">(</span><span class=\"s\">'picktable'</span><span class=\"k\">,</span> numCols<span class=\"k\">,</span> numRows<span class=\"k\">)</span> <span class=\"k\">!==</span> <span class=\"k\">false</span><span class=\"k\">)</span> <span class=\"k\">{</span>","                <span class=\"k\">this</span><span class=\"k\">.</span>popup<span class=\"k\">.</span>hide<span class=\"k\">();</span>","            <span class=\"k\">}</span>","        <span class=\"k\">}</span>","    <span class=\"k\">}</span><span class=\"k\">;</span>","    utils<span class=\"k\">.</span>inherits<span class=\"k\">(</span>TableButton<span class=\"k\">,</span> SplitButton<span class=\"k\">);</span>","","<span class=\"k\">}</span><span class=\"k\">)();</span>"]);
_$jscoverage['ui/tablepicker.js'] && (_$jscoverage['ui/tablepicker.js'].source = ["<span class=\"c\">///import core</span>","<span class=\"c\">///import uicore</span>","<span class=\"k\">(</span><span class=\"k\">function</span> <span class=\"k\">()</span><span class=\"k\">{</span>","    <span class=\"k\">var</span> utils <span class=\"k\">=</span> baidu<span class=\"k\">.</span>editor<span class=\"k\">.</span>utils<span class=\"k\">,</span>","        uiUtils <span class=\"k\">=</span> baidu<span class=\"k\">.</span>editor<span class=\"k\">.</span>ui<span class=\"k\">.</span>uiUtils<span class=\"k\">,</span>","        UIBase <span class=\"k\">=</span> baidu<span class=\"k\">.</span>editor<span class=\"k\">.</span>ui<span class=\"k\">.</span>UIBase<span class=\"k\">;</span>","    ","    <span class=\"k\">var</span> TablePicker <span class=\"k\">=</span> baidu<span class=\"k\">.</span>editor<span class=\"k\">.</span>ui<span class=\"k\">.</span>TablePicker <span class=\"k\">=</span> <span class=\"k\">function</span> <span class=\"k\">(</span>options<span class=\"k\">)</span><span class=\"k\">{</span>","        <span class=\"k\">this</span><span class=\"k\">.</span>initOptions<span class=\"k\">(</span>options<span class=\"k\">);</span>","        <span class=\"k\">this</span><span class=\"k\">.</span>initTablePicker<span class=\"k\">();</span>","    <span class=\"k\">}</span><span class=\"k\">;</span>","    TablePicker<span class=\"k\">.</span>prototype <span class=\"k\">=</span> <span class=\"k\">{</span>","        defaultNumRows<span class=\"k\">:</span> <span class=\"s\">10</span><span class=\"k\">,</span>","        defaultNumCols<span class=\"k\">:</span> <span class=\"s\">10</span><span class=\"k\">,</span>","        maxNumRows<span class=\"k\">:</span> <span class=\"s\">20</span><span class=\"k\">,</span>","        maxNumCols<span class=\"k\">:</span> <span class=\"s\">20</span><span class=\"k\">,</span>","        numRows<span class=\"k\">:</span> <span class=\"s\">10</span><span class=\"k\">,</span>","        numCols<span class=\"k\">:</span> <span class=\"s\">10</span><span class=\"k\">,</span>","        lengthOfCellSide<span class=\"k\">:</span> <span class=\"s\">22</span><span class=\"k\">,</span>","        initTablePicker<span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">()</span><span class=\"k\">{</span>","            <span class=\"k\">this</span><span class=\"k\">.</span>initUIBase<span class=\"k\">();</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        getHtmlTpl<span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">()</span><span class=\"k\">{</span>","            <span class=\"k\">var</span> me <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">;</span>","            <span class=\"k\">return</span> <span class=\"s\">'&lt;div id=\"##\" class=\"edui-tablepicker %%\"&gt;'</span> <span class=\"k\">+</span>","                 <span class=\"s\">'&lt;div class=\"edui-tablepicker-body\"&gt;'</span> <span class=\"k\">+</span>","                  <span class=\"s\">'&lt;div class=\"edui-infoarea\"&gt;'</span> <span class=\"k\">+</span>","                   <span class=\"s\">'&lt;span id=\"##_label\" class=\"edui-label\"&gt;&lt;/span&gt;'</span> <span class=\"k\">+</span>","                   <span class=\"s\">'&lt;span class=\"edui-clickable\" onclick=\"$$._onMore();\"&gt;'</span><span class=\"k\">+</span>me<span class=\"k\">.</span>editor<span class=\"k\">.</span>getLang<span class=\"k\">(</span><span class=\"s\">\"more\"</span><span class=\"k\">)+</span><span class=\"s\">'&lt;/span&gt;'</span> <span class=\"k\">+</span>","                  <span class=\"s\">'&lt;/div&gt;'</span> <span class=\"k\">+</span>","                  <span class=\"s\">'&lt;div class=\"edui-pickarea\"'</span> <span class=\"k\">+</span>","                   <span class=\"s\">' onmousemove=\"$$._onMouseMove(event, this);\"'</span> <span class=\"k\">+</span>","                   <span class=\"s\">' onmouseover=\"$$._onMouseOver(event, this);\"'</span> <span class=\"k\">+</span>","                   <span class=\"s\">' onmouseout=\"$$._onMouseOut(event, this);\"'</span> <span class=\"k\">+</span>","                   <span class=\"s\">' onclick=\"$$._onClick(event, this);\"'</span> <span class=\"k\">+</span>","                  <span class=\"s\">'&gt;'</span> <span class=\"k\">+</span>","                    <span class=\"s\">'&lt;div id=\"##_overlay\" class=\"edui-overlay\"&gt;&lt;/div&gt;'</span> <span class=\"k\">+</span>","                  <span class=\"s\">'&lt;/div&gt;'</span> <span class=\"k\">+</span>","                 <span class=\"s\">'&lt;/div&gt;'</span> <span class=\"k\">+</span>","                <span class=\"s\">'&lt;/div&gt;'</span><span class=\"k\">;</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        _UIBase_render<span class=\"k\">:</span> UIBase<span class=\"k\">.</span>prototype<span class=\"k\">.</span>render<span class=\"k\">,</span>","        render<span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">(</span>holder<span class=\"k\">)</span><span class=\"k\">{</span>","            <span class=\"k\">this</span><span class=\"k\">.</span>_UIBase_render<span class=\"k\">(</span>holder<span class=\"k\">);</span>","            <span class=\"k\">this</span><span class=\"k\">.</span>getDom<span class=\"k\">(</span><span class=\"s\">'label'</span><span class=\"k\">).</span>innerHTML <span class=\"k\">=</span> <span class=\"s\">'0'</span><span class=\"k\">+</span><span class=\"k\">this</span><span class=\"k\">.</span>editor<span class=\"k\">.</span>getLang<span class=\"k\">(</span><span class=\"s\">\"t_row\"</span><span class=\"k\">)+</span><span class=\"s\">' x 0'</span><span class=\"k\">+</span><span class=\"k\">this</span><span class=\"k\">.</span>editor<span class=\"k\">.</span>getLang<span class=\"k\">(</span><span class=\"s\">\"t_col\"</span><span class=\"k\">);</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        _track<span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">(</span>numCols<span class=\"k\">,</span> numRows<span class=\"k\">)</span><span class=\"k\">{</span>","            <span class=\"k\">var</span> style <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>getDom<span class=\"k\">(</span><span class=\"s\">'overlay'</span><span class=\"k\">).</span>style<span class=\"k\">;</span>","            <span class=\"k\">var</span> sideLen <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>lengthOfCellSide<span class=\"k\">;</span>","            style<span class=\"k\">.</span>width <span class=\"k\">=</span> numCols <span class=\"k\">*</span> sideLen <span class=\"k\">+</span> <span class=\"s\">'px'</span><span class=\"k\">;</span>","            style<span class=\"k\">.</span>height <span class=\"k\">=</span> numRows <span class=\"k\">*</span> sideLen <span class=\"k\">+</span> <span class=\"s\">'px'</span><span class=\"k\">;</span>","            <span class=\"k\">var</span> label <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>getDom<span class=\"k\">(</span><span class=\"s\">'label'</span><span class=\"k\">);</span>","            label<span class=\"k\">.</span>innerHTML <span class=\"k\">=</span> numCols <span class=\"k\">+</span><span class=\"k\">this</span><span class=\"k\">.</span>editor<span class=\"k\">.</span>getLang<span class=\"k\">(</span><span class=\"s\">\"t_col\"</span><span class=\"k\">)+</span><span class=\"s\">' x '</span> <span class=\"k\">+</span> numRows <span class=\"k\">+</span> <span class=\"k\">this</span><span class=\"k\">.</span>editor<span class=\"k\">.</span>getLang<span class=\"k\">(</span><span class=\"s\">\"t_row\"</span><span class=\"k\">);</span>","            <span class=\"k\">this</span><span class=\"k\">.</span>numCols <span class=\"k\">=</span> numCols<span class=\"k\">;</span>","            <span class=\"k\">this</span><span class=\"k\">.</span>numRows <span class=\"k\">=</span> numRows<span class=\"k\">;</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        _onMouseOver<span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">(</span>evt<span class=\"k\">,</span> el<span class=\"k\">)</span><span class=\"k\">{</span>","            <span class=\"k\">var</span> rel <span class=\"k\">=</span> evt<span class=\"k\">.</span>relatedTarget <span class=\"k\">||</span> evt<span class=\"k\">.</span>fromElement<span class=\"k\">;</span>","            <span class=\"k\">if</span> <span class=\"k\">(!</span>uiUtils<span class=\"k\">.</span>contains<span class=\"k\">(</span>el<span class=\"k\">,</span> rel<span class=\"k\">)</span> <span class=\"k\">&amp;&amp;</span> el <span class=\"k\">!==</span> rel<span class=\"k\">)</span> <span class=\"k\">{</span>","                <span class=\"k\">this</span><span class=\"k\">.</span>getDom<span class=\"k\">(</span><span class=\"s\">'label'</span><span class=\"k\">).</span>innerHTML <span class=\"k\">=</span> <span class=\"s\">'0'</span><span class=\"k\">+</span><span class=\"k\">this</span><span class=\"k\">.</span>editor<span class=\"k\">.</span>getLang<span class=\"k\">(</span><span class=\"s\">\"t_col\"</span><span class=\"k\">)+</span><span class=\"s\">' x 0'</span><span class=\"k\">+</span><span class=\"k\">this</span><span class=\"k\">.</span>editor<span class=\"k\">.</span>getLang<span class=\"k\">(</span><span class=\"s\">\"t_row\"</span><span class=\"k\">);</span>","                <span class=\"k\">this</span><span class=\"k\">.</span>getDom<span class=\"k\">(</span><span class=\"s\">'overlay'</span><span class=\"k\">).</span>style<span class=\"k\">.</span>visibility <span class=\"k\">=</span> <span class=\"s\">''</span><span class=\"k\">;</span>","            <span class=\"k\">}</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        _onMouseOut<span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">(</span>evt<span class=\"k\">,</span> el<span class=\"k\">)</span><span class=\"k\">{</span>","            <span class=\"k\">var</span> rel <span class=\"k\">=</span> evt<span class=\"k\">.</span>relatedTarget <span class=\"k\">||</span> evt<span class=\"k\">.</span>toElement<span class=\"k\">;</span>","            <span class=\"k\">if</span> <span class=\"k\">(!</span>uiUtils<span class=\"k\">.</span>contains<span class=\"k\">(</span>el<span class=\"k\">,</span> rel<span class=\"k\">)</span> <span class=\"k\">&amp;&amp;</span> el <span class=\"k\">!==</span> rel<span class=\"k\">)</span> <span class=\"k\">{</span>","                <span class=\"k\">this</span><span class=\"k\">.</span>getDom<span class=\"k\">(</span><span class=\"s\">'label'</span><span class=\"k\">).</span>innerHTML <span class=\"k\">=</span> <span class=\"s\">'0'</span><span class=\"k\">+</span><span class=\"k\">this</span><span class=\"k\">.</span>editor<span class=\"k\">.</span>getLang<span class=\"k\">(</span><span class=\"s\">\"t_col\"</span><span class=\"k\">)+</span><span class=\"s\">' x 0'</span><span class=\"k\">+</span><span class=\"k\">this</span><span class=\"k\">.</span>editor<span class=\"k\">.</span>getLang<span class=\"k\">(</span><span class=\"s\">\"t_row\"</span><span class=\"k\">);</span>","                <span class=\"k\">this</span><span class=\"k\">.</span>getDom<span class=\"k\">(</span><span class=\"s\">'overlay'</span><span class=\"k\">).</span>style<span class=\"k\">.</span>visibility <span class=\"k\">=</span> <span class=\"s\">'hidden'</span><span class=\"k\">;</span>","            <span class=\"k\">}</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        _onMouseMove<span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">(</span>evt<span class=\"k\">,</span> el<span class=\"k\">)</span><span class=\"k\">{</span>","            <span class=\"k\">var</span> style <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>getDom<span class=\"k\">(</span><span class=\"s\">'overlay'</span><span class=\"k\">).</span>style<span class=\"k\">;</span>","            <span class=\"k\">var</span> offset <span class=\"k\">=</span> uiUtils<span class=\"k\">.</span>getEventOffset<span class=\"k\">(</span>evt<span class=\"k\">);</span>","            <span class=\"k\">var</span> sideLen <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>lengthOfCellSide<span class=\"k\">;</span>","            <span class=\"k\">var</span> numCols <span class=\"k\">=</span> Math<span class=\"k\">.</span>ceil<span class=\"k\">(</span>offset<span class=\"k\">.</span>left <span class=\"k\">/</span> sideLen<span class=\"k\">);</span>","            <span class=\"k\">var</span> numRows <span class=\"k\">=</span> Math<span class=\"k\">.</span>ceil<span class=\"k\">(</span>offset<span class=\"k\">.</span>top <span class=\"k\">/</span> sideLen<span class=\"k\">);</span>","            <span class=\"k\">this</span><span class=\"k\">.</span>_track<span class=\"k\">(</span>numCols<span class=\"k\">,</span> numRows<span class=\"k\">);</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        _onClick<span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">()</span><span class=\"k\">{</span>","            <span class=\"k\">this</span><span class=\"k\">.</span>fireEvent<span class=\"k\">(</span><span class=\"s\">'picktable'</span><span class=\"k\">,</span> <span class=\"k\">this</span><span class=\"k\">.</span>numCols<span class=\"k\">,</span> <span class=\"k\">this</span><span class=\"k\">.</span>numRows<span class=\"k\">);</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        _onMore<span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">()</span><span class=\"k\">{</span>","            <span class=\"k\">this</span><span class=\"k\">.</span>fireEvent<span class=\"k\">(</span><span class=\"s\">'more'</span><span class=\"k\">);</span>","        <span class=\"k\">}</span>","    <span class=\"k\">}</span><span class=\"k\">;</span>","    utils<span class=\"k\">.</span>inherits<span class=\"k\">(</span>TablePicker<span class=\"k\">,</span> UIBase<span class=\"k\">);</span>","<span class=\"k\">}</span><span class=\"k\">)();</span>"]);
_$jscoverage['ui/toolbar.js'] && (_$jscoverage['ui/toolbar.js'].source = ["<span class=\"k\">(</span><span class=\"k\">function</span> <span class=\"k\">()</span><span class=\"k\">{</span>","    <span class=\"k\">var</span> utils <span class=\"k\">=</span> baidu<span class=\"k\">.</span>editor<span class=\"k\">.</span>utils<span class=\"k\">,</span>","        uiUtils <span class=\"k\">=</span> baidu<span class=\"k\">.</span>editor<span class=\"k\">.</span>ui<span class=\"k\">.</span>uiUtils<span class=\"k\">,</span>","        UIBase <span class=\"k\">=</span> baidu<span class=\"k\">.</span>editor<span class=\"k\">.</span>ui<span class=\"k\">.</span>UIBase<span class=\"k\">,</span>","        Toolbar <span class=\"k\">=</span> baidu<span class=\"k\">.</span>editor<span class=\"k\">.</span>ui<span class=\"k\">.</span>Toolbar <span class=\"k\">=</span> <span class=\"k\">function</span> <span class=\"k\">(</span>options<span class=\"k\">)</span><span class=\"k\">{</span>","            <span class=\"k\">this</span><span class=\"k\">.</span>initOptions<span class=\"k\">(</span>options<span class=\"k\">);</span>","            <span class=\"k\">this</span><span class=\"k\">.</span>initToolbar<span class=\"k\">();</span>","        <span class=\"k\">}</span><span class=\"k\">;</span>","    Toolbar<span class=\"k\">.</span>prototype <span class=\"k\">=</span> <span class=\"k\">{</span>","        items<span class=\"k\">:</span> <span class=\"k\">null</span><span class=\"k\">,</span>","        initToolbar<span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">()</span><span class=\"k\">{</span>","            <span class=\"k\">this</span><span class=\"k\">.</span>items <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>items <span class=\"k\">||</span> <span class=\"k\">[];</span>","            <span class=\"k\">this</span><span class=\"k\">.</span>initUIBase<span class=\"k\">();</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        add<span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">(</span>item<span class=\"k\">)</span><span class=\"k\">{</span>","            <span class=\"k\">this</span><span class=\"k\">.</span>items<span class=\"k\">.</span>push<span class=\"k\">(</span>item<span class=\"k\">);</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        getHtmlTpl<span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">()</span><span class=\"k\">{</span>","            <span class=\"k\">var</span> buff <span class=\"k\">=</span> <span class=\"k\">[];</span>","            <span class=\"k\">for</span> <span class=\"k\">(</span><span class=\"k\">var</span> i<span class=\"k\">=</span><span class=\"s\">0</span><span class=\"k\">;</span> i<span class=\"k\">&lt;</span><span class=\"k\">this</span><span class=\"k\">.</span>items<span class=\"k\">.</span>length<span class=\"k\">;</span> i<span class=\"k\">++)</span> <span class=\"k\">{</span>","                buff<span class=\"k\">[</span>i<span class=\"k\">]</span> <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>items<span class=\"k\">[</span>i<span class=\"k\">].</span>renderHtml<span class=\"k\">();</span>","            <span class=\"k\">}</span>","            <span class=\"k\">return</span> <span class=\"s\">'&lt;div id=\"##\" class=\"edui-toolbar %%\" onselectstart=\"return false;\" onmousedown=\"return $$._onMouseDown(event, this);\"&gt;'</span> <span class=\"k\">+</span>","                buff<span class=\"k\">.</span>join<span class=\"k\">(</span><span class=\"s\">''</span><span class=\"k\">)</span> <span class=\"k\">+</span>","                <span class=\"s\">'&lt;/div&gt;'</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        postRender<span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">()</span><span class=\"k\">{</span>","            <span class=\"k\">var</span> box <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>getDom<span class=\"k\">();</span>","            <span class=\"k\">for</span> <span class=\"k\">(</span><span class=\"k\">var</span> i<span class=\"k\">=</span><span class=\"s\">0</span><span class=\"k\">;</span> i<span class=\"k\">&lt;</span><span class=\"k\">this</span><span class=\"k\">.</span>items<span class=\"k\">.</span>length<span class=\"k\">;</span> i<span class=\"k\">++)</span> <span class=\"k\">{</span>","                <span class=\"k\">this</span><span class=\"k\">.</span>items<span class=\"k\">[</span>i<span class=\"k\">].</span>postRender<span class=\"k\">();</span>","            <span class=\"k\">}</span>","            uiUtils<span class=\"k\">.</span>makeUnselectable<span class=\"k\">(</span>box<span class=\"k\">);</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        _onMouseDown<span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">()</span><span class=\"k\">{</span>","            <span class=\"k\">return</span> <span class=\"k\">false</span><span class=\"k\">;</span>","        <span class=\"k\">}</span>","    <span class=\"k\">}</span><span class=\"k\">;</span>","    utils<span class=\"k\">.</span>inherits<span class=\"k\">(</span>Toolbar<span class=\"k\">,</span> UIBase<span class=\"k\">);</span>","","<span class=\"k\">}</span><span class=\"k\">)();</span>"]);
_$jscoverage['ui/ui.js'] && (_$jscoverage['ui/ui.js'].source = ["<span class=\"k\">var</span> baidu <span class=\"k\">=</span> baidu <span class=\"k\">||</span> <span class=\"k\">{}</span><span class=\"k\">;</span>","baidu<span class=\"k\">.</span>editor <span class=\"k\">=</span> baidu<span class=\"k\">.</span>editor <span class=\"k\">||</span> <span class=\"k\">{}</span><span class=\"k\">;</span>","baidu<span class=\"k\">.</span>editor<span class=\"k\">.</span>ui <span class=\"k\">=</span> <span class=\"k\">{}</span><span class=\"k\">;</span>"]);
_$jscoverage['ui/uibase.js'] && (_$jscoverage['ui/uibase.js'].source = ["<span class=\"k\">(</span><span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","    <span class=\"k\">var</span> utils <span class=\"k\">=</span> baidu<span class=\"k\">.</span>editor<span class=\"k\">.</span>utils<span class=\"k\">,</span>","        uiUtils <span class=\"k\">=</span> baidu<span class=\"k\">.</span>editor<span class=\"k\">.</span>ui<span class=\"k\">.</span>uiUtils<span class=\"k\">,</span>","        EventBase <span class=\"k\">=</span> baidu<span class=\"k\">.</span>editor<span class=\"k\">.</span>EventBase<span class=\"k\">,</span>","        UIBase <span class=\"k\">=</span> baidu<span class=\"k\">.</span>editor<span class=\"k\">.</span>ui<span class=\"k\">.</span>UIBase <span class=\"k\">=</span> <span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","        <span class=\"k\">}</span><span class=\"k\">;</span>","","    UIBase<span class=\"k\">.</span>prototype <span class=\"k\">=</span> <span class=\"k\">{</span>","        className<span class=\"k\">:</span><span class=\"s\">''</span><span class=\"k\">,</span>","        uiName<span class=\"k\">:</span><span class=\"s\">''</span><span class=\"k\">,</span>","        initOptions<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">(</span>options<span class=\"k\">)</span> <span class=\"k\">{</span>","            <span class=\"k\">var</span> me <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">;</span>","            <span class=\"k\">for</span> <span class=\"k\">(</span><span class=\"k\">var</span> k <span class=\"k\">in</span> options<span class=\"k\">)</span> <span class=\"k\">{</span>","                me<span class=\"k\">[</span>k<span class=\"k\">]</span> <span class=\"k\">=</span> options<span class=\"k\">[</span>k<span class=\"k\">];</span>","            <span class=\"k\">}</span>","            <span class=\"k\">this</span><span class=\"k\">.</span>id <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>id <span class=\"k\">||</span> <span class=\"s\">'edui'</span> <span class=\"k\">+</span> uiUtils<span class=\"k\">.</span>uid<span class=\"k\">();</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        initUIBase<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","            <span class=\"k\">this</span><span class=\"k\">.</span>_globalKey <span class=\"k\">=</span> utils<span class=\"k\">.</span>unhtml<span class=\"k\">(</span>uiUtils<span class=\"k\">.</span>setGlobal<span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>id<span class=\"k\">,</span> <span class=\"k\">this</span><span class=\"k\">));</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        render<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">(</span>holder<span class=\"k\">)</span> <span class=\"k\">{</span>","            <span class=\"k\">var</span> html <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>renderHtml<span class=\"k\">();</span>","            <span class=\"k\">var</span> el <span class=\"k\">=</span> uiUtils<span class=\"k\">.</span>createElementByHtml<span class=\"k\">(</span>html<span class=\"k\">);</span>","","            <span class=\"c\">//by xuheng &#32473;&#27599;&#20010;node&#28155;&#21152;class</span>","            <span class=\"k\">var</span> list <span class=\"k\">=</span> domUtils<span class=\"k\">.</span>getElementsByTagName<span class=\"k\">(</span>el<span class=\"k\">,</span> <span class=\"s\">\"*\"</span><span class=\"k\">);</span>","            <span class=\"k\">var</span> theme <span class=\"k\">=</span> <span class=\"s\">\"edui-\"</span> <span class=\"k\">+</span> <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>theme <span class=\"k\">||</span> <span class=\"k\">this</span><span class=\"k\">.</span>editor<span class=\"k\">.</span>options<span class=\"k\">.</span>theme<span class=\"k\">);</span>","            <span class=\"k\">var</span> layer <span class=\"k\">=</span> document<span class=\"k\">.</span>getElementById<span class=\"k\">(</span><span class=\"s\">'edui_fixedlayer'</span><span class=\"k\">);</span>","            <span class=\"k\">for</span> <span class=\"k\">(</span><span class=\"k\">var</span> i <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">,</span> node<span class=\"k\">;</span> node <span class=\"k\">=</span> list<span class=\"k\">[</span>i<span class=\"k\">++];)</span> <span class=\"k\">{</span>","                domUtils<span class=\"k\">.</span>addClass<span class=\"k\">(</span>node<span class=\"k\">,</span> theme<span class=\"k\">);</span>","            <span class=\"k\">}</span>","            domUtils<span class=\"k\">.</span>addClass<span class=\"k\">(</span>el<span class=\"k\">,</span> theme<span class=\"k\">);</span>","            <span class=\"k\">if</span><span class=\"k\">(</span>layer<span class=\"k\">)</span><span class=\"k\">{</span>","                layer<span class=\"k\">.</span>className<span class=\"k\">=</span><span class=\"s\">\"\"</span><span class=\"k\">;</span>","                domUtils<span class=\"k\">.</span>addClass<span class=\"k\">(</span>layer<span class=\"k\">,</span>theme<span class=\"k\">);</span>","            <span class=\"k\">}</span>","","            <span class=\"k\">var</span> seatEl <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>getDom<span class=\"k\">();</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span>seatEl <span class=\"k\">!=</span> <span class=\"k\">null</span><span class=\"k\">)</span> <span class=\"k\">{</span>","                seatEl<span class=\"k\">.</span>parentNode<span class=\"k\">.</span>replaceChild<span class=\"k\">(</span>el<span class=\"k\">,</span> seatEl<span class=\"k\">);</span>","                uiUtils<span class=\"k\">.</span>copyAttributes<span class=\"k\">(</span>el<span class=\"k\">,</span> seatEl<span class=\"k\">);</span>","            <span class=\"k\">}</span> <span class=\"k\">else</span> <span class=\"k\">{</span>","                <span class=\"k\">if</span> <span class=\"k\">(</span><span class=\"k\">typeof</span> holder <span class=\"k\">==</span> <span class=\"s\">'string'</span><span class=\"k\">)</span> <span class=\"k\">{</span>","                    holder <span class=\"k\">=</span> document<span class=\"k\">.</span>getElementById<span class=\"k\">(</span>holder<span class=\"k\">);</span>","                <span class=\"k\">}</span>","                holder <span class=\"k\">=</span> holder <span class=\"k\">||</span> uiUtils<span class=\"k\">.</span>getFixedLayer<span class=\"k\">();</span>","                domUtils<span class=\"k\">.</span>addClass<span class=\"k\">(</span>holder<span class=\"k\">,</span> theme<span class=\"k\">);</span>","                holder<span class=\"k\">.</span>appendChild<span class=\"k\">(</span>el<span class=\"k\">);</span>","            <span class=\"k\">}</span>","            <span class=\"k\">this</span><span class=\"k\">.</span>postRender<span class=\"k\">();</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        getDom<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">(</span>name<span class=\"k\">)</span> <span class=\"k\">{</span>","            <span class=\"k\">if</span> <span class=\"k\">(!</span>name<span class=\"k\">)</span> <span class=\"k\">{</span>","                <span class=\"k\">return</span> document<span class=\"k\">.</span>getElementById<span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>id<span class=\"k\">);</span>","            <span class=\"k\">}</span> <span class=\"k\">else</span> <span class=\"k\">{</span>","                <span class=\"k\">return</span> document<span class=\"k\">.</span>getElementById<span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>id <span class=\"k\">+</span> <span class=\"s\">'_'</span> <span class=\"k\">+</span> name<span class=\"k\">);</span>","            <span class=\"k\">}</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        postRender<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","            <span class=\"k\">this</span><span class=\"k\">.</span>fireEvent<span class=\"k\">(</span><span class=\"s\">'postrender'</span><span class=\"k\">);</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        getHtmlTpl<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","            <span class=\"k\">return</span> <span class=\"s\">''</span><span class=\"k\">;</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        formatHtml<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">(</span>tpl<span class=\"k\">)</span> <span class=\"k\">{</span>","            <span class=\"k\">var</span> prefix <span class=\"k\">=</span> <span class=\"s\">'edui-'</span> <span class=\"k\">+</span> <span class=\"k\">this</span><span class=\"k\">.</span>uiName<span class=\"k\">;</span>","            <span class=\"k\">return</span> <span class=\"k\">(</span>tpl","                <span class=\"k\">.</span>replace<span class=\"k\">(</span><span class=\"s\">/##/g</span><span class=\"k\">,</span> <span class=\"k\">this</span><span class=\"k\">.</span>id<span class=\"k\">)</span>","                <span class=\"k\">.</span>replace<span class=\"k\">(</span><span class=\"s\">/%%-/g</span><span class=\"k\">,</span> <span class=\"k\">this</span><span class=\"k\">.</span>uiName <span class=\"k\">?</span> prefix <span class=\"k\">+</span> <span class=\"s\">'-'</span> <span class=\"k\">:</span> <span class=\"s\">''</span><span class=\"k\">)</span>","                <span class=\"k\">.</span>replace<span class=\"k\">(</span><span class=\"s\">/%%/g</span><span class=\"k\">,</span> <span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>uiName <span class=\"k\">?</span> prefix <span class=\"k\">:</span> <span class=\"s\">''</span><span class=\"k\">)</span> <span class=\"k\">+</span> <span class=\"s\">' '</span> <span class=\"k\">+</span> <span class=\"k\">this</span><span class=\"k\">.</span>className<span class=\"k\">)</span>","                <span class=\"k\">.</span>replace<span class=\"k\">(</span><span class=\"s\">/\\$\\$/g</span><span class=\"k\">,</span> <span class=\"k\">this</span><span class=\"k\">.</span>_globalKey<span class=\"k\">));</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        renderHtml<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","            <span class=\"k\">return</span> <span class=\"k\">this</span><span class=\"k\">.</span>formatHtml<span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>getHtmlTpl<span class=\"k\">());</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        dispose<span class=\"k\">:</span><span class=\"k\">function</span> <span class=\"k\">()</span> <span class=\"k\">{</span>","            <span class=\"k\">var</span> box <span class=\"k\">=</span> <span class=\"k\">this</span><span class=\"k\">.</span>getDom<span class=\"k\">();</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span>box<span class=\"k\">)</span> baidu<span class=\"k\">.</span>editor<span class=\"k\">.</span>dom<span class=\"k\">.</span>domUtils<span class=\"k\">.</span>remove<span class=\"k\">(</span>box<span class=\"k\">);</span>","            uiUtils<span class=\"k\">.</span>unsetGlobal<span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">.</span>id<span class=\"k\">);</span>","        <span class=\"k\">}</span>","    <span class=\"k\">}</span><span class=\"k\">;</span>","    utils<span class=\"k\">.</span>inherits<span class=\"k\">(</span>UIBase<span class=\"k\">,</span> EventBase<span class=\"k\">);</span>","<span class=\"k\">}</span><span class=\"k\">)();</span>"]);
_$jscoverage['ui/uiutils.js'] && (_$jscoverage['ui/uiutils.js'].source = ["<span class=\"k\">(</span><span class=\"k\">function</span> <span class=\"k\">()</span><span class=\"k\">{</span>","    <span class=\"k\">var</span> browser <span class=\"k\">=</span> baidu<span class=\"k\">.</span>editor<span class=\"k\">.</span>browser<span class=\"k\">,</span>","        domUtils <span class=\"k\">=</span> baidu<span class=\"k\">.</span>editor<span class=\"k\">.</span>dom<span class=\"k\">.</span>domUtils<span class=\"k\">;</span>","","    <span class=\"k\">var</span> magic <span class=\"k\">=</span> <span class=\"s\">'$EDITORUI'</span><span class=\"k\">;</span>","    <span class=\"k\">var</span> root <span class=\"k\">=</span> window<span class=\"k\">[</span>magic<span class=\"k\">]</span> <span class=\"k\">=</span> <span class=\"k\">{}</span><span class=\"k\">;</span>","    <span class=\"k\">var</span> uidMagic <span class=\"k\">=</span> <span class=\"s\">'ID'</span> <span class=\"k\">+</span> magic<span class=\"k\">;</span>","    <span class=\"k\">var</span> uidCount <span class=\"k\">=</span> <span class=\"s\">0</span><span class=\"k\">;</span>","","    <span class=\"k\">var</span> uiUtils <span class=\"k\">=</span> baidu<span class=\"k\">.</span>editor<span class=\"k\">.</span>ui<span class=\"k\">.</span>uiUtils <span class=\"k\">=</span> <span class=\"k\">{</span>","        uid<span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">(</span>obj<span class=\"k\">)</span><span class=\"k\">{</span>","            <span class=\"k\">return</span> <span class=\"k\">(</span>obj <span class=\"k\">?</span> obj<span class=\"k\">[</span>uidMagic<span class=\"k\">]</span> <span class=\"k\">||</span> <span class=\"k\">(</span>obj<span class=\"k\">[</span>uidMagic<span class=\"k\">]</span> <span class=\"k\">=</span> <span class=\"k\">++</span> uidCount<span class=\"k\">)</span> <span class=\"k\">:</span> <span class=\"k\">++</span> uidCount<span class=\"k\">);</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        hook<span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">(</span> fn<span class=\"k\">,</span> callback <span class=\"k\">)</span> <span class=\"k\">{</span>","            <span class=\"k\">var</span> dg<span class=\"k\">;</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span>fn <span class=\"k\">&amp;&amp;</span> fn<span class=\"k\">.</span>_callbacks<span class=\"k\">)</span> <span class=\"k\">{</span>","                dg <span class=\"k\">=</span> fn<span class=\"k\">;</span>","            <span class=\"k\">}</span> <span class=\"k\">else</span> <span class=\"k\">{</span>","                dg <span class=\"k\">=</span> <span class=\"k\">function</span> <span class=\"k\">()</span><span class=\"k\">{</span>","                    <span class=\"k\">var</span> q<span class=\"k\">;</span>","                    <span class=\"k\">if</span> <span class=\"k\">(</span>fn<span class=\"k\">)</span> <span class=\"k\">{</span>","                        q <span class=\"k\">=</span> fn<span class=\"k\">.</span>apply<span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">,</span> arguments<span class=\"k\">);</span>","                    <span class=\"k\">}</span>","                    <span class=\"k\">var</span> callbacks <span class=\"k\">=</span> dg<span class=\"k\">.</span>_callbacks<span class=\"k\">;</span>","                    <span class=\"k\">var</span> k <span class=\"k\">=</span> callbacks<span class=\"k\">.</span>length<span class=\"k\">;</span>","                    <span class=\"k\">while</span> <span class=\"k\">(</span>k <span class=\"k\">--)</span> <span class=\"k\">{</span>","                        <span class=\"k\">var</span> r <span class=\"k\">=</span> callbacks<span class=\"k\">[</span>k<span class=\"k\">].</span>apply<span class=\"k\">(</span><span class=\"k\">this</span><span class=\"k\">,</span> arguments<span class=\"k\">);</span>","                        <span class=\"k\">if</span> <span class=\"k\">(</span>q <span class=\"k\">===</span> undefined<span class=\"k\">)</span> <span class=\"k\">{</span>","                            q <span class=\"k\">=</span> r<span class=\"k\">;</span>","                        <span class=\"k\">}</span>","                    <span class=\"k\">}</span>","                    <span class=\"k\">return</span> q<span class=\"k\">;</span>","                <span class=\"k\">}</span><span class=\"k\">;</span>","                dg<span class=\"k\">.</span>_callbacks <span class=\"k\">=</span> <span class=\"k\">[];</span>","            <span class=\"k\">}</span>","            dg<span class=\"k\">.</span>_callbacks<span class=\"k\">.</span>push<span class=\"k\">(</span>callback<span class=\"k\">);</span>","            <span class=\"k\">return</span> dg<span class=\"k\">;</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        createElementByHtml<span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">(</span>html<span class=\"k\">)</span><span class=\"k\">{</span>","            <span class=\"k\">var</span> el <span class=\"k\">=</span> document<span class=\"k\">.</span>createElement<span class=\"k\">(</span><span class=\"s\">'div'</span><span class=\"k\">);</span>","            el<span class=\"k\">.</span>innerHTML <span class=\"k\">=</span> html<span class=\"k\">;</span>","            el <span class=\"k\">=</span> el<span class=\"k\">.</span>firstChild<span class=\"k\">;</span>","            el<span class=\"k\">.</span>parentNode<span class=\"k\">.</span>removeChild<span class=\"k\">(</span>el<span class=\"k\">);</span>","            <span class=\"k\">return</span> el<span class=\"k\">;</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        getViewportElement<span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">()</span><span class=\"k\">{</span>","            <span class=\"k\">return</span> <span class=\"k\">(</span>browser<span class=\"k\">.</span>ie <span class=\"k\">&amp;&amp;</span> browser<span class=\"k\">.</span>quirks<span class=\"k\">)</span> <span class=\"k\">?</span>","                document<span class=\"k\">.</span>body <span class=\"k\">:</span> document<span class=\"k\">.</span>documentElement<span class=\"k\">;</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        getClientRect<span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">(</span>element<span class=\"k\">)</span><span class=\"k\">{</span>","            <span class=\"k\">var</span> bcr<span class=\"k\">;</span>","            <span class=\"c\">//trace  IE6&#19979;&#22312;&#25511;&#21046;&#32534;&#36753;&#22120;&#26174;&#38544;&#26102;&#21487;&#33021;&#20250;&#25253;&#38169;&#65292;catch&#19968;&#19979;</span>","            <span class=\"k\">try</span><span class=\"k\">{</span>","                bcr <span class=\"k\">=</span> element<span class=\"k\">.</span>getBoundingClientRect<span class=\"k\">();</span>","            <span class=\"k\">}</span><span class=\"k\">catch</span><span class=\"k\">(</span>e<span class=\"k\">)</span><span class=\"k\">{</span>","                bcr<span class=\"k\">=</span><span class=\"k\">{</span>left<span class=\"k\">:</span><span class=\"s\">0</span><span class=\"k\">,</span>top<span class=\"k\">:</span><span class=\"s\">0</span><span class=\"k\">,</span>height<span class=\"k\">:</span><span class=\"s\">0</span><span class=\"k\">,</span>width<span class=\"k\">:</span><span class=\"s\">0</span><span class=\"k\">}</span>","            <span class=\"k\">}</span>","            <span class=\"k\">var</span> rect <span class=\"k\">=</span> <span class=\"k\">{</span>","                left<span class=\"k\">:</span> Math<span class=\"k\">.</span>round<span class=\"k\">(</span>bcr<span class=\"k\">.</span>left<span class=\"k\">),</span>","                top<span class=\"k\">:</span> Math<span class=\"k\">.</span>round<span class=\"k\">(</span>bcr<span class=\"k\">.</span>top<span class=\"k\">),</span>","                height<span class=\"k\">:</span> Math<span class=\"k\">.</span>round<span class=\"k\">(</span>bcr<span class=\"k\">.</span>bottom <span class=\"k\">-</span> bcr<span class=\"k\">.</span>top<span class=\"k\">),</span>","                width<span class=\"k\">:</span> Math<span class=\"k\">.</span>round<span class=\"k\">(</span>bcr<span class=\"k\">.</span>right <span class=\"k\">-</span> bcr<span class=\"k\">.</span>left<span class=\"k\">)</span>","            <span class=\"k\">}</span><span class=\"k\">;</span>","            <span class=\"k\">var</span> doc<span class=\"k\">;</span>","            <span class=\"k\">while</span> <span class=\"k\">((</span>doc <span class=\"k\">=</span> element<span class=\"k\">.</span>ownerDocument<span class=\"k\">)</span> <span class=\"k\">!==</span> document <span class=\"k\">&amp;&amp;</span>","                <span class=\"k\">(</span>element <span class=\"k\">=</span> domUtils<span class=\"k\">.</span>getWindow<span class=\"k\">(</span>doc<span class=\"k\">).</span>frameElement<span class=\"k\">))</span> <span class=\"k\">{</span>","                bcr <span class=\"k\">=</span> element<span class=\"k\">.</span>getBoundingClientRect<span class=\"k\">();</span>","                rect<span class=\"k\">.</span>left <span class=\"k\">+=</span> bcr<span class=\"k\">.</span>left<span class=\"k\">;</span>","                rect<span class=\"k\">.</span>top <span class=\"k\">+=</span> bcr<span class=\"k\">.</span>top<span class=\"k\">;</span>","            <span class=\"k\">}</span>","            rect<span class=\"k\">.</span>bottom <span class=\"k\">=</span> rect<span class=\"k\">.</span>top <span class=\"k\">+</span> rect<span class=\"k\">.</span>height<span class=\"k\">;</span>","            rect<span class=\"k\">.</span>right <span class=\"k\">=</span> rect<span class=\"k\">.</span>left <span class=\"k\">+</span> rect<span class=\"k\">.</span>width<span class=\"k\">;</span>","            <span class=\"k\">return</span> rect<span class=\"k\">;</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        getViewportRect<span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">()</span><span class=\"k\">{</span>","            <span class=\"k\">var</span> viewportEl <span class=\"k\">=</span> uiUtils<span class=\"k\">.</span>getViewportElement<span class=\"k\">();</span>","            <span class=\"k\">var</span> width <span class=\"k\">=</span> <span class=\"k\">(</span>window<span class=\"k\">.</span>innerWidth <span class=\"k\">||</span> viewportEl<span class=\"k\">.</span>clientWidth<span class=\"k\">)</span> <span class=\"k\">|</span> <span class=\"s\">0</span><span class=\"k\">;</span>","            <span class=\"k\">var</span> height <span class=\"k\">=</span> <span class=\"k\">(</span>window<span class=\"k\">.</span>innerHeight <span class=\"k\">||</span>viewportEl<span class=\"k\">.</span>clientHeight<span class=\"k\">)</span> <span class=\"k\">|</span> <span class=\"s\">0</span><span class=\"k\">;</span>","            <span class=\"k\">return</span> <span class=\"k\">{</span>","                left<span class=\"k\">:</span> <span class=\"s\">0</span><span class=\"k\">,</span>","                top<span class=\"k\">:</span> <span class=\"s\">0</span><span class=\"k\">,</span>","                height<span class=\"k\">:</span> height<span class=\"k\">,</span>","                width<span class=\"k\">:</span> width<span class=\"k\">,</span>","                bottom<span class=\"k\">:</span> height<span class=\"k\">,</span>","                right<span class=\"k\">:</span> width","            <span class=\"k\">}</span><span class=\"k\">;</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        setViewportOffset<span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">(</span>element<span class=\"k\">,</span> offset<span class=\"k\">)</span><span class=\"k\">{</span>","            <span class=\"k\">var</span> rect<span class=\"k\">;</span>","            <span class=\"k\">var</span> fixedLayer <span class=\"k\">=</span> uiUtils<span class=\"k\">.</span>getFixedLayer<span class=\"k\">();</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span>element<span class=\"k\">.</span>parentNode <span class=\"k\">===</span> fixedLayer<span class=\"k\">)</span> <span class=\"k\">{</span>","                element<span class=\"k\">.</span>style<span class=\"k\">.</span>left <span class=\"k\">=</span> offset<span class=\"k\">.</span>left <span class=\"k\">+</span> <span class=\"s\">'px'</span><span class=\"k\">;</span>","                element<span class=\"k\">.</span>style<span class=\"k\">.</span>top <span class=\"k\">=</span> offset<span class=\"k\">.</span>top <span class=\"k\">+</span> <span class=\"s\">'px'</span><span class=\"k\">;</span>","            <span class=\"k\">}</span> <span class=\"k\">else</span> <span class=\"k\">{</span>","                domUtils<span class=\"k\">.</span>setViewportOffset<span class=\"k\">(</span>element<span class=\"k\">,</span> offset<span class=\"k\">);</span>","            <span class=\"k\">}</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        getEventOffset<span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">(</span>evt<span class=\"k\">)</span><span class=\"k\">{</span>","            <span class=\"k\">var</span> el <span class=\"k\">=</span> evt<span class=\"k\">.</span>target <span class=\"k\">||</span> evt<span class=\"k\">.</span>srcElement<span class=\"k\">;</span>","            <span class=\"k\">var</span> rect <span class=\"k\">=</span> uiUtils<span class=\"k\">.</span>getClientRect<span class=\"k\">(</span>el<span class=\"k\">);</span>","            <span class=\"k\">var</span> offset <span class=\"k\">=</span> uiUtils<span class=\"k\">.</span>getViewportOffsetByEvent<span class=\"k\">(</span>evt<span class=\"k\">);</span>","            <span class=\"k\">return</span> <span class=\"k\">{</span>","                left<span class=\"k\">:</span> offset<span class=\"k\">.</span>left <span class=\"k\">-</span> rect<span class=\"k\">.</span>left<span class=\"k\">,</span>","                top<span class=\"k\">:</span> offset<span class=\"k\">.</span>top <span class=\"k\">-</span> rect<span class=\"k\">.</span>top","            <span class=\"k\">}</span><span class=\"k\">;</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        getViewportOffsetByEvent<span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">(</span>evt<span class=\"k\">)</span><span class=\"k\">{</span>","            <span class=\"k\">var</span> el <span class=\"k\">=</span> evt<span class=\"k\">.</span>target <span class=\"k\">||</span> evt<span class=\"k\">.</span>srcElement<span class=\"k\">;</span>","            <span class=\"k\">var</span> frameEl <span class=\"k\">=</span> domUtils<span class=\"k\">.</span>getWindow<span class=\"k\">(</span>el<span class=\"k\">).</span>frameElement<span class=\"k\">;</span>","            <span class=\"k\">var</span> offset <span class=\"k\">=</span> <span class=\"k\">{</span>","                left<span class=\"k\">:</span> evt<span class=\"k\">.</span>clientX<span class=\"k\">,</span>","                top<span class=\"k\">:</span> evt<span class=\"k\">.</span>clientY","            <span class=\"k\">}</span><span class=\"k\">;</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span>frameEl <span class=\"k\">&amp;&amp;</span> el<span class=\"k\">.</span>ownerDocument <span class=\"k\">!==</span> document<span class=\"k\">)</span> <span class=\"k\">{</span>","                <span class=\"k\">var</span> rect <span class=\"k\">=</span> uiUtils<span class=\"k\">.</span>getClientRect<span class=\"k\">(</span>frameEl<span class=\"k\">);</span>","                offset<span class=\"k\">.</span>left <span class=\"k\">+=</span> rect<span class=\"k\">.</span>left<span class=\"k\">;</span>","                offset<span class=\"k\">.</span>top <span class=\"k\">+=</span> rect<span class=\"k\">.</span>top<span class=\"k\">;</span>","            <span class=\"k\">}</span>","            <span class=\"k\">return</span> offset<span class=\"k\">;</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        setGlobal<span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">(</span>id<span class=\"k\">,</span> obj<span class=\"k\">)</span><span class=\"k\">{</span>","            root<span class=\"k\">[</span>id<span class=\"k\">]</span> <span class=\"k\">=</span> obj<span class=\"k\">;</span>","            <span class=\"k\">return</span> magic <span class=\"k\">+</span> <span class=\"s\">'[\"'</span> <span class=\"k\">+</span> id  <span class=\"k\">+</span> <span class=\"s\">'\"]'</span><span class=\"k\">;</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        unsetGlobal<span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">(</span>id<span class=\"k\">)</span><span class=\"k\">{</span>","            <span class=\"k\">delete</span> root<span class=\"k\">[</span>id<span class=\"k\">];</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        copyAttributes<span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">(</span>tgt<span class=\"k\">,</span> src<span class=\"k\">)</span><span class=\"k\">{</span>","            <span class=\"k\">var</span> attributes <span class=\"k\">=</span> src<span class=\"k\">.</span>attributes<span class=\"k\">;</span>","            <span class=\"k\">var</span> k <span class=\"k\">=</span> attributes<span class=\"k\">.</span>length<span class=\"k\">;</span>","            <span class=\"k\">while</span> <span class=\"k\">(</span>k <span class=\"k\">--)</span> <span class=\"k\">{</span>","                <span class=\"k\">var</span> attrNode <span class=\"k\">=</span> attributes<span class=\"k\">[</span>k<span class=\"k\">];</span>","                <span class=\"k\">if</span> <span class=\"k\">(</span> attrNode<span class=\"k\">.</span>nodeName <span class=\"k\">!=</span> <span class=\"s\">'style'</span> <span class=\"k\">&amp;&amp;</span> attrNode<span class=\"k\">.</span>nodeName <span class=\"k\">!=</span> <span class=\"s\">'class'</span> <span class=\"k\">&amp;&amp;</span> <span class=\"k\">(!</span>browser<span class=\"k\">.</span>ie <span class=\"k\">||</span> attrNode<span class=\"k\">.</span>specified<span class=\"k\">)</span> <span class=\"k\">)</span> <span class=\"k\">{</span>","                    tgt<span class=\"k\">.</span>setAttribute<span class=\"k\">(</span>attrNode<span class=\"k\">.</span>nodeName<span class=\"k\">,</span> attrNode<span class=\"k\">.</span>nodeValue<span class=\"k\">);</span>","                <span class=\"k\">}</span>","            <span class=\"k\">}</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span>src<span class=\"k\">.</span>className<span class=\"k\">)</span> <span class=\"k\">{</span>","                tgt<span class=\"k\">.</span>className <span class=\"k\">+=</span> <span class=\"s\">' '</span> <span class=\"k\">+</span> src<span class=\"k\">.</span>className<span class=\"k\">;</span>","            <span class=\"k\">}</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span>src<span class=\"k\">.</span>style<span class=\"k\">.</span>cssText<span class=\"k\">)</span> <span class=\"k\">{</span>","                tgt<span class=\"k\">.</span>style<span class=\"k\">.</span>cssText <span class=\"k\">+=</span> <span class=\"s\">';'</span> <span class=\"k\">+</span> src<span class=\"k\">.</span>style<span class=\"k\">.</span>cssText<span class=\"k\">;</span>","            <span class=\"k\">}</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        removeStyle<span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">(</span>el<span class=\"k\">,</span> styleName<span class=\"k\">)</span><span class=\"k\">{</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span>el<span class=\"k\">.</span>style<span class=\"k\">.</span>removeProperty<span class=\"k\">)</span> <span class=\"k\">{</span>","                el<span class=\"k\">.</span>style<span class=\"k\">.</span>removeProperty<span class=\"k\">(</span>styleName<span class=\"k\">);</span>","            <span class=\"k\">}</span> <span class=\"k\">else</span> <span class=\"k\">if</span> <span class=\"k\">(</span>el<span class=\"k\">.</span>style<span class=\"k\">.</span>removeAttribute<span class=\"k\">)</span> <span class=\"k\">{</span>","                el<span class=\"k\">.</span>style<span class=\"k\">.</span>removeAttribute<span class=\"k\">(</span>styleName<span class=\"k\">);</span>","            <span class=\"k\">}</span> <span class=\"k\">else</span> <span class=\"k\">throw</span> <span class=\"s\">''</span><span class=\"k\">;</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        contains<span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">(</span>elA<span class=\"k\">,</span> elB<span class=\"k\">)</span><span class=\"k\">{</span>","            <span class=\"k\">return</span> elA <span class=\"k\">&amp;&amp;</span> elB <span class=\"k\">&amp;&amp;</span> <span class=\"k\">(</span>elA <span class=\"k\">===</span> elB <span class=\"k\">?</span> <span class=\"k\">false</span> <span class=\"k\">:</span> <span class=\"k\">(</span>","                elA<span class=\"k\">.</span>contains <span class=\"k\">?</span> elA<span class=\"k\">.</span>contains<span class=\"k\">(</span>elB<span class=\"k\">)</span> <span class=\"k\">:</span>","                    elA<span class=\"k\">.</span>compareDocumentPosition<span class=\"k\">(</span>elB<span class=\"k\">)</span> <span class=\"k\">&amp;</span> <span class=\"s\">16</span>","                <span class=\"k\">));</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        startDrag<span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">(</span>evt<span class=\"k\">,</span> callbacks<span class=\"k\">,</span>doc<span class=\"k\">)</span><span class=\"k\">{</span>","            <span class=\"k\">var</span> doc <span class=\"k\">=</span> doc <span class=\"k\">||</span> document<span class=\"k\">;</span>","            <span class=\"k\">var</span> startX <span class=\"k\">=</span> evt<span class=\"k\">.</span>clientX<span class=\"k\">;</span>","            <span class=\"k\">var</span> startY <span class=\"k\">=</span> evt<span class=\"k\">.</span>clientY<span class=\"k\">;</span>","            <span class=\"k\">function</span> handleMouseMove<span class=\"k\">(</span>evt<span class=\"k\">)</span><span class=\"k\">{</span>","                <span class=\"k\">var</span> x <span class=\"k\">=</span> evt<span class=\"k\">.</span>clientX <span class=\"k\">-</span> startX<span class=\"k\">;</span>","                <span class=\"k\">var</span> y <span class=\"k\">=</span> evt<span class=\"k\">.</span>clientY <span class=\"k\">-</span> startY<span class=\"k\">;</span>","                callbacks<span class=\"k\">.</span>ondragmove<span class=\"k\">(</span>x<span class=\"k\">,</span> y<span class=\"k\">);</span>","                <span class=\"k\">if</span> <span class=\"k\">(</span>evt<span class=\"k\">.</span>stopPropagation<span class=\"k\">)</span> <span class=\"k\">{</span>","                    evt<span class=\"k\">.</span>stopPropagation<span class=\"k\">();</span>","                <span class=\"k\">}</span> <span class=\"k\">else</span> <span class=\"k\">{</span>","                    evt<span class=\"k\">.</span>cancelBubble <span class=\"k\">=</span> <span class=\"k\">true</span><span class=\"k\">;</span>","                <span class=\"k\">}</span>","            <span class=\"k\">}</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span>doc<span class=\"k\">.</span>addEventListener<span class=\"k\">)</span> <span class=\"k\">{</span>","                <span class=\"k\">function</span> handleMouseUp<span class=\"k\">(</span>evt<span class=\"k\">)</span><span class=\"k\">{</span>","                    doc<span class=\"k\">.</span>removeEventListener<span class=\"k\">(</span><span class=\"s\">'mousemove'</span><span class=\"k\">,</span> handleMouseMove<span class=\"k\">,</span> <span class=\"k\">true</span><span class=\"k\">);</span>","                    doc<span class=\"k\">.</span>removeEventListener<span class=\"k\">(</span><span class=\"s\">'mouseup'</span><span class=\"k\">,</span> handleMouseMove<span class=\"k\">,</span> <span class=\"k\">true</span><span class=\"k\">);</span>","                    window<span class=\"k\">.</span>removeEventListener<span class=\"k\">(</span><span class=\"s\">'mouseup'</span><span class=\"k\">,</span> handleMouseUp<span class=\"k\">,</span> <span class=\"k\">true</span><span class=\"k\">);</span>","                    callbacks<span class=\"k\">.</span>ondragstop<span class=\"k\">();</span>","                <span class=\"k\">}</span>","                doc<span class=\"k\">.</span>addEventListener<span class=\"k\">(</span><span class=\"s\">'mousemove'</span><span class=\"k\">,</span> handleMouseMove<span class=\"k\">,</span> <span class=\"k\">true</span><span class=\"k\">);</span>","                doc<span class=\"k\">.</span>addEventListener<span class=\"k\">(</span><span class=\"s\">'mouseup'</span><span class=\"k\">,</span> handleMouseUp<span class=\"k\">,</span> <span class=\"k\">true</span><span class=\"k\">);</span>","                window<span class=\"k\">.</span>addEventListener<span class=\"k\">(</span><span class=\"s\">'mouseup'</span><span class=\"k\">,</span> handleMouseUp<span class=\"k\">,</span> <span class=\"k\">true</span><span class=\"k\">);</span>","                evt<span class=\"k\">.</span>preventDefault<span class=\"k\">();</span>","            <span class=\"k\">}</span> <span class=\"k\">else</span> <span class=\"k\">{</span>","                <span class=\"k\">var</span> elm <span class=\"k\">=</span> evt<span class=\"k\">.</span>srcElement<span class=\"k\">;</span>","                elm<span class=\"k\">.</span>setCapture<span class=\"k\">();</span>","                <span class=\"k\">function</span> releaseCaptrue<span class=\"k\">()</span><span class=\"k\">{</span>","                    elm<span class=\"k\">.</span>releaseCapture<span class=\"k\">();</span>","                    elm<span class=\"k\">.</span>detachEvent<span class=\"k\">(</span><span class=\"s\">'onmousemove'</span><span class=\"k\">,</span> handleMouseMove<span class=\"k\">);</span>","                    elm<span class=\"k\">.</span>detachEvent<span class=\"k\">(</span><span class=\"s\">'onmouseup'</span><span class=\"k\">,</span> releaseCaptrue<span class=\"k\">);</span>","                    elm<span class=\"k\">.</span>detachEvent<span class=\"k\">(</span><span class=\"s\">'onlosecaptrue'</span><span class=\"k\">,</span> releaseCaptrue<span class=\"k\">);</span>","                    callbacks<span class=\"k\">.</span>ondragstop<span class=\"k\">();</span>","                <span class=\"k\">}</span>","                elm<span class=\"k\">.</span>attachEvent<span class=\"k\">(</span><span class=\"s\">'onmousemove'</span><span class=\"k\">,</span> handleMouseMove<span class=\"k\">);</span>","                elm<span class=\"k\">.</span>attachEvent<span class=\"k\">(</span><span class=\"s\">'onmouseup'</span><span class=\"k\">,</span> releaseCaptrue<span class=\"k\">);</span>","                elm<span class=\"k\">.</span>attachEvent<span class=\"k\">(</span><span class=\"s\">'onlosecaptrue'</span><span class=\"k\">,</span> releaseCaptrue<span class=\"k\">);</span>","                evt<span class=\"k\">.</span>returnValue <span class=\"k\">=</span> <span class=\"k\">false</span><span class=\"k\">;</span>","            <span class=\"k\">}</span>","            callbacks<span class=\"k\">.</span>ondragstart<span class=\"k\">();</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        getFixedLayer<span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">()</span><span class=\"k\">{</span>","            <span class=\"k\">var</span> layer <span class=\"k\">=</span> document<span class=\"k\">.</span>getElementById<span class=\"k\">(</span><span class=\"s\">'edui_fixedlayer'</span><span class=\"k\">);</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span>layer <span class=\"k\">==</span> <span class=\"k\">null</span><span class=\"k\">)</span> <span class=\"k\">{</span>","                layer <span class=\"k\">=</span> document<span class=\"k\">.</span>createElement<span class=\"k\">(</span><span class=\"s\">'div'</span><span class=\"k\">);</span>","                layer<span class=\"k\">.</span>id <span class=\"k\">=</span> <span class=\"s\">'edui_fixedlayer'</span><span class=\"k\">;</span>","                document<span class=\"k\">.</span>body<span class=\"k\">.</span>appendChild<span class=\"k\">(</span>layer<span class=\"k\">);</span>","                <span class=\"k\">if</span> <span class=\"k\">(</span>browser<span class=\"k\">.</span>ie <span class=\"k\">&amp;&amp;</span> browser<span class=\"k\">.</span>version <span class=\"k\">&lt;=</span> <span class=\"s\">8</span><span class=\"k\">)</span> <span class=\"k\">{</span>","                    layer<span class=\"k\">.</span>style<span class=\"k\">.</span>position <span class=\"k\">=</span> <span class=\"s\">'absolute'</span><span class=\"k\">;</span>","                    bindFixedLayer<span class=\"k\">();</span>","                    setTimeout<span class=\"k\">(</span>updateFixedOffset<span class=\"k\">);</span>","                <span class=\"k\">}</span> <span class=\"k\">else</span> <span class=\"k\">{</span>","                    layer<span class=\"k\">.</span>style<span class=\"k\">.</span>position <span class=\"k\">=</span> <span class=\"s\">'fixed'</span><span class=\"k\">;</span>","                <span class=\"k\">}</span>","                layer<span class=\"k\">.</span>style<span class=\"k\">.</span>left <span class=\"k\">=</span> <span class=\"s\">'0'</span><span class=\"k\">;</span>","                layer<span class=\"k\">.</span>style<span class=\"k\">.</span>top <span class=\"k\">=</span> <span class=\"s\">'0'</span><span class=\"k\">;</span>","                layer<span class=\"k\">.</span>style<span class=\"k\">.</span>width <span class=\"k\">=</span> <span class=\"s\">'0'</span><span class=\"k\">;</span>","                layer<span class=\"k\">.</span>style<span class=\"k\">.</span>height <span class=\"k\">=</span> <span class=\"s\">'0'</span><span class=\"k\">;</span>","            <span class=\"k\">}</span>","            <span class=\"k\">return</span> layer<span class=\"k\">;</span>","        <span class=\"k\">}</span><span class=\"k\">,</span>","        makeUnselectable<span class=\"k\">:</span> <span class=\"k\">function</span> <span class=\"k\">(</span>element<span class=\"k\">)</span><span class=\"k\">{</span>","            <span class=\"k\">if</span> <span class=\"k\">(</span>browser<span class=\"k\">.</span>opera <span class=\"k\">||</span> <span class=\"k\">(</span>browser<span class=\"k\">.</span>ie <span class=\"k\">&amp;&amp;</span> browser<span class=\"k\">.</span>version <span class=\"k\">&lt;</span> <span class=\"s\">9</span><span class=\"k\">))</span> <span class=\"k\">{</span>","                element<span class=\"k\">.</span>unselectable <span class=\"k\">=</span> <span class=\"s\">'on'</span><span class=\"k\">;</span>","                <span class=\"k\">if</span> <span class=\"k\">(</span>element<span class=\"k\">.</span>hasChildNodes<span class=\"k\">())</span> <span class=\"k\">{</span>","                    <span class=\"k\">for</span> <span class=\"k\">(</span><span class=\"k\">var</span> i<span class=\"k\">=</span><span class=\"s\">0</span><span class=\"k\">;</span> i<span class=\"k\">&lt;</span>element<span class=\"k\">.</span>childNodes<span class=\"k\">.</span>length<span class=\"k\">;</span> i<span class=\"k\">++)</span> <span class=\"k\">{</span>","                        <span class=\"k\">if</span> <span class=\"k\">(</span>element<span class=\"k\">.</span>childNodes<span class=\"k\">[</span>i<span class=\"k\">].</span>nodeType <span class=\"k\">==</span> <span class=\"s\">1</span><span class=\"k\">)</span> <span class=\"k\">{</span>","                            uiUtils<span class=\"k\">.</span>makeUnselectable<span class=\"k\">(</span>element<span class=\"k\">.</span>childNodes<span class=\"k\">[</span>i<span class=\"k\">]);</span>","                        <span class=\"k\">}</span>","                    <span class=\"k\">}</span>","                <span class=\"k\">}</span>","            <span class=\"k\">}</span> <span class=\"k\">else</span> <span class=\"k\">{</span>","                <span class=\"k\">if</span> <span class=\"k\">(</span>element<span class=\"k\">.</span>style<span class=\"k\">.</span>MozUserSelect <span class=\"k\">!==</span> undefined<span class=\"k\">)</span> <span class=\"k\">{</span>","                    element<span class=\"k\">.</span>style<span class=\"k\">.</span>MozUserSelect <span class=\"k\">=</span> <span class=\"s\">'none'</span><span class=\"k\">;</span>","                <span class=\"k\">}</span> <span class=\"k\">else</span> <span class=\"k\">if</span> <span class=\"k\">(</span>element<span class=\"k\">.</span>style<span class=\"k\">.</span>WebkitUserSelect <span class=\"k\">!==</span> undefined<span class=\"k\">)</span> <span class=\"k\">{</span>","                    element<span class=\"k\">.</span>style<span class=\"k\">.</span>WebkitUserSelect <span class=\"k\">=</span> <span class=\"s\">'none'</span><span class=\"k\">;</span>","                <span class=\"k\">}</span> <span class=\"k\">else</span> <span class=\"k\">if</span> <span class=\"k\">(</span>element<span class=\"k\">.</span>style<span class=\"k\">.</span>KhtmlUserSelect <span class=\"k\">!==</span> undefined<span class=\"k\">)</span> <span class=\"k\">{</span>","                    element<span class=\"k\">.</span>style<span class=\"k\">.</span>KhtmlUserSelect <span class=\"k\">=</span> <span class=\"s\">'none'</span><span class=\"k\">;</span>","                <span class=\"k\">}</span>","            <span class=\"k\">}</span>","        <span class=\"k\">}</span>","    <span class=\"k\">}</span><span class=\"k\">;</span>","    <span class=\"k\">function</span> updateFixedOffset<span class=\"k\">()</span><span class=\"k\">{</span>","        <span class=\"k\">var</span> layer <span class=\"k\">=</span> document<span class=\"k\">.</span>getElementById<span class=\"k\">(</span><span class=\"s\">'edui_fixedlayer'</span><span class=\"k\">);</span>","        uiUtils<span class=\"k\">.</span>setViewportOffset<span class=\"k\">(</span>layer<span class=\"k\">,</span> <span class=\"k\">{</span>","            left<span class=\"k\">:</span> <span class=\"s\">0</span><span class=\"k\">,</span>","            top<span class=\"k\">:</span> <span class=\"s\">0</span>","        <span class=\"k\">}</span><span class=\"k\">);</span>","<span class=\"c\">//        layer.style.display = 'none';</span>","<span class=\"c\">//        layer.style.display = 'block';</span>","","        <span class=\"c\">//#trace: 1354</span>","<span class=\"c\">//        setTimeout(updateFixedOffset);</span>","    <span class=\"k\">}</span>","    <span class=\"k\">function</span> bindFixedLayer<span class=\"k\">(</span>adjOffset<span class=\"k\">)</span><span class=\"k\">{</span>","        domUtils<span class=\"k\">.</span>on<span class=\"k\">(</span>window<span class=\"k\">,</span> <span class=\"s\">'scroll'</span><span class=\"k\">,</span> updateFixedOffset<span class=\"k\">);</span>","        domUtils<span class=\"k\">.</span>on<span class=\"k\">(</span>window<span class=\"k\">,</span> <span class=\"s\">'resize'</span><span class=\"k\">,</span> baidu<span class=\"k\">.</span>editor<span class=\"k\">.</span>utils<span class=\"k\">.</span>defer<span class=\"k\">(</span>updateFixedOffset<span class=\"k\">,</span> <span class=\"s\">0</span><span class=\"k\">,</span> <span class=\"k\">true</span><span class=\"k\">));</span>","    <span class=\"k\">}</span>","<span class=\"k\">}</span><span class=\"k\">)();</span>"]);
}